/*! msdv-thesis.js - v1.0.0 - 2017-05-17
* https://github.com/agaase/
* Copyright (c) 2017 agaase; Licensed MIT */

!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.ol=b()}(this,function(){var OPENLAYERS={},goog=this.goog={};this.CLOSURE_NO_DEPS=!0;var COMPILED=!1,goog=goog||{};goog.global=this,goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(a){return void 0!==a},goog.exportPath_=function(a,b,c){var d=a.split("."),e=c||goog.global;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)!d.length&&goog.isDef(b)?e[f]=b:e=e[f]&&Object.prototype.hasOwnProperty.call(e,f)?e[f]:e[f]={}},goog.define=function(a,b){var c=b;goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,a)?c=goog.global.CLOSURE_UNCOMPILED_DEFINES[a]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)&&(c=goog.global.CLOSURE_DEFINES[a]),goog.exportPath_(a,c)},goog.define("goog.DEBUG",!0),goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.define("goog.DISALLOW_TEST_ONLY_CODE",!1),goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",!1),goog.provide=function(a){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');goog.constructNamespace_(a)},goog.constructNamespace_=function(a,b){delete goog.implicitNamespaces_[a];for(var c=a;(c=c.substring(0,c.lastIndexOf(".")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0;goog.exportPath_(a,b)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(a){if(!goog.isString(a)||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=a,goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a]},goog.module.get=function(a){return goog.module.getInternal_(a)},goog.module.getInternal_=function(a){if(a in goog.loadedModules_)return goog.loadedModules_[a];if(!goog.implicitNamespaces_[a]){var b=goog.getObjectByName(a);return null!=b?b:null}return null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."))},goog.forwardDeclare=function(a){},goog.forwardDeclare("Document"),goog.forwardDeclare("HTMLScriptElement"),goog.forwardDeclare("XMLHttpRequest"),goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={"goog.module":!0},goog.getObjectByName=function(a,b){for(var c,d=a.split("."),e=b||goog.global;c=d.shift();){if(!goog.isDefAndNotNull(e[c]))return null;e=e[c]}return e},goog.globalize=function(a,b){var c=b||goog.global;for(var d in a)c[d]=a[d]},goog.addDependency=function(a,b,c,d){if(goog.DEPENDENCIES_ENABLED){var e,f,g=a.replace(/\\/g,"/"),h=goog.dependencies_;d&&"boolean"!=typeof d||(d=d?{module:"goog"}:{});for(var i=0;e=b[i];i++)h.nameToPath[e]=g,h.loadFlags[g]=d;for(var j=0;f=c[j];j++)g in h.requires||(h.requires[g]={}),h.requires[g][f]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)},goog.require=function(a){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(a),goog.isProvided_(a)){if(goog.isInModuleLoader_())return goog.module.getInternal_(a)}else if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(!b){var c="goog.require could not find: "+a;throw goog.logToConsole_(c),Error(c)}goog.writeScripts_(b)}return null},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(a){a.instance_=void 0,a.getInstance=function(){return a.instance_?a.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a),a.instance_=new a)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=goog.ENABLE_DEBUG_LOADER,goog.define("goog.TRANSPILE","detect"),goog.define("goog.TRANSPILER","transpile.js"),goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return null!=a&&"write"in a},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))return void(goog.basePath=goog.global.CLOSURE_BASE_PATH);if(goog.inHtmlDocument_())for(var a=goog.global.document,b=a.getElementsByTagName("SCRIPT"),c=b.length-1;c>=0;--c){var d=b[c],e=d.src,f=e.lastIndexOf("?"),g=-1==f?e.length:f;if("base.js"==e.substr(g-7,7))return void(goog.basePath=e.substr(0,g-7))}},goog.importScript_=function(a,b){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(a,b)&&(goog.dependencies_.written[a]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importProcessedScript_=function(a,b,c){var d='goog.retrieveAndExec_("'+a+'", '+b+", "+c+");";goog.importScript_("",d)},goog.queuedModules_=[],goog.wrapModule_=function(a,b){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(b+"\n//# sourceURL="+a+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+b+"\n;return exports});\n//# sourceURL="+a+"\n"},goog.loadQueuedModules_=function(){var a=goog.queuedModules_.length;if(a>0){var b=goog.queuedModules_;goog.queuedModules_=[];for(var c=0;c<a;c++){var d=b[c];goog.maybeProcessDeferredPath_(d)}}},goog.maybeProcessDeferredDep_=function(a){if(goog.isDeferredModule_(a)&&goog.allDepsAreAvailable_(a)){var b=goog.getPathFromDeps_(a);goog.maybeProcessDeferredPath_(goog.basePath+b)}},goog.isDeferredModule_=function(a){var b=goog.getPathFromDeps_(a),c=b&&goog.dependencies_.loadFlags[b]||{},d=c.lang||"es3";if(b&&("goog"==c.module||goog.needsTranspile_(d))){return goog.basePath+b in goog.dependencies_.deferred}return!1},goog.allDepsAreAvailable_=function(a){var b=goog.getPathFromDeps_(a);if(b&&b in goog.dependencies_.requires)for(var c in goog.dependencies_.requires[b])if(!goog.isProvided_(c)&&!goog.isDeferredModule_(c))return!1;return!0},goog.maybeProcessDeferredPath_=function(a){if(a in goog.dependencies_.deferred){var b=goog.dependencies_.deferred[a];delete goog.dependencies_.deferred[a],goog.globalEval(b)}},goog.loadModuleFromUrl=function(a){goog.retrieveAndExec_(a,!0,!1)},goog.writeScriptSrcNode_=function(a){goog.global.document.write('<script type="text/javascript" src="'+a+'"><\/script>')},goog.appendScriptSrcNode_=function(a){var b=goog.global.document,c=b.createElement("script");c.type="text/javascript",c.src=a,c.defer=!1,c.async=!1,b.head.appendChild(c)},goog.writeScriptTag_=function(a,b){if(goog.inHtmlDocument_()){var c=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==c.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load')}if(void 0===b)if(goog.IS_OLD_IE_){var d=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";c.write('<script type="text/javascript" src="'+a+'"'+d+"><\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(a):goog.writeScriptSrcNode_(a);else c.write('<script type="text/javascript">'+goog.protectScriptTag_(b)+"<\/script>");return!0}return!1},goog.protectScriptTag_=function(a){return a.replace(/<\/(SCRIPT)/gi,"\\x3c\\$1")},goog.needsTranspile_=function(a){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(goog.requiresTranspilation_||(goog.requiresTranspilation_=goog.createRequiresTranspilation_()),a in goog.requiresTranspilation_)return goog.requiresTranspilation_[a];throw new Error("Unknown language mode: "+a)},goog.requiresTranspilation_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(a,b){return"complete"==a.readyState&&goog.lastNonModuleScriptIndex_==b&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(a){function b(a){if(!(a in e.written||a in e.visited)){if(e.visited[a]=!0,a in e.requires)for(var f in e.requires[a])if(!goog.isProvided_(f)){if(!(f in e.nameToPath))throw Error("Undefined nameToPath for "+f);b(e.nameToPath[f])}a in d||(d[a]=!0,c.push(a))}}var c=[],d={},e=goog.dependencies_;b(a);for(var f=0;f<c.length;f++){var g=c[f];goog.dependencies_.written[g]=!0}var h=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var f=0;f<c.length;f++){var g=c[f];if(!g)throw goog.moduleLoaderState_=h,Error("Undefined script input");var i=e.loadFlags[g]||{},j=i.lang||"es3",k=goog.needsTranspile_(j);"goog"==i.module||k?goog.importProcessedScript_(goog.basePath+g,"goog"==i.module,k):goog.importScript_(goog.basePath+g)}goog.moduleLoaderState_=h},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){var hasBadLetScoping;try{hasBadLetScoping=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(a){hasBadLetScoping=!1}goog.hasBadLetScoping=hasBadLetScoping}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(a){return"(function(){"+a+"\n;})();\n"},goog.loadModule=function(a){var b=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1};var c;if(goog.isFunction(a))c=a.call(void 0,{});else{if(!goog.isString(a))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(a=goog.workaroundSafari10EvalBug(a)),c=goog.loadModuleFromSource_.call(void 0,a)}var d=goog.moduleLoaderState_.moduleName;if(!goog.isString(d)||!d)throw Error('Invalid module name "'+d+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(d,c):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof c&&null!=c&&Object.seal(c),goog.loadedModules_[d]=c}finally{goog.moduleLoaderState_=b}},goog.loadModuleFromSource_=function(){"use strict";var exports={};return eval(arguments[0]),exports},goog.normalizePath_=function(a){for(var b=a.split("/"),c=0;c<b.length;)"."==b[c]?b.splice(c,1):c&&".."==b[c]&&b[c-1]&&".."!=b[c-1]?b.splice(--c,2):c++;return b.join("/")},goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var b=new goog.global.XMLHttpRequest;return b.open("get",a,!1),b.send(),0==b.status||200==b.status?b.responseText:null}catch(a){return null}},goog.retrieveAndExec_=function(a,b,c){var d=a;a=goog.normalizePath_(a);var e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,f=goog.loadFileSync_(a);if(null==f)throw new Error('Load of "'+a+'" failed');c&&(f=goog.transpile_.call(goog.global,f,a)),b?f=goog.wrapModule_(a,f):f+="\n//# sourceURL="+a,goog.IS_OLD_IE_?(goog.dependencies_.deferred[d]=f,goog.queuedModules_.push(d)):e(a,f)},goog.transpile_=function(code,path){var jscomp=goog.global.$jscomp;jscomp||(goog.global.$jscomp=jscomp={});var transpile=jscomp.transpile;if(!transpile){var transpilerPath=goog.basePath+goog.TRANSPILER,transpilerCode=goog.loadFileSync_(transpilerPath);if(transpilerCode){if(eval(transpilerCode+"\n//# sourceURL="+transpilerPath),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw new Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,jscomp=goog.global.$jscomp,transpile=jscomp.transpile}}if(!transpile){var suffix=" requires transpilation but no transpiler was found.";transpile=jscomp.transpile=function(a,b){return goog.logToConsole_(b+" requires transpilation but no transpiler was found."),a}}return transpile(code,path)},goog.typeOf=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b},goog.isNull=function(a){return null===a},goog.isDefAndNotNull=function(a){return null!=a},goog.isArray=function(a){return"array"==goog.typeOf(a)},goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length},goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear},goog.isString=function(a){return"string"==typeof a},goog.isBoolean=function(a){return"boolean"==typeof a},goog.isNumber=function(a){return"number"==typeof a},goog.isFunction=function(a){return"function"==goog.typeOf(a)},goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]},goog.removeUid=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(a){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();var c="array"==b?[]:{};for(var d in a)c[d]=goog.cloneObject(a[d]);return c}return a},goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)},goog.bindJs_=function(a,b,c){if(!a)throw new Error;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}},goog.bind=function(a,b,c){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}},goog.mixin=function(a,b){for(var c in b)a[c]=b[c]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(a){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("SCRIPT");c.type="text/javascript",c.defer=!1,c.appendChild(b.createTextNode(a)),b.body.appendChild(c),b.body.removeChild(c)}}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(a,b){if("."==String(a).charAt(0))throw new Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var c,d=function(a){return goog.cssNameMapping_[a]||a},e=function(a){for(var b=a.split("-"),c=[],e=0;e<b.length;e++)c.push(d(b[e]));return c.join("-")};c=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?d:e:function(a){return a};var f=b?a+"-"+c(b):c(a);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(f):f},goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a,goog.cssNameMappingStyle_=b},goog.global.CLOSURE_CSS_NAME_MAPPING,goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(a,b){return b&&(a=a.replace(/\{\$([^}]+)}/g,function(a,c){return null!=b&&c in b?b[c]:a})),a},goog.getMsgWithFallback=function(a,b){return a},goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)},goog.exportProperty=function(a,b,c){a[b]=c},goog.inherits=function(a,b){function c(){}c.prototype=b.prototype,a.superClass_=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.base=function(a,c,d){for(var e=new Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}},goog.base=function(a,b,c){var d=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(d.superClass_){for(var e=new Array(arguments.length-1),f=1;f<arguments.length;f++)e[f-1]=arguments[f];return d.superClass_.constructor.apply(a,e)}for(var g=new Array(arguments.length-2),f=2;f<arguments.length;f++)g[f-2]=arguments[f];for(var h=!1,i=a.constructor;i;i=i.superClass_&&i.superClass_.constructor)if(i.prototype[b]===d)h=!0;else if(h)return i.prototype[b].apply(a,g);if(a[b]===d)return a.constructor.prototype[b].apply(a,g);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(a){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");a.call(goog.global)},goog.global.COMPILED=!1,goog.defineClass=function(a,b){var c=b.constructor,d=b.statics;c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).")});var e=goog.defineClass.createSealingConstructor_(c,a);return a&&goog.inherits(e,a),delete b.constructor,delete b.statics,goog.defineClass.applyProperties_(e.prototype,b),null!=d&&(d instanceof Function?d(e):goog.defineClass.applyProperties_(e,d)),e},goog.defineClass.ClassDescriptor,goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog.defineClass.createSealingConstructor_=function(a,b){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return a;var c=!goog.defineClass.isUnsealable_(b),d=function(){var b=a.apply(this,arguments)||this;return b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_],this.constructor===d&&c&&Object.seal instanceof Function&&Object.seal(b),b};return d},goog.defineClass.isUnsealable_=function(a){return a&&a.prototype&&a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.defineClass.applyProperties_=function(a,b){var c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])},goog.tagUnsealableClass=function(a){goog.defineClass.SEAL_CLASS_INSTANCES&&(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.createRequiresTranspilation_=function(){function addNewerLanguageTranspilationCheck(a,b){transpilationRequiredForAllLaterModes?requiresTranspilation[a]=!0:b()?requiresTranspilation[a]=!1:(requiresTranspilation[a]=!0,transpilationRequiredForAllLaterModes=!0)}function evalCheck(code){try{return!!eval(code)}catch(a){return!1}}var requiresTranspilation={es3:!1},transpilationRequiredForAllLaterModes=!1;return addNewerLanguageTranspilationCheck("es5",function(){return evalCheck("[1,].length==1")}),addNewerLanguageTranspilationCheck("es6",function(){return evalCheck('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),addNewerLanguageTranspilationCheck("es6-impl",function(){return!0}),addNewerLanguageTranspilationCheck("es7",function(){return evalCheck("2 ** 2 == 4")}),addNewerLanguageTranspilationCheck("es8",function(){return evalCheck("async () => 1, true")}),requiresTranspilation},goog.provide("ol.array"),ol.array.binarySearch=function(a,b,c){for(var d,e,f=c||ol.array.numberSafeCompareFunction,g=0,h=a.length,i=!1;g<h;)d=g+(h-g>>1),e=+f(a[d],b),e<0?g=d+1:(h=d,i=!e);return i?g:~g},ol.array.numberSafeCompareFunction=function(a,b){return a>b?1:a<b?-1:0},ol.array.includes=function(a,b){return a.indexOf(b)>=0},ol.array.linearFindNearest=function(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(b<=a[d-1])return d-1;var e;if(c>0){for(e=1;e<d;++e)if(a[e]<b)return e-1}else if(c<0){for(e=1;e<d;++e)if(a[e]<=b)return e}else for(e=1;e<d;++e){if(a[e]==b)return e;if(a[e]<b)return a[e-1]-b<b-a[e]?e-1:e}return d-1},ol.array.reverseSubArray=function(a,b,c){for(;b<c;){var d=a[b];a[b]=a[c],a[c]=d,++b,--c}},ol.array.extend=function(a,b){var c,d=Array.isArray(b)?b:[b],e=d.length;for(c=0;c<e;c++)a[a.length]=d[c]},ol.array.remove=function(a,b){var c=a.indexOf(b),d=c>-1;return d&&a.splice(c,1),d},ol.array.find=function(a,b){for(var c,d=a.length>>>0,e=0;e<d;e++)if(c=a[e],b(c,e,a))return c;return null},ol.array.equals=function(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0},ol.array.stableSort=function(a,b){var c,d=a.length,e=Array(a.length);for(c=0;c<d;c++)e[c]={index:c,value:a[c]};for(e.sort(function(a,c){return b(a.value,c.value)||a.index-c.index}),c=0;c<a.length;c++)a[c]=e[c].value},ol.array.findIndex=function(a,b){var c;return a.every(function(d,e){return c=e,!b(d,e,a)})?-1:c},ol.array.isSorted=function(a,b,c){var d=b||ol.array.numberSafeCompareFunction;return a.every(function(b,e){if(0===e)return!0;var f=d(a[e-1],b);return!(f>0||c&&0===f)})},goog.provide("ol"),ol.ASSUME_TOUCH=!1,ol.DEFAULT_MAX_ZOOM=42,ol.DEFAULT_MIN_ZOOM=0,ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=.5,ol.DEFAULT_TILE_SIZE=256,ol.DEFAULT_WMS_VERSION="1.3.0",ol.ENABLE_CANVAS=!0,ol.ENABLE_PROJ4JS=!0,ol.ENABLE_RASTER_REPROJECTION=!0,ol.ENABLE_WEBGL=!0,ol.DEBUG_WEBGL=!0,ol.INITIAL_ATLAS_SIZE=256,ol.MAX_ATLAS_SIZE=-1,ol.MOUSEWHEELZOOM_MAXDELTA=1,ol.OVERVIEWMAP_MAX_RATIO=.75,ol.OVERVIEWMAP_MIN_RATIO=.1,ol.RASTER_REPROJECTION_MAX_SOURCE_TILES=100,ol.RASTER_REPROJECTION_MAX_SUBDIVISION=10,ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=.25,ol.SIMPLIFY_TOLERANCE=.5,ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024,ol.VERSION="",ol.WEBGL_MAX_TEXTURE_SIZE,ol.WEBGL_EXTENSIONS,ol.inherits=function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a},ol.nullFunction=function(){},ol.getUid=function(a){return a.ol_uid||(a.ol_uid=++ol.uidCounter_)},ol.uidCounter_=0,goog.provide("ol.AssertionError"),goog.require("ol"),ol.AssertionError=function(a){var b=ol.VERSION?ol.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+b+"/doc/errors/#"+a+" for details.",this.code=a,this.name="AssertionError"},ol.inherits(ol.AssertionError,Error),goog.provide("ol.asserts"),goog.require("ol.AssertionError"),ol.asserts.assert=function(a,b){if(!a)throw new ol.AssertionError(b)},goog.provide("ol.TileRange"),ol.TileRange=function(a,b,c,d){this.minX=a,this.maxX=b,this.minY=c,this.maxY=d},ol.TileRange.createOrUpdate=function(a,b,c,d,e){return void 0!==e?(e.minX=a,e.maxX=b,e.minY=c,e.maxY=d,e):new ol.TileRange(a,b,c,d)},ol.TileRange.prototype.contains=function(a){return this.containsXY(a[1],a[2])},ol.TileRange.prototype.containsTileRange=function(a){return this.minX<=a.minX&&a.maxX<=this.maxX&&this.minY<=a.minY&&a.maxY<=this.maxY},ol.TileRange.prototype.containsXY=function(a,b){return this.minX<=a&&a<=this.maxX&&this.minY<=b&&b<=this.maxY},ol.TileRange.prototype.equals=function(a){return this.minX==a.minX&&this.minY==a.minY&&this.maxX==a.maxX&&this.maxY==a.maxY},ol.TileRange.prototype.extend=function(a){a.minX<this.minX&&(this.minX=a.minX),a.maxX>this.maxX&&(this.maxX=a.maxX),a.minY<this.minY&&(this.minY=a.minY),a.maxY>this.maxY&&(this.maxY=a.maxY)},ol.TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1},ol.TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},ol.TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1},ol.TileRange.prototype.intersects=function(a){return this.minX<=a.maxX&&this.maxX>=a.minX&&this.minY<=a.maxY&&this.maxY>=a.minY},goog.provide("ol.math"),goog.require("ol.asserts"),ol.math.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)},ol.math.cosh=function(){return"cosh"in Math?Math.cosh:function(a){var b=Math.exp(a);return(b+1/b)/2}}(),ol.math.roundUpToPowerOfTwo=function(a){return ol.asserts.assert(0<a,29),Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},ol.math.squaredSegmentDistance=function(a,b,c,d,e,f){var g=e-c,h=f-d;if(0!==g||0!==h){var i=((a-c)*g+(b-d)*h)/(g*g+h*h);i>1?(c=e,d=f):i>0&&(c+=g*i,d+=h*i)}return ol.math.squaredDistance(a,b,c,d)},ol.math.squaredDistance=function(a,b,c,d){var e=c-a,f=d-b;return e*e+f*f},ol.math.solveLinearSystem=function(a){for(var b=a.length,c=0;c<b;c++){for(var d=c,e=Math.abs(a[c][c]),f=c+1;f<b;f++){var g=Math.abs(a[f][c]);g>e&&(e=g,d=f)}if(0===e)return null;var h=a[d];a[d]=a[c],a[c]=h;for(var i=c+1;i<b;i++)for(var j=-a[i][c]/a[c][c],k=c;k<b+1;k++)c==k?a[i][k]=0:a[i][k]+=j*a[c][k]}for(var l=new Array(b),m=b-1;m>=0;m--){l[m]=a[m][b]/a[m][m];for(var n=m-1;n>=0;n--)a[n][b]-=a[n][m]*l[m]}return l},ol.math.toDegrees=function(a){return 180*a/Math.PI},ol.math.toRadians=function(a){return a*Math.PI/180},ol.math.modulo=function(a,b){var c=a%b;return c*b<0?c+b:c},ol.math.lerp=function(a,b,c){return a+c*(b-a)},goog.provide("ol.size"),ol.size.buffer=function(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]+2*b,c[1]=a[1]+2*b,c},ol.size.hasArea=function(a){return a[0]>0&&a[1]>0},ol.size.scale=function(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]*b+.5|0,c[1]=a[1]*b+.5|0,c},ol.size.toSize=function(a,b){return Array.isArray(a)?a:(void 0===b?b=[a,a]:b[0]=b[1]=a,b)},goog.provide("ol.extent.Corner"),ol.extent.Corner={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},goog.provide("ol.extent.Relationship"),ol.extent.Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16},goog.provide("ol.extent"),goog.require("ol.asserts"),goog.require("ol.extent.Corner"),goog.require("ol.extent.Relationship"),ol.extent.boundingExtent=function(a){for(var b=ol.extent.createEmpty(),c=0,d=a.length;c<d;++c)ol.extent.extendCoordinate(b,a[c]);return b},ol.extent.boundingExtentXYs_=function(a,b,c){var d=Math.min.apply(null,a),e=Math.min.apply(null,b),f=Math.max.apply(null,a),g=Math.max.apply(null,b);return ol.extent.createOrUpdate(d,e,f,g,c)},ol.extent.buffer=function(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]},ol.extent.clone=function(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()},ol.extent.closestSquaredDistanceXY=function(a,b,c){var d,e;return d=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0,e=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0,d*d+e*e},ol.extent.containsCoordinate=function(a,b){return ol.extent.containsXY(a,b[0],b[1])},ol.extent.containsExtent=function(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]},ol.extent.containsXY=function(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]},ol.extent.coordinateRelationship=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=ol.extent.Relationship.UNKNOWN;return g<c?i|=ol.extent.Relationship.LEFT:g>e&&(i|=ol.extent.Relationship.RIGHT),h<d?i|=ol.extent.Relationship.BELOW:h>f&&(i|=ol.extent.Relationship.ABOVE),i===ol.extent.Relationship.UNKNOWN&&(i=ol.extent.Relationship.INTERSECTING),i},ol.extent.createEmpty=function(){return[1/0,1/0,-1/0,-1/0]},ol.extent.createOrUpdate=function(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]},ol.extent.createOrUpdateEmpty=function(a){return ol.extent.createOrUpdate(1/0,1/0,-1/0,-1/0,a)},ol.extent.createOrUpdateFromCoordinate=function(a,b){var c=a[0],d=a[1];return ol.extent.createOrUpdate(c,d,c,d,b)},ol.extent.createOrUpdateFromCoordinates=function(a,b){var c=ol.extent.createOrUpdateEmpty(b);return ol.extent.extendCoordinates(c,a)},ol.extent.createOrUpdateFromFlatCoordinates=function(a,b,c,d,e){var f=ol.extent.createOrUpdateEmpty(e);return ol.extent.extendFlatCoordinates(f,a,b,c,d)},ol.extent.createOrUpdateFromRings=function(a,b){var c=ol.extent.createOrUpdateEmpty(b);return ol.extent.extendRings(c,a)},ol.extent.equals=function(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]},ol.extent.extend=function(a,b){return b[0]<a[0]&&(a[0]=b[0]),b[2]>a[2]&&(a[2]=b[2]),b[1]<a[1]&&(a[1]=b[1]),b[3]>a[3]&&(a[3]=b[3]),a},ol.extent.extendCoordinate=function(a,b){b[0]<a[0]&&(a[0]=b[0]),b[0]>a[2]&&(a[2]=b[0]),b[1]<a[1]&&(a[1]=b[1]),b[1]>a[3]&&(a[3]=b[1])},ol.extent.extendCoordinates=function(a,b){var c,d;for(c=0,d=b.length;c<d;++c)ol.extent.extendCoordinate(a,b[c]);return a},ol.extent.extendFlatCoordinates=function(a,b,c,d,e){for(;c<d;c+=e)ol.extent.extendXY(a,b[c],b[c+1]);return a},ol.extent.extendRings=function(a,b){var c,d;for(c=0,d=b.length;c<d;++c)ol.extent.extendCoordinates(a,b[c]);return a},ol.extent.extendXY=function(a,b,c){a[0]=Math.min(a[0],b),a[1]=Math.min(a[1],c),a[2]=Math.max(a[2],b),a[3]=Math.max(a[3],c)},ol.extent.forEachCorner=function(a,b,c){var d;return(d=b.call(c,ol.extent.getBottomLeft(a)))?d:(d=b.call(c,ol.extent.getBottomRight(a)))?d:(d=b.call(c,ol.extent.getTopRight(a)))?d:(d=b.call(c,ol.extent.getTopLeft(a)))||!1},ol.extent.getArea=function(a){var b=0;return ol.extent.isEmpty(a)||(b=ol.extent.getWidth(a)*ol.extent.getHeight(a)),b},ol.extent.getBottomLeft=function(a){return[a[0],a[1]]},ol.extent.getBottomRight=function(a){return[a[2],a[1]]},ol.extent.getCenter=function(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]},ol.extent.getCorner=function(a,b){var c;return b===ol.extent.Corner.BOTTOM_LEFT?c=ol.extent.getBottomLeft(a):b===ol.extent.Corner.BOTTOM_RIGHT?c=ol.extent.getBottomRight(a):b===ol.extent.Corner.TOP_LEFT?c=ol.extent.getTopLeft(a):b===ol.extent.Corner.TOP_RIGHT?c=ol.extent.getTopRight(a):ol.asserts.assert(!1,13),c},ol.extent.getEnlargedArea=function(a,b){var c=Math.min(a[0],b[0]),d=Math.min(a[1],b[1]);return(Math.max(a[2],b[2])-c)*(Math.max(a[3],b[3])-d)},ol.extent.getForViewAndSize=function(a,b,c,d,e){var f=b*d[0]/2,g=b*d[1]/2,h=Math.cos(c),i=Math.sin(c),j=f*h,k=f*i,l=g*h,m=g*i,n=a[0],o=a[1],p=n-j+m,q=n-j-m,r=n+j-m,s=n+j+m,t=o-k-l,u=o-k+l,v=o+k+l,w=o+k-l;return ol.extent.createOrUpdate(Math.min(p,q,r,s),Math.min(t,u,v,w),Math.max(p,q,r,s),Math.max(t,u,v,w),e)},ol.extent.getHeight=function(a){
return a[3]-a[1]},ol.extent.getIntersectionArea=function(a,b){var c=ol.extent.getIntersection(a,b);return ol.extent.getArea(c)},ol.extent.getIntersection=function(a,b,c){var d=c||ol.extent.createEmpty();return ol.extent.intersects(a,b)&&(a[0]>b[0]?d[0]=a[0]:d[0]=b[0],a[1]>b[1]?d[1]=a[1]:d[1]=b[1],a[2]<b[2]?d[2]=a[2]:d[2]=b[2],a[3]<b[3]?d[3]=a[3]:d[3]=b[3]),d},ol.extent.getMargin=function(a){return ol.extent.getWidth(a)+ol.extent.getHeight(a)},ol.extent.getSize=function(a){return[a[2]-a[0],a[3]-a[1]]},ol.extent.getTopLeft=function(a){return[a[0],a[3]]},ol.extent.getTopRight=function(a){return[a[2],a[3]]},ol.extent.getWidth=function(a){return a[2]-a[0]},ol.extent.intersects=function(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]},ol.extent.isEmpty=function(a){return a[2]<a[0]||a[3]<a[1]},ol.extent.returnOrUpdate=function(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a},ol.extent.scaleFromCenter=function(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c,a[2]+=c,a[1]-=d,a[3]+=d},ol.extent.intersectsSegment=function(a,b,c){var d=!1,e=ol.extent.coordinateRelationship(a,b),f=ol.extent.coordinateRelationship(a,c);if(e===ol.extent.Relationship.INTERSECTING||f===ol.extent.Relationship.INTERSECTING)d=!0;else{var g,h,i=a[0],j=a[1],k=a[2],l=a[3],m=b[0],n=b[1],o=c[0],p=c[1],q=(p-n)/(o-m);f&ol.extent.Relationship.ABOVE&&!(e&ol.extent.Relationship.ABOVE)&&(g=o-(p-l)/q,d=g>=i&&g<=k),d||!(f&ol.extent.Relationship.RIGHT)||e&ol.extent.Relationship.RIGHT||(h=p-(o-k)*q,d=h>=j&&h<=l),d||!(f&ol.extent.Relationship.BELOW)||e&ol.extent.Relationship.BELOW||(g=o-(p-j)/q,d=g>=i&&g<=k),d||!(f&ol.extent.Relationship.LEFT)||e&ol.extent.Relationship.LEFT||(h=p-(o-i)*q,d=h>=j&&h<=l)}return d},ol.extent.applyTransform=function(a,b,c){var d=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(d,d,2);var e=[d[0],d[2],d[4],d[6]],f=[d[1],d[3],d[5],d[7]];return ol.extent.boundingExtentXYs_(e,f,c)},goog.provide("ol.obj"),ol.obj.assign="function"==typeof Object.assign?Object.assign:function(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;d<e;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c},ol.obj.clear=function(a){for(var b in a)delete a[b]},ol.obj.getValues=function(a){var b=[];for(var c in a)b.push(a[c]);return b},ol.obj.isEmpty=function(a){var b;for(b in a)return!1;return!b},goog.provide("ol.Sphere"),goog.require("ol.math"),ol.Sphere=function(a){this.radius=a},ol.Sphere.prototype.geodesicArea=function(a){for(var b=0,c=a.length,d=a[c-1][0],e=a[c-1][1],f=0;f<c;f++){var g=a[f][0],h=a[f][1];b+=ol.math.toRadians(g-d)*(2+Math.sin(ol.math.toRadians(e))+Math.sin(ol.math.toRadians(h))),d=g,e=h}return b*this.radius*this.radius/2},ol.Sphere.prototype.haversineDistance=function(a,b){var c=ol.math.toRadians(a[1]),d=ol.math.toRadians(b[1]),e=(d-c)/2,f=ol.math.toRadians(b[0]-a[0])/2,g=Math.sin(e)*Math.sin(e)+Math.sin(f)*Math.sin(f)*Math.cos(c)*Math.cos(d);return 2*this.radius*Math.atan2(Math.sqrt(g),Math.sqrt(1-g))},ol.Sphere.prototype.offset=function(a,b,c){var d=ol.math.toRadians(a[1]),e=ol.math.toRadians(a[0]),f=b/this.radius,g=Math.asin(Math.sin(d)*Math.cos(f)+Math.cos(d)*Math.sin(f)*Math.cos(c)),h=e+Math.atan2(Math.sin(c)*Math.sin(f)*Math.cos(d),Math.cos(f)-Math.sin(d)*Math.sin(g));return[ol.math.toDegrees(h),ol.math.toDegrees(g)]},goog.provide("ol.sphere.NORMAL"),goog.require("ol.Sphere"),ol.sphere.NORMAL=new ol.Sphere(6370997),goog.provide("ol.proj.Units"),goog.require("ol.sphere.NORMAL"),ol.proj.Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ol.proj.Units.METERS_PER_UNIT={},ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.DEGREES]=2*Math.PI*ol.sphere.NORMAL.radius/360,ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.FEET]=.3048,ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.METERS]=1,ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.USFEET]=1200/3937,goog.provide("ol.proj.proj4"),ol.proj.proj4.cache_=null,ol.proj.proj4.set=function(a){ol.proj.proj4.cache_=a},ol.proj.proj4.get=function(){return ol.proj.proj4.cache_||window.proj4},goog.provide("ol.proj.Projection"),goog.require("ol"),goog.require("ol.proj.Units"),goog.require("ol.proj.proj4"),ol.proj.Projection=function(a){this.code_=a.code,this.units_=a.units,this.extent_=void 0!==a.extent?a.extent:null,this.worldExtent_=void 0!==a.worldExtent?a.worldExtent:null,this.axisOrientation_=void 0!==a.axisOrientation?a.axisOrientation:"enu",this.global_=void 0!==a.global&&a.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=a.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=a.metersPerUnit;var b=a.code;if(ol.ENABLE_PROJ4JS){var c=ol.proj.proj4.get();if("function"==typeof c){var d=c.defs(b);void 0!==d&&(void 0!==d.axis&&void 0===a.axisOrientation&&(this.axisOrientation_=d.axis),void 0===a.metersPerUnit&&(this.metersPerUnit_=d.to_meter),void 0===a.units&&(this.units_=d.units))}}},ol.proj.Projection.prototype.canWrapX=function(){return this.canWrapX_},ol.proj.Projection.prototype.getCode=function(){return this.code_},ol.proj.Projection.prototype.getExtent=function(){return this.extent_},ol.proj.Projection.prototype.getUnits=function(){return this.units_},ol.proj.Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ol.proj.Units.METERS_PER_UNIT[this.units_]},ol.proj.Projection.prototype.getWorldExtent=function(){return this.worldExtent_},ol.proj.Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_},ol.proj.Projection.prototype.isGlobal=function(){return this.global_},ol.proj.Projection.prototype.setGlobal=function(a){this.global_=a,this.canWrapX_=!(!a||!this.extent_)},ol.proj.Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},ol.proj.Projection.prototype.setDefaultTileGrid=function(a){this.defaultTileGrid_=a},ol.proj.Projection.prototype.setExtent=function(a){this.extent_=a,this.canWrapX_=!(!this.global_||!a)},ol.proj.Projection.prototype.setWorldExtent=function(a){this.worldExtent_=a},ol.proj.Projection.prototype.setGetPointResolution=function(a){this.getPointResolutionFunc_=a},ol.proj.Projection.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},goog.provide("ol.proj.EPSG3857"),goog.require("ol"),goog.require("ol.math"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),ol.proj.EPSG3857.Projection_=function(a){ol.proj.Projection.call(this,{code:a,units:ol.proj.Units.METERS,extent:ol.proj.EPSG3857.EXTENT,global:!0,worldExtent:ol.proj.EPSG3857.WORLD_EXTENT,getPointResolution:function(a,b){return a/ol.math.cosh(b[1]/ol.proj.EPSG3857.RADIUS)}})},ol.inherits(ol.proj.EPSG3857.Projection_,ol.proj.Projection),ol.proj.EPSG3857.RADIUS=6378137,ol.proj.EPSG3857.HALF_SIZE=Math.PI*ol.proj.EPSG3857.RADIUS,ol.proj.EPSG3857.EXTENT=[-ol.proj.EPSG3857.HALF_SIZE,-ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE],ol.proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85],ol.proj.EPSG3857.CODES=["EPSG:3857","EPSG:102100","EPSG:102113","EPSG:900913","urn:ogc:def:crs:EPSG:6.18:3:3857","urn:ogc:def:crs:EPSG::3857","http://www.opengis.net/gml/srs/epsg.xml#3857"],ol.proj.EPSG3857.PROJECTIONS=ol.proj.EPSG3857.CODES.map(function(a){return new ol.proj.EPSG3857.Projection_(a)}),ol.proj.EPSG3857.fromEPSG4326=function(a,b,c){var d=a.length,e=c>1?c:2,f=b;void 0===f&&(f=e>2?a.slice():new Array(d));for(var g=ol.proj.EPSG3857.HALF_SIZE,h=0;h<d;h+=e){f[h]=g*a[h]/180;var i=ol.proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(a[h+1]+90)/360));i>g?i=g:i<-g&&(i=-g),f[h+1]=i}return f},ol.proj.EPSG3857.toEPSG4326=function(a,b,c){var d=a.length,e=c>1?c:2,f=b;void 0===f&&(f=e>2?a.slice():new Array(d));for(var g=0;g<d;g+=e)f[g]=180*a[g]/ol.proj.EPSG3857.HALF_SIZE,f[g+1]=360*Math.atan(Math.exp(a[g+1]/ol.proj.EPSG3857.RADIUS))/Math.PI-90;return f},goog.provide("ol.sphere.WGS84"),goog.require("ol.Sphere"),ol.sphere.WGS84=new ol.Sphere(6378137),goog.provide("ol.proj.EPSG4326"),goog.require("ol"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.sphere.WGS84"),ol.proj.EPSG4326.Projection_=function(a,b){ol.proj.Projection.call(this,{code:a,units:ol.proj.Units.DEGREES,extent:ol.proj.EPSG4326.EXTENT,axisOrientation:b,global:!0,metersPerUnit:ol.proj.EPSG4326.METERS_PER_UNIT,worldExtent:ol.proj.EPSG4326.EXTENT})},ol.inherits(ol.proj.EPSG4326.Projection_,ol.proj.Projection),ol.proj.EPSG4326.EXTENT=[-180,-90,180,90],ol.proj.EPSG4326.METERS_PER_UNIT=Math.PI*ol.sphere.WGS84.radius/180,ol.proj.EPSG4326.PROJECTIONS=[new ol.proj.EPSG4326.Projection_("CRS:84"),new ol.proj.EPSG4326.Projection_("EPSG:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:2:84"),new ol.proj.EPSG4326.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ol.proj.EPSG4326.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")],goog.provide("ol.proj.projections"),ol.proj.projections.cache_={},ol.proj.projections.clear=function(){ol.proj.projections.cache_={}},ol.proj.projections.get=function(a){return ol.proj.projections.cache_[a]||null},ol.proj.projections.add=function(a,b){ol.proj.projections.cache_[a]=b},goog.provide("ol.proj.transforms"),goog.require("ol.obj"),ol.proj.transforms.cache_={},ol.proj.transforms.clear=function(){ol.proj.transforms.cache_={}},ol.proj.transforms.add=function(a,b,c){var d=a.getCode(),e=b.getCode(),f=ol.proj.transforms.cache_;d in f||(f[d]={}),f[d][e]=c},ol.proj.transforms.remove=function(a,b){var c=a.getCode(),d=b.getCode(),e=ol.proj.transforms.cache_,f=e[c][d];return delete e[c][d],ol.obj.isEmpty(e[c])&&delete e[c],f},ol.proj.transforms.get=function(a,b){var c,d=ol.proj.transforms.cache_;return a in d&&b in d[a]&&(c=d[a][b]),c},goog.provide("ol.proj"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.proj.EPSG3857"),goog.require("ol.proj.EPSG4326"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.proj.proj4"),goog.require("ol.proj.projections"),goog.require("ol.proj.transforms"),goog.require("ol.sphere.NORMAL"),ol.proj.METERS_PER_UNIT=ol.proj.Units.METERS_PER_UNIT,ol.ENABLE_PROJ4JS&&(ol.proj.setProj4=function(a){ol.proj.proj4.set(a)}),ol.proj.getPointResolution=function(a,b,c){var d,e=a.getPointResolutionFunc();if(e)d=e(b,c);else{if(a.getUnits()==ol.proj.Units.DEGREES)d=b;else{var f=ol.proj.getTransformFromProjections(a,ol.proj.get("EPSG:4326")),g=[c[0]-b/2,c[1],c[0]+b/2,c[1],c[0],c[1]-b/2,c[0],c[1]+b/2];g=f(g,g,2);d=(ol.sphere.NORMAL.haversineDistance(g.slice(0,2),g.slice(2,4))+ol.sphere.NORMAL.haversineDistance(g.slice(4,6),g.slice(6,8)))/2;var h=a.getMetersPerUnit();void 0!==h&&(d/=h)}}return d},ol.proj.addEquivalentProjections=function(a){ol.proj.addProjections(a),a.forEach(function(b){a.forEach(function(a){b!==a&&ol.proj.transforms.add(b,a,ol.proj.cloneTransform)})})},ol.proj.addEquivalentTransforms=function(a,b,c,d){a.forEach(function(a){b.forEach(function(b){ol.proj.transforms.add(a,b,c),ol.proj.transforms.add(b,a,d)})})},ol.proj.addProjection=function(a){ol.proj.projections.add(a.getCode(),a),ol.proj.transforms.add(a,a,ol.proj.cloneTransform)},ol.proj.addProjections=function(a){var b=[];a.forEach(function(a){b.push(ol.proj.addProjection(a))})},ol.proj.clearAllProjections=function(){ol.proj.projections.clear(),ol.proj.transforms.clear()},ol.proj.createProjection=function(a,b){return a?"string"==typeof a?ol.proj.get(a):a:ol.proj.get(b)},ol.proj.addCoordinateTransforms=function(a,b,c,d){var e=ol.proj.get(a),f=ol.proj.get(b);ol.proj.transforms.add(e,f,ol.proj.createTransformFromCoordinateTransform(c)),ol.proj.transforms.add(f,e,ol.proj.createTransformFromCoordinateTransform(d))},ol.proj.createTransformFromCoordinateTransform=function(a){return function(b,c,d){var e,f,g,h=b.length,i=void 0!==d?d:2,j=void 0!==c?c:new Array(h);for(f=0;f<h;f+=i)for(e=a([b[f],b[f+1]]),j[f]=e[0],j[f+1]=e[1],g=i-1;g>=2;--g)j[f+g]=b[f+g];return j}},ol.proj.fromLonLat=function(a,b){return ol.proj.transform(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")},ol.proj.toLonLat=function(a,b){return ol.proj.transform(a,void 0!==b?b:"EPSG:3857","EPSG:4326")},ol.proj.get=function(a){var b=null;if(a instanceof ol.proj.Projection)b=a;else if("string"==typeof a){var c=a;if(b=ol.proj.projections.get(c),ol.ENABLE_PROJ4JS){var d=ol.proj.proj4.get();b||"function"!=typeof d||void 0===d.defs(c)||(b=new ol.proj.Projection({code:c}),ol.proj.addProjection(b))}}return b},ol.proj.equivalent=function(a,b){if(a===b)return!0;var c=a.getUnits()===b.getUnits();return a.getCode()===b.getCode()?c:ol.proj.getTransformFromProjections(a,b)===ol.proj.cloneTransform&&c},ol.proj.getTransform=function(a,b){var c=ol.proj.get(a),d=ol.proj.get(b);return ol.proj.getTransformFromProjections(c,d)},ol.proj.getTransformFromProjections=function(a,b){var c=a.getCode(),d=b.getCode(),e=ol.proj.transforms.get(c,d);if(ol.ENABLE_PROJ4JS&&!e){var f=ol.proj.proj4.get();if("function"==typeof f){var g=f.defs(c),h=f.defs(d);if(void 0!==g&&void 0!==h){if(g===h)ol.proj.addEquivalentProjections([b,a]);else{var i=f(d,c);ol.proj.addCoordinateTransforms(b,a,i.forward,i.inverse)}e=ol.proj.transforms.get(c,d)}}}return e||(e=ol.proj.identityTransform),e},ol.proj.identityTransform=function(a,b,c){if(void 0!==b&&a!==b){for(var d=0,e=a.length;d<e;++d)b[d]=a[d];a=b}return a},ol.proj.cloneTransform=function(a,b,c){var d;if(void 0!==b){for(var e=0,f=a.length;e<f;++e)b[e]=a[e];d=b}else d=a.slice();return d},ol.proj.transform=function(a,b,c){return ol.proj.getTransform(b,c)(a,void 0,a.length)},ol.proj.transformExtent=function(a,b,c){var d=ol.proj.getTransform(b,c);return ol.extent.applyTransform(a,d)},ol.proj.transformWithProjections=function(a,b,c){return ol.proj.getTransformFromProjections(b,c)(a)},ol.proj.addCommon=function(){ol.proj.addEquivalentProjections(ol.proj.EPSG3857.PROJECTIONS),ol.proj.addEquivalentProjections(ol.proj.EPSG4326.PROJECTIONS),ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,ol.proj.EPSG3857.PROJECTIONS,ol.proj.EPSG3857.fromEPSG4326,ol.proj.EPSG3857.toEPSG4326)},ol.proj.addCommon(),goog.provide("ol.tilecoord"),ol.tilecoord.createOrUpdate=function(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]},ol.tilecoord.getKeyZXY=function(a,b,c){return a+"/"+b+"/"+c},ol.tilecoord.hash=function(a){return(a[1]<<a[0])+a[2]},ol.tilecoord.quadKey=function(a){var b,c,d=a[0],e=new Array(d),f=1<<d-1;for(b=0;b<d;++b)c=48,a[1]&f&&(c+=1),a[2]&f&&(c+=2),e[b]=String.fromCharCode(c),f>>=1;return e.join("")},ol.tilecoord.withinExtentAndZ=function(a,b){var c=a[0],d=a[1],e=a[2];if(b.getMinZoom()>c||c>b.getMaxZoom())return!1;var f,g=b.getExtent();return!(f=g?b.getTileRangeForExtentAndZ(g,c):b.getFullTileRange(c))||f.containsXY(d,e)},goog.provide("ol.tilegrid.TileGrid"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.TileRange"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.size"),goog.require("ol.tilecoord"),ol.tilegrid.TileGrid=function(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0,this.resolutions_=a.resolutions,ol.asserts.assert(ol.array.isSorted(this.resolutions_,function(a,b){return b-a},!0),17),this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==a.origin?a.origin:null,this.origins_=null,void 0!==a.origins&&(this.origins_=a.origins,ol.asserts.assert(this.origins_.length==this.resolutions_.length,20));var b=a.extent;void 0===b||this.origin_||this.origins_||(this.origin_=ol.extent.getTopLeft(b)),ol.asserts.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==a.tileSizes&&(this.tileSizes_=a.tileSizes,ol.asserts.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==a.tileSize?a.tileSize:this.tileSizes_?null:ol.DEFAULT_TILE_SIZE,ol.asserts.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==b?b:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==a.sizes?this.fullTileRanges_=a.sizes.map(function(a,b){return new ol.TileRange(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&this.calculateTileRanges_(b)},ol.tilegrid.TileGrid.tmpTileCoord_=[0,0,0],ol.tilegrid.TileGrid.prototype.forEachTileCoord=function(a,b,c){for(var d=this.getTileRangeForExtentAndZ(a,b),e=d.minX,f=d.maxX;e<=f;++e)for(var g=d.minY,h=d.maxY;g<=h;++g)c([b,e,g])},ol.tilegrid.TileGrid.prototype.forEachTileCoordParentTileRange=function(a,b,c,d,e){for(var f=this.getTileCoordExtent(a,e),g=a[0]-1;g>=this.minZoom;){if(b.call(c,g,this.getTileRangeForExtentAndZ(f,g,d)))return!0;--g}return!1},ol.tilegrid.TileGrid.prototype.getExtent=function(){return this.extent_},ol.tilegrid.TileGrid.prototype.getMaxZoom=function(){return this.maxZoom},ol.tilegrid.TileGrid.prototype.getMinZoom=function(){return this.minZoom},ol.tilegrid.TileGrid.prototype.getOrigin=function(a){return this.origin_?this.origin_:this.origins_[a]},ol.tilegrid.TileGrid.prototype.getResolution=function(a){return this.resolutions_[a]},ol.tilegrid.TileGrid.prototype.getResolutions=function(){return this.resolutions_},ol.tilegrid.TileGrid.prototype.getTileCoordChildTileRange=function(a,b,c){if(a[0]<this.maxZoom){var d=this.getTileCoordExtent(a,c);return this.getTileRangeForExtentAndZ(d,a[0]+1,b)}return null},ol.tilegrid.TileGrid.prototype.getTileRangeExtent=function(a,b,c){var d=this.getOrigin(a),e=this.getResolution(a),f=ol.size.toSize(this.getTileSize(a),this.tmpSize_),g=d[0]+b.minX*f[0]*e,h=d[0]+(b.maxX+1)*f[0]*e,i=d[1]+b.minY*f[1]*e,j=d[1]+(b.maxY+1)*f[1]*e;return ol.extent.createOrUpdate(g,i,h,j,c)},ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndResolution=function(a,b,c){var d=ol.tilegrid.TileGrid.tmpTileCoord_;this.getTileCoordForXYAndResolution_(a[0],a[1],b,!1,d);var e=d[1],f=d[2];return this.getTileCoordForXYAndResolution_(a[2],a[3],b,!0,d),ol.TileRange.createOrUpdate(e,d[1],f,d[2],c)},ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndZ=function(a,b,c){var d=this.getResolution(b);return this.getTileRangeForExtentAndResolution(a,d,c)},ol.tilegrid.TileGrid.prototype.getTileCoordCenter=function(a){var b=this.getOrigin(a[0]),c=this.getResolution(a[0]),d=ol.size.toSize(this.getTileSize(a[0]),this.tmpSize_);return[b[0]+(a[1]+.5)*d[0]*c,b[1]+(a[2]+.5)*d[1]*c]},ol.tilegrid.TileGrid.prototype.getTileCoordExtent=function(a,b){var c=this.getOrigin(a[0]),d=this.getResolution(a[0]),e=ol.size.toSize(this.getTileSize(a[0]),this.tmpSize_),f=c[0]+a[1]*e[0]*d,g=c[1]+a[2]*e[1]*d,h=f+e[0]*d,i=g+e[1]*d;return ol.extent.createOrUpdate(f,g,h,i,b)},ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution=function(a,b,c){return this.getTileCoordForXYAndResolution_(a[0],a[1],b,!1,c)},ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndResolution_=function(a,b,c,d,e){var f=this.getZForResolution(c),g=c/this.getResolution(f),h=this.getOrigin(f),i=ol.size.toSize(this.getTileSize(f),this.tmpSize_),j=d?.5:0,k=d?0:.5,l=Math.floor((a-h[0])/c+j),m=Math.floor((b-h[1])/c+k),n=g*l/i[0],o=g*m/i[1];return d?(n=Math.ceil(n)-1,o=Math.ceil(o)-1):(n=Math.floor(n),o=Math.floor(o)),ol.tilecoord.createOrUpdate(f,n,o,e)},ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ=function(a,b,c){var d=this.getResolution(b);return this.getTileCoordForXYAndResolution_(a[0],a[1],d,!1,c)},ol.tilegrid.TileGrid.prototype.getTileCoordResolution=function(a){return this.resolutions_[a[0]]},ol.tilegrid.TileGrid.prototype.getTileSize=function(a){return this.tileSize_?this.tileSize_:this.tileSizes_[a]},ol.tilegrid.TileGrid.prototype.getFullTileRange=function(a){return this.fullTileRanges_?this.fullTileRanges_[a]:null},ol.tilegrid.TileGrid.prototype.getZForResolution=function(a,b){var c=ol.array.linearFindNearest(this.resolutions_,a,b||0);return ol.math.clamp(c,this.minZoom,this.maxZoom)},ol.tilegrid.TileGrid.prototype.calculateTileRanges_=function(a){for(var b=this.resolutions_.length,c=new Array(b),d=this.minZoom;d<b;++d)c[d]=this.getTileRangeForExtentAndZ(a,d);this.fullTileRanges_=c};goog.provide("ol.tilegrid"),goog.require("ol"),goog.require("ol.size"),goog.require("ol.extent"),goog.require("ol.extent.Corner"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.proj.Units"),goog.require("ol.tilegrid.TileGrid"),ol.tilegrid.getForProjection=function(a){var b=a.getDefaultTileGrid();return b||(b=ol.tilegrid.createForProjection(a),a.setDefaultTileGrid(b)),b},ol.tilegrid.wrapX=function(a,b,c){var d=b[0],e=a.getTileCoordCenter(b),f=ol.tilegrid.extentFromProjection(c);if(ol.extent.containsCoordinate(f,e))return b;var g=ol.extent.getWidth(f),h=Math.ceil((f[0]-e[0])/g);return e[0]+=g*h,a.getTileCoordForCoordAndZ(e,d)},ol.tilegrid.createForExtent=function(a,b,c,d){var e=void 0!==d?d:ol.extent.Corner.TOP_LEFT,f=ol.tilegrid.resolutionsFromExtent(a,b,c);return new ol.tilegrid.TileGrid({extent:a,origin:ol.extent.getCorner(a,e),resolutions:f,tileSize:c})},ol.tilegrid.createXYZ=function(a){var b={};return ol.obj.assign(b,void 0!==a?a:{}),void 0===b.extent&&(b.extent=ol.proj.get("EPSG:3857").getExtent()),b.resolutions=ol.tilegrid.resolutionsFromExtent(b.extent,b.maxZoom,b.tileSize),delete b.maxZoom,new ol.tilegrid.TileGrid(b)},ol.tilegrid.resolutionsFromExtent=function(a,b,c){for(var d=void 0!==b?b:ol.DEFAULT_MAX_ZOOM,e=ol.extent.getHeight(a),f=ol.extent.getWidth(a),g=ol.size.toSize(void 0!==c?c:ol.DEFAULT_TILE_SIZE),h=Math.max(f/g[0],e/g[1]),i=d+1,j=new Array(i),k=0;k<i;++k)j[k]=h/Math.pow(2,k);return j},ol.tilegrid.createForProjection=function(a,b,c,d){var e=ol.tilegrid.extentFromProjection(a);return ol.tilegrid.createForExtent(e,b,c,d)},ol.tilegrid.extentFromProjection=function(a){a=ol.proj.get(a);var b=a.getExtent();if(!b){var c=180*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/a.getMetersPerUnit();b=ol.extent.createOrUpdate(-c,-c,c,c)}return b},goog.provide("ol.Attribution"),goog.require("ol.TileRange"),goog.require("ol.math"),goog.require("ol.tilegrid"),ol.Attribution=function(a){this.html_=a.html,this.tileRanges_=a.tileRanges?a.tileRanges:null},ol.Attribution.prototype.getHTML=function(){return this.html_},ol.Attribution.prototype.intersectsAnyTileRange=function(a,b,c){if(!this.tileRanges_)return!0;var d,e,f,g;for(g in a)if(g in this.tileRanges_){f=a[g];var h;for(d=0,e=this.tileRanges_[g].length;d<e;++d){if(h=this.tileRanges_[g][d],h.intersects(f))return!0;var i=b.getTileRangeForExtentAndZ(ol.tilegrid.extentFromProjection(c),parseInt(g,10)),j=i.getWidth();if(f.minX<i.minX||f.maxX>i.maxX){if(h.intersects(new ol.TileRange(ol.math.modulo(f.minX,j),ol.math.modulo(f.maxX,j),f.minY,f.maxY)))return!0;if(f.getWidth()>j&&h.intersects(i))return!0}}}return!1},goog.provide("ol.CenterConstraint"),goog.require("ol.math"),ol.CenterConstraint.createExtent=function(a){return function(b){return b?[ol.math.clamp(b[0],a[0],a[2]),ol.math.clamp(b[1],a[1],a[3])]:void 0}},ol.CenterConstraint.none=function(a){return a},goog.provide("ol.CollectionEventType"),ol.CollectionEventType={ADD:"add",REMOVE:"remove"},goog.provide("ol.ObjectEventType"),ol.ObjectEventType={PROPERTYCHANGE:"propertychange"},goog.provide("ol.events"),goog.require("ol.obj"),ol.events.bindListener_=function(a){var b=function(b){var c=a.listener,d=a.bindTo||a.target;return a.callOnce&&ol.events.unlistenByKey(a),c.call(d,b)};return a.boundListener=b,b},ol.events.findListener_=function(a,b,c,d){for(var e,f=0,g=a.length;f<g;++f)if(e=a[f],e.listener===b&&e.bindTo===c)return d&&(e.deleteIndex=f),e},ol.events.getListeners=function(a,b){var c=a.ol_lm;return c?c[b]:void 0},ol.events.getListenerMap_=function(a){var b=a.ol_lm;return b||(b=a.ol_lm={}),b},ol.events.removeListeners_=function(a,b){var c=ol.events.getListeners(a,b);if(c){for(var d=0,e=c.length;d<e;++d)a.removeEventListener(b,c[d].boundListener),ol.obj.clear(c[d]);c.length=0;var f=a.ol_lm;f&&(delete f[b],0===Object.keys(f).length&&delete a.ol_lm)}},ol.events.listen=function(a,b,c,d,e){var f=ol.events.getListenerMap_(a),g=f[b];g||(g=f[b]=[]);var h=ol.events.findListener_(g,c,d,!1);return h?e||(h.callOnce=!1):(h={bindTo:d,callOnce:!!e,listener:c,target:a,type:b},a.addEventListener(b,ol.events.bindListener_(h)),g.push(h)),h},ol.events.listenOnce=function(a,b,c,d){return ol.events.listen(a,b,c,d,!0)},ol.events.unlisten=function(a,b,c,d){var e=ol.events.getListeners(a,b);if(e){var f=ol.events.findListener_(e,c,d,!0);f&&ol.events.unlistenByKey(f)}},ol.events.unlistenByKey=function(a){if(a&&a.target){a.target.removeEventListener(a.type,a.boundListener);var b=ol.events.getListeners(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1),0===b.length&&ol.events.removeListeners_(a.target,a.type)}ol.obj.clear(a)}},ol.events.unlistenAll=function(a){var b=ol.events.getListenerMap_(a);for(var c in b)ol.events.removeListeners_(a,c)},goog.provide("ol.Disposable"),goog.require("ol"),ol.Disposable=function(){},ol.Disposable.prototype.disposed_=!1,ol.Disposable.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},ol.Disposable.prototype.disposeInternal=ol.nullFunction,goog.provide("ol.events.Event"),ol.events.Event=function(a){this.propagationStopped,this.type=a,this.target=null},ol.events.Event.prototype.preventDefault=ol.events.Event.prototype.stopPropagation=function(){this.propagationStopped=!0},ol.events.Event.stopPropagation=function(a){a.stopPropagation()},ol.events.Event.preventDefault=function(a){a.preventDefault()},goog.provide("ol.events.EventTarget"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.events"),goog.require("ol.events.Event"),ol.events.EventTarget=function(){ol.Disposable.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}},ol.inherits(ol.events.EventTarget,ol.Disposable),ol.events.EventTarget.prototype.addEventListener=function(a,b){var c=this.listeners_[a];c||(c=this.listeners_[a]=[]),-1===c.indexOf(b)&&c.push(b)},ol.events.EventTarget.prototype.dispatchEvent=function(a){var b="string"==typeof a?new ol.events.Event(a):a,c=b.type;b.target=this;var d,e=this.listeners_[c];if(e){c in this.dispatching_||(this.dispatching_[c]=0,this.pendingRemovals_[c]=0),++this.dispatching_[c];for(var f=0,g=e.length;f<g;++f)if(!1===e[f].call(this,b)||b.propagationStopped){d=!1;break}if(0===--this.dispatching_[c]){var h=this.pendingRemovals_[c];for(delete this.pendingRemovals_[c];h--;)this.removeEventListener(c,ol.nullFunction);delete this.dispatching_[c]}return d}},ol.events.EventTarget.prototype.disposeInternal=function(){ol.events.unlistenAll(this)},ol.events.EventTarget.prototype.getListeners=function(a){return this.listeners_[a]},ol.events.EventTarget.prototype.hasListener=function(a){return a?a in this.listeners_:Object.keys(this.listeners_).length>0},ol.events.EventTarget.prototype.removeEventListener=function(a,b){var c=this.listeners_[a];if(c){var d=c.indexOf(b);a in this.pendingRemovals_?(c[d]=ol.nullFunction,++this.pendingRemovals_[a]):(c.splice(d,1),0===c.length&&delete this.listeners_[a])}},goog.provide("ol.events.EventType"),ol.events.EventType={CHANGE:"change",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"},goog.provide("ol.Observable"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),ol.Observable=function(){ol.events.EventTarget.call(this),this.revision_=0},ol.inherits(ol.Observable,ol.events.EventTarget),ol.Observable.unByKey=function(a){if(Array.isArray(a))for(var b=0,c=a.length;b<c;++b)ol.events.unlistenByKey(a[b]);else ol.events.unlistenByKey(a)},ol.Observable.prototype.changed=function(){++this.revision_,this.dispatchEvent(ol.events.EventType.CHANGE)},ol.Observable.prototype.dispatchEvent,ol.Observable.prototype.getRevision=function(){return this.revision_},ol.Observable.prototype.on=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=new Array(d),f=0;f<d;++f)e[f]=ol.events.listen(this,a[f],b,c);return e}return ol.events.listen(this,a,b,c)},ol.Observable.prototype.once=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=new Array(d),f=0;f<d;++f)e[f]=ol.events.listenOnce(this,a[f],b,c);return e}return ol.events.listenOnce(this,a,b,c)},ol.Observable.prototype.un=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;d<e;++d)ol.events.unlisten(this,a[d],b,c);else ol.events.unlisten(this,a,b,c)},goog.provide("ol.Object"),goog.require("ol"),goog.require("ol.ObjectEventType"),goog.require("ol.Observable"),goog.require("ol.events.Event"),goog.require("ol.obj"),ol.Object=function(a){ol.Observable.call(this),ol.getUid(this),this.values_={},void 0!==a&&this.setProperties(a)},ol.inherits(ol.Object,ol.Observable),ol.Object.changeEventTypeCache_={},ol.Object.getChangeEventType=function(a){return ol.Object.changeEventTypeCache_.hasOwnProperty(a)?ol.Object.changeEventTypeCache_[a]:ol.Object.changeEventTypeCache_[a]="change:"+a},ol.Object.prototype.get=function(a){var b;return this.values_.hasOwnProperty(a)&&(b=this.values_[a]),b},ol.Object.prototype.getKeys=function(){return Object.keys(this.values_)},ol.Object.prototype.getProperties=function(){return ol.obj.assign({},this.values_)},ol.Object.prototype.notify=function(a,b){var c;c=ol.Object.getChangeEventType(a),this.dispatchEvent(new ol.Object.Event(c,a,b)),c=ol.ObjectEventType.PROPERTYCHANGE,this.dispatchEvent(new ol.Object.Event(c,a,b))},ol.Object.prototype.set=function(a,b,c){if(c)this.values_[a]=b;else{var d=this.values_[a];this.values_[a]=b,d!==b&&this.notify(a,d)}},ol.Object.prototype.setProperties=function(a,b){var c;for(c in a)this.set(c,a[c],b)},ol.Object.prototype.unset=function(a,b){if(a in this.values_){var c=this.values_[a];delete this.values_[a],b||this.notify(a,c)}},ol.Object.Event=function(a,b,c){ol.events.Event.call(this,a),this.key=b,this.oldValue=c},ol.inherits(ol.Object.Event,ol.events.Event),goog.provide("ol.Collection"),goog.require("ol"),goog.require("ol.AssertionError"),goog.require("ol.CollectionEventType"),goog.require("ol.Object"),goog.require("ol.events.Event"),ol.Collection=function(a,b){ol.Object.call(this);var c=b||{};if(this.unique_=!!c.unique,this.array_=a||[],this.unique_)for(var d=0,e=this.array_.length;d<e;++d)this.assertUnique_(this.array_[d],d);this.updateLength_()},ol.inherits(ol.Collection,ol.Object),ol.Collection.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},ol.Collection.prototype.extend=function(a){var b,c;for(b=0,c=a.length;b<c;++b)this.push(a[b]);return this},ol.Collection.prototype.forEach=function(a,b){this.array_.forEach(a,b)},ol.Collection.prototype.getArray=function(){return this.array_},ol.Collection.prototype.item=function(a){return this.array_[a]},ol.Collection.prototype.getLength=function(){return this.get(ol.Collection.Property_.LENGTH)},ol.Collection.prototype.insertAt=function(a,b){this.unique_&&this.assertUnique_(b),this.array_.splice(a,0,b),this.updateLength_(),this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,b))},ol.Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)},ol.Collection.prototype.push=function(a){this.unique_&&this.assertUnique_(a);var b=this.getLength();return this.insertAt(b,a),this.getLength()},ol.Collection.prototype.remove=function(a){var b,c,d=this.array_;for(b=0,c=d.length;b<c;++b)if(d[b]===a)return this.removeAt(b)},ol.Collection.prototype.removeAt=function(a){var b=this.array_[a];return this.array_.splice(a,1),this.updateLength_(),
this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,b)),b},ol.Collection.prototype.setAt=function(a,b){var c=this.getLength();if(a<c){this.unique_&&this.assertUnique_(b,a);var d=this.array_[a];this.array_[a]=b,this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,d)),this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,b))}else{var e;for(e=c;e<a;++e)this.insertAt(e,void 0);this.insertAt(a,b)}},ol.Collection.prototype.updateLength_=function(){this.set(ol.Collection.Property_.LENGTH,this.array_.length)},ol.Collection.prototype.assertUnique_=function(a,b){for(var c=0,d=this.array_.length;c<d;++c)if(this.array_[c]===a&&c!==b)throw new ol.AssertionError(58)},ol.Collection.Property_={LENGTH:"length"},ol.Collection.Event=function(a,b){ol.events.Event.call(this,a),this.element=b},ol.inherits(ol.Collection.Event,ol.events.Event),goog.provide("ol.color"),goog.require("ol.asserts"),goog.require("ol.math"),ol.color.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3}){1,2}$/i,ol.color.NAMED_COLOR_RE_=/^([a-z]*)$/i,ol.color.asArray=function(a){return Array.isArray(a)?a:ol.color.fromString(a)},ol.color.asString=function(a){return"string"==typeof a?a:ol.color.toString(a)},ol.color.fromNamed=function(a){var b=document.createElement("div");b.style.color=a,document.body.appendChild(b);var c=getComputedStyle(b).color;return document.body.removeChild(b),c},ol.color.fromString=function(){var a={},b=0;return function(c){var d;if(a.hasOwnProperty(c))d=a[c];else{if(b>=1024){var e,f=0;for(e in a)0==(3&f++)&&(delete a[e],--b)}d=ol.color.fromStringInternal_(c),a[c]=d,++b}return d}}(),ol.color.fromStringInternal_=function(a){var b,c,d,e,f,g;if(ol.color.NAMED_COLOR_RE_.exec(a)&&(a=ol.color.fromNamed(a)),ol.color.HEX_COLOR_RE_.exec(a)){var h=a.length-1;ol.asserts.assert(3==h||6==h,54);var i=3==h?1:2;b=parseInt(a.substr(1+0*i,i),16),c=parseInt(a.substr(1+1*i,i),16),d=parseInt(a.substr(1+2*i,i),16),1==i&&(b=(b<<4)+b,c=(c<<4)+c,d=(d<<4)+d),e=1,f=[b,c,d,e]}else 0==a.indexOf("rgba(")?(g=a.slice(5,-1).split(",").map(Number),f=ol.color.normalize(g)):0==a.indexOf("rgb(")?(g=a.slice(4,-1).split(",").map(Number),g.push(1),f=ol.color.normalize(g)):ol.asserts.assert(!1,14);return f},ol.color.normalize=function(a,b){var c=b||[];return c[0]=ol.math.clamp(a[0]+.5|0,0,255),c[1]=ol.math.clamp(a[1]+.5|0,0,255),c[2]=ol.math.clamp(a[2]+.5|0,0,255),c[3]=ol.math.clamp(a[3],0,1),c},ol.color.toString=function(a){var b=a[0];b!=(0|b)&&(b=b+.5|0);var c=a[1];c!=(0|c)&&(c=c+.5|0);var d=a[2];return d!=(0|d)&&(d=d+.5|0),"rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"},goog.provide("ol.colorlike"),goog.require("ol.color"),ol.colorlike.asColorLike=function(a){return ol.colorlike.isColorLike(a)?a:ol.color.asString(a)},ol.colorlike.isColorLike=function(a){return"string"==typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient},goog.provide("ol.Constraints"),ol.Constraints=function(a,b,c){this.center=a,this.resolution=b,this.rotation=c},goog.provide("ol.dom"),ol.dom.createCanvasContext2D=function(a,b){var c=document.createElement("CANVAS");return a&&(c.width=a),b&&(c.height=b),c.getContext("2d")},ol.dom.outerWidth=function(a){var b=a.offsetWidth,c=getComputedStyle(a);return b+=parseInt(c.marginLeft,10)+parseInt(c.marginRight,10)},ol.dom.outerHeight=function(a){var b=a.offsetHeight,c=getComputedStyle(a);return b+=parseInt(c.marginTop,10)+parseInt(c.marginBottom,10)},ol.dom.replaceNode=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)},ol.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},ol.dom.removeChildren=function(a){for(;a.lastChild;)a.removeChild(a.lastChild)},goog.provide("ol.MapEventType"),ol.MapEventType={POSTRENDER:"postrender",MOVEEND:"moveend"},goog.provide("ol.control.Control"),goog.require("ol"),goog.require("ol.MapEventType"),goog.require("ol.Object"),goog.require("ol.dom"),goog.require("ol.events"),ol.control.Control=function(a){ol.Object.call(this),this.element=a.element?a.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=a.render?a.render:ol.nullFunction,a.target&&this.setTarget(a.target)},ol.inherits(ol.control.Control,ol.Object),ol.control.Control.prototype.disposeInternal=function(){ol.dom.removeNode(this.element),ol.Object.prototype.disposeInternal.call(this)},ol.control.Control.prototype.getMap=function(){return this.map_},ol.control.Control.prototype.setMap=function(a){this.map_&&ol.dom.removeNode(this.element);for(var b=0,c=this.listenerKeys.length;b<c;++b)ol.events.unlistenByKey(this.listenerKeys[b]);if(this.listenerKeys.length=0,this.map_=a,this.map_){(this.target_?this.target_:a.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ol.nullFunction&&this.listenerKeys.push(ol.events.listen(a,ol.MapEventType.POSTRENDER,this.render,this)),a.render()}},ol.control.Control.prototype.setTarget=function(a){this.target_="string"==typeof a?document.getElementById(a):a},goog.provide("ol.css"),ol.css.CLASS_HIDDEN="ol-hidden",ol.css.CLASS_UNSELECTABLE="ol-unselectable",ol.css.CLASS_UNSUPPORTED="ol-unsupported",ol.css.CLASS_CONTROL="ol-control",goog.provide("ol.control.Attribution"),goog.require("ol"),goog.require("ol.dom"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.obj"),ol.control.Attribution=function(a){var b=a||{};this.ulElement_=document.createElement("UL"),this.logoLi_=document.createElement("LI"),this.ulElement_.appendChild(this.logoLi_),this.logoLi_.style.display="none",this.collapsed_=void 0===b.collapsed||b.collapsed,this.collapsible_=void 0===b.collapsible||b.collapsible,this.collapsible_||(this.collapsed_=!1);var c=void 0!==b.className?b.className:"ol-attribution",d=void 0!==b.tipLabel?b.tipLabel:"Attributions",e=void 0!==b.collapseLabel?b.collapseLabel:"";"string"==typeof e?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=e):this.collapseLabel_=e;var f=void 0!==b.label?b.label:"i";"string"==typeof f?(this.label_=document.createElement("span"),this.label_.textContent=f):this.label_=f;var g=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=d,h.appendChild(g),ol.events.listen(h,ol.events.EventType.CLICK,this.handleClick_,this);var i=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),j=document.createElement("div");j.className=i,j.appendChild(this.ulElement_),j.appendChild(h);var k=b.render?b.render:ol.control.Attribution.render;ol.control.Control.call(this,{element:j,render:k,target:b.target}),this.renderedVisible_=!0,this.attributionElements_={},this.attributionElementRenderedVisible_={},this.logoElements_={}},ol.inherits(ol.control.Attribution,ol.control.Control),ol.control.Attribution.prototype.getSourceAttributions=function(a){var b,c,d,e,f,g,h,i,j,k,l,m=a.layerStatesArray,n=ol.obj.assign({},a.attributions),o={},p={},q=a.viewState.projection;for(b=0,c=m.length;b<c;b++)if((g=m[b].layer.getSource())&&(k=ol.getUid(g).toString(),j=g.getAttributions()))for(d=0,e=j.length;d<e;d++)if(h=j[d],!((i=ol.getUid(h).toString())in n)){if(f=a.usedTiles[k]){var r=g.getTileGridForProjection(q);l=h.intersectsAnyTileRange(f,r,q)}else l=!1;if(l){i in o&&delete o[i];var s=h.getHTML();s in p||(p[s]=!0,n[i]=h)}else o[i]=h}return[n,o]},ol.control.Attribution.render=function(a){this.updateElement_(a.frameState)},ol.control.Attribution.prototype.updateElement_=function(a){if(!a)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));var b,c,d=this.getSourceAttributions(a),e=d[0],f=d[1];for(c in this.attributionElements_)c in e?(this.attributionElementRenderedVisible_[c]||(this.attributionElements_[c].style.display="",this.attributionElementRenderedVisible_[c]=!0),delete e[c]):c in f?(this.attributionElementRenderedVisible_[c]&&(this.attributionElements_[c].style.display="none",delete this.attributionElementRenderedVisible_[c]),delete f[c]):(ol.dom.removeNode(this.attributionElements_[c]),delete this.attributionElements_[c],delete this.attributionElementRenderedVisible_[c]);for(c in e)b=document.createElement("LI"),b.innerHTML=e[c].getHTML(),this.ulElement_.appendChild(b),this.attributionElements_[c]=b,this.attributionElementRenderedVisible_[c]=!0;for(c in f)b=document.createElement("LI"),b.innerHTML=f[c].getHTML(),b.style.display="none",this.ulElement_.appendChild(b),this.attributionElements_[c]=b;var g=!ol.obj.isEmpty(this.attributionElementRenderedVisible_)||!ol.obj.isEmpty(a.logos);this.renderedVisible_!=g&&(this.element.style.display=g?"":"none",this.renderedVisible_=g),g&&ol.obj.isEmpty(this.attributionElementRenderedVisible_)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only"),this.insertLogos_(a)},ol.control.Attribution.prototype.insertLogos_=function(a){var b,c=a.logos,d=this.logoElements_;for(b in d)b in c||(ol.dom.removeNode(d[b]),delete d[b]);var e,f,g;for(g in c){var h=c[g];h instanceof HTMLElement&&(this.logoLi_.appendChild(h),d[g]=h),g in d||(e=new Image,e.src=g,""===h?f=e:(f=document.createElement("a"),f.href=h,f.appendChild(e)),this.logoLi_.appendChild(f),d[g]=f)}this.logoLi_.style.display=ol.obj.isEmpty(c)?"none":""},ol.control.Attribution.prototype.handleClick_=function(a){a.preventDefault(),this.handleToggle_()},ol.control.Attribution.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?ol.dom.replaceNode(this.collapseLabel_,this.label_):ol.dom.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},ol.control.Attribution.prototype.getCollapsible=function(){return this.collapsible_},ol.control.Attribution.prototype.setCollapsible=function(a){this.collapsible_!==a&&(this.collapsible_=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.collapsed_&&this.handleToggle_())},ol.control.Attribution.prototype.setCollapsed=function(a){this.collapsible_&&this.collapsed_!==a&&this.handleToggle_()},ol.control.Attribution.prototype.getCollapsed=function(){return this.collapsed_},goog.provide("ol.easing"),ol.easing.easeIn=function(a){return Math.pow(a,3)},ol.easing.easeOut=function(a){return 1-ol.easing.easeIn(1-a)},ol.easing.inAndOut=function(a){return 3*a*a-2*a*a*a},ol.easing.linear=function(a){return a},ol.easing.upAndDown=function(a){return a<.5?ol.easing.inAndOut(2*a):1-ol.easing.inAndOut(2*(a-.5))},goog.provide("ol.control.Rotate"),goog.require("ol.events"),goog.require("ol.events.EventType");goog.require("ol"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),ol.control.Rotate=function(a){var b=a||{},c=void 0!==b.className?b.className:"ol-rotate",d=void 0!==b.label?b.label:"";this.label_=null,"string"==typeof d?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=d):(this.label_=d,this.label_.classList.add("ol-compass"));var e=b.tipLabel?b.tipLabel:"Reset rotation",f=document.createElement("button");f.className=c+"-reset",f.setAttribute("type","button"),f.title=e,f.appendChild(this.label_),ol.events.listen(f,ol.events.EventType.CLICK,ol.control.Rotate.prototype.handleClick_,this);var g=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,h=document.createElement("div");h.className=g,h.appendChild(f);var i=b.render?b.render:ol.control.Rotate.render;this.callResetNorth_=b.resetNorth?b.resetNorth:void 0,ol.control.Control.call(this,{element:h,render:i,target:b.target}),this.duration_=void 0!==b.duration?b.duration:250,this.autoHide_=void 0===b.autoHide||b.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ol.css.CLASS_HIDDEN)},ol.inherits(ol.control.Rotate,ol.control.Control),ol.control.Rotate.prototype.handleClick_=function(a){a.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},ol.control.Rotate.prototype.resetNorth_=function(){var a=this.getMap(),b=a.getView();b&&void 0!==b.getRotation()&&(this.duration_>0?b.animate({rotation:0,duration:this.duration_,easing:ol.easing.easeOut}):b.setRotation(0))},ol.control.Rotate.render=function(a){var b=a.frameState;if(b){var c=b.viewState.rotation;if(c!=this.rotation_){var d="rotate("+c+"rad)";if(this.autoHide_){var e=this.element.classList.contains(ol.css.CLASS_HIDDEN);e||0!==c?e&&0!==c&&this.element.classList.remove(ol.css.CLASS_HIDDEN):this.element.classList.add(ol.css.CLASS_HIDDEN)}this.label_.style.msTransform=d,this.label_.style.webkitTransform=d,this.label_.style.transform=d}this.rotation_=c}},goog.provide("ol.control.Zoom"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),ol.control.Zoom=function(a){var b=a||{},c=void 0!==b.className?b.className:"ol-zoom",d=void 0!==b.delta?b.delta:1,e=void 0!==b.zoomInLabel?b.zoomInLabel:"+",f=void 0!==b.zoomOutLabel?b.zoomOutLabel:"",g=void 0!==b.zoomInTipLabel?b.zoomInTipLabel:"Zoom in",h=void 0!==b.zoomOutTipLabel?b.zoomOutTipLabel:"Zoom out",i=document.createElement("button");i.className=c+"-in",i.setAttribute("type","button"),i.title=g,i.appendChild("string"==typeof e?document.createTextNode(e):e),ol.events.listen(i,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,d));var j=document.createElement("button");j.className=c+"-out",j.setAttribute("type","button"),j.title=h,j.appendChild("string"==typeof f?document.createTextNode(f):f),ol.events.listen(j,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,-d));var k=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,l=document.createElement("div");l.className=k,l.appendChild(i),l.appendChild(j),ol.control.Control.call(this,{element:l,target:b.target}),this.duration_=void 0!==b.duration?b.duration:250},ol.inherits(ol.control.Zoom,ol.control.Control),ol.control.Zoom.prototype.handleClick_=function(a,b){b.preventDefault(),this.zoomByDelta_(a)},ol.control.Zoom.prototype.zoomByDelta_=function(a){var b=this.getMap(),c=b.getView();if(c){var d=c.getResolution();if(d){var e=c.constrainResolution(d,a);this.duration_>0?(c.getAnimating()&&c.cancelAnimations(),c.animate({resolution:e,duration:this.duration_,easing:ol.easing.easeOut})):c.setResolution(e)}}},goog.provide("ol.control"),goog.require("ol.Collection"),goog.require("ol.control.Attribution"),goog.require("ol.control.Rotate"),goog.require("ol.control.Zoom"),ol.control.defaults=function(a){var b=a||{},c=new ol.Collection;return(void 0===b.zoom||b.zoom)&&c.push(new ol.control.Zoom(b.zoomOptions)),(void 0===b.rotate||b.rotate)&&c.push(new ol.control.Rotate(b.rotateOptions)),(void 0===b.attribution||b.attribution)&&c.push(new ol.control.Attribution(b.attributionOptions)),c},goog.provide("ol.control.FullScreen"),goog.require("ol"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),ol.control.FullScreen=function(a){var b=a||{};this.cssClassName_=void 0!==b.className?b.className:"ol-full-screen";var c=void 0!==b.label?b.label:"";this.labelNode_="string"==typeof c?document.createTextNode(c):c;var d=void 0!==b.labelActive?b.labelActive:"";this.labelActiveNode_="string"==typeof d?document.createTextNode(d):d;var e=b.tipLabel?b.tipLabel:"Toggle full-screen",f=document.createElement("button");f.className=this.cssClassName_+"-"+ol.control.FullScreen.isFullScreen(),f.setAttribute("type","button"),f.title=e,f.appendChild(this.labelNode_),ol.events.listen(f,ol.events.EventType.CLICK,this.handleClick_,this);var g=this.cssClassName_+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+" "+(ol.control.FullScreen.isFullScreenSupported()?"":ol.css.CLASS_UNSUPPORTED),h=document.createElement("div");h.className=g,h.appendChild(f),ol.control.Control.call(this,{element:h,target:b.target}),this.keys_=void 0!==b.keys&&b.keys,this.source_=b.source},ol.inherits(ol.control.FullScreen,ol.control.Control),ol.control.FullScreen.prototype.handleClick_=function(a){a.preventDefault(),this.handleFullScreen_()},ol.control.FullScreen.prototype.handleFullScreen_=function(){if(ol.control.FullScreen.isFullScreenSupported()){var a=this.getMap();if(a)if(ol.control.FullScreen.isFullScreen())ol.control.FullScreen.exitFullScreen();else{var b;b=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:a.getTargetElement(),this.keys_?ol.control.FullScreen.requestFullScreenWithKeys(b):ol.control.FullScreen.requestFullScreen(b)}}},ol.control.FullScreen.prototype.handleFullScreenChange_=function(){var a=this.element.firstElementChild,b=this.getMap();ol.control.FullScreen.isFullScreen()?(a.className=this.cssClassName_+"-true",ol.dom.replaceNode(this.labelActiveNode_,this.labelNode_)):(a.className=this.cssClassName_+"-false",ol.dom.replaceNode(this.labelNode_,this.labelActiveNode_)),b&&b.updateSize()},ol.control.FullScreen.prototype.setMap=function(a){ol.control.Control.prototype.setMap.call(this,a),a&&this.listenerKeys.push(ol.events.listen(document,ol.control.FullScreen.getChangeType_(),this.handleFullScreenChange_,this))},ol.control.FullScreen.isFullScreenSupported=function(){var a=document.body;return!!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)},ol.control.FullScreen.isFullScreen=function(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},ol.control.FullScreen.requestFullScreen=function(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()},ol.control.FullScreen.requestFullScreenWithKeys=function(a){a.mozRequestFullScreenWithKeys?a.mozRequestFullScreenWithKeys():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):ol.control.FullScreen.requestFullScreen(a)},ol.control.FullScreen.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},ol.control.FullScreen.getChangeType_=function(){var a;return function(){if(!a){var b=document.body;b.webkitRequestFullscreen?a="webkitfullscreenchange":b.mozRequestFullScreen?a="mozfullscreenchange":b.msRequestFullscreen?a="MSFullscreenChange":b.requestFullscreen&&(a="fullscreenchange")}return a}}(),goog.provide("ol.control.MousePosition"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.Object"),goog.require("ol.control.Control"),goog.require("ol.proj"),ol.control.MousePosition=function(a){var b=a||{},c=document.createElement("DIV");c.className=void 0!==b.className?b.className:"ol-mouse-position";var d=b.render?b.render:ol.control.MousePosition.render;ol.control.Control.call(this,{element:c,render:d,target:b.target}),ol.events.listen(this,ol.Object.getChangeEventType(ol.control.MousePosition.Property_.PROJECTION),this.handleProjectionChanged_,this),b.coordinateFormat&&this.setCoordinateFormat(b.coordinateFormat),b.projection&&this.setProjection(ol.proj.get(b.projection)),this.undefinedHTML_=void 0!==b.undefinedHTML?b.undefinedHTML:"",this.renderedHTML_=c.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null},ol.inherits(ol.control.MousePosition,ol.control.Control),ol.control.MousePosition.render=function(a){var b=a.frameState;b?this.mapProjection_!=b.viewState.projection&&(this.mapProjection_=b.viewState.projection,this.transform_=null):this.mapProjection_=null,this.updateHTML_(this.lastMouseMovePixel_)},ol.control.MousePosition.prototype.handleProjectionChanged_=function(){this.transform_=null},ol.control.MousePosition.prototype.getCoordinateFormat=function(){return this.get(ol.control.MousePosition.Property_.COORDINATE_FORMAT)},ol.control.MousePosition.prototype.getProjection=function(){return this.get(ol.control.MousePosition.Property_.PROJECTION)},ol.control.MousePosition.prototype.handleMouseMove=function(a){var b=this.getMap();this.lastMouseMovePixel_=b.getEventPixel(a),this.updateHTML_(this.lastMouseMovePixel_)},ol.control.MousePosition.prototype.handleMouseOut=function(a){this.updateHTML_(null),this.lastMouseMovePixel_=null},ol.control.MousePosition.prototype.setMap=function(a){if(ol.control.Control.prototype.setMap.call(this,a),a){var b=a.getViewport();this.listenerKeys.push(ol.events.listen(b,ol.events.EventType.MOUSEMOVE,this.handleMouseMove,this),ol.events.listen(b,ol.events.EventType.MOUSEOUT,this.handleMouseOut,this))}},ol.control.MousePosition.prototype.setCoordinateFormat=function(a){this.set(ol.control.MousePosition.Property_.COORDINATE_FORMAT,a)},ol.control.MousePosition.prototype.setProjection=function(a){this.set(ol.control.MousePosition.Property_.PROJECTION,a)},ol.control.MousePosition.prototype.updateHTML_=function(a){var b=this.undefinedHTML_;if(a&&this.mapProjection_){if(!this.transform_){var c=this.getProjection();this.transform_=c?ol.proj.getTransformFromProjections(this.mapProjection_,c):ol.proj.identityTransform}var d=this.getMap(),e=d.getCoordinateFromPixel(a);if(e){this.transform_(e,e);var f=this.getCoordinateFormat();b=f?f(e):e.toString()}}this.renderedHTML_&&b==this.renderedHTML_||(this.element.innerHTML=b,this.renderedHTML_=b)},ol.control.MousePosition.Property_={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat"},goog.provide("ol.MapEvent"),goog.require("ol"),goog.require("ol.events.Event"),ol.MapEvent=function(a,b,c){ol.events.Event.call(this,a),this.map=b,this.frameState=void 0!==c?c:null},ol.inherits(ol.MapEvent,ol.events.Event),goog.provide("ol.MapBrowserEvent"),goog.require("ol"),goog.require("ol.MapEvent"),ol.MapBrowserEvent=function(a,b,c,d,e){ol.MapEvent.call(this,a,b,e),this.originalEvent=c,this.pixel=b.getEventPixel(c),this.coordinate=b.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==d&&d},ol.inherits(ol.MapBrowserEvent,ol.MapEvent),ol.MapBrowserEvent.prototype.preventDefault=function(){ol.MapEvent.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},ol.MapBrowserEvent.prototype.stopPropagation=function(){ol.MapEvent.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},goog.provide("ol.MapBrowserEventType"),goog.require("ol.events.EventType"),ol.MapBrowserEventType={SINGLECLICK:"singleclick",CLICK:ol.events.EventType.CLICK,DBLCLICK:ol.events.EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},goog.provide("ol.MapBrowserPointerEvent"),goog.require("ol"),goog.require("ol.MapBrowserEvent"),ol.MapBrowserPointerEvent=function(a,b,c,d,e){ol.MapBrowserEvent.call(this,a,b,c.originalEvent,d,e),this.pointerEvent=c},ol.inherits(ol.MapBrowserPointerEvent,ol.MapBrowserEvent),goog.provide("ol.pointer.EventType"),ol.pointer.EventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},goog.provide("ol.webgl"),goog.require("ol"),ol.ENABLE_WEBGL&&(ol.webgl.ONE=1,ol.webgl.SRC_ALPHA=770,ol.webgl.COLOR_ATTACHMENT0=36064,ol.webgl.COLOR_BUFFER_BIT=16384,ol.webgl.TRIANGLES=4,ol.webgl.TRIANGLE_STRIP=5,ol.webgl.ONE_MINUS_SRC_ALPHA=771,ol.webgl.ARRAY_BUFFER=34962,ol.webgl.ELEMENT_ARRAY_BUFFER=34963,ol.webgl.STREAM_DRAW=35040,ol.webgl.STATIC_DRAW=35044,ol.webgl.DYNAMIC_DRAW=35048,ol.webgl.CULL_FACE=2884,ol.webgl.BLEND=3042,ol.webgl.STENCIL_TEST=2960,ol.webgl.DEPTH_TEST=2929,ol.webgl.SCISSOR_TEST=3089,ol.webgl.UNSIGNED_BYTE=5121,ol.webgl.UNSIGNED_SHORT=5123,ol.webgl.UNSIGNED_INT=5125,ol.webgl.FLOAT=5126,ol.webgl.RGBA=6408,ol.webgl.FRAGMENT_SHADER=35632,ol.webgl.VERTEX_SHADER=35633,ol.webgl.LINK_STATUS=35714,ol.webgl.LINEAR=9729,ol.webgl.TEXTURE_MAG_FILTER=10240,ol.webgl.TEXTURE_MIN_FILTER=10241,ol.webgl.TEXTURE_WRAP_S=10242,ol.webgl.TEXTURE_WRAP_T=10243,ol.webgl.TEXTURE_2D=3553,ol.webgl.TEXTURE0=33984,ol.webgl.CLAMP_TO_EDGE=33071,ol.webgl.COMPILE_STATUS=35713,ol.webgl.FRAMEBUFFER=36160,ol.webgl.CONTEXT_IDS_=["experimental-webgl","webgl","webkit-3d","moz-webgl"],ol.webgl.getContext=function(a,b){var c,d,e=ol.webgl.CONTEXT_IDS_.length;for(d=0;d<e;++d)try{if(c=a.getContext(ol.webgl.CONTEXT_IDS_[d],b))return c}catch(a){}return null}),goog.provide("ol.has"),goog.require("ol"),goog.require("ol.webgl");var ua="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";ol.has.FIREFOX=-1!==ua.indexOf("firefox"),ol.has.SAFARI=-1!==ua.indexOf("safari")&&-1==ua.indexOf("chrom"),ol.has.WEBKIT=-1!==ua.indexOf("webkit")&&-1==ua.indexOf("edge"),ol.has.MAC=-1!==ua.indexOf("macintosh"),ol.has.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,ol.has.CANVAS_LINE_DASH=!1,ol.has.CANVAS=ol.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var a=document.createElement("CANVAS").getContext("2d");return!!a&&(void 0!==a.setLineDash&&(ol.has.CANVAS_LINE_DASH=!0),!0)}catch(a){return!1}}(),ol.has.DEVICE_ORIENTATION="DeviceOrientationEvent"in window,ol.has.GEOLOCATION="geolocation"in navigator,ol.has.TOUCH=ol.ASSUME_TOUCH||"ontouchstart"in window,ol.has.POINTER="PointerEvent"in window,ol.has.MSPOINTER=!!navigator.msPointerEnabled,ol.has.WEBGL,function(){if(ol.ENABLE_WEBGL){var a,b=!1,c=[];if("WebGLRenderingContext"in window)try{var d=document.createElement("CANVAS"),e=ol.webgl.getContext(d,{failIfMajorPerformanceCaveat:!0});e&&(b=!0,a=e.getParameter(e.MAX_TEXTURE_SIZE),c=e.getSupportedExtensions())}catch(a){}ol.has.WEBGL=b,ol.WEBGL_EXTENSIONS=c,ol.WEBGL_MAX_TEXTURE_SIZE=a}}(),goog.provide("ol.pointer.EventSource"),ol.pointer.EventSource=function(a,b){this.dispatcher=a,this.mapping_=b},ol.pointer.EventSource.prototype.getEvents=function(){return Object.keys(this.mapping_)},ol.pointer.EventSource.prototype.getMapping=function(){return this.mapping_},ol.pointer.EventSource.prototype.getHandlerForEvent=function(a){return this.mapping_[a]},goog.provide("ol.pointer.MouseSource"),goog.require("ol"),goog.require("ol.pointer.EventSource"),ol.pointer.MouseSource=function(a){var b={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};ol.pointer.EventSource.call(this,a,b),this.pointerMap=a.pointerMap,this.lastTouches=[]},ol.inherits(ol.pointer.MouseSource,ol.pointer.EventSource),ol.pointer.MouseSource.POINTER_ID=1,ol.pointer.MouseSource.POINTER_TYPE="mouse",ol.pointer.MouseSource.DEDUP_DIST=25,ol.pointer.MouseSource.prototype.isEventSimulatedFromTouch_=function(a){for(var b,c=this.lastTouches,d=a.clientX,e=a.clientY,f=0,g=c.length;f<g&&(b=c[f]);f++){var h=Math.abs(d-b[0]),i=Math.abs(e-b[1]);if(h<=ol.pointer.MouseSource.DEDUP_DIST&&i<=ol.pointer.MouseSource.DEDUP_DIST)return!0}return!1},ol.pointer.MouseSource.prepareEvent=function(a,b){var c=b.cloneEvent(a,a),d=c.preventDefault;return c.preventDefault=function(){a.preventDefault(),d()},c.pointerId=ol.pointer.MouseSource.POINTER_ID,c.isPrimary=!0,c.pointerType=ol.pointer.MouseSource.POINTER_TYPE,c},ol.pointer.MouseSource.prototype.mousedown=function(a){if(!this.isEventSimulatedFromTouch_(a)){ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap&&this.cancel(a);var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]=a,this.dispatcher.down(b,a)}},ol.pointer.MouseSource.prototype.mousemove=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.move(b,a)}},ol.pointer.MouseSource.prototype.mouseup=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()];if(b&&b.button===a.button){var c=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.up(c,a),this.cleanupMouse()}}},ol.pointer.MouseSource.prototype.mouseover=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.enterOver(b,a)}},ol.pointer.MouseSource.prototype.mouseout=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.leaveOut(b,a)}},ol.pointer.MouseSource.prototype.cancel=function(a){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.cancel(b,a),this.cleanupMouse()},ol.pointer.MouseSource.prototype.cleanupMouse=function(){delete this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]},goog.provide("ol.pointer.MsSource"),goog.require("ol"),goog.require("ol.pointer.EventSource"),ol.pointer.MsSource=function(a){var b={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};ol.pointer.EventSource.call(this,a,b),this.pointerMap=a.pointerMap,this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]},ol.inherits(ol.pointer.MsSource,ol.pointer.EventSource),ol.pointer.MsSource.prototype.prepareEvent_=function(a){var b=a;return"number"==typeof a.pointerType&&(b=this.dispatcher.cloneEvent(a,a),b.pointerType=this.POINTER_TYPES[a.pointerType]),b},ol.pointer.MsSource.prototype.cleanup=function(a){delete this.pointerMap[a.toString()]},ol.pointer.MsSource.prototype.msPointerDown=function(a){this.pointerMap[a.pointerId.toString()]=a;var b=this.prepareEvent_(a);this.dispatcher.down(b,a)},ol.pointer.MsSource.prototype.msPointerMove=function(a){var b=this.prepareEvent_(a);this.dispatcher.move(b,a)},ol.pointer.MsSource.prototype.msPointerUp=function(a){var b=this.prepareEvent_(a);this.dispatcher.up(b,a),this.cleanup(a.pointerId)},ol.pointer.MsSource.prototype.msPointerOut=function(a){var b=this.prepareEvent_(a);this.dispatcher.leaveOut(b,a)},ol.pointer.MsSource.prototype.msPointerOver=function(a){var b=this.prepareEvent_(a);this.dispatcher.enterOver(b,a)},ol.pointer.MsSource.prototype.msPointerCancel=function(a){var b=this.prepareEvent_(a);this.dispatcher.cancel(b,a),this.cleanup(a.pointerId)},ol.pointer.MsSource.prototype.msLostPointerCapture=function(a){var b=this.dispatcher.makeEvent("lostpointercapture",a,a);this.dispatcher.dispatchEvent(b)},ol.pointer.MsSource.prototype.msGotPointerCapture=function(a){var b=this.dispatcher.makeEvent("gotpointercapture",a,a);this.dispatcher.dispatchEvent(b)},goog.provide("ol.pointer.NativeSource"),goog.require("ol"),goog.require("ol.pointer.EventSource"),ol.pointer.NativeSource=function(a){var b={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};ol.pointer.EventSource.call(this,a,b)},ol.inherits(ol.pointer.NativeSource,ol.pointer.EventSource),ol.pointer.NativeSource.prototype.pointerDown=function(a){this.dispatcher.fireNativeEvent(a)},ol.pointer.NativeSource.prototype.pointerMove=function(a){this.dispatcher.fireNativeEvent(a)},ol.pointer.NativeSource.prototype.pointerUp=function(a){this.dispatcher.fireNativeEvent(a)},ol.pointer.NativeSource.prototype.pointerOut=function(a){this.dispatcher.fireNativeEvent(a)},ol.pointer.NativeSource.prototype.pointerOver=function(a){this.dispatcher.fireNativeEvent(a)},
ol.pointer.NativeSource.prototype.pointerCancel=function(a){this.dispatcher.fireNativeEvent(a)},ol.pointer.NativeSource.prototype.lostPointerCapture=function(a){this.dispatcher.fireNativeEvent(a)},ol.pointer.NativeSource.prototype.gotPointerCapture=function(a){this.dispatcher.fireNativeEvent(a)},goog.provide("ol.pointer.PointerEvent"),goog.require("ol"),goog.require("ol.events.Event"),ol.pointer.PointerEvent=function(a,b,c){ol.events.Event.call(this,a),this.originalEvent=b;var d=c||{};this.buttons=this.getButtons_(d),this.pressure=this.getPressure_(d,this.buttons),this.bubbles="bubbles"in d&&d.bubbles,this.cancelable="cancelable"in d&&d.cancelable,this.view="view"in d?d.view:null,this.detail="detail"in d?d.detail:null,this.screenX="screenX"in d?d.screenX:0,this.screenY="screenY"in d?d.screenY:0,this.clientX="clientX"in d?d.clientX:0,this.clientY="clientY"in d?d.clientY:0,this.ctrlKey="ctrlKey"in d&&d.ctrlKey,this.altKey="altKey"in d&&d.altKey,this.shiftKey="shiftKey"in d&&d.shiftKey,this.metaKey="metaKey"in d&&d.metaKey,this.button="button"in d?d.button:0,this.relatedTarget="relatedTarget"in d?d.relatedTarget:null,this.pointerId="pointerId"in d?d.pointerId:0,this.width="width"in d?d.width:0,this.height="height"in d?d.height:0,this.tiltX="tiltX"in d?d.tiltX:0,this.tiltY="tiltY"in d?d.tiltY:0,this.pointerType="pointerType"in d?d.pointerType:"",this.hwTimestamp="hwTimestamp"in d?d.hwTimestamp:0,this.isPrimary="isPrimary"in d&&d.isPrimary,b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})},ol.inherits(ol.pointer.PointerEvent,ol.events.Event),ol.pointer.PointerEvent.prototype.getButtons_=function(a){var b;if(a.buttons||ol.pointer.PointerEvent.HAS_BUTTONS)b=a.buttons;else switch(a.which){case 1:b=1;break;case 2:b=4;break;case 3:b=2;break;default:b=0}return b},ol.pointer.PointerEvent.prototype.getPressure_=function(a,b){return a.pressure?a.pressure:b?.5:0},ol.pointer.PointerEvent.HAS_BUTTONS=!1,function(){try{var a=new MouseEvent("click",{buttons:1});ol.pointer.PointerEvent.HAS_BUTTONS=1===a.buttons}catch(a){}}(),goog.provide("ol.pointer.TouchSource"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.pointer.EventSource"),goog.require("ol.pointer.MouseSource"),ol.pointer.TouchSource=function(a,b){var c={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};ol.pointer.EventSource.call(this,a,c),this.pointerMap=a.pointerMap,this.mouseSource=b,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0},ol.inherits(ol.pointer.TouchSource,ol.pointer.EventSource),ol.pointer.TouchSource.DEDUP_TIMEOUT=2500,ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT=200,ol.pointer.TouchSource.POINTER_TYPE="touch",ol.pointer.TouchSource.prototype.isPrimaryTouch_=function(a){return this.firstTouchId_===a.identifier},ol.pointer.TouchSource.prototype.setPrimaryTouch_=function(a){var b=Object.keys(this.pointerMap).length;(0===b||1===b&&ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=a.identifier,this.cancelResetClickCount_())},ol.pointer.TouchSource.prototype.removePrimaryPointer_=function(a){a.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},ol.pointer.TouchSource.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT)},ol.pointer.TouchSource.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},ol.pointer.TouchSource.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},ol.pointer.TouchSource.prototype.touchToPointer_=function(a,b){var c=this.dispatcher.cloneEvent(a,b);return c.pointerId=b.identifier+2,c.bubbles=!0,c.cancelable=!0,c.detail=this.clickCount_,c.button=0,c.buttons=1,c.width=b.webkitRadiusX||b.radiusX||0,c.height=b.webkitRadiusY||b.radiusY||0,c.pressure=b.webkitForce||b.force||.5,c.isPrimary=this.isPrimaryTouch_(b),c.pointerType=ol.pointer.TouchSource.POINTER_TYPE,c.clientX=b.clientX,c.clientY=b.clientY,c.screenX=b.screenX,c.screenY=b.screenY,c},ol.pointer.TouchSource.prototype.processTouches_=function(a,b){function c(){a.preventDefault()}var d,e,f=Array.prototype.slice.call(a.changedTouches),g=f.length;for(d=0;d<g;++d)e=this.touchToPointer_(a,f[d]),e.preventDefault=c,b.call(this,a,e)},ol.pointer.TouchSource.prototype.findTouch_=function(a,b){for(var c,d=a.length,e=0;e<d;e++)if(c=a[e],c.identifier===b)return!0;return!1},ol.pointer.TouchSource.prototype.vacuumTouches_=function(a){var b=a.touches,c=Object.keys(this.pointerMap),d=c.length;if(d>=b.length){var e,f,g,h=[];for(e=0;e<d;++e)f=c[e],g=this.pointerMap[f],f==ol.pointer.MouseSource.POINTER_ID||this.findTouch_(b,f-2)||h.push(g.out);for(e=0;e<h.length;++e)this.cancelOut_(a,h[e])}},ol.pointer.TouchSource.prototype.touchstart=function(a){this.vacuumTouches_(a),this.setPrimaryTouch_(a.changedTouches[0]),this.dedupSynthMouse_(a),this.clickCount_++,this.processTouches_(a,this.overDown_)},ol.pointer.TouchSource.prototype.overDown_=function(a,b){this.pointerMap[b.pointerId]={target:b.target,out:b,outTarget:b.target},this.dispatcher.over(b,a),this.dispatcher.enter(b,a),this.dispatcher.down(b,a)},ol.pointer.TouchSource.prototype.touchmove=function(a){a.preventDefault(),this.processTouches_(a,this.moveOverOut_)},ol.pointer.TouchSource.prototype.moveOverOut_=function(a,b){var c=b,d=this.pointerMap[c.pointerId];if(d){var e=d.out,f=d.outTarget;this.dispatcher.move(c,a),e&&f!==c.target&&(e.relatedTarget=c.target,c.relatedTarget=f,e.target=f,c.target?(this.dispatcher.leaveOut(e,a),this.dispatcher.enterOver(c,a)):(c.target=f,c.relatedTarget=null,this.cancelOut_(a,c))),d.out=c,d.outTarget=c.target}},ol.pointer.TouchSource.prototype.touchend=function(a){this.dedupSynthMouse_(a),this.processTouches_(a,this.upOut_)},ol.pointer.TouchSource.prototype.upOut_=function(a,b){this.dispatcher.up(b,a),this.dispatcher.out(b,a),this.dispatcher.leave(b,a),this.cleanUpPointer_(b)},ol.pointer.TouchSource.prototype.touchcancel=function(a){this.processTouches_(a,this.cancelOut_)},ol.pointer.TouchSource.prototype.cancelOut_=function(a,b){this.dispatcher.cancel(b,a),this.dispatcher.out(b,a),this.dispatcher.leave(b,a),this.cleanUpPointer_(b)},ol.pointer.TouchSource.prototype.cleanUpPointer_=function(a){delete this.pointerMap[a.pointerId],this.removePrimaryPointer_(a)},ol.pointer.TouchSource.prototype.dedupSynthMouse_=function(a){var b=this.mouseSource.lastTouches,c=a.changedTouches[0];if(this.isPrimaryTouch_(c)){var d=[c.clientX,c.clientY];b.push(d),setTimeout(function(){ol.array.remove(b,d)},ol.pointer.TouchSource.DEDUP_TIMEOUT)}},goog.provide("ol.pointer.PointerEventHandler"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.has"),goog.require("ol.pointer.EventType"),goog.require("ol.pointer.MouseSource"),goog.require("ol.pointer.MsSource"),goog.require("ol.pointer.NativeSource"),goog.require("ol.pointer.PointerEvent"),goog.require("ol.pointer.TouchSource"),ol.pointer.PointerEventHandler=function(a){ol.events.EventTarget.call(this),this.element_=a,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()},ol.inherits(ol.pointer.PointerEventHandler,ol.events.EventTarget),ol.pointer.PointerEventHandler.prototype.registerSources=function(){if(ol.has.POINTER)this.registerSource("native",new ol.pointer.NativeSource(this));else if(ol.has.MSPOINTER)this.registerSource("ms",new ol.pointer.MsSource(this));else{var a=new ol.pointer.MouseSource(this);this.registerSource("mouse",a),ol.has.TOUCH&&this.registerSource("touch",new ol.pointer.TouchSource(this,a))}this.register_()},ol.pointer.PointerEventHandler.prototype.registerSource=function(a,b){var c=b,d=c.getEvents();d&&(d.forEach(function(a){var b=c.getHandlerForEvent(a);b&&(this.eventMap_[a]=b.bind(c))},this),this.eventSourceList_.push(c))},ol.pointer.PointerEventHandler.prototype.register_=function(){for(var a,b=this.eventSourceList_.length,c=0;c<b;c++)a=this.eventSourceList_[c],this.addEvents_(a.getEvents())},ol.pointer.PointerEventHandler.prototype.unregister_=function(){for(var a,b=this.eventSourceList_.length,c=0;c<b;c++)a=this.eventSourceList_[c],this.removeEvents_(a.getEvents())},ol.pointer.PointerEventHandler.prototype.eventHandler_=function(a){var b=a.type,c=this.eventMap_[b];c&&c(a)},ol.pointer.PointerEventHandler.prototype.addEvents_=function(a){a.forEach(function(a){ol.events.listen(this.element_,a,this.eventHandler_,this)},this)},ol.pointer.PointerEventHandler.prototype.removeEvents_=function(a){a.forEach(function(a){ol.events.unlisten(this.element_,a,this.eventHandler_,this)},this)},ol.pointer.PointerEventHandler.prototype.cloneEvent=function(a,b){for(var c,d={},e=0,f=ol.pointer.PointerEventHandler.CLONE_PROPS.length;e<f;e++)c=ol.pointer.PointerEventHandler.CLONE_PROPS[e][0],d[c]=a[c]||b[c]||ol.pointer.PointerEventHandler.CLONE_PROPS[e][1];return d},ol.pointer.PointerEventHandler.prototype.down=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERDOWN,a,b)},ol.pointer.PointerEventHandler.prototype.move=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERMOVE,a,b)},ol.pointer.PointerEventHandler.prototype.up=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERUP,a,b)},ol.pointer.PointerEventHandler.prototype.enter=function(a,b){a.bubbles=!1,this.fireEvent(ol.pointer.EventType.POINTERENTER,a,b)},ol.pointer.PointerEventHandler.prototype.leave=function(a,b){a.bubbles=!1,this.fireEvent(ol.pointer.EventType.POINTERLEAVE,a,b)},ol.pointer.PointerEventHandler.prototype.over=function(a,b){a.bubbles=!0,this.fireEvent(ol.pointer.EventType.POINTEROVER,a,b)},ol.pointer.PointerEventHandler.prototype.out=function(a,b){a.bubbles=!0,this.fireEvent(ol.pointer.EventType.POINTEROUT,a,b)},ol.pointer.PointerEventHandler.prototype.cancel=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERCANCEL,a,b)},ol.pointer.PointerEventHandler.prototype.leaveOut=function(a,b){this.out(a,b),this.contains_(a.target,a.relatedTarget)||this.leave(a,b)},ol.pointer.PointerEventHandler.prototype.enterOver=function(a,b){this.over(a,b),this.contains_(a.target,a.relatedTarget)||this.enter(a,b)},ol.pointer.PointerEventHandler.prototype.contains_=function(a,b){return!(!a||!b)&&a.contains(b)},ol.pointer.PointerEventHandler.prototype.makeEvent=function(a,b,c){return new ol.pointer.PointerEvent(a,c,b)},ol.pointer.PointerEventHandler.prototype.fireEvent=function(a,b,c){var d=this.makeEvent(a,b,c);this.dispatchEvent(d)},ol.pointer.PointerEventHandler.prototype.fireNativeEvent=function(a){var b=this.makeEvent(a.type,a,a);this.dispatchEvent(b)},ol.pointer.PointerEventHandler.prototype.wrapMouseEvent=function(a,b){return this.makeEvent(a,ol.pointer.MouseSource.prepareEvent(b,this),b)},ol.pointer.PointerEventHandler.prototype.disposeInternal=function(){this.unregister_(),ol.events.EventTarget.prototype.disposeInternal.call(this)},ol.pointer.PointerEventHandler.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],goog.provide("ol.MapBrowserEventHandler"),goog.require("ol"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.pointer.EventType"),goog.require("ol.pointer.PointerEventHandler"),ol.MapBrowserEventHandler=function(a){ol.events.EventTarget.call(this),this.map_=a,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.down_=null;var b=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new ol.pointer.PointerEventHandler(b),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERMOVE,this.relayEvent_,this)},ol.inherits(ol.MapBrowserEventHandler,ol.events.EventTarget),ol.MapBrowserEventHandler.prototype.emulateClick_=function(a){var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.CLICK,this.map_,a);this.dispatchEvent(b),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.DBLCLICK,this.map_,a),this.dispatchEvent(b)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.SINGLECLICK,this.map_,a);this.dispatchEvent(b)}.bind(this),250)},ol.MapBrowserEventHandler.prototype.updateActivePointers_=function(a){var b=a;b.type==ol.MapBrowserEventType.POINTERUP||b.type==ol.MapBrowserEventType.POINTERCANCEL?delete this.trackedTouches_[b.pointerId]:b.type==ol.MapBrowserEventType.POINTERDOWN&&(this.trackedTouches_[b.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},ol.MapBrowserEventHandler.prototype.handlePointerUp_=function(a){this.updateActivePointers_(a);var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERUP,this.map_,a);this.dispatchEvent(b),!this.dragging_&&this.isMouseActionButton_(a)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(ol.events.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},ol.MapBrowserEventHandler.prototype.isMouseActionButton_=function(a){return 0===a.button},ol.MapBrowserEventHandler.prototype.handlePointerDown_=function(a){this.updateActivePointers_(a);var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDOWN,this.map_,a);this.dispatchEvent(b),this.down_=a,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new ol.pointer.PointerEventHandler(document),this.dragListenerKeys_.push(ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),ol.events.listen(this.pointerEventHandler_,ol.MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this)))},ol.MapBrowserEventHandler.prototype.handlePointerMove_=function(a){if(this.isMoving_(a)){this.dragging_=!0;var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDRAG,this.map_,a,this.dragging_);this.dispatchEvent(b)}a.preventDefault()},ol.MapBrowserEventHandler.prototype.relayEvent_=function(a){var b=!(!this.down_||!this.isMoving_(a));this.dispatchEvent(new ol.MapBrowserPointerEvent(a.type,this.map_,a,b))},ol.MapBrowserEventHandler.prototype.isMoving_=function(a){return a.clientX!=this.down_.clientX||a.clientY!=this.down_.clientY},ol.MapBrowserEventHandler.prototype.disposeInternal=function(){this.relayedListenerKey_&&(ol.events.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(ol.events.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ol.events.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),ol.events.EventTarget.prototype.disposeInternal.call(this)},goog.provide("ol.MapProperty"),ol.MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},goog.provide("ol.TileState"),ol.TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5},goog.provide("ol.structs.PriorityQueue"),goog.require("ol.asserts"),goog.require("ol.obj"),ol.structs.PriorityQueue=function(a,b){this.priorityFunction_=a,this.keyFunction_=b,this.elements_=[],this.priorities_=[],this.queuedElements_={}},ol.structs.PriorityQueue.DROP=1/0,ol.structs.PriorityQueue.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ol.obj.clear(this.queuedElements_)},ol.structs.PriorityQueue.prototype.dequeue=function(){var a=this.elements_,b=this.priorities_,c=a[0];1==a.length?(a.length=0,b.length=0):(a[0]=a.pop(),b[0]=b.pop(),this.siftUp_(0));var d=this.keyFunction_(c);return delete this.queuedElements_[d],c},ol.structs.PriorityQueue.prototype.enqueue=function(a){ol.asserts.assert(!(this.keyFunction_(a)in this.queuedElements_),31);var b=this.priorityFunction_(a);return b!=ol.structs.PriorityQueue.DROP&&(this.elements_.push(a),this.priorities_.push(b),this.queuedElements_[this.keyFunction_(a)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},ol.structs.PriorityQueue.prototype.getCount=function(){return this.elements_.length},ol.structs.PriorityQueue.prototype.getLeftChildIndex_=function(a){return 2*a+1},ol.structs.PriorityQueue.prototype.getRightChildIndex_=function(a){return 2*a+2},ol.structs.PriorityQueue.prototype.getParentIndex_=function(a){return a-1>>1},ol.structs.PriorityQueue.prototype.heapify_=function(){var a;for(a=(this.elements_.length>>1)-1;a>=0;a--)this.siftUp_(a)},ol.structs.PriorityQueue.prototype.isEmpty=function(){return 0===this.elements_.length},ol.structs.PriorityQueue.prototype.isKeyQueued=function(a){return a in this.queuedElements_},ol.structs.PriorityQueue.prototype.isQueued=function(a){return this.isKeyQueued(this.keyFunction_(a))},ol.structs.PriorityQueue.prototype.siftUp_=function(a){for(var b=this.elements_,c=this.priorities_,d=b.length,e=b[a],f=c[a],g=a;a<d>>1;){var h=this.getLeftChildIndex_(a),i=this.getRightChildIndex_(a),j=i<d&&c[i]<c[h]?i:h;b[a]=b[j],c[a]=c[j],a=j}b[a]=e,c[a]=f,this.siftDown_(g,a)},ol.structs.PriorityQueue.prototype.siftDown_=function(a,b){for(var c=this.elements_,d=this.priorities_,e=c[b],f=d[b];b>a;){var g=this.getParentIndex_(b);if(!(d[g]>f))break;c[b]=c[g],d[b]=d[g],b=g}c[b]=e,d[b]=f},ol.structs.PriorityQueue.prototype.reprioritize=function(){var a,b,c,d=this.priorityFunction_,e=this.elements_,f=this.priorities_,g=0,h=e.length;for(b=0;b<h;++b)a=e[b],c=d(a),c==ol.structs.PriorityQueue.DROP?delete this.queuedElements_[this.keyFunction_(a)]:(f[g]=c,e[g++]=a);e.length=g,f.length=g,this.heapify_()},goog.provide("ol.TileQueue"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.structs.PriorityQueue"),ol.TileQueue=function(a,b){ol.structs.PriorityQueue.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()}),this.tileChangeCallback_=b,this.tilesLoading_=0,this.tilesLoadingKeys_={}},ol.inherits(ol.TileQueue,ol.structs.PriorityQueue),ol.TileQueue.prototype.enqueue=function(a){var b=ol.structs.PriorityQueue.prototype.enqueue.call(this,a);if(b){var c=a[0];ol.events.listen(c,ol.events.EventType.CHANGE,this.handleTileChange,this)}return b},ol.TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_},ol.TileQueue.prototype.handleTileChange=function(a){var b=a.target,c=b.getState();if(c===ol.TileState.LOADED||c===ol.TileState.ERROR||c===ol.TileState.EMPTY||c===ol.TileState.ABORT){ol.events.unlisten(b,ol.events.EventType.CHANGE,this.handleTileChange,this);var d=b.getKey();d in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[d],--this.tilesLoading_),this.tileChangeCallback_()}},ol.TileQueue.prototype.loadMoreTiles=function(a,b){for(var c,d,e=0;this.tilesLoading_<a&&e<b&&this.getCount()>0;)c=this.dequeue()[0],d=c.getKey(),c.getState()!==ol.TileState.IDLE||d in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[d]=!0,++this.tilesLoading_,++e,c.load())},goog.provide("ol.ResolutionConstraint"),goog.require("ol.array"),goog.require("ol.math"),ol.ResolutionConstraint.createSnapToResolutions=function(a){return function(b,c,d){if(void 0!==b){var e=ol.array.linearFindNearest(a,b,d);e=ol.math.clamp(e+c,0,a.length-1);var f=Math.floor(e);if(e!=f&&f<a.length-1){var g=a[f]/a[f+1];return a[f]/Math.pow(g,e-f)}return a[f]}}},ol.ResolutionConstraint.createSnapToPower=function(a,b,c){return function(d,e,f){if(void 0!==d){var g=-f/2+.5,h=Math.floor(Math.log(b/d)/Math.log(a)+g),i=Math.max(h+e,0);return void 0!==c&&(i=Math.min(i,c)),b/Math.pow(a,i)}}};goog.provide("ol.RotationConstraint"),goog.require("ol.math"),ol.RotationConstraint.disable=function(a,b){return void 0!==a?0:void 0},ol.RotationConstraint.none=function(a,b){return void 0!==a?a+b:void 0},ol.RotationConstraint.createSnapToN=function(a){var b=2*Math.PI/a;return function(a,c){return void 0!==a?a=Math.floor((a+c)/b+.5)*b:void 0}},ol.RotationConstraint.createSnapToZero=function(a){var b=a||ol.math.toRadians(5);return function(a,c){return void 0!==a?Math.abs(a+c)<=b?0:a+c:void 0}},goog.provide("ol.ViewHint"),ol.ViewHint={ANIMATING:0,INTERACTING:1},goog.provide("ol.ViewProperty"),ol.ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},goog.provide("ol.string"),ol.string.padNumber=function(a,b,c){var d=void 0!==c?a.toFixed(c):""+a,e=d.indexOf(".");return e=-1===e?d.length:e,e>b?d:new Array(1+b-e).join("0")+d},ol.string.compareVersions=function(a,b){for(var c=(""+a).split("."),d=(""+b).split("."),e=0;e<Math.max(c.length,d.length);e++){var f=parseInt(c[e]||"0",10),g=parseInt(d[e]||"0",10);if(f>g)return 1;if(g>f)return-1}return 0},goog.provide("ol.coordinate"),goog.require("ol.math"),goog.require("ol.string"),ol.coordinate.add=function(a,b){return a[0]+=b[0],a[1]+=b[1],a},ol.coordinate.closestOnSegment=function(a,b){var c,d,e=a[0],f=a[1],g=b[0],h=b[1],i=g[0],j=g[1],k=h[0],l=h[1],m=k-i,n=l-j,o=0===m&&0===n?0:(m*(e-i)+n*(f-j))/(m*m+n*n||0);return o<=0?(c=i,d=j):o>=1?(c=k,d=l):(c=i+o*m,d=j+o*n),[c,d]},ol.coordinate.createStringXY=function(a){return function(b){return ol.coordinate.toStringXY(b,a)}},ol.coordinate.degreesToStringHDMS_=function(a,b,c){var d=ol.math.modulo(a+180,360)-180,e=Math.abs(3600*d),f=c||0,g=Math.pow(10,f),h=Math.floor(e/3600),i=Math.floor((e-3600*h)/60),j=e-3600*h-60*i;return j=Math.ceil(j*g)/g,j>=60&&(j=0,i+=1),i>=60&&(i=0,h+=1),h+" "+ol.string.padNumber(i,2)+" "+ol.string.padNumber(j,2,f)+" "+b.charAt(d<0?1:0)},ol.coordinate.format=function(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""},ol.coordinate.equals=function(a,b){for(var c=!0,d=a.length-1;d>=0;--d)if(a[d]!=b[d]){c=!1;break}return c},ol.coordinate.rotate=function(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[0]*c-a[1]*d,f=a[1]*c+a[0]*d;return a[0]=e,a[1]=f,a},ol.coordinate.scale=function(a,b){return a[0]*=b,a[1]*=b,a},ol.coordinate.sub=function(a,b){return a[0]-=b[0],a[1]-=b[1],a},ol.coordinate.squaredDistance=function(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d},ol.coordinate.distance=function(a,b){return Math.sqrt(ol.coordinate.squaredDistance(a,b))},ol.coordinate.squaredDistanceToSegment=function(a,b){return ol.coordinate.squaredDistance(a,ol.coordinate.closestOnSegment(a,b))},ol.coordinate.toStringHDMS=function(a,b){return a?ol.coordinate.degreesToStringHDMS_(a[1],"NS",b)+" "+ol.coordinate.degreesToStringHDMS_(a[0],"EW",b):""},ol.coordinate.toStringXY=function(a,b){return ol.coordinate.format(a,"{x}, {y}",b)},goog.provide("ol.geom.GeometryType"),ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},goog.provide("ol.geom.GeometryLayout"),ol.geom.GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},goog.provide("ol.functions"),ol.functions.TRUE=function(){return!0},ol.functions.FALSE=function(){return!1},goog.provide("ol.geom.Geometry"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.proj"),ol.geom.Geometry=function(){ol.Object.call(this),this.extent_=ol.extent.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0},ol.inherits(ol.geom.Geometry,ol.Object),ol.geom.Geometry.prototype.clone=function(){},ol.geom.Geometry.prototype.closestPointXY=function(a,b,c,d){},ol.geom.Geometry.prototype.getClosestPoint=function(a,b){var c=b||[NaN,NaN];return this.closestPointXY(a[0],a[1],c,1/0),c},ol.geom.Geometry.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])},ol.geom.Geometry.prototype.computeExtent=function(a){},ol.geom.Geometry.prototype.containsXY=ol.functions.FALSE,ol.geom.Geometry.prototype.getExtent=function(a){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),ol.extent.returnOrUpdate(this.extent_,a)},ol.geom.Geometry.prototype.rotate=function(a,b){},ol.geom.Geometry.prototype.scale=function(a,b,c){},ol.geom.Geometry.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)},ol.geom.Geometry.prototype.getSimplifiedGeometry=function(a){},ol.geom.Geometry.prototype.getType=function(){},ol.geom.Geometry.prototype.applyTransform=function(a){},ol.geom.Geometry.prototype.intersectsExtent=function(a){},ol.geom.Geometry.prototype.translate=function(a,b){},ol.geom.Geometry.prototype.transform=function(a,b){return this.applyTransform(ol.proj.getTransform(a,b)),this},goog.provide("ol.geom.flat.transform"),ol.geom.flat.transform.transform2D=function(a,b,c,d,e,f){var g,h=f||[],i=0;for(g=b;g<c;g+=d){var j=a[g],k=a[g+1];h[i++]=e[0]*j+e[2]*k+e[4],h[i++]=e[1]*j+e[3]*k+e[5]}return f&&h.length!=i&&(h.length=i),h},ol.geom.flat.transform.rotate=function(a,b,c,d,e,f,g){for(var h=g||[],i=Math.cos(e),j=Math.sin(e),k=f[0],l=f[1],m=0,n=b;n<c;n+=d){var o=a[n]-k,p=a[n+1]-l;h[m++]=k+o*i-p*j,h[m++]=l+o*j+p*i;for(var q=n+2;q<n+d;++q)h[m++]=a[q]}return g&&h.length!=m&&(h.length=m),h},ol.geom.flat.transform.scale=function(a,b,c,d,e,f,g,h){for(var i=h||[],j=g[0],k=g[1],l=0,m=b;m<c;m+=d){var n=a[m]-j,o=a[m+1]-k;i[l++]=j+e*n,i[l++]=k+f*o;for(var p=m+2;p<m+d;++p)i[l++]=a[p]}return h&&i.length!=l&&(i.length=l),i},ol.geom.flat.transform.translate=function(a,b,c,d,e,f,g){var h,i,j=g||[],k=0;for(h=b;h<c;h+=d)for(j[k++]=a[h]+e,j[k++]=a[h+1]+f,i=h+2;i<h+d;++i)j[k++]=a[i];return g&&j.length!=k&&(j.length=k),j},goog.provide("ol.geom.SimpleGeometry"),goog.require("ol"),goog.require("ol.functions"),goog.require("ol.extent"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.flat.transform"),goog.require("ol.obj"),ol.geom.SimpleGeometry=function(){ol.geom.Geometry.call(this),this.layout=ol.geom.GeometryLayout.XY,this.stride=2,this.flatCoordinates=null},ol.inherits(ol.geom.SimpleGeometry,ol.geom.Geometry),ol.geom.SimpleGeometry.getLayoutForStride_=function(a){var b;return 2==a?b=ol.geom.GeometryLayout.XY:3==a?b=ol.geom.GeometryLayout.XYZ:4==a&&(b=ol.geom.GeometryLayout.XYZM),b},ol.geom.SimpleGeometry.getStrideForLayout=function(a){var b;return a==ol.geom.GeometryLayout.XY?b=2:a==ol.geom.GeometryLayout.XYZ||a==ol.geom.GeometryLayout.XYM?b=3:a==ol.geom.GeometryLayout.XYZM&&(b=4),b},ol.geom.SimpleGeometry.prototype.containsXY=ol.functions.FALSE,ol.geom.SimpleGeometry.prototype.computeExtent=function(a){return ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a)},ol.geom.SimpleGeometry.prototype.getCoordinates=function(){},ol.geom.SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},ol.geom.SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates},ol.geom.SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},ol.geom.SimpleGeometry.prototype.getLayout=function(){return this.layout},ol.geom.SimpleGeometry.prototype.getSimplifiedGeometry=function(a){if(this.simplifiedGeometryRevision!=this.getRevision()&&(ol.obj.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),a<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&a<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var b=a.toString();if(this.simplifiedGeometryCache.hasOwnProperty(b))return this.simplifiedGeometryCache[b];var c=this.getSimplifiedGeometryInternal(a);return c.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[b]=c,c):(this.simplifiedGeometryMaxMinSquaredTolerance=a,this)},ol.geom.SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(a){return this},ol.geom.SimpleGeometry.prototype.getStride=function(){return this.stride},ol.geom.SimpleGeometry.prototype.setFlatCoordinatesInternal=function(a,b){this.stride=ol.geom.SimpleGeometry.getStrideForLayout(a),this.layout=a,this.flatCoordinates=b},ol.geom.SimpleGeometry.prototype.setCoordinates=function(a,b){},ol.geom.SimpleGeometry.prototype.setLayout=function(a,b,c){var d;if(a)d=ol.geom.SimpleGeometry.getStrideForLayout(a);else{var e;for(e=0;e<c;++e){if(0===b.length)return this.layout=ol.geom.GeometryLayout.XY,void(this.stride=2);b=b[0]}d=b.length,a=ol.geom.SimpleGeometry.getLayoutForStride_(d)}this.layout=a,this.stride=d},ol.geom.SimpleGeometry.prototype.applyTransform=function(a){this.flatCoordinates&&(a(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},ol.geom.SimpleGeometry.prototype.rotate=function(a,b){var c=this.getFlatCoordinates();if(c){var d=this.getStride();ol.geom.flat.transform.rotate(c,0,c.length,d,a,b,c),this.changed()}},ol.geom.SimpleGeometry.prototype.scale=function(a,b,c){var d=b;void 0===d&&(d=a);var e=c;e||(e=ol.extent.getCenter(this.getExtent()));var f=this.getFlatCoordinates();if(f){var g=this.getStride();ol.geom.flat.transform.scale(f,0,f.length,g,a,d,e,f),this.changed()}},ol.geom.SimpleGeometry.prototype.translate=function(a,b){var c=this.getFlatCoordinates();if(c){var d=this.getStride();ol.geom.flat.transform.translate(c,0,c.length,d,a,b,c),this.changed()}},ol.geom.SimpleGeometry.transform2D=function(a,b,c){var d=a.getFlatCoordinates();if(d){var e=a.getStride();return ol.geom.flat.transform.transform2D(d,0,d.length,e,b,c)}return null},goog.provide("ol.geom.flat.area"),ol.geom.flat.area.linearRing=function(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d){var h=a[b],i=a[b+1];e+=g*h-f*i,f=h,g=i}return e/2},ol.geom.flat.area.linearRings=function(a,b,c,d){var e,f,g=0;for(e=0,f=c.length;e<f;++e){var h=c[e];g+=ol.geom.flat.area.linearRing(a,b,h,d),b=h}return g},ol.geom.flat.area.linearRingss=function(a,b,c,d){var e,f,g=0;for(e=0,f=c.length;e<f;++e){var h=c[e];g+=ol.geom.flat.area.linearRings(a,b,h,d),b=h[h.length-1]}return g},goog.provide("ol.geom.flat.closest"),goog.require("ol.math"),ol.geom.flat.closest.point=function(a,b,c,d,e,f,g){var h,i,j=a[b],k=a[b+1],l=a[c]-j,m=a[c+1]-k;if(0===l&&0===m)i=b;else{var n=((e-j)*l+(f-k)*m)/(l*l+m*m);if(n>1)i=c;else{if(n>0){for(h=0;h<d;++h)g[h]=ol.math.lerp(a[b+h],a[c+h],n);return void(g.length=d)}i=b}}for(h=0;h<d;++h)g[h]=a[i+h];g.length=d},ol.geom.flat.closest.getMaxSquaredDelta=function(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;b<c;b+=d){var h=a[b],i=a[b+1],j=ol.math.squaredDistance(f,g,h,i);j>e&&(e=j),f=h,g=i}return e},ol.geom.flat.closest.getsMaxSquaredDelta=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f];e=ol.geom.flat.closest.getMaxSquaredDelta(a,b,h,d,e),b=h}return e},ol.geom.flat.closest.getssMaxSquaredDelta=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f];e=ol.geom.flat.closest.getsMaxSquaredDelta(a,b,h,d,e),b=h[h.length-1]}return e},ol.geom.flat.closest.getClosestPoint=function(a,b,c,d,e,f,g,h,i,j,k){if(b==c)return j;var l,m;if(0===e){if((m=ol.math.squaredDistance(g,h,a[b],a[b+1]))<j){for(l=0;l<d;++l)i[l]=a[b+l];return i.length=d,m}
return j}for(var n=k||[NaN,NaN],o=b+d;o<c;)if(ol.geom.flat.closest.point(a,o-d,o,d,g,h,n),(m=ol.math.squaredDistance(g,h,n[0],n[1]))<j){for(j=m,l=0;l<d;++l)i[l]=n[l];i.length=d,o+=d}else o+=d*Math.max((Math.sqrt(m)-Math.sqrt(j))/e|0,1);if(f&&(ol.geom.flat.closest.point(a,c-d,b,d,g,h,n),(m=ol.math.squaredDistance(g,h,n[0],n[1]))<j)){for(j=m,l=0;l<d;++l)i[l]=n[l];i.length=d}return j},ol.geom.flat.closest.getsClosestPoint=function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=k||[NaN,NaN];for(l=0,m=c.length;l<m;++l){var o=c[l];j=ol.geom.flat.closest.getClosestPoint(a,b,o,d,e,f,g,h,i,j,n),b=o}return j},ol.geom.flat.closest.getssClosestPoint=function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=k||[NaN,NaN];for(l=0,m=c.length;l<m;++l){var o=c[l];j=ol.geom.flat.closest.getsClosestPoint(a,b,o,d,e,f,g,h,i,j,n),b=o[o.length-1]}return j},goog.provide("ol.geom.flat.deflate"),ol.geom.flat.deflate.coordinate=function(a,b,c,d){var e,f;for(e=0,f=c.length;e<f;++e)a[b++]=c[e];return b},ol.geom.flat.deflate.coordinates=function(a,b,c,d){var e,f;for(e=0,f=c.length;e<f;++e){var g,h=c[e];for(g=0;g<d;++g)a[b++]=h[g]}return b},ol.geom.flat.deflate.coordinatess=function(a,b,c,d,e){var f,g,h=e||[],i=0;for(f=0,g=c.length;f<g;++f){var j=ol.geom.flat.deflate.coordinates(a,b,c[f],d);h[i++]=j,b=j}return h.length=i,h},ol.geom.flat.deflate.coordinatesss=function(a,b,c,d,e){var f,g,h=e||[],i=0;for(f=0,g=c.length;f<g;++f){var j=ol.geom.flat.deflate.coordinatess(a,b,c[f],d,h[i]);h[i++]=j,b=j[j.length-1]}return h.length=i,h},goog.provide("ol.geom.flat.inflate"),ol.geom.flat.inflate.coordinates=function(a,b,c,d,e){var f,g=void 0!==e?e:[],h=0;for(f=b;f<c;f+=d)g[h++]=a.slice(f,f+d);return g.length=h,g},ol.geom.flat.inflate.coordinatess=function(a,b,c,d,e){var f,g,h=void 0!==e?e:[],i=0;for(f=0,g=c.length;f<g;++f){var j=c[f];h[i++]=ol.geom.flat.inflate.coordinates(a,b,j,d,h[i]),b=j}return h.length=i,h},ol.geom.flat.inflate.coordinatesss=function(a,b,c,d,e){var f,g,h=void 0!==e?e:[],i=0;for(f=0,g=c.length;f<g;++f){var j=c[f];h[i++]=ol.geom.flat.inflate.coordinatess(a,b,j,d,h[i]),b=j[j.length-1]}return h.length=i,h},goog.provide("ol.geom.flat.simplify"),goog.require("ol.math"),ol.geom.flat.simplify.lineString=function(a,b,c,d,e,f,g){var h=void 0!==g?g:[];return f||(c=ol.geom.flat.simplify.radialDistance(a,b,c,d,e,h,0),a=h,b=0,d=2),h.length=ol.geom.flat.simplify.douglasPeucker(a,b,c,d,e,h,0),h},ol.geom.flat.simplify.douglasPeucker=function(a,b,c,d,e,f,g){var h=(c-b)/d;if(h<3){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var i=new Array(h);i[0]=1,i[h-1]=1;for(var j,k=[b,c-d],l=0;k.length>0;){var m=k.pop(),n=k.pop(),o=0,p=a[n],q=a[n+1],r=a[m],s=a[m+1];for(j=n+d;j<m;j+=d){var t=a[j],u=a[j+1],v=ol.math.squaredSegmentDistance(t,u,p,q,r,s);v>o&&(l=j,o=v)}o>e&&(i[(l-b)/d]=1,n+d<l&&k.push(n,l),l+d<m&&k.push(l,m))}for(j=0;j<h;++j)i[j]&&(f[g++]=a[b+j*d],f[g++]=a[b+j*d+1]);return g},ol.geom.flat.simplify.douglasPeuckers=function(a,b,c,d,e,f,g,h){var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i];g=ol.geom.flat.simplify.douglasPeucker(a,b,k,d,e,f,g),h.push(g),b=k}return g},ol.geom.flat.simplify.douglasPeuckerss=function(a,b,c,d,e,f,g,h){var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i],l=[];g=ol.geom.flat.simplify.douglasPeuckers(a,b,k,d,e,f,g,l),h.push(l),b=k[k.length-1]}return g},ol.geom.flat.simplify.radialDistance=function(a,b,c,d,e,f,g){if(c<=b+d){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var h=a[b],i=a[b+1];f[g++]=h,f[g++]=i;var j=h,k=i;for(b+=d;b<c;b+=d)j=a[b],k=a[b+1],ol.math.squaredDistance(h,i,j,k)>e&&(f[g++]=j,f[g++]=k,h=j,i=k);return j==h&&k==i||(f[g++]=j,f[g++]=k),g},ol.geom.flat.simplify.snap=function(a,b){return b*Math.round(a/b)},ol.geom.flat.simplify.quantize=function(a,b,c,d,e,f,g){if(b==c)return g;var h=ol.geom.flat.simplify.snap(a[b],e),i=ol.geom.flat.simplify.snap(a[b+1],e);b+=d,f[g++]=h,f[g++]=i;var j,k;do{if(j=ol.geom.flat.simplify.snap(a[b],e),k=ol.geom.flat.simplify.snap(a[b+1],e),(b+=d)==c)return f[g++]=j,f[g++]=k,g}while(j==h&&k==i);for(;b<c;){var l,m;if(l=ol.geom.flat.simplify.snap(a[b],e),m=ol.geom.flat.simplify.snap(a[b+1],e),b+=d,l!=j||m!=k){var n=j-h,o=k-i,p=l-h,q=m-i;n*q==o*p&&(n<0&&p<n||n==p||n>0&&p>n)&&(o<0&&q<o||o==q||o>0&&q>o)?(j=l,k=m):(f[g++]=j,f[g++]=k,h=j,i=k,j=l,k=m)}}return f[g++]=j,f[g++]=k,g},ol.geom.flat.simplify.quantizes=function(a,b,c,d,e,f,g,h){var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i];g=ol.geom.flat.simplify.quantize(a,b,k,d,e,f,g),h.push(g),b=k}return g},ol.geom.flat.simplify.quantizess=function(a,b,c,d,e,f,g,h){var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i],l=[];g=ol.geom.flat.simplify.quantizes(a,b,k,d,e,f,g,l),h.push(l),b=k[k.length-1]}return g},goog.provide("ol.geom.LinearRing"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.simplify"),ol.geom.LinearRing=function(a,b){ol.geom.SimpleGeometry.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(a,b)},ol.inherits(ol.geom.LinearRing,ol.geom.SimpleGeometry),ol.geom.LinearRing.prototype.clone=function(){var a=new ol.geom.LinearRing(null);return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),a},ol.geom.LinearRing.prototype.closestPointXY=function(a,b,c,d){return d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)?d:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,a,b,c,d))},ol.geom.LinearRing.prototype.getArea=function(){return ol.geom.flat.area.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LinearRing.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LinearRing.prototype.getSimplifiedGeometryInternal=function(a){var b=[];b.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b,0);var c=new ol.geom.LinearRing(null);return c.setFlatCoordinates(ol.geom.GeometryLayout.XY,b),c},ol.geom.LinearRing.prototype.getType=function(){return ol.geom.GeometryType.LINEAR_RING},ol.geom.LinearRing.prototype.intersectsExtent=function(a){},ol.geom.LinearRing.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.LinearRing.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b),this.changed()},goog.provide("ol.geom.Point"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),goog.require("ol.math"),ol.geom.Point=function(a,b){ol.geom.SimpleGeometry.call(this),this.setCoordinates(a,b)},ol.inherits(ol.geom.Point,ol.geom.SimpleGeometry),ol.geom.Point.prototype.clone=function(){var a=new ol.geom.Point(null);return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),a},ol.geom.Point.prototype.closestPointXY=function(a,b,c,d){var e=this.flatCoordinates,f=ol.math.squaredDistance(a,b,e[0],e[1]);if(f<d){var g,h=this.stride;for(g=0;g<h;++g)c[g]=e[g];return c.length=h,f}return d},ol.geom.Point.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},ol.geom.Point.prototype.computeExtent=function(a){return ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates,a)},ol.geom.Point.prototype.getType=function(){return ol.geom.GeometryType.POINT},ol.geom.Point.prototype.intersectsExtent=function(a){return ol.extent.containsXY(a,this.flatCoordinates[0],this.flatCoordinates[1])},ol.geom.Point.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinate(this.flatCoordinates,0,a,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.Point.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b),this.changed()},goog.provide("ol.geom.flat.contains"),goog.require("ol.extent"),ol.geom.flat.contains.linearRingContainsExtent=function(a,b,c,d,e){return!ol.extent.forEachCorner(e,function(e){return!ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[0],e[1])})},ol.geom.flat.contains.linearRingContainsXY=function(a,b,c,d,e,f){for(var g=0,h=a[c-d],i=a[c-d+1];b<c;b+=d){var j=a[b],k=a[b+1];i<=f?k>f&&(j-h)*(f-i)-(e-h)*(k-i)>0&&g++:k<=f&&(j-h)*(f-i)-(e-h)*(k-i)<0&&g--,h=j,i=k}return 0!==g},ol.geom.flat.contains.linearRingsContainsXY=function(a,b,c,d,e,f){if(0===c.length)return!1;if(!ol.geom.flat.contains.linearRingContainsXY(a,b,c[0],d,e,f))return!1;var g,h;for(g=1,h=c.length;g<h;++g)if(ol.geom.flat.contains.linearRingContainsXY(a,c[g-1],c[g],d,e,f))return!1;return!0},ol.geom.flat.contains.linearRingssContainsXY=function(a,b,c,d,e,f){if(0===c.length)return!1;var g,h;for(g=0,h=c.length;g<h;++g){var i=c[g];if(ol.geom.flat.contains.linearRingsContainsXY(a,b,i,d,e,f))return!0;b=i[i.length-1]}return!1},goog.provide("ol.geom.flat.interiorpoint"),goog.require("ol.array"),goog.require("ol.geom.flat.contains"),ol.geom.flat.interiorpoint.linearRings=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=e[f+1],p=[],q=c[0];for(k=a[q-d],m=a[q-d+1],h=b;h<q;h+=d)l=a[h],n=a[h+1],(o<=m&&n<=o||m<=o&&o<=n)&&(j=(o-m)/(n-m)*(l-k)+k,p.push(j)),k=l,m=n;var r=NaN,s=-1/0;for(p.sort(ol.array.numberSafeCompareFunction),k=p[0],h=1,i=p.length;h<i;++h){l=p[h];var t=Math.abs(l-k);t>s&&(j=(k+l)/2,ol.geom.flat.contains.linearRingsContainsXY(a,b,c,d,j,o)&&(r=j,s=t)),k=l}return isNaN(r)&&(r=e[f]),g?(g.push(r,o),g):[r,o]},ol.geom.flat.interiorpoint.linearRingss=function(a,b,c,d,e){var f,g,h=[];for(f=0,g=c.length;f<g;++f){var i=c[f];h=ol.geom.flat.interiorpoint.linearRings(a,b,i,d,e,2*f,h),b=i[i.length-1]}return h},goog.provide("ol.geom.flat.segments"),ol.geom.flat.segments.forEach=function(a,b,c,d,e,f){for(var g,h=[a[b],a[b+1]],i=[];b+d<c;b+=d){if(i[0]=a[b+d],i[1]=a[b+d+1],g=e.call(f,h,i))return g;h[0]=i[0],h[1]=i[1]}return!1},goog.provide("ol.geom.flat.intersectsextent"),goog.require("ol.extent"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.segments"),ol.geom.flat.intersectsextent.lineString=function(a,b,c,d,e){var f=ol.extent.extendFlatCoordinates(ol.extent.createEmpty(),a,b,c,d);return!!ol.extent.intersects(e,f)&&(!!ol.extent.containsExtent(e,f)||(f[0]>=e[0]&&f[2]<=e[2]||(f[1]>=e[1]&&f[3]<=e[3]||ol.geom.flat.segments.forEach(a,b,c,d,function(a,b){return ol.extent.intersectsSegment(e,a,b)}))))},ol.geom.flat.intersectsextent.lineStrings=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f){if(ol.geom.flat.intersectsextent.lineString(a,b,c[f],d,e))return!0;b=c[f]}return!1},ol.geom.flat.intersectsextent.linearRing=function(a,b,c,d,e){return!!ol.geom.flat.intersectsextent.lineString(a,b,c,d,e)||(!!ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[0],e[1])||(!!ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[0],e[3])||(!!ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[2],e[1])||!!ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[2],e[3]))))},ol.geom.flat.intersectsextent.linearRings=function(a,b,c,d,e){if(!ol.geom.flat.intersectsextent.linearRing(a,b,c[0],d,e))return!1;if(1===c.length)return!0;var f,g;for(f=1,g=c.length;f<g;++f)if(ol.geom.flat.contains.linearRingContainsExtent(a,c[f-1],c[f],d,e))return!1;return!0},ol.geom.flat.intersectsextent.linearRingss=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f];if(ol.geom.flat.intersectsextent.linearRings(a,b,h,d,e))return!0;b=h[h.length-1]}return!1},goog.provide("ol.geom.flat.reverse"),ol.geom.flat.reverse.coordinates=function(a,b,c,d){for(;b<c-d;){var e;for(e=0;e<d;++e){var f=a[b+e];a[b+e]=a[c-d+e],a[c-d+e]=f}b+=d,c-=d}},goog.provide("ol.geom.flat.orient"),goog.require("ol.geom.flat.reverse"),ol.geom.flat.orient.linearRingIsClockwise=function(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d){var h=a[b],i=a[b+1];e+=(h-f)*(i+g),f=h,g=i}return e>0},ol.geom.flat.orient.linearRingsAreOriented=function(a,b,c,d,e){var f,g,h=void 0!==e&&e;for(f=0,g=c.length;f<g;++f){var i=c[f],j=ol.geom.flat.orient.linearRingIsClockwise(a,b,i,d);if(0===f){if(h&&j||!h&&!j)return!1}else if(h&&!j||!h&&j)return!1;b=i}return!0},ol.geom.flat.orient.linearRingssAreOriented=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f)if(!ol.geom.flat.orient.linearRingsAreOriented(a,b,c[f],d,e))return!1;return!0},ol.geom.flat.orient.orientLinearRings=function(a,b,c,d,e){var f,g,h=void 0!==e&&e;for(f=0,g=c.length;f<g;++f){var i=c[f],j=ol.geom.flat.orient.linearRingIsClockwise(a,b,i,d);(0===f?h&&j||!h&&!j:h&&!j||!h&&j)&&ol.geom.flat.reverse.coordinates(a,b,i,d),b=i}return b},ol.geom.flat.orient.orientLinearRingss=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f)b=ol.geom.flat.orient.orientLinearRings(a,b,c[f],d,e);return b};goog.provide("ol.geom.Polygon"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.Point"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interiorpoint"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.simplify"),goog.require("ol.math"),ol.geom.Polygon=function(a,b){ol.geom.SimpleGeometry.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(a,b)},ol.inherits(ol.geom.Polygon,ol.geom.SimpleGeometry),ol.geom.Polygon.prototype.appendLinearRing=function(a){this.flatCoordinates?ol.array.extend(this.flatCoordinates,a.getFlatCoordinates()):this.flatCoordinates=a.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},ol.geom.Polygon.prototype.clone=function(){var a=new ol.geom.Polygon(null);return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),a},ol.geom.Polygon.prototype.closestPointXY=function(a,b,c,d){return d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)?d:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,a,b,c,d))},ol.geom.Polygon.prototype.containsXY=function(a,b){return ol.geom.flat.contains.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a,b)},ol.geom.Polygon.prototype.getArea=function(){return ol.geom.flat.area.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},ol.geom.Polygon.prototype.getCoordinates=function(a){var b;return void 0!==a?(b=this.getOrientedFlatCoordinates().slice(),ol.geom.flat.orient.orientLinearRings(b,0,this.ends_,this.stride,a)):b=this.flatCoordinates,ol.geom.flat.inflate.coordinatess(b,0,this.ends_,this.stride)},ol.geom.Polygon.prototype.getEnds=function(){return this.ends_},ol.geom.Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var a=ol.extent.getCenter(this.getExtent());this.flatInteriorPoint_=ol.geom.flat.interiorpoint.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},ol.geom.Polygon.prototype.getInteriorPoint=function(){return new ol.geom.Point(this.getFlatInteriorPoint())},ol.geom.Polygon.prototype.getLinearRingCount=function(){return this.ends_.length},ol.geom.Polygon.prototype.getLinearRing=function(a){if(a<0||this.ends_.length<=a)return null;var b=new ol.geom.LinearRing(null);return b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===a?0:this.ends_[a-1],this.ends_[a])),b},ol.geom.Polygon.prototype.getLinearRings=function(){var a,b,c=this.layout,d=this.flatCoordinates,e=this.ends_,f=[],g=0;for(a=0,b=e.length;a<b;++a){var h=e[a],i=new ol.geom.LinearRing(null);i.setFlatCoordinates(c,d.slice(g,h)),f.push(i),g=h}return f},ol.geom.Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var a=this.flatCoordinates;ol.geom.flat.orient.linearRingsAreOriented(a,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=a:(this.orientedFlatCoordinates_=a.slice(),this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},ol.geom.Polygon.prototype.getSimplifiedGeometryInternal=function(a){var b=[],c=[];b.length=ol.geom.flat.simplify.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(a),b,0,c);var d=new ol.geom.Polygon(null);return d.setFlatCoordinates(ol.geom.GeometryLayout.XY,b,c),d},ol.geom.Polygon.prototype.getType=function(){return ol.geom.GeometryType.POLYGON},ol.geom.Polygon.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a)},ol.geom.Polygon.prototype.setCoordinates=function(a,b){if(a){this.setLayout(b,a,2),this.flatCoordinates||(this.flatCoordinates=[]);var c=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,a,this.stride,this.ends_);this.flatCoordinates.length=0===c.length?0:c[c.length-1],this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)},ol.geom.Polygon.prototype.setFlatCoordinates=function(a,b,c){this.setFlatCoordinatesInternal(a,b),this.ends_=c,this.changed()},ol.geom.Polygon.circular=function(a,b,c,d){var e,f=d||32,g=[];for(e=0;e<f;++e)ol.array.extend(g,a.offset(b,c,2*Math.PI*e/f));g.push(g[0],g[1]);var h=new ol.geom.Polygon(null);return h.setFlatCoordinates(ol.geom.GeometryLayout.XY,g,[g.length]),h},ol.geom.Polygon.fromExtent=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=[b,c,b,e,d,e,d,c,b,c],g=new ol.geom.Polygon(null);return g.setFlatCoordinates(ol.geom.GeometryLayout.XY,f,[f.length]),g},ol.geom.Polygon.fromCircle=function(a,b,c){for(var d=b||32,e=a.getStride(),f=a.getLayout(),g=new ol.geom.Polygon(null,f),h=e*(d+1),i=new Array(h),j=0;j<h;j++)i[j]=0;var k=[i.length];return g.setFlatCoordinates(f,i,k),ol.geom.Polygon.makeRegular(g,a.getCenter(),a.getRadius(),c),g},ol.geom.Polygon.makeRegular=function(a,b,c,d){for(var e,f,g=a.getFlatCoordinates(),h=a.getLayout(),i=a.getStride(),j=a.getEnds(),k=g.length/i-1,l=d||0,m=0;m<=k;++m)f=m*i,e=l+2*ol.math.modulo(m,k)*Math.PI/k,g[f]=b[0]+c*Math.cos(e),g[f+1]=b[1]+c*Math.sin(e);a.setFlatCoordinates(h,g,j)},goog.provide("ol.View"),goog.require("ol"),goog.require("ol.CenterConstraint"),goog.require("ol.Constraints"),goog.require("ol.Object"),goog.require("ol.ResolutionConstraint"),goog.require("ol.RotationConstraint"),goog.require("ol.ViewHint"),goog.require("ol.ViewProperty"),goog.require("ol.array"),goog.require("ol.asserts"),goog.require("ol.coordinate"),goog.require("ol.easing"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.proj.Units"),ol.View=function(a){ol.Object.call(this);var b=ol.obj.assign({},a);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=ol.proj.createProjection(b.projection,"EPSG:3857"),this.applyOptions_(b)},ol.inherits(ol.View,ol.Object),ol.View.prototype.applyOptions_=function(a){var b={};b[ol.ViewProperty.CENTER]=void 0!==a.center?a.center:null;var c=ol.View.createResolutionConstraint_(a);this.maxResolution_=c.maxResolution,this.minResolution_=c.minResolution,this.zoomFactor_=c.zoomFactor,this.resolutions_=a.resolutions,this.minZoom_=c.minZoom;var d=ol.View.createCenterConstraint_(a),e=c.constraint,f=ol.View.createRotationConstraint_(a);this.constraints_=new ol.Constraints(d,e,f),void 0!==a.resolution?b[ol.ViewProperty.RESOLUTION]=a.resolution:void 0!==a.zoom&&(b[ol.ViewProperty.RESOLUTION]=this.constrainResolution(this.maxResolution_,a.zoom-this.minZoom_)),b[ol.ViewProperty.ROTATION]=void 0!==a.rotation?a.rotation:0,this.setProperties(b),this.options_=a},ol.View.prototype.getUpdatedOptions_=function(a){var b=ol.obj.assign({},this.options_);return void 0!==b.resolution?b.resolution=this.getResolution():b.zoom=this.getZoom(),b.center=this.getCenter(),b.rotation=this.getRotation(),ol.obj.assign({},b,a)},ol.View.prototype.animate=function(a){var b,c=Date.now(),d=this.getCenter().slice(),e=this.getResolution(),f=this.getRotation(),g=arguments.length;g>1&&"function"==typeof arguments[g-1]&&(b=arguments[g-1],--g);for(var h=[],i=0;i<g;++i){var j=arguments[i],k={start:c,complete:!1,anchor:j.anchor,duration:void 0!==j.duration?j.duration:1e3,easing:j.easing||ol.easing.inAndOut};j.center&&(k.sourceCenter=d,k.targetCenter=j.center,d=k.targetCenter),void 0!==j.zoom?(k.sourceResolution=e,k.targetResolution=this.constrainResolution(this.maxResolution_,j.zoom-this.minZoom_,0),e=k.targetResolution):j.resolution&&(k.sourceResolution=e,k.targetResolution=j.resolution,e=k.targetResolution),void 0!==j.rotation&&(k.sourceRotation=f,k.targetRotation=j.rotation,f=k.targetRotation),k.callback=b,c+=k.duration,h.push(k)}this.animations_.push(h),this.setHint(ol.ViewHint.ANIMATING,1),this.updateAnimations_()},ol.View.prototype.getAnimating=function(){return this.getHints()[ol.ViewHint.ANIMATING]>0},ol.View.prototype.cancelAnimations=function(){this.setHint(ol.ViewHint.ANIMATING,-this.getHints()[ol.ViewHint.ANIMATING]);for(var a=0,b=this.animations_.length;a<b;++a){var c=this.animations_[a];c[0].callback&&c[0].callback(!1)}this.animations_.length=0},ol.View.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var a=Date.now(),b=!1,c=this.animations_.length-1;c>=0;--c){for(var d=this.animations_[c],e=!0,f=0,g=d.length;f<g;++f){var h=d[f];if(!h.complete){var i=a-h.start,j=h.duration>0?i/h.duration:1;j>=1?(h.complete=!0,j=1):e=!1;var k=h.easing(j);if(h.sourceCenter){var l=h.sourceCenter[0],m=h.sourceCenter[1],n=h.targetCenter[0],o=h.targetCenter[1],p=l+k*(n-l),q=m+k*(o-m);this.set(ol.ViewProperty.CENTER,[p,q])}if(h.sourceResolution&&h.targetResolution){var r=1===k?h.targetResolution:h.sourceResolution+k*(h.targetResolution-h.sourceResolution);h.anchor&&this.set(ol.ViewProperty.CENTER,this.calculateCenterZoom(r,h.anchor)),this.set(ol.ViewProperty.RESOLUTION,r)}if(void 0!==h.sourceRotation&&void 0!==h.targetRotation){var s=1===k?h.targetRotation:h.sourceRotation+k*(h.targetRotation-h.sourceRotation);h.anchor&&this.set(ol.ViewProperty.CENTER,this.calculateCenterRotate(s,h.anchor)),this.set(ol.ViewProperty.ROTATION,s)}if(b=!0,!h.complete)break}}if(e){this.animations_[c]=null,this.setHint(ol.ViewHint.ANIMATING,-1);var t=d[0].callback;t&&t(!0)}}this.animations_=this.animations_.filter(Boolean),b&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},ol.View.prototype.calculateCenterRotate=function(a,b){var c,d=this.getCenter();return void 0!==d&&(c=[d[0]-b[0],d[1]-b[1]],ol.coordinate.rotate(c,a-this.getRotation()),ol.coordinate.add(c,b)),c},ol.View.prototype.calculateCenterZoom=function(a,b){var c,d=this.getCenter(),e=this.getResolution();if(void 0!==d&&void 0!==e){c=[b[0]-a*(b[0]-d[0])/e,b[1]-a*(b[1]-d[1])/e]}return c},ol.View.prototype.getSizeFromViewport_=function(){var a=[100,100],b='.ol-viewport[data-view="'+ol.getUid(this)+'"]',c=document.querySelector(b);if(c){var d=getComputedStyle(c);a[0]=parseInt(d.width,10),a[1]=parseInt(d.height,10)}return a},ol.View.prototype.constrainCenter=function(a){return this.constraints_.center(a)},ol.View.prototype.constrainResolution=function(a,b,c){var d=b||0,e=c||0;return this.constraints_.resolution(a,d,e)},ol.View.prototype.constrainRotation=function(a,b){var c=b||0;return this.constraints_.rotation(a,c)},ol.View.prototype.getCenter=function(){return this.get(ol.ViewProperty.CENTER)},ol.View.prototype.getHints=function(a){return void 0!==a?(a[0]=this.hints_[0],a[1]=this.hints_[1],a):this.hints_.slice()},ol.View.prototype.calculateExtent=function(a){var b=a||this.getSizeFromViewport_(),c=this.getCenter();ol.asserts.assert(c,1);var d=this.getResolution();ol.asserts.assert(void 0!==d,2);var e=this.getRotation();return ol.asserts.assert(void 0!==e,3),ol.extent.getForViewAndSize(c,d,e,b)},ol.View.prototype.getMaxResolution=function(){return this.maxResolution_},ol.View.prototype.getMinResolution=function(){return this.minResolution_},ol.View.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},ol.View.prototype.setMaxZoom=function(a){this.applyOptions_(this.getUpdatedOptions_({maxZoom:a}))},ol.View.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},ol.View.prototype.setMinZoom=function(a){this.applyOptions_(this.getUpdatedOptions_({minZoom:a}))},ol.View.prototype.getProjection=function(){return this.projection_},ol.View.prototype.getResolution=function(){return this.get(ol.ViewProperty.RESOLUTION)},ol.View.prototype.getResolutions=function(){return this.resolutions_},ol.View.prototype.getResolutionForExtent=function(a,b){var c=ol.extent.getWidth(a)/b[0],d=ol.extent.getHeight(a)/b[1];return Math.max(c,d)},ol.View.prototype.getResolutionForValueFunction=function(a){var b=a||2,c=this.maxResolution_,d=this.minResolution_,e=Math.log(c/d)/Math.log(b);return function(a){return c/Math.pow(b,a*e)}},ol.View.prototype.getRotation=function(){return this.get(ol.ViewProperty.ROTATION)},ol.View.prototype.getValueForResolutionFunction=function(a){var b=a||2,c=this.maxResolution_,d=this.minResolution_,e=Math.log(c/d)/Math.log(b);return function(a){return Math.log(c/a)/Math.log(b)/e}},ol.View.prototype.getState=function(){var a=this.getCenter(),b=this.getProjection(),c=this.getResolution(),d=this.getRotation();return{center:a.slice(),projection:void 0!==b?b:null,resolution:c,rotation:d}},ol.View.prototype.getZoom=function(){var a,b=this.getResolution();return void 0!==b&&(a=this.getZoomForResolution(b)),a},ol.View.prototype.getZoomForResolution=function(a){var b;if(a>=this.minResolution_&&a<=this.maxResolution_){var c,d,e=this.minZoom_||0;if(this.resolutions_){var f=ol.array.linearFindNearest(this.resolutions_,a,1);if(e+=f,f==this.resolutions_.length-1)return e;c=this.resolutions_[f],d=c/this.resolutions_[f+1]}else c=this.maxResolution_,d=this.zoomFactor_;b=e+Math.log(c/a)/Math.log(d)}return b},ol.View.prototype.fit=function(a,b){var c=b||{},d=c.size;d||(d=this.getSizeFromViewport_());var e;a instanceof ol.geom.SimpleGeometry?a.getType()===ol.geom.GeometryType.CIRCLE?(a=a.getExtent(),e=ol.geom.Polygon.fromExtent(a),e.rotate(this.getRotation(),ol.extent.getCenter(a))):e=a:(ol.asserts.assert(Array.isArray(a),24),ol.asserts.assert(!ol.extent.isEmpty(a),25),e=ol.geom.Polygon.fromExtent(a));var f,g=void 0!==c.padding?c.padding:[0,0,0,0],h=void 0===c.constrainResolution||c.constrainResolution,i=void 0!==c.nearest&&c.nearest;f=void 0!==c.minResolution?c.minResolution:void 0!==c.maxZoom?this.constrainResolution(this.maxResolution_,c.maxZoom-this.minZoom_,0):0;for(var j=e.getFlatCoordinates(),k=this.getRotation(),l=Math.cos(-k),m=Math.sin(-k),n=1/0,o=1/0,p=-1/0,q=-1/0,r=e.getStride(),s=0,t=j.length;s<t;s+=r){var u=j[s]*l-j[s+1]*m,v=j[s]*m+j[s+1]*l;n=Math.min(n,u),o=Math.min(o,v),p=Math.max(p,u),q=Math.max(q,v)}var w=this.getResolutionForExtent([n,o,p,q],[d[0]-g[1]-g[3],d[1]-g[0]-g[2]]);if(w=isNaN(w)?f:Math.max(w,f),h){var x=this.constrainResolution(w,0,0);!i&&x<w&&(x=this.constrainResolution(x,-1,0)),w=x}m=-m;var y=(n+p)/2,z=(o+q)/2;y+=(g[1]-g[3])/2*w,z+=(g[0]-g[2])/2*w;var A=y*l-z*m,B=z*l+y*m,C=[A,B];void 0!==c.duration?this.animate({resolution:w,center:C,duration:c.duration,easing:c.easing}):(this.setResolution(w),this.setCenter(C))},ol.View.prototype.centerOn=function(a,b,c){var d=this.getRotation(),e=Math.cos(-d),f=Math.sin(-d),g=a[0]*e-a[1]*f,h=a[1]*e+a[0]*f,i=this.getResolution();g+=(b[0]/2-c[0])*i,h+=(c[1]-b[1]/2)*i,f=-f;var j=g*e-h*f,k=h*e+g*f;this.setCenter([j,k])},ol.View.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},ol.View.prototype.rotate=function(a,b){if(void 0!==b){var c=this.calculateCenterRotate(a,b);this.setCenter(c)}this.setRotation(a)},ol.View.prototype.setCenter=function(a){this.set(ol.ViewProperty.CENTER,a),this.getAnimating()&&this.cancelAnimations()},ol.View.prototype.setHint=function(a,b){return this.hints_[a]+=b,this.changed(),this.hints_[a]},ol.View.prototype.setResolution=function(a){this.set(ol.ViewProperty.RESOLUTION,a),this.getAnimating()&&this.cancelAnimations()},ol.View.prototype.setRotation=function(a){this.set(ol.ViewProperty.ROTATION,a),this.getAnimating()&&this.cancelAnimations()},ol.View.prototype.setZoom=function(a){var b=this.constrainResolution(this.maxResolution_,a-this.minZoom_,0);this.setResolution(b)},ol.View.createCenterConstraint_=function(a){return void 0!==a.extent?ol.CenterConstraint.createExtent(a.extent):ol.CenterConstraint.none},ol.View.createResolutionConstraint_=function(a){var b,c,d,e=void 0!==a.minZoom?a.minZoom:ol.DEFAULT_MIN_ZOOM,f=void 0!==a.maxZoom?a.maxZoom:28,g=void 0!==a.zoomFactor?a.zoomFactor:2;if(void 0!==a.resolutions){var h=a.resolutions;c=h[0],d=h[h.length-1],b=ol.ResolutionConstraint.createSnapToResolutions(h)}else{var i=ol.proj.createProjection(a.projection,"EPSG:3857"),j=i.getExtent(),k=j?Math.max(ol.extent.getWidth(j),ol.extent.getHeight(j)):360*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/i.getMetersPerUnit(),l=k/ol.DEFAULT_TILE_SIZE/Math.pow(2,ol.DEFAULT_MIN_ZOOM),m=l/Math.pow(2,28-ol.DEFAULT_MIN_ZOOM);c=a.maxResolution,void 0!==c?e=0:c=l/Math.pow(g,e),d=a.minResolution,void 0===d&&(d=void 0!==a.maxZoom?void 0!==a.maxResolution?c/Math.pow(g,f):l/Math.pow(g,f):m),f=e+Math.floor(Math.log(c/d)/Math.log(g)),d=c/Math.pow(g,f-e),b=ol.ResolutionConstraint.createSnapToPower(g,c,f-e)}return{constraint:b,maxResolution:c,minResolution:d,minZoom:e,zoomFactor:g}},ol.View.createRotationConstraint_=function(a){if(void 0===a.enableRotation||a.enableRotation){var b=a.constrainRotation;return void 0===b||!0===b?ol.RotationConstraint.createSnapToZero():!1===b?ol.RotationConstraint.none:"number"==typeof b?ol.RotationConstraint.createSnapToN(b):ol.RotationConstraint.none}return ol.RotationConstraint.disable},goog.provide("ol.Kinetic"),ol.Kinetic=function(a,b,c){this.decay_=a,this.minVelocity_=b,this.delay_=c,this.points_=[],this.angle_=0,this.initialVelocity_=0},ol.Kinetic.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},ol.Kinetic.prototype.update=function(a,b){this.points_.push(a,b,Date.now())},ol.Kinetic.prototype.end=function(){if(this.points_.length<6)return!1;var a=Date.now()-this.delay_,b=this.points_.length-3;if(this.points_[b+2]<a)return!1;for(var c=b-3;c>0&&this.points_[c+2]>a;)c-=3
;var d=this.points_[b+2]-this.points_[c+2],e=this.points_[b]-this.points_[c],f=this.points_[b+1]-this.points_[c+1];return this.angle_=Math.atan2(f,e),this.initialVelocity_=Math.sqrt(e*e+f*f)/d,this.initialVelocity_>this.minVelocity_},ol.Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},ol.Kinetic.prototype.getAngle=function(){return this.angle_},goog.provide("ol.interaction.Property"),ol.interaction.Property={ACTIVE:"active"},goog.provide("ol.interaction.Interaction"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.easing"),goog.require("ol.interaction.Property"),ol.interaction.Interaction=function(a){ol.Object.call(this),this.map_=null,this.setActive(!0),this.handleEvent=a.handleEvent},ol.inherits(ol.interaction.Interaction,ol.Object),ol.interaction.Interaction.prototype.getActive=function(){return this.get(ol.interaction.Property.ACTIVE)},ol.interaction.Interaction.prototype.getMap=function(){return this.map_},ol.interaction.Interaction.prototype.setActive=function(a){this.set(ol.interaction.Property.ACTIVE,a)},ol.interaction.Interaction.prototype.setMap=function(a){this.map_=a},ol.interaction.Interaction.pan=function(a,b,c){var d=a.getCenter();if(d){var e=a.constrainCenter([d[0]+b[0],d[1]+b[1]]);c?a.animate({duration:c,easing:ol.easing.linear,center:e}):a.setCenter(e)}},ol.interaction.Interaction.rotate=function(a,b,c,d){b=a.constrainRotation(b,0),ol.interaction.Interaction.rotateWithoutConstraints(a,b,c,d)},ol.interaction.Interaction.rotateWithoutConstraints=function(a,b,c,d){if(void 0!==b){var e=a.getRotation(),f=a.getCenter();void 0!==e&&f&&d>0?a.animate({rotation:b,anchor:c,duration:d,easing:ol.easing.easeOut}):a.rotate(b,c)}},ol.interaction.Interaction.zoom=function(a,b,c,d,e){b=a.constrainResolution(b,0,e),ol.interaction.Interaction.zoomWithoutConstraints(a,b,c,d)},ol.interaction.Interaction.zoomByDelta=function(a,b,c,d){var e=a.getResolution(),f=a.constrainResolution(e,b,0);if(c&&void 0!==f&&f!==e){var g=a.getCenter(),h=a.calculateCenterZoom(f,c);h=a.constrainCenter(h),c=[(f*g[0]-e*h[0])/(f-e),(f*g[1]-e*h[1])/(f-e)]}ol.interaction.Interaction.zoomWithoutConstraints(a,f,c,d)},ol.interaction.Interaction.zoomWithoutConstraints=function(a,b,c,d){if(b){var e=a.getResolution(),f=a.getCenter();if(void 0!==e&&f&&b!==e&&d)a.animate({resolution:b,anchor:c,duration:d,easing:ol.easing.easeOut});else{if(c){var g=a.calculateCenterZoom(b,c);a.setCenter(g)}a.setResolution(b)}}},goog.provide("ol.interaction.DoubleClickZoom"),goog.require("ol"),goog.require("ol.MapBrowserEventType"),goog.require("ol.interaction.Interaction"),ol.interaction.DoubleClickZoom=function(a){var b=a||{};this.delta_=b.delta?b.delta:1,ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DoubleClickZoom.handleEvent}),this.duration_=void 0!==b.duration?b.duration:250},ol.inherits(ol.interaction.DoubleClickZoom,ol.interaction.Interaction),ol.interaction.DoubleClickZoom.handleEvent=function(a){var b=!1,c=a.originalEvent;if(a.type==ol.MapBrowserEventType.DBLCLICK){var d=a.map,e=a.coordinate,f=c.shiftKey?-this.delta_:this.delta_,g=d.getView();ol.interaction.Interaction.zoomByDelta(g,f,e,this.duration_),a.preventDefault(),b=!0}return!b},goog.provide("ol.events.condition"),goog.require("ol.MapBrowserEventType"),goog.require("ol.asserts"),goog.require("ol.functions"),goog.require("ol.has"),ol.events.condition.altKeyOnly=function(a){var b=a.originalEvent;return b.altKey&&!(b.metaKey||b.ctrlKey)&&!b.shiftKey},ol.events.condition.altShiftKeysOnly=function(a){var b=a.originalEvent;return b.altKey&&!(b.metaKey||b.ctrlKey)&&b.shiftKey},ol.events.condition.always=ol.functions.TRUE,ol.events.condition.click=function(a){return a.type==ol.MapBrowserEventType.CLICK},ol.events.condition.mouseActionButton=function(a){var b=a.originalEvent;return 0==b.button&&!(ol.has.WEBKIT&&ol.has.MAC&&b.ctrlKey)},ol.events.condition.never=ol.functions.FALSE,ol.events.condition.pointerMove=function(a){return"pointermove"==a.type},ol.events.condition.singleClick=function(a){return a.type==ol.MapBrowserEventType.SINGLECLICK},ol.events.condition.doubleClick=function(a){return a.type==ol.MapBrowserEventType.DBLCLICK},ol.events.condition.noModifierKeys=function(a){var b=a.originalEvent;return!b.altKey&&!(b.metaKey||b.ctrlKey)&&!b.shiftKey},ol.events.condition.platformModifierKeyOnly=function(a){var b=a.originalEvent;return!b.altKey&&(ol.has.MAC?b.metaKey:b.ctrlKey)&&!b.shiftKey},ol.events.condition.shiftKeyOnly=function(a){var b=a.originalEvent;return!b.altKey&&!(b.metaKey||b.ctrlKey)&&b.shiftKey},ol.events.condition.targetNotEditable=function(a){var b=a.originalEvent.target,c=b.tagName;return"INPUT"!==c&&"SELECT"!==c&&"TEXTAREA"!==c},ol.events.condition.mouseOnly=function(a){return ol.asserts.assert(a.pointerEvent,56),"mouse"==a.pointerEvent.pointerType},ol.events.condition.primaryAction=function(a){var b=a.pointerEvent;return b.isPrimary&&0===b.button},goog.provide("ol.interaction.Pointer"),goog.require("ol"),goog.require("ol.functions"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.interaction.Interaction"),goog.require("ol.obj"),ol.interaction.Pointer=function(a){var b=a||{},c=b.handleEvent?b.handleEvent:ol.interaction.Pointer.handleEvent;ol.interaction.Interaction.call(this,{handleEvent:c}),this.handleDownEvent_=b.handleDownEvent?b.handleDownEvent:ol.interaction.Pointer.handleDownEvent,this.handleDragEvent_=b.handleDragEvent?b.handleDragEvent:ol.interaction.Pointer.handleDragEvent,this.handleMoveEvent_=b.handleMoveEvent?b.handleMoveEvent:ol.interaction.Pointer.handleMoveEvent,this.handleUpEvent_=b.handleUpEvent?b.handleUpEvent:ol.interaction.Pointer.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]},ol.inherits(ol.interaction.Pointer,ol.interaction.Interaction),ol.interaction.Pointer.centroid=function(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]},ol.interaction.Pointer.prototype.isPointerDraggingEvent_=function(a){var b=a.type;return b===ol.MapBrowserEventType.POINTERDOWN||b===ol.MapBrowserEventType.POINTERDRAG||b===ol.MapBrowserEventType.POINTERUP},ol.interaction.Pointer.prototype.updateTrackedPointers_=function(a){if(this.isPointerDraggingEvent_(a)){var b=a.pointerEvent;a.type==ol.MapBrowserEventType.POINTERUP?delete this.trackedPointers_[b.pointerId]:a.type==ol.MapBrowserEventType.POINTERDOWN?this.trackedPointers_[b.pointerId]=b:b.pointerId in this.trackedPointers_&&(this.trackedPointers_[b.pointerId]=b),this.targetPointers=ol.obj.getValues(this.trackedPointers_)}},ol.interaction.Pointer.handleDragEvent=ol.nullFunction,ol.interaction.Pointer.handleUpEvent=ol.functions.FALSE,ol.interaction.Pointer.handleDownEvent=ol.functions.FALSE,ol.interaction.Pointer.handleMoveEvent=ol.nullFunction,ol.interaction.Pointer.handleEvent=function(a){if(!(a instanceof ol.MapBrowserPointerEvent))return!0;var b=!1;if(this.updateTrackedPointers_(a),this.handlingDownUpSequence){if(a.type==ol.MapBrowserEventType.POINTERDRAG)this.handleDragEvent_(a);else if(a.type==ol.MapBrowserEventType.POINTERUP){var c=this.handleUpEvent_(a);this.handlingDownUpSequence=c&&this.targetPointers.length>0}}else if(a.type==ol.MapBrowserEventType.POINTERDOWN){var d=this.handleDownEvent_(a);this.handlingDownUpSequence=d,b=this.shouldStopEvent(d)}else a.type==ol.MapBrowserEventType.POINTERMOVE&&this.handleMoveEvent_(a);return!b},ol.interaction.Pointer.prototype.shouldStopEvent=function(a){return a},goog.provide("ol.interaction.DragPan"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.coordinate"),goog.require("ol.easing"),goog.require("ol.events.condition"),goog.require("ol.functions"),goog.require("ol.interaction.Pointer"),ol.interaction.DragPan=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragPan.handleDownEvent_,handleDragEvent:ol.interaction.DragPan.handleDragEvent_,handleUpEvent:ol.interaction.DragPan.handleUpEvent_});var b=a||{};this.kinetic_=b.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.condition_=b.condition?b.condition:ol.events.condition.noModifierKeys,this.noKinetic_=!1},ol.inherits(ol.interaction.DragPan,ol.interaction.Pointer),ol.interaction.DragPan.handleDragEvent_=function(a){var b=this.targetPointers,c=ol.interaction.Pointer.centroid(b);if(b.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(c[0],c[1]),this.lastCentroid){var d=this.lastCentroid[0]-c[0],e=c[1]-this.lastCentroid[1],f=a.map,g=f.getView(),h=g.getState(),i=[d,e];ol.coordinate.scale(i,h.resolution),ol.coordinate.rotate(i,h.rotation),ol.coordinate.add(i,h.center),i=g.constrainCenter(i),g.setCenter(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=c,this.lastPointersCount_=b.length},ol.interaction.DragPan.handleUpEvent_=function(a){var b=a.map,c=b.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var d=this.kinetic_.getDistance(),e=this.kinetic_.getAngle(),f=c.getCenter(),g=b.getPixelFromCoordinate(f),h=b.getCoordinateFromPixel([g[0]-d*Math.cos(e),g[1]-d*Math.sin(e)]);c.animate({center:c.constrainCenter(h),duration:500,easing:ol.easing.easeOut})}return c.setHint(ol.ViewHint.INTERACTING,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},ol.interaction.DragPan.handleDownEvent_=function(a){if(this.targetPointers.length>0&&this.condition_(a)){var b=a.map,c=b.getView();return this.lastCentroid=null,this.handlingDownUpSequence||c.setHint(ol.ViewHint.INTERACTING,1),c.getHints()[ol.ViewHint.ANIMATING]&&c.setCenter(a.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},ol.interaction.DragPan.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.interaction.DragRotate"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.events.condition"),goog.require("ol.functions"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer");ol.interaction.DragRotate=function(a){var b=a||{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotate.handleDownEvent_,handleDragEvent:ol.interaction.DragRotate.handleDragEvent_,handleUpEvent:ol.interaction.DragRotate.handleUpEvent_}),this.condition_=b.condition?b.condition:ol.events.condition.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==b.duration?b.duration:250},ol.inherits(ol.interaction.DragRotate,ol.interaction.Pointer),ol.interaction.DragRotate.handleDragEvent_=function(a){if(ol.events.condition.mouseOnly(a)){var b=a.map,c=b.getSize(),d=a.pixel,e=Math.atan2(c[1]/2-d[1],d[0]-c[0]/2);if(void 0!==this.lastAngle_){var f=e-this.lastAngle_,g=b.getView(),h=g.getRotation();ol.interaction.Interaction.rotateWithoutConstraints(g,h-f)}this.lastAngle_=e}},ol.interaction.DragRotate.handleUpEvent_=function(a){if(!ol.events.condition.mouseOnly(a))return!0;var b=a.map,c=b.getView();c.setHint(ol.ViewHint.INTERACTING,-1);var d=c.getRotation();return ol.interaction.Interaction.rotate(c,d,void 0,this.duration_),!1},ol.interaction.DragRotate.handleDownEvent_=function(a){if(!ol.events.condition.mouseOnly(a))return!1;if(ol.events.condition.mouseActionButton(a)&&this.condition_(a)){return a.map.getView().setHint(ol.ViewHint.INTERACTING,1),this.lastAngle_=void 0,!0}return!1},ol.interaction.DragRotate.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.render.Box"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.geom.Polygon"),ol.render.Box=function(a){this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+a,this.map_=null,this.startPixel_=null,this.endPixel_=null},ol.inherits(ol.render.Box,ol.Disposable),ol.render.Box.prototype.disposeInternal=function(){this.setMap(null)},ol.render.Box.prototype.render_=function(){var a=this.startPixel_,b=this.endPixel_,c=this.element_.style;c.left=Math.min(a[0],b[0])+"px",c.top=Math.min(a[1],b[1])+"px",c.width=Math.abs(b[0]-a[0])+"px",c.height=Math.abs(b[1]-a[1])+"px"},ol.render.Box.prototype.setMap=function(a){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var b=this.element_.style;b.left=b.top=b.width=b.height="inherit"}this.map_=a,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},ol.render.Box.prototype.setPixels=function(a,b){this.startPixel_=a,this.endPixel_=b,this.createOrUpdateGeometry(),this.render_()},ol.render.Box.prototype.createOrUpdateGeometry=function(){var a=this.startPixel_,b=this.endPixel_,c=[a,[a[0],b[1]],b,[b[0],a[1]]],d=c.map(this.map_.getCoordinateFromPixel,this.map_);d[4]=d[0].slice(),this.geometry_?this.geometry_.setCoordinates([d]):this.geometry_=new ol.geom.Polygon([d])},ol.render.Box.prototype.getGeometry=function(){return this.geometry_},goog.provide("ol.interaction.DragBox"),goog.require("ol.events.Event"),goog.require("ol"),goog.require("ol.events.condition"),goog.require("ol.interaction.Pointer"),goog.require("ol.render.Box"),ol.interaction.DragBox=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragBox.handleDownEvent_,handleDragEvent:ol.interaction.DragBox.handleDragEvent_,handleUpEvent:ol.interaction.DragBox.handleUpEvent_});var b=a||{};this.box_=new ol.render.Box(b.className||"ol-dragbox"),this.minArea_=void 0!==b.minArea?b.minArea:64,this.startPixel_=null,this.condition_=b.condition?b.condition:ol.events.condition.always,this.boxEndCondition_=b.boxEndCondition?b.boxEndCondition:ol.interaction.DragBox.defaultBoxEndCondition},ol.inherits(ol.interaction.DragBox,ol.interaction.Pointer),ol.interaction.DragBox.defaultBoxEndCondition=function(a,b,c){var d=c[0]-b[0],e=c[1]-b[1];return d*d+e*e>=this.minArea_},ol.interaction.DragBox.handleDragEvent_=function(a){ol.events.condition.mouseOnly(a)&&(this.box_.setPixels(this.startPixel_,a.pixel),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXDRAG,a.coordinate,a)))},ol.interaction.DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()},ol.interaction.DragBox.prototype.onBoxEnd=ol.nullFunction,ol.interaction.DragBox.handleUpEvent_=function(a){return!ol.events.condition.mouseOnly(a)||(this.box_.setMap(null),this.boxEndCondition_(a,this.startPixel_,a.pixel)&&(this.onBoxEnd(a),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXEND,a.coordinate,a))),!1)},ol.interaction.DragBox.handleDownEvent_=function(a){return!!ol.events.condition.mouseOnly(a)&&(!(!ol.events.condition.mouseActionButton(a)||!this.condition_(a))&&(this.startPixel_=a.pixel,this.box_.setMap(a.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXSTART,a.coordinate,a)),!0))},ol.interaction.DragBox.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},ol.interaction.DragBox.Event=function(a,b,c){ol.events.Event.call(this,a),this.coordinate=b,this.mapBrowserEvent=c},ol.inherits(ol.interaction.DragBox.Event,ol.events.Event),goog.provide("ol.interaction.DragZoom"),goog.require("ol"),goog.require("ol.easing"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.interaction.DragBox"),ol.interaction.DragZoom=function(a){var b=a||{},c=b.condition?b.condition:ol.events.condition.shiftKeyOnly;this.duration_=void 0!==b.duration?b.duration:200,this.out_=void 0!==b.out&&b.out,ol.interaction.DragBox.call(this,{condition:c,className:b.className||"ol-dragzoom"})},ol.inherits(ol.interaction.DragZoom,ol.interaction.DragBox),ol.interaction.DragZoom.prototype.onBoxEnd=function(){var a=this.getMap(),b=a.getView(),c=a.getSize(),d=this.getGeometry().getExtent();if(this.out_){var e=b.calculateExtent(c),f=ol.extent.createOrUpdateFromCoordinates([a.getPixelFromCoordinate(ol.extent.getBottomLeft(d)),a.getPixelFromCoordinate(ol.extent.getTopRight(d))]),g=b.getResolutionForExtent(f,c);ol.extent.scaleFromCenter(e,1/g),d=e}var h=b.constrainResolution(b.getResolutionForExtent(d,c)),i=ol.extent.getCenter(d);i=b.constrainCenter(i),b.animate({resolution:h,center:i,duration:this.duration_,easing:ol.easing.easeOut})},goog.provide("ol.events.KeyCode"),ol.events.KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40},goog.provide("ol.interaction.KeyboardPan"),goog.require("ol"),goog.require("ol.coordinate"),goog.require("ol.events.EventType"),goog.require("ol.events.KeyCode"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),ol.interaction.KeyboardPan=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardPan.handleEvent});var b=a||{};this.defaultCondition_=function(a){return ol.events.condition.noModifierKeys(a)&&ol.events.condition.targetNotEditable(a)},this.condition_=void 0!==b.condition?b.condition:this.defaultCondition_,this.duration_=void 0!==b.duration?b.duration:100,this.pixelDelta_=void 0!==b.pixelDelta?b.pixelDelta:128},ol.inherits(ol.interaction.KeyboardPan,ol.interaction.Interaction),ol.interaction.KeyboardPan.handleEvent=function(a){var b=!1;if(a.type==ol.events.EventType.KEYDOWN){var c=a.originalEvent,d=c.keyCode;if(this.condition_(a)&&(d==ol.events.KeyCode.DOWN||d==ol.events.KeyCode.LEFT||d==ol.events.KeyCode.RIGHT||d==ol.events.KeyCode.UP)){var e=a.map,f=e.getView(),g=f.getResolution()*this.pixelDelta_,h=0,i=0;d==ol.events.KeyCode.DOWN?i=-g:d==ol.events.KeyCode.LEFT?h=-g:d==ol.events.KeyCode.RIGHT?h=g:i=g;var j=[h,i];ol.coordinate.rotate(j,f.getRotation()),ol.interaction.Interaction.pan(f,j,this.duration_),a.preventDefault(),b=!0}}return!b},goog.provide("ol.interaction.KeyboardZoom"),goog.require("ol"),goog.require("ol.events.EventType"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),ol.interaction.KeyboardZoom=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardZoom.handleEvent});var b=a||{};this.condition_=b.condition?b.condition:ol.events.condition.targetNotEditable,this.delta_=b.delta?b.delta:1,this.duration_=void 0!==b.duration?b.duration:100},ol.inherits(ol.interaction.KeyboardZoom,ol.interaction.Interaction),ol.interaction.KeyboardZoom.handleEvent=function(a){var b=!1;if(a.type==ol.events.EventType.KEYDOWN||a.type==ol.events.EventType.KEYPRESS){var c=a.originalEvent,d=c.charCode;if(this.condition_(a)&&(d=="+".charCodeAt(0)||d=="-".charCodeAt(0))){var e=a.map,f=d=="+".charCodeAt(0)?this.delta_:-this.delta_,g=e.getView();ol.interaction.Interaction.zoomByDelta(g,f,void 0,this.duration_),a.preventDefault(),b=!0}}return!b},goog.provide("ol.interaction.MouseWheelZoom"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.easing"),goog.require("ol.events.EventType"),goog.require("ol.has"),goog.require("ol.interaction.Interaction"),goog.require("ol.math"),ol.interaction.MouseWheelZoom=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.MouseWheelZoom.handleEvent});var b=a||{};this.delta_=0,this.duration_=void 0!==b.duration?b.duration:250,this.timeout_=void 0!==b.timeout?b.timeout:80,this.useAnchor_=void 0===b.useAnchor||b.useAnchor,this.constrainResolution_=b.constrainResolution||!1,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5},ol.inherits(ol.interaction.MouseWheelZoom,ol.interaction.Interaction),ol.interaction.MouseWheelZoom.handleEvent=function(a){var b=a.type;if(b!==ol.events.EventType.WHEEL&&b!==ol.events.EventType.MOUSEWHEEL)return!0;a.preventDefault();var c=a.map,d=a.originalEvent;this.useAnchor_&&(this.lastAnchor_=a.coordinate);var e;if(a.type==ol.events.EventType.WHEEL?(e=d.deltaY,ol.has.FIREFOX&&d.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=ol.has.DEVICE_PIXEL_RATIO),d.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)):a.type==ol.events.EventType.MOUSEWHEEL&&(e=-d.wheelDeltaY,ol.has.SAFARI&&(e/=3)),0===e)return!1;var f=Date.now();if(void 0===this.startTime_&&(this.startTime_=f),(!this.mode_||f-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?ol.interaction.MouseWheelZoom.Mode_.TRACKPAD:ol.interaction.MouseWheelZoom.Mode_.WHEEL),this.mode_===ol.interaction.MouseWheelZoom.Mode_.TRACKPAD){var g=c.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):g.setHint(ol.ViewHint.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var h=g.getResolution()*Math.pow(2,e/this.trackpadDeltaPerZoom_),i=g.getMinResolution(),j=g.getMaxResolution(),k=0;if(h<i?(h=Math.max(h,i/this.trackpadZoomBuffer_),k=1):h>j&&(h=Math.min(h,j*this.trackpadZoomBuffer_),k=-1),this.lastAnchor_){var l=g.calculateCenterZoom(h,this.lastAnchor_);g.setCenter(g.constrainCenter(l))}return g.setResolution(h),0===k&&this.constrainResolution_&&g.animate({resolution:g.constrainResolution(h,e>0?-1:1),easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),k>0?g.animate({resolution:i,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500}):k<0&&g.animate({resolution:j,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=f,!1}this.delta_+=e;var m=Math.max(this.timeout_-(f-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,c),m),!1},ol.interaction.MouseWheelZoom.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(ol.ViewHint.INTERACTING,-1)},ol.interaction.MouseWheelZoom.prototype.handleWheelZoom_=function(a){var b=a.getView();b.getAnimating()&&b.cancelAnimations();var c=ol.MOUSEWHEELZOOM_MAXDELTA,d=ol.math.clamp(this.delta_,-c,c);ol.interaction.Interaction.zoomByDelta(b,-d,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},ol.interaction.MouseWheelZoom.prototype.setMouseAnchor=function(a){this.useAnchor_=a,a||(this.lastAnchor_=null)},ol.interaction.MouseWheelZoom.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"},goog.provide("ol.interaction.PinchRotate"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.functions"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.PinchRotate=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchRotate.handleDownEvent_,handleDragEvent:ol.interaction.PinchRotate.handleDragEvent_,handleUpEvent:ol.interaction.PinchRotate.handleUpEvent_});var b=a||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==b.threshold?b.threshold:.3,this.duration_=void 0!==b.duration?b.duration:250},ol.inherits(ol.interaction.PinchRotate,ol.interaction.Pointer),ol.interaction.PinchRotate.handleDragEvent_=function(a){var b=0,c=this.targetPointers[0],d=this.targetPointers[1],e=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);if(void 0!==this.lastAngle_){var f=e-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),b=f}this.lastAngle_=e;var g=a.map,h=g.getViewport().getBoundingClientRect(),i=ol.interaction.Pointer.centroid(this.targetPointers);if(i[0]-=h.left,i[1]-=h.top,this.anchor_=g.getCoordinateFromPixel(i),this.rotating_){var j=g.getView(),k=j.getRotation();g.render(),ol.interaction.Interaction.rotateWithoutConstraints(j,k+b,this.anchor_)}},ol.interaction.PinchRotate.handleUpEvent_=function(a){if(this.targetPointers.length<2){var b=a.map,c=b.getView();if(c.setHint(ol.ViewHint.INTERACTING,-1),this.rotating_){var d=c.getRotation();ol.interaction.Interaction.rotate(c,d,this.anchor_,this.duration_)}return!1}return!0},ol.interaction.PinchRotate.handleDownEvent_=function(a){if(this.targetPointers.length>=2){var b=a.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||b.getView().setHint(ol.ViewHint.INTERACTING,1),!0}return!1},ol.interaction.PinchRotate.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.interaction.PinchZoom"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.functions"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.PinchZoom=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchZoom.handleDownEvent_,handleDragEvent:ol.interaction.PinchZoom.handleDragEvent_,handleUpEvent:ol.interaction.PinchZoom.handleUpEvent_});var b=a||{};this.constrainResolution_=b.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==b.duration?b.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1},ol.inherits(ol.interaction.PinchZoom,ol.interaction.Pointer),ol.interaction.PinchZoom.handleDragEvent_=function(a){var b=1,c=this.targetPointers[0],d=this.targetPointers[1],e=c.clientX-d.clientX,f=c.clientY-d.clientY,g=Math.sqrt(e*e+f*f);void 0!==this.lastDistance_&&(b=this.lastDistance_/g),this.lastDistance_=g;var h=a.map,i=h.getView(),j=i.getResolution(),k=i.getMaxResolution(),l=i.getMinResolution(),m=j*b;m>k?(b=k/j,m=k):m<l&&(b=l/j,m=l),1!=b&&(this.lastScaleDelta_=b);var n=h.getViewport().getBoundingClientRect(),o=ol.interaction.Pointer.centroid(this.targetPointers);o[0]-=n.left,o[1]-=n.top,this.anchor_=h.getCoordinateFromPixel(o),h.render(),ol.interaction.Interaction.zoomWithoutConstraints(i,m,this.anchor_)},ol.interaction.PinchZoom.handleUpEvent_=function(a){if(this.targetPointers.length<2){var b=a.map,c=b.getView();c.setHint(ol.ViewHint.INTERACTING,-1);var d=c.getResolution();if(this.constrainResolution_||d<c.getMinResolution()||d>c.getMaxResolution()){var e=this.lastScaleDelta_-1;ol.interaction.Interaction.zoom(c,d,this.anchor_,this.duration_,e)}return!1}return!0},ol.interaction.PinchZoom.handleDownEvent_=function(a){if(this.targetPointers.length>=2){var b=a.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||b.getView().setHint(ol.ViewHint.INTERACTING,1),!0}return!1},ol.interaction.PinchZoom.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.interaction"),goog.require("ol.Collection"),goog.require("ol.Kinetic"),goog.require("ol.interaction.DoubleClickZoom"),goog.require("ol.interaction.DragPan"),goog.require("ol.interaction.DragRotate"),goog.require("ol.interaction.DragZoom"),goog.require("ol.interaction.KeyboardPan"),goog.require("ol.interaction.KeyboardZoom"),goog.require("ol.interaction.MouseWheelZoom"),goog.require("ol.interaction.PinchRotate"),goog.require("ol.interaction.PinchZoom"),ol.interaction.defaults=function(a){var b=a||{},c=new ol.Collection,d=new ol.Kinetic(-.005,.05,100);return(void 0===b.altShiftDragRotate||b.altShiftDragRotate)&&c.push(new ol.interaction.DragRotate),(void 0===b.doubleClickZoom||b.doubleClickZoom)&&c.push(new ol.interaction.DoubleClickZoom({delta:b.zoomDelta,duration:b.zoomDuration})),(void 0===b.dragPan||b.dragPan)&&c.push(new ol.interaction.DragPan({kinetic:d})),(void 0===b.pinchRotate||b.pinchRotate)&&c.push(new ol.interaction.PinchRotate),(void 0===b.pinchZoom||b.pinchZoom)&&c.push(new ol.interaction.PinchZoom({constrainResolution:b.constrainResolution,duration:b.zoomDuration})),(void 0===b.keyboard||b.keyboard)&&(c.push(new ol.interaction.KeyboardPan),c.push(new ol.interaction.KeyboardZoom({delta:b.zoomDelta,duration:b.zoomDuration}))),(void 0===b.mouseWheelZoom||b.mouseWheelZoom)&&c.push(new ol.interaction.MouseWheelZoom({constrainResolution:b.constrainResolution,duration:b.zoomDuration})),(void 0===b.shiftDragZoom||b.shiftDragZoom)&&c.push(new ol.interaction.DragZoom({duration:b.zoomDuration})),c},goog.provide("ol.layer.Property"),ol.layer.Property={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"},goog.provide("ol.layer.Base"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.layer.Property"),goog.require("ol.math"),goog.require("ol.obj"),ol.layer.Base=function(a){ol.Object.call(this);var b=ol.obj.assign({},a);b[ol.layer.Property.OPACITY]=void 0!==a.opacity?a.opacity:1,b[ol.layer.Property.VISIBLE]=void 0===a.visible||a.visible,b[ol.layer.Property.Z_INDEX]=void 0!==a.zIndex?a.zIndex:0,b[ol.layer.Property.MAX_RESOLUTION]=void 0!==a.maxResolution?a.maxResolution:1/0,b[ol.layer.Property.MIN_RESOLUTION]=void 0!==a.minResolution?a.minResolution:0,this.setProperties(b),this.state_={layer:this,managed:!0}},ol.inherits(ol.layer.Base,ol.Object),ol.layer.Base.prototype.createRenderer=function(a){},ol.layer.Base.prototype.getLayerState=function(){return this.state_.opacity=ol.math.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},ol.layer.Base.prototype.getLayersArray=function(a){},ol.layer.Base.prototype.getLayerStatesArray=function(a){},ol.layer.Base.prototype.getExtent=function(){return this.get(ol.layer.Property.EXTENT)},ol.layer.Base.prototype.getMaxResolution=function(){return this.get(ol.layer.Property.MAX_RESOLUTION)},ol.layer.Base.prototype.getMinResolution=function(){return this.get(ol.layer.Property.MIN_RESOLUTION)},ol.layer.Base.prototype.getOpacity=function(){return this.get(ol.layer.Property.OPACITY)},ol.layer.Base.prototype.getSourceState=function(){},ol.layer.Base.prototype.getVisible=function(){return this.get(ol.layer.Property.VISIBLE)},ol.layer.Base.prototype.getZIndex=function(){return this.get(ol.layer.Property.Z_INDEX)},ol.layer.Base.prototype.setExtent=function(a){this.set(ol.layer.Property.EXTENT,a)},ol.layer.Base.prototype.setMaxResolution=function(a){this.set(ol.layer.Property.MAX_RESOLUTION,a)},ol.layer.Base.prototype.setMinResolution=function(a){this.set(ol.layer.Property.MIN_RESOLUTION,a)},ol.layer.Base.prototype.setOpacity=function(a){this.set(ol.layer.Property.OPACITY,a)},ol.layer.Base.prototype.setVisible=function(a){this.set(ol.layer.Property.VISIBLE,a)},ol.layer.Base.prototype.setZIndex=function(a){this.set(ol.layer.Property.Z_INDEX,a)},goog.provide("ol.source.State"),ol.source.State={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},goog.provide("ol.layer.Group"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.Object"),goog.require("ol.ObjectEventType"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.layer.Base"),goog.require("ol.obj"),goog.require("ol.source.State"),ol.layer.Group=function(a){var b=a||{},c=ol.obj.assign({},b);delete c.layers;var d=b.layers;ol.layer.Base.call(this,c),this.layersListenerKeys_=[],this.listenerKeys_={},ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Group.Property_.LAYERS),this.handleLayersChanged_,this),d?Array.isArray(d)?d=new ol.Collection(d.slice(),{unique:!0}):(ol.asserts.assert(d instanceof ol.Collection,43),d=d):d=new ol.Collection(void 0,{unique:!0}),this.setLayers(d)},ol.inherits(ol.layer.Group,ol.layer.Base),ol.layer.Group.prototype.createRenderer=function(a){},ol.layer.Group.prototype.handleLayerChange_=function(){this.getVisible()&&this.changed()},ol.layer.Group.prototype.handleLayersChanged_=function(a){this.layersListenerKeys_.forEach(ol.events.unlistenByKey),this.layersListenerKeys_.length=0;var b=this.getLayers();this.layersListenerKeys_.push(ol.events.listen(b,ol.CollectionEventType.ADD,this.handleLayersAdd_,this),ol.events.listen(b,ol.CollectionEventType.REMOVE,this.handleLayersRemove_,this));for(var c in this.listenerKeys_)this.listenerKeys_[c].forEach(ol.events.unlistenByKey);ol.obj.clear(this.listenerKeys_);var d,e,f,g=b.getArray()
;for(d=0,e=g.length;d<e;d++)f=g[d],this.listenerKeys_[ol.getUid(f).toString()]=[ol.events.listen(f,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(f,ol.events.EventType.CHANGE,this.handleLayerChange_,this)];this.changed()},ol.layer.Group.prototype.handleLayersAdd_=function(a){var b=a.element,c=ol.getUid(b).toString();this.listenerKeys_[c]=[ol.events.listen(b,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(b,ol.events.EventType.CHANGE,this.handleLayerChange_,this)],this.changed()},ol.layer.Group.prototype.handleLayersRemove_=function(a){var b=a.element,c=ol.getUid(b).toString();this.listenerKeys_[c].forEach(ol.events.unlistenByKey),delete this.listenerKeys_[c],this.changed()},ol.layer.Group.prototype.getLayers=function(){return this.get(ol.layer.Group.Property_.LAYERS)},ol.layer.Group.prototype.setLayers=function(a){this.set(ol.layer.Group.Property_.LAYERS,a)},ol.layer.Group.prototype.getLayersArray=function(a){var b=void 0!==a?a:[];return this.getLayers().forEach(function(a){a.getLayersArray(b)}),b},ol.layer.Group.prototype.getLayerStatesArray=function(a){var b=void 0!==a?a:[],c=b.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(b)});var d,e,f,g=this.getLayerState();for(d=c,e=b.length;d<e;d++)f=b[d],f.opacity*=g.opacity,f.visible=f.visible&&g.visible,f.maxResolution=Math.min(f.maxResolution,g.maxResolution),f.minResolution=Math.max(f.minResolution,g.minResolution),void 0!==g.extent&&(void 0!==f.extent?f.extent=ol.extent.getIntersection(f.extent,g.extent):f.extent=g.extent);return b},ol.layer.Group.prototype.getSourceState=function(){return ol.source.State.READY},ol.layer.Group.Property_={LAYERS:"layers"},goog.provide("ol.render.EventType"),ol.render.EventType={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"},goog.provide("ol.layer.Layer"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.layer.Base"),goog.require("ol.layer.Property"),goog.require("ol.obj"),goog.require("ol.render.EventType"),goog.require("ol.source.State"),ol.layer.Layer=function(a){var b=ol.obj.assign({},a);delete b.source,ol.layer.Base.call(this,b),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,a.map&&this.setMap(a.map),ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Property.SOURCE),this.handleSourcePropertyChange_,this);var c=a.source?a.source:null;this.setSource(c)},ol.inherits(ol.layer.Layer,ol.layer.Base),ol.layer.Layer.visibleAtResolution=function(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution},ol.layer.Layer.prototype.getLayersArray=function(a){var b=a||[];return b.push(this),b},ol.layer.Layer.prototype.getLayerStatesArray=function(a){var b=a||[];return b.push(this.getLayerState()),b},ol.layer.Layer.prototype.getSource=function(){return this.get(ol.layer.Property.SOURCE)||null},ol.layer.Layer.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():ol.source.State.UNDEFINED},ol.layer.Layer.prototype.handleSourceChange_=function(){this.changed()},ol.layer.Layer.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ol.events.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleSourceChange_,this)),this.changed()},ol.layer.Layer.prototype.setMap=function(a){this.mapPrecomposeKey_&&(ol.events.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),a||this.changed(),this.mapRenderKey_&&(ol.events.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),a&&(this.mapPrecomposeKey_=ol.events.listen(a,ol.render.EventType.PRECOMPOSE,function(a){var b=this.getLayerState();b.managed=!1,b.zIndex=1/0,a.frameState.layerStatesArray.push(b),a.frameState.layerStates[ol.getUid(this)]=b},this),this.mapRenderKey_=ol.events.listen(this,ol.events.EventType.CHANGE,a.render,a),this.changed())},ol.layer.Layer.prototype.setSource=function(a){this.set(ol.layer.Property.SOURCE,a)},goog.provide("ol.style.IconImageCache"),goog.require("ol.color"),ol.style.IconImageCache=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32},ol.style.IconImageCache.getKey=function(a,b,c){return b+":"+a+":"+(c?ol.color.asString(c):"null")},ol.style.IconImageCache.prototype.clear=function(){this.cache_={},this.cacheSize_=0},ol.style.IconImageCache.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var a,b,c=0;for(a in this.cache_)b=this.cache_[a],0!=(3&c++)||b.hasListener()||(delete this.cache_[a],--this.cacheSize_)}};ol.style.IconImageCache.prototype.get=function(a,b,c){var d=ol.style.IconImageCache.getKey(a,b,c);return d in this.cache_?this.cache_[d]:null},ol.style.IconImageCache.prototype.set=function(a,b,c,d){var e=ol.style.IconImageCache.getKey(a,b,c);this.cache_[e]=d,++this.cacheSize_},goog.provide("ol.style"),goog.require("ol.style.IconImageCache"),ol.style.iconImageCache=new ol.style.IconImageCache,goog.provide("ol.transform"),goog.require("ol.asserts"),ol.transform.tmp_=new Array(6),ol.transform.create=function(){return[1,0,0,1,0,0]},ol.transform.reset=function(a){return ol.transform.set(a,1,0,0,1,0,0)},ol.transform.multiply=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5];return a[0]=c*i+e*j,a[1]=d*i+f*j,a[2]=c*k+e*l,a[3]=d*k+f*l,a[4]=c*m+e*n+g,a[5]=d*m+f*n+h,a},ol.transform.set=function(a,b,c,d,e,f,g){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a},ol.transform.setFromArray=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},ol.transform.apply=function(a,b){var c=b[0],d=b[1];return b[0]=a[0]*c+a[2]*d+a[4],b[1]=a[1]*c+a[3]*d+a[5],b},ol.transform.rotate=function(a,b){var c=Math.cos(b),d=Math.sin(b);return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,c,d,-d,c,0,0))},ol.transform.scale=function(a,b,c){return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,b,0,0,c,0,0))},ol.transform.translate=function(a,b,c){return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,1,0,0,1,b,c))},ol.transform.compose=function(a,b,c,d,e,f,g,h){var i=Math.sin(f),j=Math.cos(f);return a[0]=d*j,a[1]=e*i,a[2]=-d*i,a[3]=e*j,a[4]=g*d*j-h*d*i+b,a[5]=g*e*i+h*e*j+c,a},ol.transform.invert=function(a){var b=ol.transform.determinant(a);ol.asserts.assert(0!==b,32);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];return a[0]=f/b,a[1]=-d/b,a[2]=-e/b,a[3]=c/b,a[4]=(e*h-f*g)/b,a[5]=-(c*h-d*g)/b,a},ol.transform.determinant=function(a){return a[0]*a[3]-a[1]*a[2]},goog.provide("ol.renderer.Map"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.layer.Layer"),goog.require("ol.style"),goog.require("ol.transform"),ol.renderer.Map=function(a,b){ol.Disposable.call(this),this.map_=b,this.layerRenderers_={},this.layerRendererListeners_={}},ol.inherits(ol.renderer.Map,ol.Disposable),ol.renderer.Map.prototype.calculateMatrices2D=function(a){var b=a.viewState,c=a.coordinateToPixelTransform,d=a.pixelToCoordinateTransform;ol.transform.compose(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]),ol.transform.invert(ol.transform.setFromArray(d,c))},ol.renderer.Map.prototype.disposeInternal=function(){for(var a in this.layerRenderers_)this.layerRenderers_[a].dispose()},ol.renderer.Map.expireIconCache_=function(a,b){ol.style.iconImageCache.expire()},ol.renderer.Map.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f,g){function h(a,c){var f=ol.getUid(a).toString(),g=b.layerStates[ol.getUid(c)].managed;if(!(f in b.skippedFeatureUids)||g)return d.call(e,a,g?c:null)}var i,j=b.viewState,k=j.resolution,l=j.projection,m=a;if(l.canWrapX()){var n=l.getExtent(),o=ol.extent.getWidth(n),p=a[0];if(p<n[0]||p>n[2]){m=[p+o*Math.ceil((n[0]-p)/o),a[1]]}}var q,r=b.layerStatesArray,s=r.length;for(q=s-1;q>=0;--q){var t=r[q],u=t.layer;if(ol.layer.Layer.visibleAtResolution(t,k)&&f.call(g,u)){var v=this.getLayerRenderer(u);if(u.getSource()&&(i=v.forEachFeatureAtCoordinate(u.getSource().getWrapX()?m:a,b,c,h,e)),i)return i}}},ol.renderer.Map.prototype.forEachLayerAtPixel=function(a,b,c,d,e,f){},ol.renderer.Map.prototype.hasFeatureAtCoordinate=function(a,b,c,d,e){return void 0!==this.forEachFeatureAtCoordinate(a,b,c,ol.functions.TRUE,this,d,e)},ol.renderer.Map.prototype.getLayerRenderer=function(a){var b=ol.getUid(a).toString();if(b in this.layerRenderers_)return this.layerRenderers_[b];var c=a.createRenderer(this);return this.layerRenderers_[b]=c,this.layerRendererListeners_[b]=ol.events.listen(c,ol.events.EventType.CHANGE,this.handleLayerRendererChange_,this),c},ol.renderer.Map.prototype.getLayerRendererByKey=function(a){return this.layerRenderers_[a]},ol.renderer.Map.prototype.getLayerRenderers=function(){return this.layerRenderers_},ol.renderer.Map.prototype.getMap=function(){return this.map_},ol.renderer.Map.prototype.getType=function(){},ol.renderer.Map.prototype.handleLayerRendererChange_=function(){this.map_.render()},ol.renderer.Map.prototype.removeLayerRendererByKey_=function(a){var b=this.layerRenderers_[a];return delete this.layerRenderers_[a],ol.events.unlistenByKey(this.layerRendererListeners_[a]),delete this.layerRendererListeners_[a],b},ol.renderer.Map.prototype.renderFrame=ol.nullFunction,ol.renderer.Map.prototype.removeUnusedLayerRenderers_=function(a,b){var c;for(c in this.layerRenderers_)b&&c in b.layerStates||this.removeLayerRendererByKey_(c).dispose()},ol.renderer.Map.prototype.scheduleExpireIconCache=function(a){a.postRenderFunctions.push(ol.renderer.Map.expireIconCache_)},ol.renderer.Map.prototype.scheduleRemoveUnusedLayerRenderers=function(a){var b;for(b in this.layerRenderers_)if(!(b in a.layerStates))return void a.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},ol.renderer.Map.sortByZIndex=function(a,b){return a.zIndex-b.zIndex},goog.provide("ol.renderer.Type"),ol.renderer.Type={CANVAS:"canvas",WEBGL:"webgl"},goog.provide("ol.render.Event"),goog.require("ol"),goog.require("ol.events.Event"),ol.render.Event=function(a,b,c,d,e){ol.events.Event.call(this,a),this.vectorContext=b,this.frameState=c,this.context=d,this.glContext=e},ol.inherits(ol.render.Event,ol.events.Event),goog.provide("ol.render.canvas"),ol.render.canvas.defaultFont="10px sans-serif",ol.render.canvas.defaultFillStyle=[0,0,0,1],ol.render.canvas.defaultLineCap="round",ol.render.canvas.defaultLineDash=[],ol.render.canvas.defaultLineDashOffset=0,ol.render.canvas.defaultLineJoin="round",ol.render.canvas.defaultMiterLimit=10,ol.render.canvas.defaultStrokeStyle=[0,0,0,1],ol.render.canvas.defaultTextAlign="center",ol.render.canvas.defaultTextBaseline="middle",ol.render.canvas.defaultLineWidth=1,ol.render.canvas.rotateAtOffset=function(a,b,c,d){0!==b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))},goog.provide("ol.render.VectorContext"),ol.render.VectorContext=function(){},ol.render.VectorContext.prototype.drawGeometry=function(a){},ol.render.VectorContext.prototype.setStyle=function(a){},ol.render.VectorContext.prototype.drawCircle=function(a,b){},ol.render.VectorContext.prototype.drawFeature=function(a,b){},ol.render.VectorContext.prototype.drawGeometryCollection=function(a,b){},ol.render.VectorContext.prototype.drawLineString=function(a,b){},ol.render.VectorContext.prototype.drawMultiLineString=function(a,b){},ol.render.VectorContext.prototype.drawMultiPoint=function(a,b){},ol.render.VectorContext.prototype.drawMultiPolygon=function(a,b){},ol.render.VectorContext.prototype.drawPoint=function(a,b){},ol.render.VectorContext.prototype.drawPolygon=function(a,b){},ol.render.VectorContext.prototype.drawText=function(a,b,c,d,e,f){},ol.render.VectorContext.prototype.setFillStrokeStyle=function(a,b){},ol.render.VectorContext.prototype.setImageStyle=function(a){},ol.render.VectorContext.prototype.setTextStyle=function(a){},goog.provide("ol.render.canvas.Immediate"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.colorlike"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.transform"),goog.require("ol.has"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas"),goog.require("ol.transform"),ol.render.canvas.Immediate=function(a,b,c,d,e){ol.render.VectorContext.call(this),this.context_=a,this.pixelRatio_=b,this.extent_=c,this.transform_=d,this.viewRotation_=e,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ol.transform.create()},ol.inherits(ol.render.canvas.Immediate,ol.render.VectorContext),ol.render.canvas.Immediate.prototype.drawImages_=function(a,b,c,d){if(this.image_){var e=ol.geom.flat.transform.transform2D(a,b,c,2,this.transform_,this.pixelCoordinates_),f=this.context_,g=this.tmpLocalTransform_,h=f.globalAlpha;1!=this.imageOpacity_&&(f.globalAlpha=h*this.imageOpacity_);var i=this.imageRotation_;this.imageRotateWithView_&&(i+=this.viewRotation_);var j,k;for(j=0,k=e.length;j<k;j+=2){var l=e[j]-this.imageAnchorX_,m=e[j+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(l=Math.round(l),m=Math.round(m)),0!==i||1!=this.imageScale_){var n=l+this.imageAnchorX_,o=m+this.imageAnchorY_;ol.transform.compose(g,n,o,this.imageScale_,this.imageScale_,i,-n,-o),f.setTransform.apply(f,g)}f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,l,m,this.imageWidth_,this.imageHeight_)}0===i&&1==this.imageScale_||f.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(f.globalAlpha=h)}},ol.render.canvas.Immediate.prototype.drawText_=function(a,b,c,d){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var e=ol.geom.flat.transform.transform2D(a,b,c,d,this.transform_,this.pixelCoordinates_),f=this.context_,g=this.textRotation_;for(this.textRotateWithView_&&(g+=this.viewRotation_);b<c;b+=d){var h=e[b]+this.textOffsetX_,i=e[b+1]+this.textOffsetY_;if(0!==g||1!=this.textScale_){var j=ol.transform.compose(this.tmpLocalTransform_,h,i,this.textScale_,this.textScale_,g,-h,-i);f.setTransform.apply(f,j)}this.textStrokeState_&&f.strokeText(this.text_,h,i),this.textFillState_&&f.fillText(this.text_,h,i)}0===g&&1==this.textScale_||f.setTransform(1,0,0,1,0,0)}},ol.render.canvas.Immediate.prototype.moveToLineTo_=function(a,b,c,d,e){var f=this.context_,g=ol.geom.flat.transform.transform2D(a,b,c,d,this.transform_,this.pixelCoordinates_);f.moveTo(g[0],g[1]);var h=g.length;e&&(h-=2);for(var i=2;i<h;i+=2)f.lineTo(g[i],g[i+1]);return e&&f.closePath(),c},ol.render.canvas.Immediate.prototype.drawRings_=function(a,b,c,d){var e,f;for(e=0,f=c.length;e<f;++e)b=this.moveToLineTo_(a,b,c[e],d,!0);return b},ol.render.canvas.Immediate.prototype.drawCircle=function(a){if(ol.extent.intersects(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var b=ol.geom.SimpleGeometry.transform2D(a,this.transform_,this.pixelCoordinates_),c=b[2]-b[0],d=b[3]-b[1],e=Math.sqrt(c*c+d*d),f=this.context_;f.beginPath(),f.arc(b[0],b[1],e,0,2*Math.PI),this.fillState_&&f.fill(),this.strokeState_&&f.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}},ol.render.canvas.Immediate.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke()),this.setImageStyle(a.getImage()),this.setTextStyle(a.getText())},ol.render.canvas.Immediate.prototype.drawGeometry=function(a){switch(a.getType()){case ol.geom.GeometryType.POINT:this.drawPoint(a);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(a);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(a);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(a);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(a);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(a);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(a);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(a)}},ol.render.canvas.Immediate.prototype.drawFeature=function(a,b){var c=b.getGeometryFunction()(a);c&&ol.extent.intersects(this.extent_,c.getExtent())&&(this.setStyle(b),this.drawGeometry(c))},ol.render.canvas.Immediate.prototype.drawGeometryCollection=function(a){var b,c,d=a.getGeometriesArray();for(b=0,c=d.length;b<c;++b)this.drawGeometry(d[b])},ol.render.canvas.Immediate.prototype.drawPoint=function(a){var b=a.getFlatCoordinates(),c=a.getStride();this.image_&&this.drawImages_(b,0,b.length,c),""!==this.text_&&this.drawText_(b,0,b.length,c)},ol.render.canvas.Immediate.prototype.drawMultiPoint=function(a){var b=a.getFlatCoordinates(),c=a.getStride();this.image_&&this.drawImages_(b,0,b.length,c),""!==this.text_&&this.drawText_(b,0,b.length,c)},ol.render.canvas.Immediate.prototype.drawLineString=function(a){if(ol.extent.intersects(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var b=this.context_,c=a.getFlatCoordinates();b.beginPath(),this.moveToLineTo_(c,0,c.length,a.getStride(),!1),b.stroke()}if(""!==this.text_){var d=a.getFlatMidpoint();this.drawText_(d,0,2,2)}}},ol.render.canvas.Immediate.prototype.drawMultiLineString=function(a){var b=a.getExtent();if(ol.extent.intersects(this.extent_,b)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var c=this.context_,d=a.getFlatCoordinates(),e=0,f=a.getEnds(),g=a.getStride();c.beginPath();var h,i;for(h=0,i=f.length;h<i;++h)e=this.moveToLineTo_(d,e,f[h],g,!1);c.stroke()}if(""!==this.text_){var j=a.getFlatMidpoints();this.drawText_(j,0,j.length,2)}}},ol.render.canvas.Immediate.prototype.drawPolygon=function(a){if(ol.extent.intersects(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var b=this.context_;b.beginPath(),this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride()),this.fillState_&&b.fill(),this.strokeState_&&b.stroke()}if(""!==this.text_){var c=a.getFlatInteriorPoint();this.drawText_(c,0,2,2)}}},ol.render.canvas.Immediate.prototype.drawMultiPolygon=function(a){if(ol.extent.intersects(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var b,c,d=this.context_,e=a.getOrientedFlatCoordinates(),f=0,g=a.getEndss(),h=a.getStride();for(d.beginPath(),b=0,c=g.length;b<c;++b){var i=g[b];f=this.drawRings_(e,f,i,h)}this.fillState_&&d.fill(),this.strokeState_&&d.stroke()}if(""!==this.text_){var j=a.getFlatInteriorPoints();this.drawText_(j,0,j.length,2)}}},ol.render.canvas.Immediate.prototype.setContextFillState_=function(a){var b=this.context_,c=this.contextFillState_;c?c.fillStyle!=a.fillStyle&&(c.fillStyle=b.fillStyle=a.fillStyle):(b.fillStyle=a.fillStyle,this.contextFillState_={fillStyle:a.fillStyle})},ol.render.canvas.Immediate.prototype.setContextStrokeState_=function(a){var b=this.context_,c=this.contextStrokeState_;c?(c.lineCap!=a.lineCap&&(c.lineCap=b.lineCap=a.lineCap),ol.has.CANVAS_LINE_DASH&&(ol.array.equals(c.lineDash,a.lineDash)||b.setLineDash(c.lineDash=a.lineDash)),c.lineJoin!=a.lineJoin&&(c.lineJoin=b.lineJoin=a.lineJoin),c.lineWidth!=a.lineWidth&&(c.lineWidth=b.lineWidth=a.lineWidth),c.miterLimit!=a.miterLimit&&(c.miterLimit=b.miterLimit=a.miterLimit),c.strokeStyle!=a.strokeStyle&&(c.strokeStyle=b.strokeStyle=a.strokeStyle)):(b.lineCap=a.lineCap,ol.has.CANVAS_LINE_DASH&&b.setLineDash(a.lineDash),b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})},ol.render.canvas.Immediate.prototype.setContextTextState_=function(a){var b=this.context_,c=this.contextTextState_;c?(c.font!=a.font&&(c.font=b.font=a.font),c.textAlign!=a.textAlign&&(c.textAlign=b.textAlign=a.textAlign),c.textBaseline!=a.textBaseline&&(c.textBaseline=b.textBaseline=a.textBaseline)):(b.font=a.font,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:a.textAlign,textBaseline:a.textBaseline})},ol.render.canvas.Immediate.prototype.setFillStrokeStyle=function(a,b){if(a){var c=a.getColor();this.fillState_={fillStyle:ol.colorlike.asColorLike(c||ol.render.canvas.defaultFillStyle)}}else this.fillState_=null;if(b){var d=b.getColor(),e=b.getLineCap(),f=b.getLineDash(),g=b.getLineDashOffset(),h=b.getLineJoin(),i=b.getWidth(),j=b.getMiterLimit();this.strokeState_={lineCap:void 0!==e?e:ol.render.canvas.defaultLineCap,lineDash:f||ol.render.canvas.defaultLineDash,lineDashOffset:g||ol.render.canvas.defaultLineDashOffset,lineJoin:void 0!==h?h:ol.render.canvas.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==i?i:ol.render.canvas.defaultLineWidth),miterLimit:void 0!==j?j:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(d||ol.render.canvas.defaultStrokeStyle)}}else this.strokeState_=null},ol.render.canvas.Immediate.prototype.setImageStyle=function(a){if(a){var b=a.getAnchor(),c=a.getImage(1),d=a.getOrigin(),e=a.getSize();this.imageAnchorX_=b[0],this.imageAnchorY_=b[1],this.imageHeight_=e[1],this.image_=c,this.imageOpacity_=a.getOpacity(),this.imageOriginX_=d[0],this.imageOriginY_=d[1],this.imageRotateWithView_=a.getRotateWithView(),this.imageRotation_=a.getRotation(),this.imageScale_=a.getScale(),this.imageSnapToPixel_=a.getSnapToPixel(),this.imageWidth_=e[0]}else this.image_=null},ol.render.canvas.Immediate.prototype.setTextStyle=function(a){if(a){var b=a.getFill();if(b){var c=b.getColor();this.textFillState_={fillStyle:ol.colorlike.asColorLike(c||ol.render.canvas.defaultFillStyle)}}else this.textFillState_=null;var d=a.getStroke();if(d){var e=d.getColor(),f=d.getLineCap(),g=d.getLineDash(),h=d.getLineDashOffset(),i=d.getLineJoin(),j=d.getWidth(),k=d.getMiterLimit();this.textStrokeState_={lineCap:void 0!==f?f:ol.render.canvas.defaultLineCap,lineDash:g||ol.render.canvas.defaultLineDash,lineDashOffset:h||ol.render.canvas.defaultLineDashOffset,lineJoin:void 0!==i?i:ol.render.canvas.defaultLineJoin,lineWidth:void 0!==j?j:ol.render.canvas.defaultLineWidth,miterLimit:void 0!==k?k:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(e||ol.render.canvas.defaultStrokeStyle)}}else this.textStrokeState_=null;var l=a.getFont(),m=a.getOffsetX(),n=a.getOffsetY(),o=a.getRotateWithView(),p=a.getRotation(),q=a.getScale(),r=a.getText(),s=a.getTextAlign(),t=a.getTextBaseline();this.textState_={font:void 0!==l?l:ol.render.canvas.defaultFont,textAlign:void 0!==s?s:ol.render.canvas.defaultTextAlign,textBaseline:void 0!==t?t:ol.render.canvas.defaultTextBaseline},this.text_=void 0!==r?r:"",this.textOffsetX_=void 0!==m?this.pixelRatio_*m:0,this.textOffsetY_=void 0!==n?this.pixelRatio_*n:0,this.textRotateWithView_=void 0!==o&&o,this.textRotation_=void 0!==p?p:0,this.textScale_=this.pixelRatio_*(void 0!==q?q:1)}else this.text_=""},goog.provide("ol.renderer.canvas.Map"),goog.require("ol.transform"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.layer.Layer"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.Type"),goog.require("ol.source.State"),ol.renderer.canvas.Map=function(a,b){ol.renderer.Map.call(this,a,b),this.context_=ol.dom.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ol.css.CLASS_UNSELECTABLE,a.insertBefore(this.canvas_,a.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=ol.transform.create()},ol.inherits(ol.renderer.canvas.Map,ol.renderer.Map),ol.renderer.canvas.Map.prototype.dispatchComposeEvent_=function(a,b){var c=this.getMap(),d=this.context_;if(c.hasListener(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState,h=g.rotation,i=this.getTransform(b),j=new ol.render.canvas.Immediate(d,f,e,i,h),k=new ol.render.Event(a,j,b,d,null);c.dispatchEvent(k)}},ol.renderer.canvas.Map.prototype.getTransform=function(a){var b=a.viewState,c=this.canvas_.width/2,d=this.canvas_.height/2,e=a.pixelRatio/b.resolution,f=-e,g=-b.rotation,h=-b.center[0],i=-b.center[1];return ol.transform.compose(this.transform_,c,d,e,f,g,h,i)},ol.renderer.canvas.Map.prototype.getType=function(){return ol.renderer.Type.CANVAS},ol.renderer.canvas.Map.prototype.renderFrame=function(a){if(!a)return void(this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1));var b=this.context_,c=a.pixelRatio,d=Math.round(a.size[0]*c),e=Math.round(a.size[1]*c);this.canvas_.width!=d||this.canvas_.height!=e?(this.canvas_.width=d,this.canvas_.height=e):b.clearRect(0,0,d,e);var f=a.viewState.rotation;this.calculateMatrices2D(a),this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a);var g=a.layerStatesArray;ol.array.stableSort(g,ol.renderer.Map.sortByZIndex),f&&(b.save(),ol.render.canvas.rotateAtOffset(b,f,d/2,e/2));var h,i,j,k,l,m=a.viewState.resolution;for(h=0,i=g.length;h<i;++h)l=g[h],j=l.layer,k=this.getLayerRenderer(j),ol.layer.Layer.visibleAtResolution(l,m)&&l.sourceState==ol.source.State.READY&&k.prepareFrame(a,l)&&k.composeFrame(a,l,b);f&&b.restore(),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(a),this.scheduleExpireIconCache(a)},ol.renderer.canvas.Map.prototype.forEachLayerAtPixel=function(a,b,c,d,e,f){var g,h,i=b.viewState,j=i.resolution,k=b.layerStatesArray,l=k.length,m=ol.transform.apply(b.pixelToCoordinateTransform,a.slice());for(h=l-1;h>=0;--h){var n=k[h],o=n.layer;if(ol.layer.Layer.visibleAtResolution(n,j)&&e.call(f,o)){if(g=this.getLayerRenderer(o).forEachLayerAtCoordinate(m,b,c,d))return g}}},goog.provide("ol.render.ReplayType"),ol.render.ReplayType={CIRCLE:"Circle",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},goog.provide("ol.render.replay"),goog.require("ol.render.ReplayType"),ol.render.replay.ORDER=[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],goog.provide("ol.render.ReplayGroup"),ol.render.ReplayGroup=function(){},ol.render.ReplayGroup.prototype.getReplay=function(a,b){},ol.render.ReplayGroup.prototype.isEmpty=function(){},goog.provide("ol.webgl.Shader"),goog.require("ol"),goog.require("ol.functions"),ol.ENABLE_WEBGL&&(ol.webgl.Shader=function(a){this.source_=a},ol.webgl.Shader.prototype.getType=function(){},ol.webgl.Shader.prototype.getSource=function(){return this.source_},ol.webgl.Shader.prototype.isAnimated=ol.functions.FALSE),goog.provide("ol.webgl.Fragment"),goog.require("ol"),goog.require("ol.webgl"),goog.require("ol.webgl.Shader"),ol.ENABLE_WEBGL&&(ol.webgl.Fragment=function(a){ol.webgl.Shader.call(this,a)},ol.inherits(ol.webgl.Fragment,ol.webgl.Shader),ol.webgl.Fragment.prototype.getType=function(){return ol.webgl.FRAGMENT_SHADER}),goog.provide("ol.webgl.Vertex"),goog.require("ol"),goog.require("ol.webgl"),goog.require("ol.webgl.Shader"),ol.ENABLE_WEBGL&&(ol.webgl.Vertex=function(a){ol.webgl.Shader.call(this,a)},ol.inherits(ol.webgl.Vertex,ol.webgl.Shader),ol.webgl.Vertex.prototype.getType=function(){return ol.webgl.VERTEX_SHADER}),goog.provide("ol.render.webgl.circlereplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.ENABLE_WEBGL&&(ol.render.webgl.circlereplay.defaultshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.render.webgl.circlereplay.defaultshader.Fragment.SOURCE)},ol.inherits(ol.render.webgl.circlereplay.defaultshader.Fragment,ol.webgl.Fragment),ol.render.webgl.circlereplay.defaultshader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n",ol.render.webgl.circlereplay.defaultshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}",ol.render.webgl.circlereplay.defaultshader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.circlereplay.defaultshader.Fragment.DEBUG_SOURCE:ol.render.webgl.circlereplay.defaultshader.Fragment.OPTIMIZED_SOURCE,ol.render.webgl.circlereplay.defaultshader.fragment=new ol.render.webgl.circlereplay.defaultshader.Fragment,ol.render.webgl.circlereplay.defaultshader.Vertex=function(){
ol.webgl.Vertex.call(this,ol.render.webgl.circlereplay.defaultshader.Vertex.SOURCE)},ol.inherits(ol.render.webgl.circlereplay.defaultshader.Vertex,ol.webgl.Vertex),ol.render.webgl.circlereplay.defaultshader.Vertex.DEBUG_SOURCE="varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n",ol.render.webgl.circlereplay.defaultshader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}",ol.render.webgl.circlereplay.defaultshader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.circlereplay.defaultshader.Vertex.DEBUG_SOURCE:ol.render.webgl.circlereplay.defaultshader.Vertex.OPTIMIZED_SOURCE,ol.render.webgl.circlereplay.defaultshader.vertex=new ol.render.webgl.circlereplay.defaultshader.Vertex,ol.render.webgl.circlereplay.defaultshader.Locations=function(a,b){this.u_fillColor=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_fillColor":"n"),this.u_lineWidth=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_offsetRotateMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_offsetScaleMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_opacity=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_opacity":"m"),this.u_pixelRatio=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_pixelRatio":"l"),this.u_projectionMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_size=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_size":"p"),this.u_strokeColor=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_strokeColor":"o"),this.a_instruction=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_instruction":"f"),this.a_position=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_position":"e"),this.a_radius=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_radius":"g")}),goog.provide("ol.vec.Mat4"),ol.vec.Mat4.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},ol.vec.Mat4.fromTransform=function(a,b){return a[0]=b[0],a[1]=b[1],a[4]=b[2],a[5]=b[3],a[12]=b[4],a[13]=b[5],a},goog.provide("ol.render.webgl.Replay"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.render.VectorContext"),goog.require("ol.transform"),goog.require("ol.vec.Mat4"),goog.require("ol.webgl"),ol.ENABLE_WEBGL&&(ol.render.webgl.Replay=function(a,b){ol.render.VectorContext.call(this),this.tolerance=a,this.maxExtent=b,this.origin=ol.extent.getCenter(b),this.projectionMatrix_=ol.transform.create(),this.offsetRotateMatrix_=ol.transform.create(),this.offsetScaleMatrix_=ol.transform.create(),this.tmpMat4_=ol.vec.Mat4.create(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0},ol.inherits(ol.render.webgl.Replay,ol.render.VectorContext),ol.render.webgl.Replay.prototype.getDeleteResourcesFunction=function(a){},ol.render.webgl.Replay.prototype.finish=function(a){},ol.render.webgl.Replay.prototype.setUpProgram=function(a,b,c,d){},ol.render.webgl.Replay.prototype.shutDownProgram=function(a,b){},ol.render.webgl.Replay.prototype.drawReplay=function(a,b,c,d){},ol.render.webgl.Replay.prototype.drawHitDetectionReplayOneByOne=function(a,b,c,d,e){},ol.render.webgl.Replay.prototype.drawHitDetectionReplay=function(a,b,c,d,e,f){return e?this.drawHitDetectionReplayOneByOne(a,b,c,d,f):this.drawHitDetectionReplayAll(a,b,c,d)},ol.render.webgl.Replay.prototype.drawHitDetectionReplayAll=function(a,b,c,d){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),this.drawReplay(a,b,c,!0);var e=d(null);return e||void 0},ol.render.webgl.Replay.prototype.replay=function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t=a.getGL();this.lineStringReplay&&(l=t.isEnabled(t.STENCIL_TEST),m=t.getParameter(t.STENCIL_FUNC),n=t.getParameter(t.STENCIL_VALUE_MASK),o=t.getParameter(t.STENCIL_REF),p=t.getParameter(t.STENCIL_WRITEMASK),q=t.getParameter(t.STENCIL_FAIL),r=t.getParameter(t.STENCIL_PASS_DEPTH_PASS),s=t.getParameter(t.STENCIL_PASS_DEPTH_FAIL),t.enable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.stencilMask(255),t.stencilFunc(t.ALWAYS,1,255),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),this.lineStringReplay.replay(a,b,c,d,e,f,g,h,i,j,k),t.stencilMask(0),t.stencilFunc(t.NOTEQUAL,1,255)),a.bindBuffer(ol.webgl.ARRAY_BUFFER,this.verticesBuffer),a.bindBuffer(ol.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var u=this.setUpProgram(t,a,e,f),v=ol.transform.reset(this.projectionMatrix_);ol.transform.scale(v,2/(c*e[0]),2/(c*e[1])),ol.transform.rotate(v,-d),ol.transform.translate(v,-(b[0]-this.origin[0]),-(b[1]-this.origin[1]));var w=ol.transform.reset(this.offsetScaleMatrix_);ol.transform.scale(w,2/e[0],2/e[1]);var x=ol.transform.reset(this.offsetRotateMatrix_);0!==d&&ol.transform.rotate(x,-d),t.uniformMatrix4fv(u.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,v)),t.uniformMatrix4fv(u.u_offsetScaleMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,w)),t.uniformMatrix4fv(u.u_offsetRotateMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,x)),t.uniform1f(u.u_opacity,g);var y;return void 0===i?this.drawReplay(t,a,h,!1):y=this.drawHitDetectionReplay(t,a,h,i,j,k),this.shutDownProgram(t,u),this.lineStringReplay&&(l||t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.stencilFunc(m,o,n),t.stencilMask(p),t.stencilOp(q,s,r)),y},ol.render.webgl.Replay.prototype.drawElements=function(a,b,c,d){var e=b.hasOESElementIndexUint?ol.webgl.UNSIGNED_INT:ol.webgl.UNSIGNED_SHORT,f=b.hasOESElementIndexUint?4:2,g=d-c,h=c*f;a.drawElements(ol.webgl.TRIANGLES,g,e,h)}),goog.provide("ol.render.webgl"),goog.require("ol"),ol.ENABLE_WEBGL&&(ol.render.webgl.defaultFillStyle=[0,0,0,1],ol.render.webgl.defaultLineCap="round",ol.render.webgl.defaultLineDash=[],ol.render.webgl.defaultLineDashOffset=0,ol.render.webgl.defaultLineJoin="round",ol.render.webgl.defaultMiterLimit=10,ol.render.webgl.defaultStrokeStyle=[0,0,0,1],ol.render.webgl.defaultLineWidth=1,ol.render.webgl.triangleIsCounterClockwise=function(a,b,c,d,e,f){var g=(c-a)*(f-b)-(e-a)*(d-b);return g<=ol.render.webgl.EPSILON&&g>=-ol.render.webgl.EPSILON?void 0:g>0},ol.render.webgl.EPSILON=Number.EPSILON||2.220446049250313e-16),goog.provide("ol.webgl.Buffer"),goog.require("ol"),goog.require("ol.webgl"),ol.ENABLE_WEBGL&&(ol.webgl.Buffer=function(a,b){this.arr_=void 0!==a?a:[],this.usage_=void 0!==b?b:ol.webgl.Buffer.Usage_.STATIC_DRAW},ol.webgl.Buffer.prototype.getArray=function(){return this.arr_},ol.webgl.Buffer.prototype.getUsage=function(){return this.usage_},ol.webgl.Buffer.Usage_={STATIC_DRAW:ol.webgl.STATIC_DRAW,STREAM_DRAW:ol.webgl.STREAM_DRAW,DYNAMIC_DRAW:ol.webgl.DYNAMIC_DRAW}),goog.provide("ol.render.webgl.CircleReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.geom.flat.transform"),goog.require("ol.render.webgl.circlereplay.defaultshader"),goog.require("ol.render.webgl.Replay"),goog.require("ol.render.webgl"),goog.require("ol.webgl");goog.require("ol.webgl.Buffer"),ol.ENABLE_WEBGL&&(ol.render.webgl.CircleReplay=function(a,b){ol.render.webgl.Replay.call(this,a,b),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}},ol.inherits(ol.render.webgl.CircleReplay,ol.render.webgl.Replay),ol.render.webgl.CircleReplay.prototype.drawCoordinates_=function(a,b,c,d){var e,f,g=this.vertices.length,h=this.indices.length,i=g/4;for(e=b,f=c;e<f;e+=d)this.vertices[g++]=a[e],this.vertices[g++]=a[e+1],this.vertices[g++]=0,this.vertices[g++]=this.radius_,this.vertices[g++]=a[e],this.vertices[g++]=a[e+1],this.vertices[g++]=1,this.vertices[g++]=this.radius_,this.vertices[g++]=a[e],this.vertices[g++]=a[e+1],this.vertices[g++]=2,this.vertices[g++]=this.radius_,this.vertices[g++]=a[e],this.vertices[g++]=a[e+1],this.vertices[g++]=3,this.vertices[g++]=this.radius_,this.indices[h++]=i,this.indices[h++]=i+1,this.indices[h++]=i+2,this.indices[h++]=i+2,this.indices[h++]=i+3,this.indices[h++]=i,i+=4},ol.render.webgl.CircleReplay.prototype.drawCircle=function(a,b){var c=a.getRadius(),d=a.getStride();if(c){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(b),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=c;var e=a.getFlatCoordinates();e=ol.geom.flat.transform.translate(e,0,2,d,-this.origin[0],-this.origin[1]),this.drawCoordinates_(e,0,2,d)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var f=this.styles_[this.styles_.length-1];this.state_.fillColor=f[0],this.state_.strokeColor=f[1],this.state_.lineWidth=f[2],this.state_.changed=!1}},ol.render.webgl.CircleReplay.prototype.finish=function(a){this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ol.render.webgl.CircleReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer,c=this.indicesBuffer;return function(){a.deleteBuffer(b),a.deleteBuffer(c)}},ol.render.webgl.CircleReplay.prototype.setUpProgram=function(a,b,c,d){var e,f;e=ol.render.webgl.circlereplay.defaultshader.fragment,f=ol.render.webgl.circlereplay.defaultshader.vertex;var g,h=b.getProgram(e,f);return this.defaultLocations_?g=this.defaultLocations_:(g=new ol.render.webgl.circlereplay.defaultshader.Locations(a,h),this.defaultLocations_=g),b.useProgram(h),a.enableVertexAttribArray(g.a_position),a.vertexAttribPointer(g.a_position,2,ol.webgl.FLOAT,!1,16,0),a.enableVertexAttribArray(g.a_instruction),a.vertexAttribPointer(g.a_instruction,1,ol.webgl.FLOAT,!1,16,8),a.enableVertexAttribArray(g.a_radius),a.vertexAttribPointer(g.a_radius,1,ol.webgl.FLOAT,!1,16,12),a.uniform2fv(g.u_size,c),a.uniform1f(g.u_pixelRatio,d),g},ol.render.webgl.CircleReplay.prototype.shutDownProgram=function(a,b){a.disableVertexAttribArray(b.a_position),a.disableVertexAttribArray(b.a_instruction),a.disableVertexAttribArray(b.a_radius)},ol.render.webgl.CircleReplay.prototype.drawReplay=function(a,b,c,d){if(ol.obj.isEmpty(c)){var e,f,g,h;for(g=this.startIndices[this.startIndices.length-1],e=this.styleIndices_.length-1;e>=0;--e)f=this.styleIndices_[e],h=this.styles_[e],this.setFillStyle_(a,h[0]),this.setStrokeStyle_(a,h[1],h[2]),this.drawElements(a,b,f,g),g=f}else this.drawReplaySkipping_(a,b,c)},ol.render.webgl.CircleReplay.prototype.drawHitDetectionReplayOneByOne=function(a,b,c,d,e){var f,g,h,i,j,k,l,m;for(m=this.startIndices.length-2,h=this.startIndices[m+1],f=this.styleIndices_.length-1;f>=0;--f)for(i=this.styles_[f],this.setFillStyle_(a,i[0]),this.setStrokeStyle_(a,i[1],i[2]),j=this.styleIndices_[f];m>=0&&this.startIndices[m]>=j;){if(g=this.startIndices[m],k=this.startIndicesFeature[m],l=ol.getUid(k).toString(),void 0===c[l]&&k.getGeometry()&&(void 0===e||ol.extent.intersects(e,k.getGeometry().getExtent()))){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),this.drawElements(a,b,g,h);var n=d(k);if(n)return n}m--,h=g}},ol.render.webgl.CircleReplay.prototype.drawReplaySkipping_=function(a,b,c){var d,e,f,g,h,i,j,k,l;for(k=this.startIndices.length-2,f=e=this.startIndices[k+1],d=this.styleIndices_.length-1;d>=0;--d){for(g=this.styles_[d],this.setFillStyle_(a,g[0]),this.setStrokeStyle_(a,g[1],g[2]),h=this.styleIndices_[d];k>=0&&this.startIndices[k]>=h;)l=this.startIndices[k],i=this.startIndicesFeature[k],j=ol.getUid(i).toString(),c[j]&&(e!==f&&this.drawElements(a,b,e,f),f=l),k--,e=l;e!==f&&this.drawElements(a,b,e,f),e=f=h}},ol.render.webgl.CircleReplay.prototype.setFillStyle_=function(a,b){a.uniform4fv(this.defaultLocations_.u_fillColor,b)},ol.render.webgl.CircleReplay.prototype.setStrokeStyle_=function(a,b,c){a.uniform4fv(this.defaultLocations_.u_strokeColor,b),a.uniform1f(this.defaultLocations_.u_lineWidth,c)},ol.render.webgl.CircleReplay.prototype.setFillStrokeStyle=function(a,b){var c,d;if(b){var e=b.getLineDash();this.state_.lineDash=e||ol.render.webgl.defaultLineDash;var f=b.getLineDashOffset();this.state_.lineDashOffset=f||ol.render.webgl.defaultLineDashOffset,c=b.getColor(),c=c instanceof CanvasGradient||c instanceof CanvasPattern?ol.render.webgl.defaultStrokeStyle:ol.color.asArray(c).map(function(a,b){return 3!=b?a/255:a})||ol.render.webgl.defaultStrokeStyle,d=b.getWidth(),d=void 0!==d?d:ol.render.webgl.defaultLineWidth}else c=[0,0,0,0],d=0;var g=a?a.getColor():[0,0,0,0];g=g instanceof CanvasGradient||g instanceof CanvasPattern?ol.render.webgl.defaultFillStyle:ol.color.asArray(g).map(function(a,b){return 3!=b?a/255:a})||ol.render.webgl.defaultFillStyle,this.state_.strokeColor&&ol.array.equals(this.state_.strokeColor,c)&&this.state_.fillColor&&ol.array.equals(this.state_.fillColor,g)&&this.state_.lineWidth===d||(this.state_.changed=!0,this.state_.fillColor=g,this.state_.strokeColor=c,this.state_.lineWidth=d,this.styles_.push([g,c,d]))}),goog.provide("ol.render.webgl.imagereplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.ENABLE_WEBGL&&(ol.render.webgl.imagereplay.defaultshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.render.webgl.imagereplay.defaultshader.Fragment.SOURCE)},ol.inherits(ol.render.webgl.imagereplay.defaultshader.Fragment,ol.webgl.Fragment),ol.render.webgl.imagereplay.defaultshader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n",ol.render.webgl.imagereplay.defaultshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}",ol.render.webgl.imagereplay.defaultshader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.imagereplay.defaultshader.Fragment.DEBUG_SOURCE:ol.render.webgl.imagereplay.defaultshader.Fragment.OPTIMIZED_SOURCE,ol.render.webgl.imagereplay.defaultshader.fragment=new ol.render.webgl.imagereplay.defaultshader.Fragment,ol.render.webgl.imagereplay.defaultshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.render.webgl.imagereplay.defaultshader.Vertex.SOURCE)},ol.inherits(ol.render.webgl.imagereplay.defaultshader.Vertex,ol.webgl.Vertex),ol.render.webgl.imagereplay.defaultshader.Vertex.DEBUG_SOURCE="varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n",ol.render.webgl.imagereplay.defaultshader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}",ol.render.webgl.imagereplay.defaultshader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.imagereplay.defaultshader.Vertex.DEBUG_SOURCE:ol.render.webgl.imagereplay.defaultshader.Vertex.OPTIMIZED_SOURCE,ol.render.webgl.imagereplay.defaultshader.vertex=new ol.render.webgl.imagereplay.defaultshader.Vertex,ol.render.webgl.imagereplay.defaultshader.Locations=function(a,b){this.u_image=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_image":"l"),this.u_offsetRotateMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_offsetScaleMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_opacity=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_opacity":"k"),this.u_projectionMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.a_offsets=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_offsets":"e"),this.a_opacity=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_opacity":"f"),this.a_position=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_position":"c"),this.a_rotateWithView=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_rotateWithView":"g"),this.a_texCoord=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_texCoord":"d")}),goog.provide("ol.webgl.ContextEventType"),ol.webgl.ContextEventType={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},goog.provide("ol.webgl.Context"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.array"),goog.require("ol.events"),goog.require("ol.obj"),goog.require("ol.webgl"),goog.require("ol.webgl.ContextEventType"),ol.ENABLE_WEBGL&&(ol.webgl.Context=function(a,b){this.canvas_=a,this.gl_=b,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=ol.array.includes(ol.WEBGL_EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&b.getExtension("OES_element_index_uint"),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this)},ol.inherits(ol.webgl.Context,ol.Disposable),ol.webgl.Context.prototype.bindBuffer=function(a,b){var c=this.getGL(),d=b.getArray(),e=String(ol.getUid(b));if(e in this.bufferCache_){var f=this.bufferCache_[e];c.bindBuffer(a,f.buffer)}else{var g=c.createBuffer();c.bindBuffer(a,g);var h;a==ol.webgl.ARRAY_BUFFER?h=new Float32Array(d):a==ol.webgl.ELEMENT_ARRAY_BUFFER&&(h=this.hasOESElementIndexUint?new Uint32Array(d):new Uint16Array(d)),c.bufferData(a,h,b.getUsage()),this.bufferCache_[e]={buf:b,buffer:g}}},ol.webgl.Context.prototype.deleteBuffer=function(a){var b=this.getGL(),c=String(ol.getUid(a)),d=this.bufferCache_[c];b.isContextLost()||b.deleteBuffer(d.buffer),delete this.bufferCache_[c]},ol.webgl.Context.prototype.disposeInternal=function(){ol.events.unlistenAll(this.canvas_);var a=this.getGL();if(!a.isContextLost()){var b;for(b in this.bufferCache_)a.deleteBuffer(this.bufferCache_[b].buffer);for(b in this.programCache_)a.deleteProgram(this.programCache_[b]);for(b in this.shaderCache_)a.deleteShader(this.shaderCache_[b]);a.deleteFramebuffer(this.hitDetectionFramebuffer_),a.deleteRenderbuffer(this.hitDetectionRenderbuffer_),a.deleteTexture(this.hitDetectionTexture_)}},ol.webgl.Context.prototype.getCanvas=function(){return this.canvas_},ol.webgl.Context.prototype.getGL=function(){return this.gl_},ol.webgl.Context.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},ol.webgl.Context.prototype.getShader=function(a){var b=String(ol.getUid(a));if(b in this.shaderCache_)return this.shaderCache_[b];var c=this.getGL(),d=c.createShader(a.getType());return c.shaderSource(d,a.getSource()),c.compileShader(d),this.shaderCache_[b]=d,d},ol.webgl.Context.prototype.getProgram=function(a,b){var c=ol.getUid(a)+"/"+ol.getUid(b);if(c in this.programCache_)return this.programCache_[c];var d=this.getGL(),e=d.createProgram();return d.attachShader(e,this.getShader(a)),d.attachShader(e,this.getShader(b)),d.linkProgram(e),this.programCache_[c]=e,e},ol.webgl.Context.prototype.handleWebGLContextLost=function(){ol.obj.clear(this.bufferCache_),ol.obj.clear(this.shaderCache_),ol.obj.clear(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},ol.webgl.Context.prototype.handleWebGLContextRestored=function(){},ol.webgl.Context.prototype.initHitDetectionFramebuffer_=function(){var a=this.gl_,b=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,b);var c=ol.webgl.Context.createEmptyTexture(a,1,1),d=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,d),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,1,1),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,c,0),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,d),a.bindTexture(a.TEXTURE_2D,null),a.bindRenderbuffer(a.RENDERBUFFER,null),a.bindFramebuffer(a.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=b,this.hitDetectionTexture_=c,this.hitDetectionRenderbuffer_=d},ol.webgl.Context.prototype.useProgram=function(a){return a!=this.currentProgram_&&(this.getGL().useProgram(a),this.currentProgram_=a,!0)},ol.webgl.Context.createTexture_=function(a,b,c){var d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),void 0!==b&&a.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,b),void 0!==c&&a.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,c),d},ol.webgl.Context.createEmptyTexture=function(a,b,c,d,e){var f=ol.webgl.Context.createTexture_(a,d,e);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null),f},ol.webgl.Context.createTexture=function(a,b,c,d){var e=ol.webgl.Context.createTexture_(a,c,d);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),e}),goog.provide("ol.render.webgl.ImageReplay"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.render.webgl.imagereplay.defaultshader"),goog.require("ol.render.webgl.Replay"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),goog.require("ol.webgl.Context"),ol.ENABLE_WEBGL&&(ol.render.webgl.ImageReplay=function(a,b){ol.render.webgl.Replay.call(this,a,b),this.anchorX_=void 0,this.anchorY_=void 0,this.groupIndices_=[],this.hitDetectionGroupIndices_=[],this.height_=void 0,this.images_=[],this.hitDetectionImages_=[],this.imageHeight_=void 0,this.imageWidth_=void 0,this.defaultLocations_=null,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.textures_=[],this.hitDetectionTextures_=[],this.width_=void 0},ol.inherits(ol.render.webgl.ImageReplay,ol.render.webgl.Replay),ol.render.webgl.ImageReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer,c=this.indicesBuffer,d=this.textures_,e=this.hitDetectionTextures_,f=a.getGL();return function(){if(!f.isContextLost()){var g,h;for(g=0,h=d.length;g<h;++g)f.deleteTexture(d[g]);for(g=0,h=e.length;g<h;++g)f.deleteTexture(e[g])}a.deleteBuffer(b),a.deleteBuffer(c)}},ol.render.webgl.ImageReplay.prototype.drawCoordinates_=function(a,b,c,d){var e,f,g,h,i,j,k=this.anchorX_,l=this.anchorY_,m=this.height_,n=this.imageHeight_,o=this.imageWidth_,p=this.opacity_,q=this.originX_,r=this.originY_,s=this.rotateWithView_?1:0,t=-this.rotation_,u=this.scale_,v=this.width_,w=Math.cos(t),x=Math.sin(t),y=this.indices.length,z=this.vertices.length;for(e=b;e<c;e+=d)i=a[e]-this.origin[0],j=a[e+1]-this.origin[1],f=z/8,g=-u*k,h=-u*(m-l),this.vertices[z++]=i,this.vertices[z++]=j,this.vertices[z++]=g*w-h*x,this.vertices[z++]=g*x+h*w,this.vertices[z++]=q/o,this.vertices[z++]=(r+m)/n,this.vertices[z++]=p,this.vertices[z++]=s,g=u*(v-k),h=-u*(m-l),this.vertices[z++]=i,this.vertices[z++]=j,this.vertices[z++]=g*w-h*x,this.vertices[z++]=g*x+h*w,this.vertices[z++]=(q+v)/o,this.vertices[z++]=(r+m)/n,this.vertices[z++]=p,this.vertices[z++]=s,g=u*(v-k),h=u*l,this.vertices[z++]=i,this.vertices[z++]=j,this.vertices[z++]=g*w-h*x,this.vertices[z++]=g*x+h*w,this.vertices[z++]=(q+v)/o,this.vertices[z++]=r/n,this.vertices[z++]=p,this.vertices[z++]=s,g=-u*k,h=u*l,this.vertices[z++]=i,this.vertices[z++]=j,this.vertices[z++]=g*w-h*x,this.vertices[z++]=g*x+h*w,this.vertices[z++]=q/o,this.vertices[z++]=r/n,this.vertices[z++]=p,this.vertices[z++]=s,this.indices[y++]=f,this.indices[y++]=f+1,this.indices[y++]=f+2,this.indices[y++]=f,this.indices[y++]=f+2,this.indices[y++]=f+3;return z},ol.render.webgl.ImageReplay.prototype.drawMultiPoint=function(a,b){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(b);var c=a.getFlatCoordinates(),d=a.getStride();this.drawCoordinates_(c,0,c.length,d)},ol.render.webgl.ImageReplay.prototype.drawPoint=function(a,b){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(b);var c=a.getFlatCoordinates(),d=a.getStride();this.drawCoordinates_(c,0,c.length,d)},ol.render.webgl.ImageReplay.prototype.finish=function(a){var b=a.getGL();this.groupIndices_.push(this.indices.length),this.hitDetectionGroupIndices_.push(this.indices.length),this.verticesBuffer=new ol.webgl.Buffer(this.vertices);var c=this.indices;this.indicesBuffer=new ol.webgl.Buffer(c);var d={};this.createTextures_(this.textures_,this.images_,d,b),this.createTextures_(this.hitDetectionTextures_,this.hitDetectionImages_,d,b),this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.images_=null,this.hitDetectionImages_=null,this.imageHeight_=void 0,this.imageWidth_=void 0,this.indices=null,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.vertices=null,this.width_=void 0},ol.render.webgl.ImageReplay.prototype.createTextures_=function(a,b,c,d){var e,f,g,h,i=b.length;for(h=0;h<i;++h)f=b[h],g=ol.getUid(f).toString(),g in c?e=c[g]:(e=ol.webgl.Context.createTexture(d,f,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE),c[g]=e),a[h]=e},ol.render.webgl.ImageReplay.prototype.setUpProgram=function(a,b,c,d){var e,f=ol.render.webgl.imagereplay.defaultshader.fragment,g=ol.render.webgl.imagereplay.defaultshader.vertex,h=b.getProgram(f,g);return this.defaultLocations_?e=this.defaultLocations_:(e=new ol.render.webgl.imagereplay.defaultshader.Locations(a,h),this.defaultLocations_=e),b.useProgram(h),a.enableVertexAttribArray(e.a_position),a.vertexAttribPointer(e.a_position,2,ol.webgl.FLOAT,!1,32,0),a.enableVertexAttribArray(e.a_offsets),a.vertexAttribPointer(e.a_offsets,2,ol.webgl.FLOAT,!1,32,8),a.enableVertexAttribArray(e.a_texCoord),a.vertexAttribPointer(e.a_texCoord,2,ol.webgl.FLOAT,!1,32,16),a.enableVertexAttribArray(e.a_opacity),a.vertexAttribPointer(e.a_opacity,1,ol.webgl.FLOAT,!1,32,24),a.enableVertexAttribArray(e.a_rotateWithView),a.vertexAttribPointer(e.a_rotateWithView,1,ol.webgl.FLOAT,!1,32,28),e},ol.render.webgl.ImageReplay.prototype.shutDownProgram=function(a,b){a.disableVertexAttribArray(b.a_position),a.disableVertexAttribArray(b.a_offsets),a.disableVertexAttribArray(b.a_texCoord),a.disableVertexAttribArray(b.a_opacity),a.disableVertexAttribArray(b.a_rotateWithView)},ol.render.webgl.ImageReplay.prototype.drawReplay=function(a,b,c,d){var e=d?this.hitDetectionTextures_:this.textures_,f=d?this.hitDetectionGroupIndices_:this.groupIndices_;if(ol.obj.isEmpty(c)){var g,h,i;for(g=0,h=e.length,i=0;g<h;++g){a.bindTexture(ol.webgl.TEXTURE_2D,e[g]);var j=f[g];this.drawElements(a,b,i,j),i=j}}else this.drawReplaySkipping_(a,b,c,e,f)},ol.render.webgl.ImageReplay.prototype.drawReplaySkipping_=function(a,b,c,d,e){var f,g,h=0;for(f=0,g=d.length;f<g;++f){a.bindTexture(ol.webgl.TEXTURE_2D,d[f]);for(var i=f>0?e[f-1]:0,j=e[f],k=i,l=i;h<this.startIndices.length&&this.startIndices[h]<=j;){var m=this.startIndicesFeature[h];void 0!==c[ol.getUid(m).toString()]?(k!==l&&this.drawElements(a,b,k,l),k=h===this.startIndices.length-1?j:this.startIndices[h+1],l=k):l=h===this.startIndices.length-1?j:this.startIndices[h+1],h++}k!==l&&this.drawElements(a,b,k,l)}},ol.render.webgl.ImageReplay.prototype.drawHitDetectionReplayOneByOne=function(a,b,c,d,e){var f,g,h,i,j,k,l=this.startIndices.length-1;for(f=this.hitDetectionTextures_.length-1;f>=0;--f)for(a.bindTexture(ol.webgl.TEXTURE_2D,this.hitDetectionTextures_[f]),g=f>0?this.hitDetectionGroupIndices_[f-1]:0,i=this.hitDetectionGroupIndices_[f];l>=0&&this.startIndices[l]>=g;){if(h=this.startIndices[l],j=this.startIndicesFeature[l],k=ol.getUid(j).toString(),void 0===c[k]&&j.getGeometry()&&(void 0===e||ol.extent.intersects(e,j.getGeometry().getExtent()))){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),this.drawElements(a,b,h,i);var m=d(j);if(m)return m}i=h,l--}},ol.render.webgl.ImageReplay.prototype.setImageStyle=function(a){var b,c=a.getAnchor(),d=a.getImage(1),e=a.getImageSize(),f=a.getHitDetectionImage(1),g=a.getOpacity(),h=a.getOrigin(),i=a.getRotateWithView(),j=a.getRotation(),k=a.getSize(),l=a.getScale();0===this.images_.length?this.images_.push(d):(b=this.images_[this.images_.length-1],ol.getUid(b)!=ol.getUid(d)&&(this.groupIndices_.push(this.indices.length),this.images_.push(d))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(f):(b=this.hitDetectionImages_[this.hitDetectionImages_.length-1],ol.getUid(b)!=ol.getUid(f)&&(this.hitDetectionGroupIndices_.push(this.indices.length),this.hitDetectionImages_.push(f))),this.anchorX_=c[0],this.anchorY_=c[1],this.height_=k[1],this.imageHeight_=e[1],this.imageWidth_=e[0],this.opacity_=g,this.originX_=h[0],this.originY_=h[1],this.rotation_=j,this.rotateWithView_=i,this.scale_=l,this.width_=k[0]}),goog.provide("ol.geom.flat.topology"),goog.require("ol.geom.flat.area"),ol.geom.flat.topology.lineStringIsClosed=function(a,b,c,d){var e=c-d;return a[b]===a[e]&&a[b+1]===a[e+1]&&(c-b)/d>3&&!!ol.geom.flat.area.linearRing(a,b,c,d)},
goog.provide("ol.render.webgl.linestringreplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.ENABLE_WEBGL&&(ol.render.webgl.linestringreplay.defaultshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.render.webgl.linestringreplay.defaultshader.Fragment.SOURCE)},ol.inherits(ol.render.webgl.linestringreplay.defaultshader.Fragment,ol.webgl.Fragment),ol.render.webgl.linestringreplay.defaultshader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n",ol.render.webgl.linestringreplay.defaultshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}",ol.render.webgl.linestringreplay.defaultshader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.linestringreplay.defaultshader.Fragment.DEBUG_SOURCE:ol.render.webgl.linestringreplay.defaultshader.Fragment.OPTIMIZED_SOURCE,ol.render.webgl.linestringreplay.defaultshader.fragment=new ol.render.webgl.linestringreplay.defaultshader.Fragment,ol.render.webgl.linestringreplay.defaultshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.render.webgl.linestringreplay.defaultshader.Vertex.SOURCE)},ol.inherits(ol.render.webgl.linestringreplay.defaultshader.Vertex,ol.webgl.Vertex),ol.render.webgl.linestringreplay.defaultshader.Vertex.DEBUG_SOURCE="varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n",ol.render.webgl.linestringreplay.defaultshader.Vertex.OPTIMIZED_SOURCE="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}",ol.render.webgl.linestringreplay.defaultshader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.linestringreplay.defaultshader.Vertex.DEBUG_SOURCE:ol.render.webgl.linestringreplay.defaultshader.Vertex.OPTIMIZED_SOURCE,ol.render.webgl.linestringreplay.defaultshader.vertex=new ol.render.webgl.linestringreplay.defaultshader.Vertex,ol.render.webgl.linestringreplay.defaultshader.Locations=function(a,b){this.u_color=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_color":"n"),this.u_lineWidth=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_miterLimit=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_miterLimit":"l"),this.u_offsetRotateMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_offsetScaleMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_opacity=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_opacity":"m"),this.u_pixelRatio=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_pixelRatio":"p"),this.u_projectionMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_size=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_size":"o"),this.a_direction=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_direction":"g"),this.a_lastPos=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_lastPos":"d"),this.a_nextPos=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_nextPos":"f"),this.a_position=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_position":"e")}),goog.provide("ol.render.webgl.LineStringReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.extent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.transform"),goog.require("ol.geom.flat.topology"),goog.require("ol.obj"),goog.require("ol.render.webgl"),goog.require("ol.render.webgl.Replay"),goog.require("ol.render.webgl.linestringreplay.defaultshader"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.ENABLE_WEBGL&&(ol.render.webgl.LineStringReplay=function(a,b){ol.render.webgl.Replay.call(this,a,b),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}},ol.inherits(ol.render.webgl.LineStringReplay,ol.render.webgl.Replay),ol.render.webgl.LineStringReplay.prototype.drawCoordinates_=function(a,b,c,d){var e,f,g,h,i,j,k,l,m=this.vertices.length,n=this.indices.length,o="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,p="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,q=ol.geom.flat.topology.lineStringIsClosed(a,b,c,d),r=n,s=1;for(e=b,f=c;e<f;e+=d){if(i=m/7,j=k,k=l||[a[e],a[e+1]],e===b){if(l=[a[e+d],a[e+d+1]],c-b==2*d&&ol.array.equals(k,l))break;if(!q){p&&(m=this.addVertices_([0,0],k,l,s*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*p,m),m=this.addVertices_([0,0],k,l,-s*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*p,m),this.indices[n++]=i+2,this.indices[n++]=i,this.indices[n++]=i+1,this.indices[n++]=i+1,this.indices[n++]=i+3,this.indices[n++]=i+2),m=this.addVertices_([0,0],k,l,s*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(p||1),m),m=this.addVertices_([0,0],k,l,-s*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(p||1),m),r=m/7-1;continue}j=[a[c-2*d],a[c-2*d+1]],g=l}else{if(e===c-d){if(q){l=g;break}j=j||[0,0],m=this.addVertices_(j,k,[0,0],s*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(p||1),m),m=this.addVertices_(j,k,[0,0],-s*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(p||1),m),this.indices[n++]=i,this.indices[n++]=r-1,this.indices[n++]=r,this.indices[n++]=r,this.indices[n++]=i+1,this.indices[n++]=i,p&&(m=this.addVertices_(j,k,[0,0],s*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*p,m),m=this.addVertices_(j,k,[0,0],-s*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*p,m),this.indices[n++]=i+2,this.indices[n++]=i,this.indices[n++]=i+1,this.indices[n++]=i+1,this.indices[n++]=i+3,this.indices[n++]=i+2);break}l=[a[e+d],a[e+d+1]]}h=ol.render.webgl.triangleIsCounterClockwise(j[0],j[1],k[0],k[1],l[0],l[1])?-1:1,m=this.addVertices_(j,k,l,h*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(o||1),m),m=this.addVertices_(j,k,l,h*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_SECOND*(o||1),m),m=this.addVertices_(j,k,l,-h*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(o||1),m),e>b&&(this.indices[n++]=i,this.indices[n++]=r-1,this.indices[n++]=r,this.indices[n++]=i+2,this.indices[n++]=i,this.indices[n++]=s*h>0?r:r-1),this.indices[n++]=i,this.indices[n++]=i+2,this.indices[n++]=i+1,r=i+2,s=h,o&&(m=this.addVertices_(j,k,l,h*ol.render.webgl.LineStringReplay.Instruction_.MITER_TOP*o,m),this.indices[n++]=i+1,this.indices[n++]=i+3,this.indices[n++]=i)}q&&(i=i||m/7,h=ol.geom.flat.orient.linearRingIsClockwise([j[0],j[1],k[0],k[1],l[0],l[1]],0,6,2)?1:-1,m=this.addVertices_(j,k,l,h*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(o||1),m),m=this.addVertices_(j,k,l,-h*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(o||1),m),this.indices[n++]=i,this.indices[n++]=r-1,this.indices[n++]=r,this.indices[n++]=i+1,this.indices[n++]=i,this.indices[n++]=s*h>0?r:r-1)},ol.render.webgl.LineStringReplay.prototype.addVertices_=function(a,b,c,d,e){return this.vertices[e++]=a[0],this.vertices[e++]=a[1],this.vertices[e++]=b[0],this.vertices[e++]=b[1],this.vertices[e++]=c[0],this.vertices[e++]=c[1],this.vertices[e++]=d,e},ol.render.webgl.LineStringReplay.prototype.isValid_=function(a,b,c,d){var e=c-b;if(e<2*d)return!1;if(e===2*d){var f=[a[b],a[b+1]],g=[a[b+d],a[b+d+1]];return!ol.array.equals(f,g)}return!0},ol.render.webgl.LineStringReplay.prototype.drawLineString=function(a,b){var c=a.getFlatCoordinates(),d=a.getStride();this.isValid_(c,0,c.length,d)&&(c=ol.geom.flat.transform.translate(c,0,c.length,d,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(b),this.drawCoordinates_(c,0,c.length,d))},ol.render.webgl.LineStringReplay.prototype.drawMultiLineString=function(a,b){var c,d,e=this.indices.length,f=a.getLineStrings();for(c=0,d=f.length;c<d;++c){var g=f[c].getFlatCoordinates(),h=f[c].getStride();this.isValid_(g,0,g.length,h)&&(g=ol.geom.flat.transform.translate(g,0,g.length,h,-this.origin[0],-this.origin[1]),this.drawCoordinates_(g,0,g.length,h))}this.indices.length>e&&(this.startIndices.push(e),this.startIndicesFeature.push(b),this.state_.changed&&(this.styleIndices_.push(e),this.state_.changed=!1))},ol.render.webgl.LineStringReplay.prototype.drawPolygonCoordinates=function(a,b,c){if(ol.geom.flat.topology.lineStringIsClosed(a,0,a.length,c)||(a.push(a[0]),a.push(a[1])),this.drawCoordinates_(a,0,a.length,c),b.length){var d,e;for(d=0,e=b.length;d<e;++d)ol.geom.flat.topology.lineStringIsClosed(b[d],0,b[d].length,c)||(b[d].push(b[d][0]),b[d].push(b[d][1])),this.drawCoordinates_(b[d],0,b[d].length,c)}},ol.render.webgl.LineStringReplay.prototype.setPolygonStyle=function(a,b){var c=void 0===b?this.indices.length:b;this.startIndices.push(c),this.startIndicesFeature.push(a),this.state_.changed&&(this.styleIndices_.push(c),this.state_.changed=!1)},ol.render.webgl.LineStringReplay.prototype.getCurrentIndex=function(){return this.indices.length},ol.render.webgl.LineStringReplay.prototype.finish=function(a){this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ol.render.webgl.LineStringReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer,c=this.indicesBuffer;return function(){a.deleteBuffer(b),a.deleteBuffer(c)}},ol.render.webgl.LineStringReplay.prototype.setUpProgram=function(a,b,c,d){var e,f;e=ol.render.webgl.linestringreplay.defaultshader.fragment,f=ol.render.webgl.linestringreplay.defaultshader.vertex;var g,h=b.getProgram(e,f);return this.defaultLocations_?g=this.defaultLocations_:(g=new ol.render.webgl.linestringreplay.defaultshader.Locations(a,h),this.defaultLocations_=g),b.useProgram(h),a.enableVertexAttribArray(g.a_lastPos),a.vertexAttribPointer(g.a_lastPos,2,ol.webgl.FLOAT,!1,28,0),a.enableVertexAttribArray(g.a_position),a.vertexAttribPointer(g.a_position,2,ol.webgl.FLOAT,!1,28,8),a.enableVertexAttribArray(g.a_nextPos),a.vertexAttribPointer(g.a_nextPos,2,ol.webgl.FLOAT,!1,28,16),a.enableVertexAttribArray(g.a_direction),a.vertexAttribPointer(g.a_direction,1,ol.webgl.FLOAT,!1,28,24),a.uniform2fv(g.u_size,c),a.uniform1f(g.u_pixelRatio,d),g},ol.render.webgl.LineStringReplay.prototype.shutDownProgram=function(a,b){a.disableVertexAttribArray(b.a_lastPos),a.disableVertexAttribArray(b.a_position),a.disableVertexAttribArray(b.a_nextPos),a.disableVertexAttribArray(b.a_direction)},ol.render.webgl.LineStringReplay.prototype.drawReplay=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);if(d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL)),ol.obj.isEmpty(c)){var g,h,i,j;for(i=this.startIndices[this.startIndices.length-1],g=this.styleIndices_.length-1;g>=0;--g)h=this.styleIndices_[g],j=this.styles_[g],this.setStrokeStyle_(a,j[0],j[1],j[2]),this.drawElements(a,b,h,i),a.clear(a.DEPTH_BUFFER_BIT),i=h}else this.drawReplaySkipping_(a,b,c);d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))},ol.render.webgl.LineStringReplay.prototype.drawReplaySkipping_=function(a,b,c){var d,e,f,g,h,i,j,k,l;for(k=this.startIndices.length-2,f=e=this.startIndices[k+1],d=this.styleIndices_.length-1;d>=0;--d){for(g=this.styles_[d],this.setStrokeStyle_(a,g[0],g[1],g[2]),h=this.styleIndices_[d];k>=0&&this.startIndices[k]>=h;)l=this.startIndices[k],i=this.startIndicesFeature[k],j=ol.getUid(i).toString(),c[j]&&(e!==f&&(this.drawElements(a,b,e,f),a.clear(a.DEPTH_BUFFER_BIT)),f=l),k--,e=l;e!==f&&(this.drawElements(a,b,e,f),a.clear(a.DEPTH_BUFFER_BIT)),e=f=h}},ol.render.webgl.LineStringReplay.prototype.drawHitDetectionReplayOneByOne=function(a,b,c,d,e){var f,g,h,i,j,k,l,m;for(m=this.startIndices.length-2,h=this.startIndices[m+1],f=this.styleIndices_.length-1;f>=0;--f)for(i=this.styles_[f],this.setStrokeStyle_(a,i[0],i[1],i[2]),j=this.styleIndices_[f];m>=0&&this.startIndices[m]>=j;){if(g=this.startIndices[m],k=this.startIndicesFeature[m],l=ol.getUid(k).toString(),void 0===c[l]&&k.getGeometry()&&(void 0===e||ol.extent.intersects(e,k.getGeometry().getExtent()))){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),this.drawElements(a,b,g,h);var n=d(k);if(n)return n}m--,h=g}},ol.render.webgl.LineStringReplay.prototype.setStrokeStyle_=function(a,b,c,d){a.uniform4fv(this.defaultLocations_.u_color,b),a.uniform1f(this.defaultLocations_.u_lineWidth,c),a.uniform1f(this.defaultLocations_.u_miterLimit,d)},ol.render.webgl.LineStringReplay.prototype.setFillStrokeStyle=function(a,b){var c=b.getLineCap();this.state_.lineCap=void 0!==c?c:ol.render.webgl.defaultLineCap;var d=b.getLineDash();this.state_.lineDash=d||ol.render.webgl.defaultLineDash;var e=b.getLineDashOffset();this.state_.lineDashOffset=e||ol.render.webgl.defaultLineDashOffset;var f=b.getLineJoin();this.state_.lineJoin=void 0!==f?f:ol.render.webgl.defaultLineJoin;var g=b.getColor();g=g instanceof CanvasGradient||g instanceof CanvasPattern?ol.render.webgl.defaultStrokeStyle:ol.color.asArray(g).map(function(a,b){return 3!=b?a/255:a})||ol.render.webgl.defaultStrokeStyle;var h=b.getWidth();h=void 0!==h?h:ol.render.webgl.defaultLineWidth;var i=b.getMiterLimit();i=void 0!==i?i:ol.render.webgl.defaultMiterLimit,this.state_.strokeColor&&ol.array.equals(this.state_.strokeColor,g)&&this.state_.lineWidth===h&&this.state_.miterLimit===i||(this.state_.changed=!0,this.state_.strokeColor=g,this.state_.lineWidth=h,this.state_.miterLimit=i,this.styles_.push([g,h,i]))},ol.render.webgl.LineStringReplay.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23}),goog.provide("ol.render.webgl.polygonreplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.ENABLE_WEBGL&&(ol.render.webgl.polygonreplay.defaultshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.render.webgl.polygonreplay.defaultshader.Fragment.SOURCE)},ol.inherits(ol.render.webgl.polygonreplay.defaultshader.Fragment,ol.webgl.Fragment),ol.render.webgl.polygonreplay.defaultshader.Fragment.DEBUG_SOURCE="precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n",ol.render.webgl.polygonreplay.defaultshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}",ol.render.webgl.polygonreplay.defaultshader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.polygonreplay.defaultshader.Fragment.DEBUG_SOURCE:ol.render.webgl.polygonreplay.defaultshader.Fragment.OPTIMIZED_SOURCE,ol.render.webgl.polygonreplay.defaultshader.fragment=new ol.render.webgl.polygonreplay.defaultshader.Fragment,ol.render.webgl.polygonreplay.defaultshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.render.webgl.polygonreplay.defaultshader.Vertex.SOURCE)},ol.inherits(ol.render.webgl.polygonreplay.defaultshader.Vertex,ol.webgl.Vertex),ol.render.webgl.polygonreplay.defaultshader.Vertex.DEBUG_SOURCE="\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n",ol.render.webgl.polygonreplay.defaultshader.Vertex.OPTIMIZED_SOURCE="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}",ol.render.webgl.polygonreplay.defaultshader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.polygonreplay.defaultshader.Vertex.DEBUG_SOURCE:ol.render.webgl.polygonreplay.defaultshader.Vertex.OPTIMIZED_SOURCE,ol.render.webgl.polygonreplay.defaultshader.vertex=new ol.render.webgl.polygonreplay.defaultshader.Vertex,ol.render.webgl.polygonreplay.defaultshader.Locations=function(a,b){this.u_color=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_color":"e"),this.u_offsetRotateMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"d"),this.u_offsetScaleMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"c"),this.u_opacity=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_opacity":"f"),this.u_projectionMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_projectionMatrix":"b"),this.a_position=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_position":"a")}),goog.provide("ol.style.Stroke"),goog.require("ol"),ol.style.Stroke=function(a){var b=a||{};this.color_=void 0!==b.color?b.color:null,this.lineCap_=b.lineCap,this.lineDash_=void 0!==b.lineDash?b.lineDash:null,this.lineDashOffset_=b.lineDashOffset,this.lineJoin_=b.lineJoin,this.miterLimit_=b.miterLimit,this.width_=b.width,this.checksum_=void 0},ol.style.Stroke.prototype.clone=function(){var a=this.getColor();return new ol.style.Stroke({color:a&&a.slice?a.slice():a||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},ol.style.Stroke.prototype.getColor=function(){return this.color_},ol.style.Stroke.prototype.getLineCap=function(){return this.lineCap_},ol.style.Stroke.prototype.getLineDash=function(){return this.lineDash_},ol.style.Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_},ol.style.Stroke.prototype.getLineJoin=function(){return this.lineJoin_},ol.style.Stroke.prototype.getMiterLimit=function(){return this.miterLimit_},ol.style.Stroke.prototype.getWidth=function(){return this.width_},ol.style.Stroke.prototype.setColor=function(a){this.color_=a,this.checksum_=void 0},ol.style.Stroke.prototype.setLineCap=function(a){this.lineCap_=a,this.checksum_=void 0},ol.style.Stroke.prototype.setLineDash=function(a){this.lineDash_=a,this.checksum_=void 0},ol.style.Stroke.prototype.setLineDashOffset=function(a){this.lineDashOffset_=a,this.checksum_=void 0},ol.style.Stroke.prototype.setLineJoin=function(a){this.lineJoin_=a,this.checksum_=void 0},ol.style.Stroke.prototype.setMiterLimit=function(a){this.miterLimit_=a,this.checksum_=void 0},ol.style.Stroke.prototype.setWidth=function(a){this.width_=a,this.checksum_=void 0},ol.style.Stroke.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=ol.getUid(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},goog.provide("ol.structs.LinkedList"),ol.structs.LinkedList=function(a){this.first_=void 0,this.last_=void 0,this.head_=void 0,this.circular_=void 0===a||a,this.length_=0},ol.structs.LinkedList.prototype.insertItem=function(a){var b={prev:void 0,next:void 0,data:a},c=this.head_;if(c){var d=c.next;b.prev=c,b.next=d,c.next=b,d&&(d.prev=b),c===this.last_&&(this.last_=b)}else this.first_=b,this.last_=b,this.circular_&&(b.next=b,b.prev=b);this.head_=b,this.length_++},ol.structs.LinkedList.prototype.removeItem=function(){var a=this.head_;if(a){var b=a.next,c=a.prev;b&&(b.prev=c),c&&(c.next=b),this.head_=b||c,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===a?this.first_=this.head_:this.last_===a&&(this.last_=c?this.head_.prev:this.head_),this.length_--}},ol.structs.LinkedList.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},ol.structs.LinkedList.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},ol.structs.LinkedList.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},ol.structs.LinkedList.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},ol.structs.LinkedList.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},ol.structs.LinkedList.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},ol.structs.LinkedList.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},ol.structs.LinkedList.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},ol.structs.LinkedList.prototype.concat=function(a){if(a.head_){if(this.head_){var b=this.head_.next;this.head_.next=a.first_,a.first_.prev=this.head_,b.prev=a.last_,a.last_.next=b,this.length_+=a.length_}else this.head_=a.head_,this.first_=a.first_,this.last_=a.last_,this.length_=a.length_;a.head_=void 0,a.first_=void 0,a.last_=void 0,a.length_=0}},ol.structs.LinkedList.prototype.getLength=function(){return this.length_},goog.provide("ol.ext.rbush"),ol.ext.rbush,function(){var a,b={},c={exports:b};!function(d){if("object"==typeof b&&void 0!==c)c.exports=d();else if("function"==typeof a&&a.amd)a([],d);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.rbush=d()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}
for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b,c,g,h){for(c=c||0,g=g||a.length-1,h=h||f;g>c;){if(g-c>600){var i=g-c+1,j=b-c+1,k=Math.log(i),l=.5*Math.exp(2*k/3),m=.5*Math.sqrt(k*l*(i-l)/i)*(j-i/2<0?-1:1);d(a,b,Math.max(c,Math.floor(b-j*l/i+m)),Math.min(g,Math.floor(b+(i-j)*l/i+m)),h)}var n=a[b],o=c,p=g;for(e(a,c,b),h(a[g],n)>0&&e(a,c,g);o<p;){for(e(a,o,p),o++,p--;h(a[o],n)<0;)o++;for(;h(a[p],n)>0;)p--}0===h(a[c],n)?e(a,c,p):(p++,e(a,p,g)),p<=b&&(c=p+1),b<=p&&(g=p-1)}}function e(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function f(a,b){return a<b?-1:a>b?1:0}b.exports=d},{}],2:[function(a,b,c){"use strict";function d(a,b){if(!(this instanceof d))return new d(a,b);this._maxEntries=Math.max(4,a||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),b&&this._initFormat(b),this.clear()}function e(a,b,c){if(!c)return b.indexOf(a);for(var d=0;d<b.length;d++)if(c(a,b[d]))return d;return-1}function f(a,b){g(a,0,a.children.length,b,a)}function g(a,b,c,d,e){e||(e=q(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var f,g=b;g<c;g++)f=a.children[g],h(e,a.leaf?d(f):f);return e}function h(a,b){return a.minX=Math.min(a.minX,b.minX),a.minY=Math.min(a.minY,b.minY),a.maxX=Math.max(a.maxX,b.maxX),a.maxY=Math.max(a.maxY,b.maxY),a}function i(a,b){return a.minX-b.minX}function j(a,b){return a.minY-b.minY}function k(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function l(a){return a.maxX-a.minX+(a.maxY-a.minY)}function m(a,b){return(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))}function n(a,b){var c=Math.max(a.minX,b.minX),d=Math.max(a.minY,b.minY),e=Math.min(a.maxX,b.maxX),f=Math.min(a.maxY,b.maxY);return Math.max(0,e-c)*Math.max(0,f-d)}function o(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function p(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function q(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function r(a,b,c,d,e){for(var f,g=[b,c];g.length;)c=g.pop(),b=g.pop(),c-b<=d||(f=b+Math.ceil((c-b)/d/2)*d,s(a,f,b,c,e),g.push(b,f,f,c))}b.exports=d;var s=a("quickselect");d.prototype={all:function(){return this._all(this.data,[])},search:function(a){var b=this.data,c=[],d=this.toBBox;if(!p(a,b))return c;for(var e,f,g,h,i=[];b;){for(e=0,f=b.children.length;e<f;e++)g=b.children[e],h=b.leaf?d(g):g,p(a,h)&&(b.leaf?c.push(g):o(a,h)?this._all(g,c):i.push(g));b=i.pop()}return c},collides:function(a){var b=this.data,c=this.toBBox;if(!p(a,b))return!1;for(var d,e,f,g,h=[];b;){for(d=0,e=b.children.length;d<e;d++)if(f=b.children[d],g=b.leaf?c(f):f,p(a,g)){if(b.leaf||o(a,g))return!0;h.push(f)}b=h.pop()}return!1},load:function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}var d=this._build(a.slice(),0,a.length-1,0);if(this.data.children.length)if(this.data.height===d.height)this._splitRoot(this.data,d);else{if(this.data.height<d.height){var e=this.data;this.data=d,d=e}this._insert(d,this.data.height-d.height-1,!0)}else this.data=d;return this},insert:function(a){return a&&this._insert(a,this.data.height-1),this},clear:function(){return this.data=q([]),this},remove:function(a,b){if(!a)return this;for(var c,d,f,g,h=this.data,i=this.toBBox(a),j=[],k=[];h||j.length;){if(h||(h=j.pop(),d=j[j.length-1],c=k.pop(),g=!0),h.leaf&&-1!==(f=e(a,h.children,b)))return h.children.splice(f,1),j.push(h),this._condense(j),this;g||h.leaf||!o(h,i)?d?(c++,h=d.children[c],g=!1):h=null:(j.push(h),k.push(c),c=0,d=h,h=h.children[0])}return this},toBBox:function(a){return a},compareMinX:i,compareMinY:j,toJSON:function(){return this.data},fromJSON:function(a){return this.data=a,this},_all:function(a,b){for(var c=[];a;)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function(a,b,c,d){var e,g=c-b+1,h=this._maxEntries;if(g<=h)return e=q(a.slice(b,c+1)),f(e,this.toBBox),e;d||(d=Math.ceil(Math.log(g)/Math.log(h)),h=Math.ceil(g/Math.pow(h,d-1))),e=q([]),e.leaf=!1,e.height=d;var i,j,k,l,m=Math.ceil(g/h),n=m*Math.ceil(Math.sqrt(h));for(r(a,b,c,n,this.compareMinX),i=b;i<=c;i+=n)for(k=Math.min(i+n-1,c),r(a,i,k,m,this.compareMinY),j=i;j<=k;j+=m)l=Math.min(j+m-1,k),e.children.push(this._build(a,j,l,d-1));return f(e,this.toBBox),e},_chooseSubtree:function(a,b,c,d){for(var e,f,g,h,i,j,l,n;;){if(d.push(b),b.leaf||d.length-1===c)break;for(l=n=1/0,e=0,f=b.children.length;e<f;e++)g=b.children[e],i=k(g),j=m(a,g)-i,j<n?(n=j,l=i<l?i:l,h=g):j===n&&i<l&&(l=i,h=g);b=h||b.children[0]}return b},_insert:function(a,b,c){var d=this.toBBox,e=c?a:d(a),f=[],g=this._chooseSubtree(e,this.data,b,f);for(g.children.push(a),h(g,e);b>=0&&f[b].children.length>this._maxEntries;)this._split(f,b),b--;this._adjustParentBBoxes(e,f,b)},_split:function(a,b){var c=a[b],d=c.children.length,e=this._minEntries;this._chooseSplitAxis(c,e,d);var g=this._chooseSplitIndex(c,e,d),h=q(c.children.splice(g,c.children.length-g));h.height=c.height,h.leaf=c.leaf,f(c,this.toBBox),f(h,this.toBBox),b?a[b-1].children.push(h):this._splitRoot(c,h)},_splitRoot:function(a,b){this.data=q([a,b]),this.data.height=a.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},_chooseSplitIndex:function(a,b,c){var d,e,f,h,i,j,l,m;for(j=l=1/0,d=b;d<=c-b;d++)e=g(a,0,d,this.toBBox),f=g(a,d,c,this.toBBox),h=n(e,f),i=k(e)+k(f),h<j?(j=h,m=d,l=i<l?i:l):h===j&&i<l&&(l=i,m=d);return m},_chooseSplitAxis:function(a,b,c){var d=a.leaf?this.compareMinX:i,e=a.leaf?this.compareMinY:j;this._allDistMargin(a,b,c,d)<this._allDistMargin(a,b,c,e)&&a.children.sort(d)},_allDistMargin:function(a,b,c,d){a.children.sort(d);var e,f,i=this.toBBox,j=g(a,0,b,i),k=g(a,c-b,c,i),m=l(j)+l(k);for(e=b;e<c-b;e++)f=a.children[e],h(j,a.leaf?i(f):f),m+=l(j);for(e=c-b-1;e>=b;e--)f=a.children[e],h(k,a.leaf?i(f):f),m+=l(k);return m},_adjustParentBBoxes:function(a,b,c){for(var d=c;d>=0;d--)h(b[d],a)},_condense:function(a){for(var b,c=a.length-1;c>=0;c--)0===a[c].children.length?c>0?(b=a[c-1].children,b.splice(b.indexOf(a[c]),1)):this.clear():f(a[c],this.toBBox)},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0])),this.compareMinY=new Function("a","b",b.join(a[1])),this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}}},{quickselect:1}]},{},[2])(2)}),ol.ext.rbush=c.exports}(),goog.provide("ol.structs.RBush"),goog.require("ol"),goog.require("ol.ext.rbush"),goog.require("ol.extent"),goog.require("ol.obj"),ol.structs.RBush=function(a){this.rbush_=ol.ext.rbush(a),this.items_={}},ol.structs.RBush.prototype.insert=function(a,b){var c={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:b};this.rbush_.insert(c),this.items_[ol.getUid(b)]=c},ol.structs.RBush.prototype.load=function(a,b){for(var c=new Array(b.length),d=0,e=b.length;d<e;d++){var f=a[d],g=b[d],h={minX:f[0],minY:f[1],maxX:f[2],maxY:f[3],value:g};c[d]=h,this.items_[ol.getUid(g)]=h}this.rbush_.load(c)},ol.structs.RBush.prototype.remove=function(a){var b=ol.getUid(a),c=this.items_[b];return delete this.items_[b],null!==this.rbush_.remove(c)},ol.structs.RBush.prototype.update=function(a,b){var c=this.items_[ol.getUid(b)],d=[c.minX,c.minY,c.maxX,c.maxY];ol.extent.equals(d,a)||(this.remove(b),this.insert(a,b))},ol.structs.RBush.prototype.getAll=function(){return this.rbush_.all().map(function(a){return a.value})},ol.structs.RBush.prototype.getInExtent=function(a){var b={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]};return this.rbush_.search(b).map(function(a){return a.value})},ol.structs.RBush.prototype.forEach=function(a,b){return this.forEach_(this.getAll(),a,b)},ol.structs.RBush.prototype.forEachInExtent=function(a,b,c){return this.forEach_(this.getInExtent(a),b,c)},ol.structs.RBush.prototype.forEach_=function(a,b,c){for(var d,e=0,f=a.length;e<f;e++)if(d=b.call(c,a[e]))return d;return d},ol.structs.RBush.prototype.isEmpty=function(){return ol.obj.isEmpty(this.items_)},ol.structs.RBush.prototype.clear=function(){this.rbush_.clear(),this.items_={}},ol.structs.RBush.prototype.getExtent=function(a){var b=this.rbush_.data;return ol.extent.createOrUpdate(b.minX,b.minY,b.maxX,b.maxY,a)},goog.provide("ol.render.webgl.PolygonReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.transform"),goog.require("ol.render.webgl.polygonreplay.defaultshader"),goog.require("ol.render.webgl.LineStringReplay"),goog.require("ol.render.webgl.Replay"),goog.require("ol.render.webgl"),goog.require("ol.style.Stroke"),goog.require("ol.structs.LinkedList"),goog.require("ol.structs.RBush"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.ENABLE_WEBGL&&(ol.render.webgl.PolygonReplay=function(a,b){ol.render.webgl.Replay.call(this,a,b),this.lineStringReplay=new ol.render.webgl.LineStringReplay(a,b),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}},ol.inherits(ol.render.webgl.PolygonReplay,ol.render.webgl.Replay),ol.render.webgl.PolygonReplay.prototype.drawCoordinates_=function(a,b,c){var d=new ol.structs.LinkedList,e=new ol.structs.RBush,f=this.processFlatCoordinates_(a,c,d,e,!0);if(b.length){var g,h,i=[];for(g=0,h=b.length;g<h;++g){var j={list:new ol.structs.LinkedList,maxX:void 0};i.push(j),j.maxX=this.processFlatCoordinates_(b[g],c,j.list,e,!1)}for(i.sort(function(a,b){return b.maxX-a.maxX}),g=0;g<i.length;++g)this.bridgeHole_(i[g].list,i[g].maxX,d,f,e)}this.classifyPoints_(d,e,!1),this.triangulate_(d,e)},ol.render.webgl.PolygonReplay.prototype.processFlatCoordinates_=function(a,b,c,d,e){var f,g,h,i,j,k,l=ol.geom.flat.orient.linearRingIsClockwise(a,0,a.length,b),m=this.vertices.length/2,n=[],o=[];if(e===l){for(i=this.createPoint_(a[0],a[1],m++),j=i,h=a[0],f=b,g=a.length;f<g;f+=b)k=this.createPoint_(a[f],a[f+1],m++),o.push(this.insertItem_(j,k,c)),n.push([Math.min(j.x,k.x),Math.min(j.y,k.y),Math.max(j.x,k.x),Math.max(j.y,k.y)]),h=a[f]>h?a[f]:h,j=k;o.push(this.insertItem_(k,i,c)),n.push([Math.min(j.x,k.x),Math.min(j.y,k.y),Math.max(j.x,k.x),Math.max(j.y,k.y)])}else{var p=a.length-b;for(i=this.createPoint_(a[p],a[p+1],m++),j=i,h=a[p],f=p-b,g=0;f>=g;f-=b)k=this.createPoint_(a[f],a[f+1],m++),o.push(this.insertItem_(j,k,c)),n.push([Math.min(j.x,k.x),Math.min(j.y,k.y),Math.max(j.x,k.x),Math.max(j.y,k.y)]),h=a[f]>h?a[f]:h,j=k;o.push(this.insertItem_(k,i,c)),n.push([Math.min(j.x,k.x),Math.min(j.y,k.y),Math.max(j.x,k.x),Math.max(j.y,k.y)])}return d.load(n,o),h},ol.render.webgl.PolygonReplay.prototype.classifyPoints_=function(a,b,c){var d=a.firstItem(),e=d,f=a.nextItem(),g=!1;do{var h=c?ol.render.webgl.triangleIsCounterClockwise(f.p1.x,f.p1.y,e.p1.x,e.p1.y,e.p0.x,e.p0.y):ol.render.webgl.triangleIsCounterClockwise(e.p0.x,e.p0.y,e.p1.x,e.p1.y,f.p1.x,f.p1.y);void 0===h?(this.removeItem_(e,f,a,b),g=!0,f===d&&(d=a.getNextItem()),f=e,a.prevItem()):e.p1.reflex!==h&&(e.p1.reflex=h,g=!0),e=f,f=a.nextItem()}while(e!==d);return g},ol.render.webgl.PolygonReplay.prototype.bridgeHole_=function(a,b,c,d,e){this.classifyPoints_(a,e,!0);for(var f=a.firstItem();f.p1.x!==b;)f=a.nextItem();var g,h,i,j,k=f.p1,l={x:d,y:k.y,i:-1},m=1/0,n=this.getIntersections_({p0:k,p1:l},e,!0);for(g=0,h=n.length;g<h;++g){var o=n[g];if(void 0===o.p0.reflex){var p=this.calculateIntersection_(k,l,o.p0,o.p1,!0),q=Math.abs(k.x-p[0]);q<m&&(m=q,j={x:p[0],y:p[1],i:-1},f=o)}}if(m!==1/0){if(i=f.p1,m>0){var r=this.getPointsInTriangle_(k,j,f.p1,e);if(r.length){var s=1/0;for(g=0,h=r.length;g<h;++g){var t=r[g],u=Math.atan2(k.y-t.y,l.x-t.x);(u<s||u===s&&t.x<i.x)&&(s=u,i=t)}}}for(f=c.firstItem();f.p1!==i;)f=c.nextItem();var v={x:k.x,y:k.y,i:k.i,reflex:void 0},w={x:f.p1.x,y:f.p1.y,i:f.p1.i,reflex:void 0};a.getNextItem().p0=v,this.insertItem_(k,f.p1,a,e),this.insertItem_(w,v,a,e),f.p1=w,a.setFirstItem(),c.concat(a)}},ol.render.webgl.PolygonReplay.prototype.triangulate_=function(a,b){for(var c=!1,d=this.isSimple_(a,b);a.getLength()>3;)if(d){if(!this.clipEars_(a,b,d,c)&&!this.classifyPoints_(a,b,c)&&!this.resolveLocalSelfIntersections_(a,b,!0))break}else if(!this.clipEars_(a,b,d,c)&&!this.classifyPoints_(a,b,c)&&!this.resolveLocalSelfIntersections_(a,b)){if(!(d=this.isSimple_(a,b))){this.splitPolygon_(a,b);break}c=!this.isClockwise_(a),this.classifyPoints_(a,b,c)}if(3===a.getLength()){var e=this.indices.length;this.indices[e++]=a.getPrevItem().p0.i,this.indices[e++]=a.getCurrItem().p0.i,this.indices[e++]=a.getNextItem().p0.i}},ol.render.webgl.PolygonReplay.prototype.clipEars_=function(a,b,c,d){var e,f,g,h=this.indices.length,i=a.firstItem(),j=a.getPrevItem(),k=i,l=a.nextItem(),m=a.getNextItem(),n=!1;do{if(e=k.p0,f=k.p1,g=l.p1,!1===f.reflex){var o=d?this.diagonalIsInside_(m.p1,g,f,e,j.p0):this.diagonalIsInside_(j.p0,e,f,g,m.p1);(c||0===this.getIntersections_({p0:e,p1:g},b).length)&&o&&0===this.getPointsInTriangle_(e,f,g,b,!0).length&&(c||!1===e.reflex||!1===g.reflex||ol.geom.flat.orient.linearRingIsClockwise([j.p0.x,j.p0.y,e.x,e.y,f.x,f.y,g.x,g.y,m.p1.x,m.p1.y],0,10,2)===!d)&&(this.indices[h++]=e.i,this.indices[h++]=f.i,this.indices[h++]=g.i,this.removeItem_(k,l,a,b),l===i&&(i=m),n=!0)}j=a.getPrevItem(),k=a.getCurrItem(),l=a.nextItem(),m=a.getNextItem()}while(k!==i&&a.getLength()>3);return n},ol.render.webgl.PolygonReplay.prototype.resolveLocalSelfIntersections_=function(a,b,c){var d=a.firstItem();a.nextItem();var e=d,f=a.nextItem(),g=!1;do{var h=this.calculateIntersection_(e.p0,e.p1,f.p0,f.p1,c);if(h){var i=!1,j=this.vertices.length,k=this.indices.length,l=j/2,m=a.prevItem();a.removeItem(),b.remove(m),i=m===d;var n;if(c?(h[0]===e.p0.x&&h[1]===e.p0.y?(a.prevItem(),n=e.p0,f.p0=n,b.remove(e),i=i||e===d):(n=f.p1,e.p1=n,b.remove(f),i=i||f===d),a.removeItem()):(n=this.createPoint_(h[0],h[1],l),e.p1=n,f.p0=n,b.update([Math.min(e.p0.x,e.p1.x),Math.min(e.p0.y,e.p1.y),Math.max(e.p0.x,e.p1.x),Math.max(e.p0.y,e.p1.y)],e),b.update([Math.min(f.p0.x,f.p1.x),Math.min(f.p0.y,f.p1.y),Math.max(f.p0.x,f.p1.x),Math.max(f.p0.y,f.p1.y)],f)),this.indices[k++]=m.p0.i,this.indices[k++]=m.p1.i,this.indices[k++]=n.i,g=!0,i)break}e=a.getPrevItem(),f=a.nextItem()}while(e!==d);return g},ol.render.webgl.PolygonReplay.prototype.isSimple_=function(a,b){var c=a.firstItem(),d=c;do{if(this.getIntersections_(d,b).length)return!1;d=a.nextItem()}while(d!==c);return!0},ol.render.webgl.PolygonReplay.prototype.isClockwise_=function(a){var b=2*a.getLength(),c=new Array(b),d=a.firstItem(),e=d,f=0;do{c[f++]=e.p0.x,c[f++]=e.p0.y,e=a.nextItem()}while(e!==d);return ol.geom.flat.orient.linearRingIsClockwise(c,0,b,2)},ol.render.webgl.PolygonReplay.prototype.splitPolygon_=function(a,b){var c=a.firstItem(),d=c;do{var e=this.getIntersections_(d,b);if(e.length){var f=e[0],g=this.vertices.length/2,h=this.calculateIntersection_(d.p0,d.p1,f.p0,f.p1),i=this.createPoint_(h[0],h[1],g),j=new ol.structs.LinkedList,k=new ol.structs.RBush;this.insertItem_(i,d.p1,j,k),d.p1=i,b.update([Math.min(d.p0.x,i.x),Math.min(d.p0.y,i.y),Math.max(d.p0.x,i.x),Math.max(d.p0.y,i.y)],d);for(var l=a.nextItem();l!==f;)this.insertItem_(l.p0,l.p1,j,k),b.remove(l),a.removeItem(),l=a.getCurrItem();this.insertItem_(f.p0,i,j,k),f.p0=i,b.update([Math.min(f.p1.x,i.x),Math.min(f.p1.y,i.y),Math.max(f.p1.x,i.x),Math.max(f.p1.y,i.y)],f),this.classifyPoints_(a,b,!1),this.triangulate_(a,b),this.classifyPoints_(j,k,!1),this.triangulate_(j,k);break}d=a.nextItem()}while(d!==c)},ol.render.webgl.PolygonReplay.prototype.createPoint_=function(a,b,c){var d=this.vertices.length;return this.vertices[d++]=a,this.vertices[d++]=b,{x:a,y:b,i:c,reflex:void 0}},ol.render.webgl.PolygonReplay.prototype.insertItem_=function(a,b,c,d){var e={p0:a,p1:b};return c.insertItem(e),d&&d.insert([Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.x,b.x),Math.max(a.y,b.y)],e),e},ol.render.webgl.PolygonReplay.prototype.removeItem_=function(a,b,c,d){c.getCurrItem()===b&&(c.removeItem(),a.p1=b.p1,d.remove(b),d.update([Math.min(a.p0.x,a.p1.x),Math.min(a.p0.y,a.p1.y),Math.max(a.p0.x,a.p1.x),Math.max(a.p0.y,a.p1.y)],a))},ol.render.webgl.PolygonReplay.prototype.getPointsInTriangle_=function(a,b,c,d,e){var f,g,h,i,j=[],k=d.getInExtent([Math.min(a.x,b.x,c.x),Math.min(a.y,b.y,c.y),Math.max(a.x,b.x,c.x),Math.max(a.y,b.y,c.y)]);for(f=0,g=k.length;f<g;++f)for(h in k[f])"object"!=typeof(i=k[f][h])||e&&!i.reflex||i.x===a.x&&i.y===a.y||i.x===b.x&&i.y===b.y||i.x===c.x&&i.y===c.y||-1!==j.indexOf(i)||!ol.geom.flat.contains.linearRingContainsXY([a.x,a.y,b.x,b.y,c.x,c.y],0,6,2,i.x,i.y)||j.push(i);return j},ol.render.webgl.PolygonReplay.prototype.getIntersections_=function(a,b,c){var d,e,f=a.p0,g=a.p1,h=b.getInExtent([Math.min(f.x,g.x),Math.min(f.y,g.y),Math.max(f.x,g.x),Math.max(f.y,g.y)]),i=[];for(d=0,e=h.length;d<e;++d){var j=h[d];a!==j&&(c||j.p0!==g||j.p1!==f)&&this.calculateIntersection_(f,g,j.p0,j.p1,c)&&i.push(j)}return i},ol.render.webgl.PolygonReplay.prototype.calculateIntersection_=function(a,b,c,d,e){var f=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);if(0!==f){var g=((d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x))/f,h=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/f;if(!e&&g>ol.render.webgl.EPSILON&&g<1-ol.render.webgl.EPSILON&&h>ol.render.webgl.EPSILON&&h<1-ol.render.webgl.EPSILON||e&&g>=0&&g<=1&&h>=0&&h<=1)return[a.x+g*(b.x-a.x),a.y+g*(b.y-a.y)]}},ol.render.webgl.PolygonReplay.prototype.diagonalIsInside_=function(a,b,c,d,e){if(void 0===b.reflex||void 0===d.reflex)return!1;var f=(c.x-d.x)*(b.y-d.y)>(c.y-d.y)*(b.x-d.x),g=(e.x-d.x)*(b.y-d.y)<(e.y-d.y)*(b.x-d.x),h=(a.x-b.x)*(d.y-b.y)>(a.y-b.y)*(d.x-b.x),i=(c.x-b.x)*(d.y-b.y)<(c.y-b.y)*(d.x-b.x),j=d.reflex?g||f:g&&f,k=b.reflex?i||h:i&&h;return j&&k},ol.render.webgl.PolygonReplay.prototype.drawMultiPolygon=function(a,b){var c,d,e,f,g=a.getPolygons(),h=a.getStride(),i=this.indices.length,j=this.lineStringReplay.getCurrentIndex();for(c=0,d=g.length;c<d;++c){var k=g[c].getLinearRings();if(k.length>0){var l=k[0].getFlatCoordinates();l=ol.geom.flat.transform.translate(l,0,l.length,h,-this.origin[0],-this.origin[1]);var m,n=[];for(e=1,f=k.length;e<f;++e)m=k[e].getFlatCoordinates(),m=ol.geom.flat.transform.translate(m,0,m.length,h,-this.origin[0],-this.origin[1]),n.push(m);this.lineStringReplay.drawPolygonCoordinates(l,n,h),this.drawCoordinates_(l,n,h)}}this.indices.length>i&&(this.startIndices.push(i),this.startIndicesFeature.push(b),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>j&&this.lineStringReplay.setPolygonStyle(b,j)},ol.render.webgl.PolygonReplay.prototype.drawPolygon=function(a,b){var c=a.getLinearRings(),d=a.getStride();if(c.length>0){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(b),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(b);var e=c[0].getFlatCoordinates();e=ol.geom.flat.transform.translate(e,0,e.length,d,-this.origin[0],-this.origin[1]);var f,g,h,i=[];for(f=1,g=c.length;f<g;++f)h=c[f].getFlatCoordinates(),h=ol.geom.flat.transform.translate(h,0,h.length,d,-this.origin[0],-this.origin[1]),i.push(h);this.lineStringReplay.drawPolygonCoordinates(e,i,d),this.drawCoordinates_(e,i,d)}},ol.render.webgl.PolygonReplay.prototype.finish=function(a){this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(a),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ol.render.webgl.PolygonReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer,c=this.indicesBuffer,d=this.lineStringReplay.getDeleteResourcesFunction(a);return function(){a.deleteBuffer(b),a.deleteBuffer(c),d()}},ol.render.webgl.PolygonReplay.prototype.setUpProgram=function(a,b,c,d){var e,f;e=ol.render.webgl.polygonreplay.defaultshader.fragment,f=ol.render.webgl.polygonreplay.defaultshader.vertex;var g,h=b.getProgram(e,f);return this.defaultLocations_?g=this.defaultLocations_:(g=new ol.render.webgl.polygonreplay.defaultshader.Locations(a,h),this.defaultLocations_=g),b.useProgram(h),a.enableVertexAttribArray(g.a_position),a.vertexAttribPointer(g.a_position,2,ol.webgl.FLOAT,!1,8,0),g},ol.render.webgl.PolygonReplay.prototype.shutDownProgram=function(a,b){a.disableVertexAttribArray(b.a_position)},ol.render.webgl.PolygonReplay.prototype.drawReplay=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);if(d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL)),ol.obj.isEmpty(c)){var g,h,i,j;for(i=this.startIndices[this.startIndices.length-1],g=this.styleIndices_.length-1;g>=0;--g)h=this.styleIndices_[g],j=this.styles_[g],this.setFillStyle_(a,j),this.drawElements(a,b,h,i),i=h}else this.drawReplaySkipping_(a,b,c);d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))},ol.render.webgl.PolygonReplay.prototype.drawHitDetectionReplayOneByOne=function(a,b,c,d,e){var f,g,h,i,j,k,l,m;for(m=this.startIndices.length-2,h=this.startIndices[m+1],f=this.styleIndices_.length-1;f>=0;--f)for(i=this.styles_[f],this.setFillStyle_(a,i),j=this.styleIndices_[f];m>=0&&this.startIndices[m]>=j;){if(g=this.startIndices[m],k=this.startIndicesFeature[m],l=ol.getUid(k).toString(),void 0===c[l]&&k.getGeometry()&&(void 0===e||ol.extent.intersects(e,k.getGeometry().getExtent()))){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),this.drawElements(a,b,g,h);var n=d(k);if(n)return n}m--,h=g}},ol.render.webgl.PolygonReplay.prototype.drawReplaySkipping_=function(a,b,c){var d,e,f,g,h,i,j,k,l;for(k=this.startIndices.length-2,f=e=this.startIndices[k+1],d=this.styleIndices_.length-1;d>=0;--d){for(g=this.styles_[d],this.setFillStyle_(a,g),h=this.styleIndices_[d];k>=0&&this.startIndices[k]>=h;)l=this.startIndices[k],i=this.startIndicesFeature[k],j=ol.getUid(i).toString(),c[j]&&(e!==f&&(this.drawElements(a,b,e,f),a.clear(a.DEPTH_BUFFER_BIT)),f=l),k--,e=l;e!==f&&(this.drawElements(a,b,e,f),a.clear(a.DEPTH_BUFFER_BIT)),e=f=h}},ol.render.webgl.PolygonReplay.prototype.setFillStyle_=function(a,b){a.uniform4fv(this.defaultLocations_.u_color,b)},ol.render.webgl.PolygonReplay.prototype.setFillStrokeStyle=function(a,b){var c=a?a.getColor():[0,0,0,0];if(c=c instanceof CanvasGradient||c instanceof CanvasPattern?ol.render.webgl.defaultFillStyle:ol.color.asArray(c).map(function(a,b){return 3!=b?a/255:a})||ol.render.webgl.defaultFillStyle,this.state_.fillColor&&ol.array.equals(c,this.state_.fillColor)||(this.state_.fillColor=c,this.state_.changed=!0,this.styles_.push(c)),b)this.lineStringReplay.setFillStrokeStyle(null,b);else{var d=new ol.style.Stroke({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,d)}}),goog.provide("ol.render.webgl.TextReplay"),goog.require("ol"),ol.ENABLE_WEBGL&&(ol.render.webgl.TextReplay=function(a,b){},ol.render.webgl.TextReplay.prototype.setTextStyle=function(a){},ol.render.webgl.TextReplay.prototype.replay=function(a,b,c,d,e,f,g,h,i,j,k){},ol.render.webgl.TextReplay.prototype.drawText=function(a,b,c,d,e,f){},ol.render.webgl.TextReplay.prototype.finish=function(a){},ol.render.webgl.TextReplay.prototype.getDeleteResourcesFunction=function(a){return ol.nullFunction}),goog.provide("ol.render.webgl.ReplayGroup"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.render.replay"),goog.require("ol.render.ReplayGroup"),goog.require("ol.render.webgl.CircleReplay"),goog.require("ol.render.webgl.ImageReplay"),goog.require("ol.render.webgl.LineStringReplay"),goog.require("ol.render.webgl.PolygonReplay"),goog.require("ol.render.webgl.TextReplay"),ol.ENABLE_WEBGL&&(ol.render.webgl.ReplayGroup=function(a,b,c){ol.render.ReplayGroup.call(this),this.maxExtent_=b,this.tolerance_=a,this.renderBuffer_=c,this.replaysByZIndex_={}},ol.inherits(ol.render.webgl.ReplayGroup,ol.render.ReplayGroup),ol.render.webgl.ReplayGroup.prototype.getDeleteResourcesFunction=function(a){var b,c=[];for(b in this.replaysByZIndex_){var d,e=this.replaysByZIndex_[b];for(d in e)c.push(e[d].getDeleteResourcesFunction(a))}return function(){for(var a,b=c.length,d=0;d<b;d++)a=c[d].apply(this,arguments);return a}},ol.render.webgl.ReplayGroup.prototype.finish=function(a){var b;for(b in this.replaysByZIndex_){var c,d=this.replaysByZIndex_[b];for(c in d)d[c].finish(a)}},ol.render.webgl.ReplayGroup.prototype.getReplay=function(a,b){var c=void 0!==a?a.toString():"0",d=this.replaysByZIndex_[c];void 0===d&&(d={},this.replaysByZIndex_[c]=d);var e=d[b];if(void 0===e){e=new(0,ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_[b])(this.tolerance_,this.maxExtent_),d[b]=e}return e},ol.render.webgl.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)},ol.render.webgl.ReplayGroup.prototype.replay=function(a,b,c,d,e,f,g,h){var i=Object.keys(this.replaysByZIndex_).map(Number);i.sort(ol.array.numberSafeCompareFunction);var j,k,l,m,n,o;for(j=0,k=i.length;j<k;++j)for(n=this.replaysByZIndex_[i[j].toString()],l=0,m=ol.render.replay.ORDER.length;l<m;++l)void 0!==(o=n[ol.render.replay.ORDER[l]])&&o.replay(a,b,c,d,e,f,g,h,void 0,!1)},ol.render.webgl.ReplayGroup.prototype.replayHitDetection_=function(a,b,c,d,e,f,g,h,i,j,k){var l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(function(a,b){return b-a});var m,n,o,p,q,r;for(m=0,n=l.length;m<n;++m)for(p=this.replaysByZIndex_[l[m].toString()],o=ol.render.replay.ORDER.length-1;o>=0;--o)if(void 0!==(q=p[ol.render.replay.ORDER[o]])&&(r=q.replay(a,b,c,d,e,f,g,h,i,j,k)))return r},ol.render.webgl.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f,g,h,i,j){var k=b.getGL();k.bindFramebuffer(k.FRAMEBUFFER,b.getHitDetectionFramebuffer());var l;return void 0!==this.renderBuffer_&&(l=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(a),d*this.renderBuffer_)),this.replayHitDetection_(b,a,d,e,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,g,h,i,function(a){var b=new Uint8Array(4);if(k.readPixels(0,0,1,1,k.RGBA,k.UNSIGNED_BYTE,b),b[3]>0){var c=j(a);if(c)return c}},!0,l)},ol.render.webgl.ReplayGroup.prototype.hasFeatureAtCoordinate=function(a,b,c,d,e,f,g,h,i){var j=b.getGL();return j.bindFramebuffer(j.FRAMEBUFFER,b.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(b,a,d,e,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,g,h,i,function(a){var b=new Uint8Array(4);return j.readPixels(0,0,1,1,j.RGBA,j.UNSIGNED_BYTE,b),b[3]>0},!1)},ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_=[1,1],ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.webgl.CircleReplay,Image:ol.render.webgl.ImageReplay,LineString:ol.render.webgl.LineStringReplay,Polygon:ol.render.webgl.PolygonReplay,Text:ol.render.webgl.TextReplay}),goog.provide("ol.render.webgl.Immediate"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.render.ReplayType"),goog.require("ol.render.VectorContext"),goog.require("ol.render.webgl.ReplayGroup"),ol.ENABLE_WEBGL&&(ol.render.webgl.Immediate=function(a,b,c,d,e,f,g){ol.render.VectorContext.call(this),this.context_=a,this.center_=b,this.extent_=f,this.pixelRatio_=g,this.size_=e,this.rotation_=d,this.resolution_=c,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null},ol.inherits(ol.render.webgl.Immediate,ol.render.VectorContext),ol.render.webgl.Immediate.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke()),this.setImageStyle(a.getImage())},ol.render.webgl.Immediate.prototype.drawGeometry=function(a){switch(a.getType()){case ol.geom.GeometryType.POINT:this.drawPoint(a,null);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(a,null);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(a,null);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(a,null);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(a,null);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(a,null);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(a,null);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(a,null)}},ol.render.webgl.Immediate.prototype.drawFeature=function(a,b){var c=b.getGeometryFunction()(a);c&&ol.extent.intersects(this.extent_,c.getExtent())&&(this.setStyle(b),this.drawGeometry(c))},ol.render.webgl.Immediate.prototype.drawGeometryCollection=function(a,b){var c,d,e=a.getGeometriesArray();for(c=0,d=e.length;c<d;++c)this.drawGeometry(e[c])},ol.render.webgl.Immediate.prototype.drawPoint=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.IMAGE);e.setImageStyle(this.imageStyle_),e.drawPoint(a,b),e.finish(c);var f={};e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,f,void 0,!1),e.getDeleteResourcesFunction(c)()},ol.render.webgl.Immediate.prototype.drawMultiPoint=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.IMAGE);e.setImageStyle(this.imageStyle_),e.drawMultiPoint(a,b),e.finish(c);var f={};e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,f,void 0,!1),e.getDeleteResourcesFunction(c)()},ol.render.webgl.Immediate.prototype.drawLineString=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.LINE_STRING);e.setFillStrokeStyle(null,this.strokeStyle_),e.drawLineString(a,b),e.finish(c);var f={};e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,f,void 0,!1),e.getDeleteResourcesFunction(c)()},ol.render.webgl.Immediate.prototype.drawMultiLineString=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.LINE_STRING);e.setFillStrokeStyle(null,this.strokeStyle_),e.drawMultiLineString(a,b),e.finish(c);var f={};e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,f,void 0,!1),e.getDeleteResourcesFunction(c)()},ol.render.webgl.Immediate.prototype.drawPolygon=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.POLYGON);e.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),e.drawPolygon(a,b),e.finish(c);var f={};e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,f,void 0,!1),e.getDeleteResourcesFunction(c)()},ol.render.webgl.Immediate.prototype.drawMultiPolygon=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.POLYGON);e.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),e.drawMultiPolygon(a,b),e.finish(c);var f={};e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,f,void 0,!1),e.getDeleteResourcesFunction(c)()},ol.render.webgl.Immediate.prototype.drawCircle=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.CIRCLE);e.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),e.drawCircle(a,b),e.finish(c);var f={};e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,f,void 0,!1),e.getDeleteResourcesFunction(c)()},ol.render.webgl.Immediate.prototype.setImageStyle=function(a){this.imageStyle_=a},ol.render.webgl.Immediate.prototype.setFillStrokeStyle=function(a,b){this.fillStyle_=a,this.strokeStyle_=b}),goog.provide("ol.structs.LRUCache"),goog.require("ol.asserts"),ol.structs.LRUCache=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},ol.structs.LRUCache.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},
ol.structs.LRUCache.prototype.containsKey=function(a){return this.entries_.hasOwnProperty(a)},ol.structs.LRUCache.prototype.forEach=function(a,b){for(var c=this.oldest_;c;)a.call(b,c.value_,c.key_,this),c=c.newer},ol.structs.LRUCache.prototype.get=function(a){var b=this.entries_[a];return ol.asserts.assert(void 0!==b,15),b===this.newest_?b.value_:(b===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(b.newer.older=b.older,b.older.newer=b.newer),b.newer=null,b.older=this.newest_,this.newest_.newer=b,this.newest_=b,b.value_)},ol.structs.LRUCache.prototype.getCount=function(){return this.count_},ol.structs.LRUCache.prototype.getKeys=function(){var a,b=new Array(this.count_),c=0;for(a=this.newest_;a;a=a.older)b[c++]=a.key_;return b},ol.structs.LRUCache.prototype.getValues=function(){var a,b=new Array(this.count_),c=0;for(a=this.newest_;a;a=a.older)b[c++]=a.value_;return b},ol.structs.LRUCache.prototype.peekLast=function(){return this.oldest_.value_},ol.structs.LRUCache.prototype.peekLastKey=function(){return this.oldest_.key_},ol.structs.LRUCache.prototype.pop=function(){var a=this.oldest_;return delete this.entries_[a.key_],a.newer&&(a.newer.older=null),this.oldest_=a.newer,this.oldest_||(this.newest_=null),--this.count_,a.value_},ol.structs.LRUCache.prototype.replace=function(a,b){this.get(a),this.entries_[a].value_=b},ol.structs.LRUCache.prototype.set=function(a,b){ol.asserts.assert(!(a in this.entries_),16);var c={key_:a,newer:null,older:this.newest_,value_:b};this.newest_?this.newest_.newer=c:this.oldest_=c,this.newest_=c,this.entries_[a]=c,++this.count_},goog.provide("ol.renderer.webgl.Map"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.layer.Layer"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.Type"),goog.require("ol.source.State"),goog.require("ol.structs.LRUCache"),goog.require("ol.structs.PriorityQueue"),goog.require("ol.webgl"),goog.require("ol.webgl.Context"),goog.require("ol.webgl.ContextEventType"),ol.ENABLE_WEBGL&&(ol.renderer.webgl.Map=function(a,b){ol.renderer.Map.call(this,a,b),this.canvas_=document.createElement("CANVAS"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ol.css.CLASS_UNSELECTABLE,a.insertBefore(this.canvas_,a.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=ol.dom.createCanvasContext2D(),this.renderedVisible_=!0,this.gl_=ol.webgl.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new ol.webgl.Context(this.canvas_,this.gl_),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new ol.structs.LRUCache,this.focus_=null,this.tileTextureQueue_=new ol.structs.PriorityQueue(function(a){var b=a[1],c=a[2],d=b[0]-this.focus_[0],e=b[1]-this.focus_[1];return 65536*Math.log(c)+Math.sqrt(d*d+e*e)/c}.bind(this),function(a){return a[0].getKey()}),this.loadNextTileTexture_=function(a,b){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var c=this.tileTextureQueue_.dequeue(),d=c[0],e=c[3],f=c[4];this.bindTileTexture(d,e,f,ol.webgl.LINEAR,ol.webgl.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()},ol.inherits(ol.renderer.webgl.Map,ol.renderer.Map),ol.renderer.webgl.Map.prototype.bindTileTexture=function(a,b,c,d,e){var f=this.getGL(),g=a.getKey();if(this.textureCache_.containsKey(g)){var h=this.textureCache_.get(g);f.bindTexture(ol.webgl.TEXTURE_2D,h.texture),h.magFilter!=d&&(f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,d),h.magFilter=d),h.minFilter!=e&&(f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,e),h.minFilter=e)}else{var i=f.createTexture();if(f.bindTexture(ol.webgl.TEXTURE_2D,i),c>0){var j=this.clipTileContext_.canvas,k=this.clipTileContext_;this.clipTileCanvasWidth_!==b[0]||this.clipTileCanvasHeight_!==b[1]?(j.width=b[0],j.height=b[1],this.clipTileCanvasWidth_=b[0],this.clipTileCanvasHeight_=b[1]):k.clearRect(0,0,b[0],b[1]),k.drawImage(a.getImage(),c,c,b[0],b[1],0,0,b[0],b[1]),f.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,j)}else f.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,a.getImage());f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,d),f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,e),f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,ol.webgl.CLAMP_TO_EDGE),f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,ol.webgl.CLAMP_TO_EDGE),this.textureCache_.set(g,{texture:i,magFilter:d,minFilter:e})}},ol.renderer.webgl.Map.prototype.dispatchComposeEvent_=function(a,b){var c=this.getMap();if(c.hasListener(a)){var d=this.context_,e=b.extent,f=b.size,g=b.viewState,h=b.pixelRatio,i=g.resolution,j=g.center,k=g.rotation,l=new ol.render.webgl.Immediate(d,j,i,k,f,e,h),m=new ol.render.Event(a,l,b,null,d);c.dispatchEvent(m)}},ol.renderer.webgl.Map.prototype.disposeInternal=function(){var a=this.getGL();a.isContextLost()||this.textureCache_.forEach(function(b){b&&a.deleteTexture(b.texture)}),this.context_.dispose(),ol.renderer.Map.prototype.disposeInternal.call(this)},ol.renderer.webgl.Map.prototype.expireCache_=function(a,b){for(var c,d=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(c=this.textureCache_.peekLast())d.deleteTexture(c.texture);else{if(+this.textureCache_.peekLastKey()==b.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},ol.renderer.webgl.Map.prototype.getContext=function(){return this.context_},ol.renderer.webgl.Map.prototype.getGL=function(){return this.gl_},ol.renderer.webgl.Map.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},ol.renderer.webgl.Map.prototype.getType=function(){return ol.renderer.Type.WEBGL},ol.renderer.webgl.Map.prototype.handleWebGLContextLost=function(a){a.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var b=this.getLayerRenderers();for(var c in b){b[c].handleWebGLContextLost()}},ol.renderer.webgl.Map.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},ol.renderer.webgl.Map.prototype.initializeGL_=function(){var a=this.gl_;a.activeTexture(ol.webgl.TEXTURE0),a.blendFuncSeparate(ol.webgl.SRC_ALPHA,ol.webgl.ONE_MINUS_SRC_ALPHA,ol.webgl.ONE,ol.webgl.ONE_MINUS_SRC_ALPHA),a.disable(ol.webgl.CULL_FACE),a.disable(ol.webgl.DEPTH_TEST),a.disable(ol.webgl.SCISSOR_TEST),a.disable(ol.webgl.STENCIL_TEST)},ol.renderer.webgl.Map.prototype.isTileTextureLoaded=function(a){return this.textureCache_.containsKey(a.getKey())},ol.renderer.webgl.Map.prototype.renderFrame=function(a){var b=this.getContext(),c=this.getGL();if(c.isContextLost())return!1;if(!a)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=a.focus,this.textureCache_.set((-a.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a);var d=[],e=a.layerStatesArray;ol.array.stableSort(e,ol.renderer.Map.sortByZIndex);var f,g,h,i,j=a.viewState.resolution;for(f=0,g=e.length;f<g;++f)i=e[f],ol.layer.Layer.visibleAtResolution(i,j)&&i.sourceState==ol.source.State.READY&&(h=this.getLayerRenderer(i.layer),h.prepareFrame(a,i,b)&&d.push(i));var k=a.size[0]*a.pixelRatio,l=a.size[1]*a.pixelRatio;for(this.canvas_.width==k&&this.canvas_.height==l||(this.canvas_.width=k,this.canvas_.height=l),c.bindFramebuffer(ol.webgl.FRAMEBUFFER,null),c.clearColor(0,0,0,0),c.clear(ol.webgl.COLOR_BUFFER_BIT),c.enable(ol.webgl.BLEND),c.viewport(0,0,this.canvas_.width,this.canvas_.height),f=0,g=d.length;f<g;++f)i=d[f],h=this.getLayerRenderer(i.layer),h.composeFrame(a,i,b);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(a),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&a.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(a.postRenderFunctions.push(this.loadNextTileTexture_),a.animate=!0),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a),this.scheduleRemoveUnusedLayerRenderers(a),this.scheduleExpireIconCache(a)},ol.renderer.webgl.Map.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f,g){var h;if(this.getGL().isContextLost())return!1;var i,j=b.viewState,k=b.layerStatesArray,l=k.length;for(i=l-1;i>=0;--i){var m=k[i],n=m.layer;if(ol.layer.Layer.visibleAtResolution(m,j.resolution)&&f.call(g,n)){if(h=this.getLayerRenderer(n).forEachFeatureAtCoordinate(a,b,c,d,e))return h}}},ol.renderer.webgl.Map.prototype.hasFeatureAtCoordinate=function(a,b,c,d,e){var f=!1;if(this.getGL().isContextLost())return!1;var g,h=b.viewState,i=b.layerStatesArray,j=i.length;for(g=j-1;g>=0;--g){var k=i[g],l=k.layer;if(ol.layer.Layer.visibleAtResolution(k,h.resolution)&&d.call(e,l)){if(f=this.getLayerRenderer(l).hasFeatureAtCoordinate(a,b))return!0}}return f},ol.renderer.webgl.Map.prototype.forEachLayerAtPixel=function(a,b,c,d,e,f){if(this.getGL().isContextLost())return!1;var g,h,i=b.viewState,j=b.layerStatesArray,k=j.length;for(h=k-1;h>=0;--h){var l=j[h],m=l.layer;if(ol.layer.Layer.visibleAtResolution(l,i.resolution)&&e.call(d,m)){if(g=this.getLayerRenderer(m).forEachLayerAtPixel(a,b,c,d))return g}}}),goog.provide("ol.Map"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.MapBrowserEvent"),goog.require("ol.MapBrowserEventHandler"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapEvent"),goog.require("ol.MapEventType"),goog.require("ol.MapProperty"),goog.require("ol.Object"),goog.require("ol.ObjectEventType"),goog.require("ol.TileQueue");goog.require("ol.View"),goog.require("ol.ViewHint"),goog.require("ol.asserts"),goog.require("ol.control"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.has"),goog.require("ol.interaction"),goog.require("ol.layer.Group"),goog.require("ol.obj"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.Map"),goog.require("ol.renderer.webgl.Map"),goog.require("ol.size"),goog.require("ol.structs.PriorityQueue"),goog.require("ol.transform"),ol.OL_URL="https://openlayers.org/",ol.OL_LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC",ol.DEFAULT_RENDERER_TYPES=[ol.renderer.Type.CANVAS,ol.renderer.Type.WEBGL],ol.Map=function(a){ol.Object.call(this);var b=ol.Map.createOptionsInternal(a);this.loadTilesWhileAnimating_=void 0!==a.loadTilesWhileAnimating&&a.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==a.loadTilesWhileInteracting&&a.loadTilesWhileInteracting,this.pixelRatio_=void 0!==a.pixelRatio?a.pixelRatio:ol.has.DEVICE_PIXEL_RATIO,this.logos_=b.logos,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=ol.transform.create(),this.pixelToCoordinateTransform_=ol.transform.create(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=ol.extent.createEmpty(),this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("DIV"),this.viewport_.className="ol-viewport"+(ol.has.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var c=[ol.events.EventType.CLICK,ol.events.EventType.DBLCLICK,ol.events.EventType.MOUSEDOWN,ol.events.EventType.TOUCHSTART,ol.events.EventType.MSPOINTERDOWN,ol.MapBrowserEventType.POINTERDOWN,ol.events.EventType.MOUSEWHEEL,ol.events.EventType.WHEEL],d=0,e=c.length;d<e;++d)ol.events.listen(this.overlayContainerStopEvent_,c[d],ol.events.Event.stopPropagation);this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new ol.MapBrowserEventHandler(this);for(var f in ol.MapBrowserEventType)ol.events.listen(this.mapBrowserEventHandler_,ol.MapBrowserEventType[f],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=b.keyboardEventTarget,this.keyHandlerKeys_=null,ol.events.listen(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this),ol.events.listen(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls_=b.controls,this.interactions_=b.interactions,this.overlays_=b.overlays,this.overlayIdIndex_={},this.renderer_=new b.rendererConstructor(this.viewport_,this),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new ol.TileQueue(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.LAYERGROUP),this.handleLayerGroupChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.VIEW),this.handleViewChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.SIZE),this.handleSizeChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.TARGET),this.handleTargetChanged_,this),this.setProperties(b.values),this.controls_.forEach(function(a){a.setMap(this)},this),ol.events.listen(this.controls_,ol.CollectionEventType.ADD,function(a){a.element.setMap(this)},this),ol.events.listen(this.controls_,ol.CollectionEventType.REMOVE,function(a){a.element.setMap(null)},this),this.interactions_.forEach(function(a){a.setMap(this)},this),ol.events.listen(this.interactions_,ol.CollectionEventType.ADD,function(a){a.element.setMap(this)},this),ol.events.listen(this.interactions_,ol.CollectionEventType.REMOVE,function(a){a.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_,this),ol.events.listen(this.overlays_,ol.CollectionEventType.ADD,function(a){this.addOverlayInternal_(a.element)},this),ol.events.listen(this.overlays_,ol.CollectionEventType.REMOVE,function(a){var b=a.element,c=b.getId();void 0!==c&&delete this.overlayIdIndex_[c.toString()],a.element.setMap(null)},this)},ol.inherits(ol.Map,ol.Object),ol.Map.prototype.addControl=function(a){this.getControls().push(a)},ol.Map.prototype.addInteraction=function(a){this.getInteractions().push(a)},ol.Map.prototype.addLayer=function(a){this.getLayerGroup().getLayers().push(a)},ol.Map.prototype.addOverlay=function(a){this.getOverlays().push(a)},ol.Map.prototype.addOverlayInternal_=function(a){var b=a.getId();void 0!==b&&(this.overlayIdIndex_[b.toString()]=a),a.setMap(this)},ol.Map.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.renderer_.dispose(),ol.events.unlisten(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this),ol.events.unlisten(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),ol.Object.prototype.disposeInternal.call(this)},ol.Map.prototype.forEachFeatureAtPixel=function(a,b,c){if(this.frameState_){var d=this.getCoordinateFromPixel(a);c=void 0!==c?c:{};var e=void 0!==c.hitTolerance?c.hitTolerance*this.frameState_.pixelRatio:0,f=void 0!==c.layerFilter?c.layerFilter:ol.functions.TRUE;return this.renderer_.forEachFeatureAtCoordinate(d,this.frameState_,e,b,null,f,null)}},ol.Map.prototype.forEachLayerAtPixel=function(a,b,c,d,e){if(this.frameState_){var f=void 0!==c?c:null,g=void 0!==d?d:ol.functions.TRUE,h=void 0!==e?e:null;return this.renderer_.forEachLayerAtPixel(a,this.frameState_,b,f,g,h)}},ol.Map.prototype.hasFeatureAtPixel=function(a,b){if(!this.frameState_)return!1;var c=this.getCoordinateFromPixel(a);b=void 0!==b?b:{};var d=void 0!==b.layerFilter?b.layerFilter:ol.functions.TRUE,e=void 0!==b.hitTolerance?b.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(c,this.frameState_,e,d,null)},ol.Map.prototype.getEventCoordinate=function(a){return this.getCoordinateFromPixel(this.getEventPixel(a))},ol.Map.prototype.getEventPixel=function(a){var b=this.viewport_.getBoundingClientRect(),c=a.changedTouches?a.changedTouches[0]:a;return[c.clientX-b.left,c.clientY-b.top]},ol.Map.prototype.getTarget=function(){return this.get(ol.MapProperty.TARGET)},ol.Map.prototype.getTargetElement=function(){var a=this.getTarget();return void 0!==a?"string"==typeof a?document.getElementById(a):a:null},ol.Map.prototype.getCoordinateFromPixel=function(a){var b=this.frameState_;return b?ol.transform.apply(b.pixelToCoordinateTransform,a.slice()):null},ol.Map.prototype.getControls=function(){return this.controls_},ol.Map.prototype.getOverlays=function(){return this.overlays_},ol.Map.prototype.getOverlayById=function(a){var b=this.overlayIdIndex_[a.toString()];return void 0!==b?b:null},ol.Map.prototype.getInteractions=function(){return this.interactions_},ol.Map.prototype.getLayerGroup=function(){return this.get(ol.MapProperty.LAYERGROUP)},ol.Map.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},ol.Map.prototype.getPixelFromCoordinate=function(a){var b=this.frameState_;return b?ol.transform.apply(b.coordinateToPixelTransform,a.slice(0,2)):null},ol.Map.prototype.getRenderer=function(){return this.renderer_},ol.Map.prototype.getSize=function(){return this.get(ol.MapProperty.SIZE)},ol.Map.prototype.getView=function(){return this.get(ol.MapProperty.VIEW)},ol.Map.prototype.getViewport=function(){return this.viewport_},ol.Map.prototype.getOverlayContainer=function(){return this.overlayContainer_},ol.Map.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},ol.Map.prototype.getTilePriority=function(a,b,c,d){var e=this.frameState_;if(!(e&&b in e.wantedTiles))return ol.structs.PriorityQueue.DROP;if(!e.wantedTiles[b][a.getKey()])return ol.structs.PriorityQueue.DROP;var f=c[0]-e.focus[0],g=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(f*f+g*g)/d},ol.Map.prototype.handleBrowserEvent=function(a,b){var c=b||a.type,d=new ol.MapBrowserEvent(c,this,a);this.handleMapBrowserEvent(d)},ol.Map.prototype.handleMapBrowserEvent=function(a){if(this.frameState_){this.focus_=a.coordinate,a.frameState=this.frameState_;var b,c=this.getInteractions().getArray();if(!1!==this.dispatchEvent(a))for(b=c.length-1;b>=0;b--){var d=c[b];if(d.getActive()){var e=d.handleEvent(a);if(!e)break}}}},ol.Map.prototype.handlePostRender=function(){var a=this.frameState_,b=this.tileQueue_;if(!b.isEmpty()){var c=16,d=c;if(a){var e=a.viewHints;e[ol.ViewHint.ANIMATING]&&(c=this.loadTilesWhileAnimating_?8:0,d=2),e[ol.ViewHint.INTERACTING]&&(c=this.loadTilesWhileInteracting_?8:0,d=2)}b.getTilesLoading()<c&&(b.reprioritize(),b.loadMoreTiles(c,d))}var f,g,h=this.postRenderFunctions_;for(f=0,g=h.length;f<g;++f)h[f](this,a);h.length=0},ol.Map.prototype.handleSizeChanged_=function(){this.render()},ol.Map.prototype.handleTargetChanged_=function(){var a;if(this.getTarget()&&(a=this.getTargetElement()),this.keyHandlerKeys_){for(var b=0,c=this.keyHandlerKeys_.length;b<c;++b)ol.events.unlistenByKey(this.keyHandlerKeys_[b]);this.keyHandlerKeys_=null}if(a){a.appendChild(this.viewport_);var d=this.keyboardEventTarget_?this.keyboardEventTarget_:a;this.keyHandlerKeys_=[ol.events.listen(d,ol.events.EventType.KEYDOWN,this.handleBrowserEvent,this),ol.events.listen(d,ol.events.EventType.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1))}else ol.dom.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},ol.Map.prototype.handleTileChange_=function(){this.render()},ol.Map.prototype.handleViewPropertyChanged_=function(){this.render()},ol.Map.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(ol.events.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ol.events.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var a=this.getView();a&&(this.viewport_.setAttribute("data-view",ol.getUid(a)),this.viewPropertyListenerKey_=ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},ol.Map.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ol.events.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var a=this.getLayerGroup();a&&(this.layerGroupPropertyListenerKeys_=[ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.render,this),ol.events.listen(a,ol.events.EventType.CHANGE,this.render,this)]),this.render()},ol.Map.prototype.isRendered=function(){return!!this.frameState_},ol.Map.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},ol.Map.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},ol.Map.prototype.removeControl=function(a){return this.getControls().remove(a)},ol.Map.prototype.removeInteraction=function(a){return this.getInteractions().remove(a)},ol.Map.prototype.removeLayer=function(a){return this.getLayerGroup().getLayers().remove(a)},ol.Map.prototype.removeOverlay=function(a){return this.getOverlays().remove(a)},ol.Map.prototype.renderFrame_=function(a){var b,c,d,e=this.getSize(),f=this.getView(),g=ol.extent.createEmpty(),h=null;if(void 0!==e&&ol.size.hasArea(e)&&f&&f.isDef()){var i=f.getHints(this.frameState_?this.frameState_.viewHints:void 0),j=this.getLayerGroup().getLayerStatesArray(),k={};for(b=0,c=j.length;b<c;++b)k[ol.getUid(j[b].layer)]=j[b];d=f.getState(),h={animate:!1,attributions:{},coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:g,focus:this.focus_?this.focus_:d.center,index:this.frameIndex_++,layerStates:k,layerStatesArray:j,logos:ol.obj.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:a,usedTiles:{},viewState:d,viewHints:i,wantedTiles:{}}}if(h&&(h.extent=ol.extent.getForViewAndSize(d.center,d.resolution,d.rotation,h.size,g)),this.frameState_=h,this.renderer_.renderFrame(h),h){h.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,h.postRenderFunctions);!h.viewHints[ol.ViewHint.ANIMATING]&&!h.viewHints[ol.ViewHint.INTERACTING]&&!ol.extent.equals(h.extent,this.previousExtent_)&&(this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVEEND,this,h)),ol.extent.clone(h.extent,this.previousExtent_))}this.dispatchEvent(new ol.MapEvent(ol.MapEventType.POSTRENDER,this,h)),setTimeout(this.handlePostRender.bind(this),0)},ol.Map.prototype.setLayerGroup=function(a){this.set(ol.MapProperty.LAYERGROUP,a)},ol.Map.prototype.setSize=function(a){this.set(ol.MapProperty.SIZE,a)},ol.Map.prototype.setTarget=function(a){this.set(ol.MapProperty.TARGET,a)},ol.Map.prototype.setView=function(a){this.set(ol.MapProperty.VIEW,a)},ol.Map.prototype.skipFeature=function(a){var b=ol.getUid(a).toString();this.skippedFeatureUids_[b]=!0,this.render()},ol.Map.prototype.updateSize=function(){var a=this.getTargetElement();if(a){var b=getComputedStyle(a);this.setSize([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)])}else this.setSize(void 0)},ol.Map.prototype.unskipFeature=function(a){var b=ol.getUid(a).toString();delete this.skippedFeatureUids_[b],this.render()},ol.Map.createOptionsInternal=function(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"==typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"==typeof a.logo&&a.logo)d[ol.OL_LOGO_URL]=ol.OL_URL;else{var e=a.logo;"string"==typeof e?d[e]="":e instanceof HTMLElement?d[ol.getUid(e).toString()]=e:e&&(ol.asserts.assert("string"==typeof e.href,44),ol.asserts.assert("string"==typeof e.src,45),d[e.src]=e.href)}var f=a.layers instanceof ol.layer.Group?a.layers:new ol.layer.Group({layers:a.layers});c[ol.MapProperty.LAYERGROUP]=f,c[ol.MapProperty.TARGET]=a.target,c[ol.MapProperty.VIEW]=void 0!==a.view?a.view:new ol.View;var g,h=ol.renderer.Map;void 0!==a.renderer?(Array.isArray(a.renderer)?g=a.renderer:"string"==typeof a.renderer?g=[a.renderer]:ol.asserts.assert(!1,46),g.indexOf("dom")>=0&&(g=g.concat(ol.DEFAULT_RENDERER_TYPES))):g=ol.DEFAULT_RENDERER_TYPES;var i,j;for(i=0,j=g.length;i<j;++i){var k=g[i];if(ol.ENABLE_CANVAS&&k==ol.renderer.Type.CANVAS){if(ol.has.CANVAS){h=ol.renderer.canvas.Map;break}}else if(ol.ENABLE_WEBGL&&k==ol.renderer.Type.WEBGL&&ol.has.WEBGL){h=ol.renderer.webgl.Map;break}}var l;void 0!==a.controls?Array.isArray(a.controls)?l=new ol.Collection(a.controls.slice()):(ol.asserts.assert(a.controls instanceof ol.Collection,47),l=a.controls):l=ol.control.defaults();var m;void 0!==a.interactions?Array.isArray(a.interactions)?m=new ol.Collection(a.interactions.slice()):(ol.asserts.assert(a.interactions instanceof ol.Collection,48),m=a.interactions):m=ol.interaction.defaults();var n;return void 0!==a.overlays?Array.isArray(a.overlays)?n=new ol.Collection(a.overlays.slice()):(ol.asserts.assert(a.overlays instanceof ol.Collection,49),n=a.overlays):n=new ol.Collection,{controls:l,interactions:m,keyboardEventTarget:b,logos:d,overlays:n,rendererConstructor:h,values:c}},goog.provide("ol.OverlayPositioning"),ol.OverlayPositioning={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},goog.provide("ol.Overlay"),goog.require("ol"),goog.require("ol.MapEventType"),goog.require("ol.Object"),goog.require("ol.OverlayPositioning"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.extent"),ol.Overlay=function(a){ol.Object.call(this),this.id_=a.id,this.insertFirst_=void 0===a.insertFirst||a.insertFirst,this.stopEvent_=void 0===a.stopEvent||a.stopEvent,this.element_=document.createElement("DIV"),this.element_.className="ol-overlay-container",this.element_.style.position="absolute",this.autoPan=void 0!==a.autoPan&&a.autoPan,this.autoPanAnimation_=a.autoPanAnimation||{},this.autoPanMargin_=void 0!==a.autoPanMargin?a.autoPanMargin:20,this.rendered_={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.ELEMENT),this.handleElementChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.MAP),this.handleMapChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.OFFSET),this.handleOffsetChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.POSITION),this.handlePositionChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.POSITIONING),this.handlePositioningChanged,this),void 0!==a.element&&this.setElement(a.element),this.setOffset(void 0!==a.offset?a.offset:[0,0]),this.setPositioning(void 0!==a.positioning?a.positioning:ol.OverlayPositioning.TOP_LEFT),void 0!==a.position&&this.setPosition(a.position)},ol.inherits(ol.Overlay,ol.Object),ol.Overlay.prototype.getElement=function(){return this.get(ol.Overlay.Property_.ELEMENT)},ol.Overlay.prototype.getId=function(){return this.id_},ol.Overlay.prototype.getMap=function(){return this.get(ol.Overlay.Property_.MAP)},ol.Overlay.prototype.getOffset=function(){return this.get(ol.Overlay.Property_.OFFSET)},ol.Overlay.prototype.getPosition=function(){return this.get(ol.Overlay.Property_.POSITION)},ol.Overlay.prototype.getPositioning=function(){return this.get(ol.Overlay.Property_.POSITIONING)},ol.Overlay.prototype.handleElementChanged=function(){ol.dom.removeChildren(this.element_);var a=this.getElement();a&&this.element_.appendChild(a)},ol.Overlay.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey_&&(ol.dom.removeNode(this.element_),ol.events.unlistenByKey(this.mapPostrenderListenerKey_),this.mapPostrenderListenerKey_=null);var a=this.getMap();if(a){this.mapPostrenderListenerKey_=ol.events.listen(a,ol.MapEventType.POSTRENDER,this.render,this),this.updatePixelPosition();var b=this.stopEvent_?a.getOverlayContainerStopEvent():a.getOverlayContainer();this.insertFirst_?b.insertBefore(this.element_,b.childNodes[0]||null):b.appendChild(this.element_)}},ol.Overlay.prototype.render=function(){this.updatePixelPosition()},ol.Overlay.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},ol.Overlay.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(ol.Overlay.Property_.POSITION)&&this.autoPan&&this.panIntoView_()},ol.Overlay.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},ol.Overlay.prototype.setElement=function(a){this.set(ol.Overlay.Property_.ELEMENT,a)},ol.Overlay.prototype.setMap=function(a){
this.set(ol.Overlay.Property_.MAP,a)},ol.Overlay.prototype.setOffset=function(a){this.set(ol.Overlay.Property_.OFFSET,a)},ol.Overlay.prototype.setPosition=function(a){this.set(ol.Overlay.Property_.POSITION,a)},ol.Overlay.prototype.panIntoView_=function(){var a=this.getMap();if(a&&a.getTargetElement()){var b=this.getRect_(a.getTargetElement(),a.getSize()),c=this.getElement(),d=this.getRect_(c,[ol.dom.outerWidth(c),ol.dom.outerHeight(c)]),e=this.autoPanMargin_;if(!ol.extent.containsExtent(b,d)){var f=d[0]-b[0],g=b[2]-d[2],h=d[1]-b[1],i=b[3]-d[3],j=[0,0];if(f<0?j[0]=f-e:g<0&&(j[0]=Math.abs(g)+e),h<0?j[1]=h-e:i<0&&(j[1]=Math.abs(i)+e),0!==j[0]||0!==j[1]){var k=a.getView().getCenter(),l=a.getPixelFromCoordinate(k),m=[l[0]+j[0],l[1]+j[1]];a.getView().animate({center:a.getCoordinateFromPixel(m),duration:this.autoPanAnimation_.duration,easing:this.autoPanAnimation_.easing})}}}},ol.Overlay.prototype.getRect_=function(a,b){var c=a.getBoundingClientRect(),d=c.left+window.pageXOffset,e=c.top+window.pageYOffset;return[d,e,d+b[0],e+b[1]]},ol.Overlay.prototype.setPositioning=function(a){this.set(ol.Overlay.Property_.POSITIONING,a)},ol.Overlay.prototype.setVisible=function(a){this.rendered_.visible!==a&&(this.element_.style.display=a?"":"none",this.rendered_.visible=a)},ol.Overlay.prototype.updatePixelPosition=function(){var a=this.getMap(),b=this.getPosition();if(!a||!a.isRendered()||!b)return void this.setVisible(!1);var c=a.getPixelFromCoordinate(b),d=a.getSize();this.updateRenderedPosition(c,d)},ol.Overlay.prototype.updateRenderedPosition=function(a,b){var c=this.element_.style,d=this.getOffset(),e=this.getPositioning();this.setVisible(!0);var f=d[0],g=d[1];if(e==ol.OverlayPositioning.BOTTOM_RIGHT||e==ol.OverlayPositioning.CENTER_RIGHT||e==ol.OverlayPositioning.TOP_RIGHT){""!==this.rendered_.left_&&(this.rendered_.left_=c.left="");var h=Math.round(b[0]-a[0]-f)+"px";this.rendered_.right_!=h&&(this.rendered_.right_=c.right=h)}else{""!==this.rendered_.right_&&(this.rendered_.right_=c.right=""),e!=ol.OverlayPositioning.BOTTOM_CENTER&&e!=ol.OverlayPositioning.CENTER_CENTER&&e!=ol.OverlayPositioning.TOP_CENTER||(f-=this.element_.offsetWidth/2);var i=Math.round(a[0]+f)+"px";this.rendered_.left_!=i&&(this.rendered_.left_=c.left=i)}if(e==ol.OverlayPositioning.BOTTOM_LEFT||e==ol.OverlayPositioning.BOTTOM_CENTER||e==ol.OverlayPositioning.BOTTOM_RIGHT){""!==this.rendered_.top_&&(this.rendered_.top_=c.top="");var j=Math.round(b[1]-a[1]-g)+"px";this.rendered_.bottom_!=j&&(this.rendered_.bottom_=c.bottom=j)}else{""!==this.rendered_.bottom_&&(this.rendered_.bottom_=c.bottom=""),e!=ol.OverlayPositioning.CENTER_LEFT&&e!=ol.OverlayPositioning.CENTER_CENTER&&e!=ol.OverlayPositioning.CENTER_RIGHT||(g-=this.element_.offsetHeight/2);var k=Math.round(a[1]+g)+"px";this.rendered_.top_!=k&&(this.rendered_.top_=c.top=k)}},ol.Overlay.Property_={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},goog.provide("ol.control.OverviewMap"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.Map"),goog.require("ol.MapEventType"),goog.require("ol.MapProperty"),goog.require("ol.Object"),goog.require("ol.ObjectEventType"),goog.require("ol.Overlay"),goog.require("ol.OverlayPositioning"),goog.require("ol.ViewProperty"),goog.require("ol.control.Control"),goog.require("ol.coordinate"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),ol.control.OverviewMap=function(a){var b=a||{};this.collapsed_=void 0===b.collapsed||b.collapsed,this.collapsible_=void 0===b.collapsible||b.collapsible,this.collapsible_||(this.collapsed_=!1);var c=void 0!==b.className?b.className:"ol-overviewmap",d=void 0!==b.tipLabel?b.tipLabel:"Overview map",e=void 0!==b.collapseLabel?b.collapseLabel:"";"string"==typeof e?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=e):this.collapseLabel_=e;var f=void 0!==b.label?b.label:"";"string"==typeof f?(this.label_=document.createElement("span"),this.label_.textContent=f):this.label_=f;var g=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=d,h.appendChild(g),ol.events.listen(h,ol.events.EventType.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("DIV"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new ol.Map({controls:new ol.Collection,interactions:new ol.Collection,view:b.view});var i=this.ovmap_;b.layers&&b.layers.forEach(function(a){i.addLayer(a)},this);var j=document.createElement("DIV");j.className="ol-overviewmap-box",j.style.boxSizing="border-box",this.boxOverlay_=new ol.Overlay({position:[0,0],positioning:ol.OverlayPositioning.BOTTOM_LEFT,element:j}),this.ovmap_.addOverlay(this.boxOverlay_);var k=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),l=document.createElement("div");l.className=k,l.appendChild(this.ovmapDiv_),l.appendChild(h);var m=b.render?b.render:ol.control.OverviewMap.render;ol.control.Control.call(this,{element:l,render:m,target:b.target});var n=this,o=this.boxOverlay_,p=this.boxOverlay_.getElement(),q=function(a){return{clientX:a.clientX-p.offsetWidth/2,clientY:a.clientY+p.offsetHeight/2}},r=function(a){var b=i.getEventCoordinate(q(a));o.setPosition(b)},s=function(a){var b=i.getEventCoordinate(a);n.getMap().getView().setCenter(b),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",s)};p.addEventListener("mousedown",function(){window.addEventListener("mousemove",r),window.addEventListener("mouseup",s)})},ol.inherits(ol.control.OverviewMap,ol.control.Control),ol.control.OverviewMap.prototype.setMap=function(a){var b=this.getMap();if(a!==b){if(b){var c=b.getView();c&&this.unbindView_(c),this.ovmap_.setTarget(null)}if(ol.control.Control.prototype.setMap.call(this,a),a){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(a.getLayerGroup());var d=a.getView();d&&(this.bindView_(d),d.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},ol.control.OverviewMap.prototype.handleMapPropertyChange_=function(a){if(a.key===ol.MapProperty.VIEW){var b=a.oldValue;b&&this.unbindView_(b);var c=this.getMap().getView();this.bindView_(c)}},ol.control.OverviewMap.prototype.bindView_=function(a){ol.events.listen(a,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)},ol.control.OverviewMap.prototype.unbindView_=function(a){ol.events.unlisten(a,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)},ol.control.OverviewMap.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},ol.control.OverviewMap.render=function(a){this.validateExtent_(),this.updateBox_()},ol.control.OverviewMap.prototype.validateExtent_=function(){var a=this.getMap(),b=this.ovmap_;if(a.isRendered()&&b.isRendered()){var c=a.getSize(),d=a.getView(),e=d.calculateExtent(c),f=b.getSize(),g=b.getView(),h=g.calculateExtent(f),i=b.getPixelFromCoordinate(ol.extent.getTopLeft(e)),j=b.getPixelFromCoordinate(ol.extent.getBottomRight(e)),k=Math.abs(i[0]-j[0]),l=Math.abs(i[1]-j[1]),m=f[0],n=f[1];k<m*ol.OVERVIEWMAP_MIN_RATIO||l<n*ol.OVERVIEWMAP_MIN_RATIO||k>m*ol.OVERVIEWMAP_MAX_RATIO||l>n*ol.OVERVIEWMAP_MAX_RATIO?this.resetExtent_():ol.extent.containsExtent(h,e)||this.recenter_()}},ol.control.OverviewMap.prototype.resetExtent_=function(){if(0!==ol.OVERVIEWMAP_MAX_RATIO&&0!==ol.OVERVIEWMAP_MIN_RATIO){var a=this.getMap(),b=this.ovmap_,c=a.getSize(),d=a.getView(),e=d.calculateExtent(c),f=b.getView(),g=Math.log(ol.OVERVIEWMAP_MAX_RATIO/ol.OVERVIEWMAP_MIN_RATIO)/Math.LN2,h=1/(Math.pow(2,g/2)*ol.OVERVIEWMAP_MIN_RATIO);ol.extent.scaleFromCenter(e,h),f.fit(e)}},ol.control.OverviewMap.prototype.recenter_=function(){var a=this.getMap(),b=this.ovmap_,c=a.getView();b.getView().setCenter(c.getCenter())},ol.control.OverviewMap.prototype.updateBox_=function(){var a=this.getMap(),b=this.ovmap_;if(a.isRendered()&&b.isRendered()){var c=a.getSize(),d=a.getView(),e=b.getView(),f=d.getRotation(),g=this.boxOverlay_,h=this.boxOverlay_.getElement(),i=d.calculateExtent(c),j=e.getResolution(),k=ol.extent.getBottomLeft(i),l=ol.extent.getTopRight(i),m=this.calculateCoordinateRotate_(f,k);g.setPosition(m),h&&(h.style.width=Math.abs((k[0]-l[0])/j)+"px",h.style.height=Math.abs((l[1]-k[1])/j)+"px")}},ol.control.OverviewMap.prototype.calculateCoordinateRotate_=function(a,b){var c,d=this.getMap(),e=d.getView(),f=e.getCenter();return f&&(c=[b[0]-f[0],b[1]-f[1]],ol.coordinate.rotate(c,a),ol.coordinate.add(c,f)),c},ol.control.OverviewMap.prototype.handleClick_=function(a){a.preventDefault(),this.handleToggle_()},ol.control.OverviewMap.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?ol.dom.replaceNode(this.collapseLabel_,this.label_):ol.dom.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var a=this.ovmap_;this.collapsed_||a.isRendered()||(a.updateSize(),this.resetExtent_(),ol.events.listenOnce(a,ol.MapEventType.POSTRENDER,function(a){this.updateBox_()},this))},ol.control.OverviewMap.prototype.getCollapsible=function(){return this.collapsible_},ol.control.OverviewMap.prototype.setCollapsible=function(a){this.collapsible_!==a&&(this.collapsible_=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.collapsed_&&this.handleToggle_())},ol.control.OverviewMap.prototype.setCollapsed=function(a){this.collapsible_&&this.collapsed_!==a&&this.handleToggle_()},ol.control.OverviewMap.prototype.getCollapsed=function(){return this.collapsed_},ol.control.OverviewMap.prototype.getOverviewMap=function(){return this.ovmap_},goog.provide("ol.control.ScaleLineUnits"),ol.control.ScaleLineUnits={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},goog.provide("ol.control.ScaleLine"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.asserts"),goog.require("ol.control.Control"),goog.require("ol.control.ScaleLineUnits"),goog.require("ol.css"),goog.require("ol.events"),goog.require("ol.proj"),goog.require("ol.proj.Units"),ol.control.ScaleLine=function(a){var b=a||{},c=void 0!==b.className?b.className:"ol-scale-line";this.innerElement_=document.createElement("DIV"),this.innerElement_.className=c+"-inner",this.element_=document.createElement("DIV"),this.element_.className=c+" "+ol.css.CLASS_UNSELECTABLE,this.element_.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==b.minWidth?b.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="";var d=b.render?b.render:ol.control.ScaleLine.render;ol.control.Control.call(this,{element:this.element_,render:d,target:b.target}),ol.events.listen(this,ol.Object.getChangeEventType(ol.control.ScaleLine.Property_.UNITS),this.handleUnitsChanged_,this),this.setUnits(b.units||ol.control.ScaleLineUnits.METRIC)},ol.inherits(ol.control.ScaleLine,ol.control.Control),ol.control.ScaleLine.LEADING_DIGITS=[1,2,5],ol.control.ScaleLine.prototype.getUnits=function(){return this.get(ol.control.ScaleLine.Property_.UNITS)},ol.control.ScaleLine.render=function(a){var b=a.frameState;this.viewState_=b?b.viewState:null,this.updateElement_()},ol.control.ScaleLine.prototype.handleUnitsChanged_=function(){this.updateElement_()},ol.control.ScaleLine.prototype.setUnits=function(a){this.set(ol.control.ScaleLine.Property_.UNITS,a)},ol.control.ScaleLine.prototype.updateElement_=function(){var a=this.viewState_;if(!a)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));var b=a.center,c=a.projection,d=c.getMetersPerUnit(),e=ol.proj.getPointResolution(c,a.resolution,b)*d,f=this.minWidth_*e,g="",h=this.getUnits();if(h==ol.control.ScaleLineUnits.DEGREES){var i=ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES];e/=i,f<i/60?(g="",e*=3600):f<i?(g="",e*=60):g=""}else h==ol.control.ScaleLineUnits.IMPERIAL?f<.9144?(g="in",e/=.0254):f<1609.344?(g="ft",e/=.3048):(g="mi",e/=1609.344):h==ol.control.ScaleLineUnits.NAUTICAL?(e/=1852,g="nm"):h==ol.control.ScaleLineUnits.METRIC?f<.001?(g="m",e*=1e6):f<1?(g="mm",e*=1e3):f<1e3?g="m":(g="km",e/=1e3):h==ol.control.ScaleLineUnits.US?f<.9144?(g="in",e*=39.37):f<1609.344?(g="ft",e/=.30480061):(g="mi",e/=1609.3472):ol.asserts.assert(!1,33);for(var j,k,l=3*Math.floor(Math.log(this.minWidth_*e)/Math.log(10));;){if(j=ol.control.ScaleLine.LEADING_DIGITS[(l%3+3)%3]*Math.pow(10,Math.floor(l/3)),k=Math.round(j/e),isNaN(k))return this.element_.style.display="none",void(this.renderedVisible_=!1);if(k>=this.minWidth_)break;++l}var m=j+" "+g;this.renderedHTML_!=m&&(this.innerElement_.innerHTML=m,this.renderedHTML_=m),this.renderedWidth_!=k&&(this.innerElement_.style.width=k+"px",this.renderedWidth_=k),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0)},ol.control.ScaleLine.Property_={UNITS:"units"},goog.provide("ol.control.ZoomSlider"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.math"),goog.require("ol.pointer.EventType"),goog.require("ol.pointer.PointerEventHandler"),ol.control.ZoomSlider=function(a){var b=a||{};this.currentResolution_=void 0,this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==b.duration?b.duration:200;var c=void 0!==b.className?b.className:"ol-zoomslider",d=document.createElement("button");d.setAttribute("type","button"),d.className=c+"-thumb "+ol.css.CLASS_UNSELECTABLE;var e=document.createElement("div");e.className=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,e.appendChild(d),this.dragger_=new ol.pointer.PointerEventHandler(e),ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERDOWN,this.handleDraggerStart_,this),ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERMOVE,this.handleDraggerDrag_,this),ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERUP,this.handleDraggerEnd_,this),ol.events.listen(e,ol.events.EventType.CLICK,this.handleContainerClick_,this),ol.events.listen(d,ol.events.EventType.CLICK,ol.events.Event.stopPropagation);var f=b.render?b.render:ol.control.ZoomSlider.render;ol.control.Control.call(this,{element:e,render:f})},ol.inherits(ol.control.ZoomSlider,ol.control.Control),ol.control.ZoomSlider.prototype.disposeInternal=function(){this.dragger_.dispose(),ol.control.Control.prototype.disposeInternal.call(this)},ol.control.ZoomSlider.Direction_={VERTICAL:0,HORIZONTAL:1},ol.control.ZoomSlider.prototype.setMap=function(a){ol.control.Control.prototype.setMap.call(this,a),a&&a.render()},ol.control.ZoomSlider.prototype.initSlider_=function(){var a=this.element,b={width:a.offsetWidth,height:a.offsetHeight},c=a.firstElementChild,d=getComputedStyle(c),e=c.offsetWidth+parseFloat(d.marginRight)+parseFloat(d.marginLeft),f=c.offsetHeight+parseFloat(d.marginTop)+parseFloat(d.marginBottom);this.thumbSize_=[e,f],b.width>b.height?(this.direction_=ol.control.ZoomSlider.Direction_.HORIZONTAL,this.widthLimit_=b.width-e):(this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL,this.heightLimit_=b.height-f),this.sliderInitialized_=!0},ol.control.ZoomSlider.render=function(a){if(a.frameState){this.sliderInitialized_||this.initSlider_();var b=a.frameState.viewState.resolution;b!==this.currentResolution_&&(this.currentResolution_=b,this.setThumbPosition_(b))}},ol.control.ZoomSlider.prototype.handleContainerClick_=function(a){var b=this.getMap().getView(),c=this.getRelativePosition_(a.offsetX-this.thumbSize_[0]/2,a.offsetY-this.thumbSize_[1]/2),d=this.getResolutionForPosition_(c);b.animate({resolution:b.constrainResolution(d),duration:this.duration_,easing:ol.easing.easeOut})},ol.control.ZoomSlider.prototype.handleDraggerStart_=function(a){this.dragging_||a.originalEvent.target!==this.element.firstElementChild||(this.getMap().getView().setHint(ol.ViewHint.INTERACTING,1),this.previousX_=a.clientX,this.previousY_=a.clientY,this.dragging_=!0)},ol.control.ZoomSlider.prototype.handleDraggerDrag_=function(a){if(this.dragging_){var b=this.element.firstElementChild,c=a.clientX-this.previousX_+parseInt(b.style.left,10),d=a.clientY-this.previousY_+parseInt(b.style.top,10),e=this.getRelativePosition_(c,d);this.currentResolution_=this.getResolutionForPosition_(e),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=a.clientX,this.previousY_=a.clientY}},ol.control.ZoomSlider.prototype.handleDraggerEnd_=function(a){if(this.dragging_){var b=this.getMap().getView();b.setHint(ol.ViewHint.INTERACTING,-1),b.animate({resolution:b.constrainResolution(this.currentResolution_),duration:this.duration_,easing:ol.easing.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0}},ol.control.ZoomSlider.prototype.setThumbPosition_=function(a){var b=this.getPositionForResolution_(a),c=this.element.firstElementChild;this.direction_==ol.control.ZoomSlider.Direction_.HORIZONTAL?c.style.left=this.widthLimit_*b+"px":c.style.top=this.heightLimit_*b+"px"},ol.control.ZoomSlider.prototype.getRelativePosition_=function(a,b){var c;return c=this.direction_===ol.control.ZoomSlider.Direction_.HORIZONTAL?a/this.widthLimit_:b/this.heightLimit_,ol.math.clamp(c,0,1)},ol.control.ZoomSlider.prototype.getResolutionForPosition_=function(a){return this.getMap().getView().getResolutionForValueFunction()(1-a)},ol.control.ZoomSlider.prototype.getPositionForResolution_=function(a){return 1-this.getMap().getView().getValueForResolutionFunction()(a)};goog.provide("ol.control.ZoomToExtent"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.control.Control"),goog.require("ol.css"),ol.control.ZoomToExtent=function(a){var b=a||{};this.extent_=b.extent?b.extent:null;var c=void 0!==b.className?b.className:"ol-zoom-extent",d=void 0!==b.label?b.label:"E",e=void 0!==b.tipLabel?b.tipLabel:"Fit to extent",f=document.createElement("button");f.setAttribute("type","button"),f.title=e,f.appendChild("string"==typeof d?document.createTextNode(d):d),ol.events.listen(f,ol.events.EventType.CLICK,this.handleClick_,this);var g=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,h=document.createElement("div");h.className=g,h.appendChild(f),ol.control.Control.call(this,{element:h,target:b.target})},ol.inherits(ol.control.ZoomToExtent,ol.control.Control),ol.control.ZoomToExtent.prototype.handleClick_=function(a){a.preventDefault(),this.handleZoomToExtent_()},ol.control.ZoomToExtent.prototype.handleZoomToExtent_=function(){var a=this.getMap(),b=a.getView(),c=this.extent_?this.extent_:b.getProjection().getExtent();b.fit(c)},goog.provide("ol.DeviceOrientation"),goog.require("ol.events"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.has"),goog.require("ol.math"),ol.DeviceOrientation=function(a){ol.Object.call(this);var b=a||{};this.listenerKey_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.DeviceOrientation.Property_.TRACKING),this.handleTrackingChanged_,this),this.setTracking(void 0!==b.tracking&&b.tracking)},ol.inherits(ol.DeviceOrientation,ol.Object),ol.DeviceOrientation.prototype.disposeInternal=function(){this.setTracking(!1),ol.Object.prototype.disposeInternal.call(this)},ol.DeviceOrientation.prototype.orientationChange_=function(a){var b=a;if(null!==b.alpha){var c=ol.math.toRadians(b.alpha);if(this.set(ol.DeviceOrientation.Property_.ALPHA,c),"boolean"==typeof b.absolute&&b.absolute)this.set(ol.DeviceOrientation.Property_.HEADING,c);else if("number"==typeof b.webkitCompassHeading&&-1!=b.webkitCompassAccuracy){var d=ol.math.toRadians(b.webkitCompassHeading);this.set(ol.DeviceOrientation.Property_.HEADING,d)}}null!==b.beta&&this.set(ol.DeviceOrientation.Property_.BETA,ol.math.toRadians(b.beta)),null!==b.gamma&&this.set(ol.DeviceOrientation.Property_.GAMMA,ol.math.toRadians(b.gamma)),this.changed()},ol.DeviceOrientation.prototype.getAlpha=function(){return this.get(ol.DeviceOrientation.Property_.ALPHA)},ol.DeviceOrientation.prototype.getBeta=function(){return this.get(ol.DeviceOrientation.Property_.BETA)},ol.DeviceOrientation.prototype.getGamma=function(){return this.get(ol.DeviceOrientation.Property_.GAMMA)},ol.DeviceOrientation.prototype.getHeading=function(){return this.get(ol.DeviceOrientation.Property_.HEADING)},ol.DeviceOrientation.prototype.getTracking=function(){return this.get(ol.DeviceOrientation.Property_.TRACKING)},ol.DeviceOrientation.prototype.handleTrackingChanged_=function(){if(ol.has.DEVICE_ORIENTATION){var a=this.getTracking();a&&!this.listenerKey_?this.listenerKey_=ol.events.listen(window,"deviceorientation",this.orientationChange_,this):a||null===this.listenerKey_||(ol.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null)}},ol.DeviceOrientation.prototype.setTracking=function(a){this.set(ol.DeviceOrientation.Property_.TRACKING,a)},ol.DeviceOrientation.Property_={ALPHA:"alpha",BETA:"beta",GAMMA:"gamma",HEADING:"heading",TRACKING:"tracking"},goog.provide("ol.ImageState"),ol.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3},goog.provide("ol.style.Image"),ol.style.Image=function(a){this.opacity_=a.opacity,this.rotateWithView_=a.rotateWithView,this.rotation_=a.rotation,this.scale_=a.scale,this.snapToPixel_=a.snapToPixel},ol.style.Image.prototype.getOpacity=function(){return this.opacity_},ol.style.Image.prototype.getRotateWithView=function(){return this.rotateWithView_},ol.style.Image.prototype.getRotation=function(){return this.rotation_},ol.style.Image.prototype.getScale=function(){return this.scale_},ol.style.Image.prototype.getSnapToPixel=function(){return this.snapToPixel_},ol.style.Image.prototype.getAnchor=function(){},ol.style.Image.prototype.getImage=function(a){},ol.style.Image.prototype.getHitDetectionImage=function(a){},ol.style.Image.prototype.getImageState=function(){},ol.style.Image.prototype.getImageSize=function(){},ol.style.Image.prototype.getHitDetectionImageSize=function(){},ol.style.Image.prototype.getOrigin=function(){},ol.style.Image.prototype.getSize=function(){},ol.style.Image.prototype.setOpacity=function(a){this.opacity_=a},ol.style.Image.prototype.setRotateWithView=function(a){this.rotateWithView_=a},ol.style.Image.prototype.setRotation=function(a){this.rotation_=a},ol.style.Image.prototype.setScale=function(a){this.scale_=a},ol.style.Image.prototype.setSnapToPixel=function(a){this.snapToPixel_=a},ol.style.Image.prototype.listenImageChange=function(a,b){},ol.style.Image.prototype.load=function(){},ol.style.Image.prototype.unlistenImageChange=function(a,b){},goog.provide("ol.style.RegularShape"),goog.require("ol"),goog.require("ol.colorlike"),goog.require("ol.dom"),goog.require("ol.has"),goog.require("ol.ImageState"),goog.require("ol.render.canvas"),goog.require("ol.style.Image"),ol.style.RegularShape=function(a){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==a.fill?a.fill:null,this.origin_=[0,0],this.points_=a.points,this.radius_=void 0!==a.radius?a.radius:a.radius1,this.radius2_=void 0!==a.radius2?a.radius2:this.radius_,this.angle_=void 0!==a.angle?a.angle:0,this.stroke_=void 0!==a.stroke?a.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=a.atlasManager,this.render_(this.atlasManager_);var b=void 0===a.snapToPixel||a.snapToPixel,c=void 0!==a.rotateWithView&&a.rotateWithView;ol.style.Image.call(this,{opacity:1,rotateWithView:c,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:b})},ol.inherits(ol.style.RegularShape,ol.style.Image),ol.style.RegularShape.prototype.clone=function(){var a=new ol.style.RegularShape({fill:this.getFill()?this.getFill().clone():void 0,points:this.getRadius2()!==this.getRadius()?this.getPoints()/2:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return a.setOpacity(this.getOpacity()),a.setScale(this.getScale()),a},ol.style.RegularShape.prototype.getAnchor=function(){return this.anchor_},ol.style.RegularShape.prototype.getAngle=function(){return this.angle_},ol.style.RegularShape.prototype.getFill=function(){return this.fill_},ol.style.RegularShape.prototype.getHitDetectionImage=function(a){return this.hitDetectionCanvas_},ol.style.RegularShape.prototype.getImage=function(a){return this.canvas_},ol.style.RegularShape.prototype.getImageSize=function(){return this.imageSize_},ol.style.RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},ol.style.RegularShape.prototype.getImageState=function(){return ol.ImageState.LOADED},ol.style.RegularShape.prototype.getOrigin=function(){return this.origin_},ol.style.RegularShape.prototype.getPoints=function(){return this.points_},ol.style.RegularShape.prototype.getRadius=function(){return this.radius_},ol.style.RegularShape.prototype.getRadius2=function(){return this.radius2_},ol.style.RegularShape.prototype.getSize=function(){return this.size_},ol.style.RegularShape.prototype.getStroke=function(){return this.stroke_},ol.style.RegularShape.prototype.listenImageChange=function(a,b){},ol.style.RegularShape.prototype.load=function(){},ol.style.RegularShape.prototype.unlistenImageChange=function(a,b){},ol.style.RegularShape.prototype.render_=function(a){var b,c,d="",e="",f=0,g=null,h=0;this.stroke_&&(c=this.stroke_.getColor(),null===c&&(c=ol.render.canvas.defaultStrokeStyle),c=ol.colorlike.asColorLike(c),h=this.stroke_.getWidth(),void 0===h&&(h=ol.render.canvas.defaultLineWidth),g=this.stroke_.getLineDash(),ol.has.CANVAS_LINE_DASH||(g=null),e=this.stroke_.getLineJoin(),void 0===e&&(e=ol.render.canvas.defaultLineJoin),d=this.stroke_.getLineCap(),void 0===d&&(d=ol.render.canvas.defaultLineCap),void 0===(f=this.stroke_.getMiterLimit())&&(f=ol.render.canvas.defaultMiterLimit));var i=2*(this.radius_+h)+1,j={strokeStyle:c,strokeWidth:h,size:i,lineCap:d,lineDash:g,lineJoin:e,miterLimit:f};if(void 0===a){var k=ol.dom.createCanvasContext2D(i,i);this.canvas_=k.canvas,i=this.canvas_.width,b=i,this.draw_(j,k,0,0),this.createHitDetectionCanvas_(j)}else{i=Math.round(i);var l,m=!this.fill_;m&&(l=this.drawHitDetectionCanvas_.bind(this,j));var n=this.getChecksum(),o=a.add(n,i,i,this.draw_.bind(this,j),l);this.canvas_=o.image,this.origin_=[o.offsetX,o.offsetY],b=o.image.width,m?(this.hitDetectionCanvas_=o.hitImage,this.hitDetectionImageSize_=[o.hitImage.width,o.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[b,b])}this.anchor_=[i/2,i/2],this.size_=[i,i],this.imageSize_=[b,b]},ol.style.RegularShape.prototype.draw_=function(a,b,c,d){var e,f,g;if(b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),this.points_===1/0)b.arc(a.size/2,a.size/2,this.radius_,0,2*Math.PI,!0);else for(this.radius2_!==this.radius_&&(this.points_=2*this.points_),e=0;e<=this.points_;e++)f=2*e*Math.PI/this.points_-Math.PI/2+this.angle_,g=e%2==0?this.radius_:this.radius2_,b.lineTo(a.size/2+g*Math.cos(f),a.size/2+g*Math.sin(f));if(this.fill_){var h=this.fill_.getColor();null===h&&(h=ol.render.canvas.defaultFillStyle),b.fillStyle=ol.colorlike.asColorLike(h),b.fill()}this.stroke_&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.lineDash&&b.setLineDash(a.lineDash),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke()),b.closePath()},ol.style.RegularShape.prototype.createHitDetectionCanvas_=function(a){if(this.hitDetectionImageSize_=[a.size,a.size],this.fill_)return void(this.hitDetectionCanvas_=this.canvas_);var b=ol.dom.createCanvasContext2D(a.size,a.size);this.hitDetectionCanvas_=b.canvas,this.drawHitDetectionCanvas_(a,b,0,0)},ol.style.RegularShape.prototype.drawHitDetectionCanvas_=function(a,b,c,d){if(b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),this.points_===1/0)b.arc(a.size/2,a.size/2,this.radius_,0,2*Math.PI,!0);else{this.radius2_!==this.radius_&&(this.points_=2*this.points_);var e,f,g;for(e=0;e<=this.points_;e++)g=2*e*Math.PI/this.points_-Math.PI/2+this.angle_,f=e%2==0?this.radius_:this.radius2_,b.lineTo(a.size/2+f*Math.cos(g),a.size/2+f*Math.sin(g))}b.fillStyle=ol.render.canvas.defaultFillStyle,b.fill(),this.stroke_&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.lineDash&&b.setLineDash(a.lineDash),b.stroke()),b.closePath()},ol.style.RegularShape.prototype.getChecksum=function(){var a=this.stroke_?this.stroke_.getChecksum():"-",b=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||a!=this.checksums_[1]||b!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var c="r"+a+b+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[c,a,b,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},goog.provide("ol.style.Circle"),goog.require("ol"),goog.require("ol.style.RegularShape"),ol.style.Circle=function(a){var b=a||{};ol.style.RegularShape.call(this,{points:1/0,fill:b.fill,radius:b.radius,snapToPixel:b.snapToPixel,stroke:b.stroke,atlasManager:b.atlasManager})},ol.inherits(ol.style.Circle,ol.style.RegularShape),ol.style.Circle.prototype.clone=function(){var a=new ol.style.Circle({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return a.setOpacity(this.getOpacity()),a.setScale(this.getScale()),a},ol.style.Circle.prototype.setRadius=function(a){this.radius_=a,this.render_(this.atlasManager_)},goog.provide("ol.style.Fill"),goog.require("ol"),goog.require("ol.color"),ol.style.Fill=function(a){var b=a||{};this.color_=void 0!==b.color?b.color:null,this.checksum_=void 0},ol.style.Fill.prototype.clone=function(){var a=this.getColor();return new ol.style.Fill({color:a&&a.slice?a.slice():a||void 0})},ol.style.Fill.prototype.getColor=function(){return this.color_},ol.style.Fill.prototype.setColor=function(a){this.color_=a,this.checksum_=void 0},ol.style.Fill.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=ol.getUid(this.color_).toString():this.checksum_="f"+(this.color_?ol.color.asString(this.color_):"-")),this.checksum_},goog.provide("ol.style.Style"),goog.require("ol.asserts"),goog.require("ol.geom.GeometryType"),goog.require("ol.style.Circle"),goog.require("ol.style.Fill"),goog.require("ol.style.Stroke"),ol.style.Style=function(a){var b=a||{};this.geometry_=null,this.geometryFunction_=ol.style.Style.defaultGeometryFunction,void 0!==b.geometry&&this.setGeometry(b.geometry),this.fill_=void 0!==b.fill?b.fill:null,this.image_=void 0!==b.image?b.image:null,this.stroke_=void 0!==b.stroke?b.stroke:null,this.text_=void 0!==b.text?b.text:null,this.zIndex_=b.zIndex},ol.style.Style.prototype.clone=function(){var a=this.getGeometry();return a&&a.clone&&(a=a.clone()),new ol.style.Style({geometry:a,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,
text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},ol.style.Style.prototype.getGeometry=function(){return this.geometry_},ol.style.Style.prototype.getGeometryFunction=function(){return this.geometryFunction_},ol.style.Style.prototype.getFill=function(){return this.fill_},ol.style.Style.prototype.setFill=function(a){this.fill_=a},ol.style.Style.prototype.getImage=function(){return this.image_},ol.style.Style.prototype.setImage=function(a){this.image_=a},ol.style.Style.prototype.getStroke=function(){return this.stroke_},ol.style.Style.prototype.setStroke=function(a){this.stroke_=a},ol.style.Style.prototype.getText=function(){return this.text_},ol.style.Style.prototype.setText=function(a){this.text_=a},ol.style.Style.prototype.getZIndex=function(){return this.zIndex_},ol.style.Style.prototype.setGeometry=function(a){"function"==typeof a?this.geometryFunction_=a:"string"==typeof a?this.geometryFunction_=function(b){return b.get(a)}:a?void 0!==a&&(this.geometryFunction_=function(){return a}):this.geometryFunction_=ol.style.Style.defaultGeometryFunction,this.geometry_=a},ol.style.Style.prototype.setZIndex=function(a){this.zIndex_=a},ol.style.Style.createFunction=function(a){var b;if("function"==typeof a)b=a;else{var c;Array.isArray(a)?c=a:(ol.asserts.assert(a instanceof ol.style.Style,41),c=[a]),b=function(){return c}}return b},ol.style.Style.default_=null,ol.style.Style.defaultFunction=function(a,b){if(!ol.style.Style.default_){var c=new ol.style.Fill({color:"rgba(255,255,255,0.4)"}),d=new ol.style.Stroke({color:"#3399CC",width:1.25});ol.style.Style.default_=[new ol.style.Style({image:new ol.style.Circle({fill:c,stroke:d,radius:5}),fill:c,stroke:d})]}return ol.style.Style.default_},ol.style.Style.createDefaultEditing=function(){var a={},b=[255,255,255,1],c=[0,153,255,1];return a[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})],a[ol.geom.GeometryType.MULTI_POLYGON]=a[ol.geom.GeometryType.POLYGON],a[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:b,width:5})}),new ol.style.Style({stroke:new ol.style.Stroke({color:c,width:3})})],a[ol.geom.GeometryType.MULTI_LINE_STRING]=a[ol.geom.GeometryType.LINE_STRING],a[ol.geom.GeometryType.CIRCLE]=a[ol.geom.GeometryType.POLYGON].concat(a[ol.geom.GeometryType.LINE_STRING]),a[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:c}),stroke:new ol.style.Stroke({color:b,width:1.5})}),zIndex:1/0})],a[ol.geom.GeometryType.MULTI_POINT]=a[ol.geom.GeometryType.POINT],a[ol.geom.GeometryType.GEOMETRY_COLLECTION]=a[ol.geom.GeometryType.POLYGON].concat(a[ol.geom.GeometryType.LINE_STRING],a[ol.geom.GeometryType.POINT]),a},ol.style.Style.defaultGeometryFunction=function(a){return a.getGeometry()},goog.provide("ol.Feature"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.geom.Geometry"),goog.require("ol.style.Style"),ol.Feature=function(a){if(ol.Object.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==a)if(a instanceof ol.geom.Geometry||!a){var b=a;this.setGeometry(b)}else{var c=a;this.setProperties(c)}},ol.inherits(ol.Feature,ol.Object),ol.Feature.prototype.clone=function(){var a=new ol.Feature(this.getProperties());a.setGeometryName(this.getGeometryName());var b=this.getGeometry();b&&a.setGeometry(b.clone());var c=this.getStyle();return c&&a.setStyle(c),a},ol.Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)},ol.Feature.prototype.getId=function(){return this.id_},ol.Feature.prototype.getGeometryName=function(){return this.geometryName_},ol.Feature.prototype.getStyle=function(){return this.style_},ol.Feature.prototype.getStyleFunction=function(){return this.styleFunction_},ol.Feature.prototype.handleGeometryChange_=function(){this.changed()},ol.Feature.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(ol.events.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var a=this.getGeometry();a&&(this.geometryChangeKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleGeometryChange_,this)),this.changed()},ol.Feature.prototype.setGeometry=function(a){this.set(this.geometryName_,a)},ol.Feature.prototype.setStyle=function(a){this.style_=a,this.styleFunction_=a?ol.Feature.createStyleFunction(a):void 0,this.changed()},ol.Feature.prototype.setId=function(a){this.id_=a,this.changed()},ol.Feature.prototype.setGeometryName=function(a){ol.events.unlisten(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=a,ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},ol.Feature.createStyleFunction=function(a){var b;if("function"==typeof a)b=2==a.length?function(b){return a(this,b)}:a;else{var c;Array.isArray(a)?c=a:(ol.asserts.assert(a instanceof ol.style.Style,41),c=[a]),b=function(){return c}}return b},goog.provide("ol.format.FormatType"),ol.format.FormatType={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},goog.provide("ol.xml"),goog.require("ol.array"),ol.xml.DOCUMENT=document.implementation.createDocument("","",null),ol.xml.createElementNS=function(a,b){return ol.xml.DOCUMENT.createElementNS(a,b)},ol.xml.getAllTextContent=function(a,b){return ol.xml.getAllTextContent_(a,b,[]).join("")},ol.xml.getAllTextContent_=function(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else{var d;for(d=a.firstChild;d;d=d.nextSibling)ol.xml.getAllTextContent_(d,b,c)}return c},ol.xml.isDocument=function(a){return a instanceof Document},ol.xml.isNode=function(a){return a instanceof Node},ol.xml.getAttributeNS=function(a,b,c){return a.getAttributeNS(b,c)||""},ol.xml.setAttributeNS=function(a,b,c,d){a.setAttributeNS(b,c,d)},ol.xml.parse=function(a){return(new DOMParser).parseFromString(a,"application/xml")},ol.xml.makeArrayExtender=function(a,b){return function(c,d){var e=a.call(b,c,d);if(void 0!==e){var f=d[d.length-1];ol.array.extend(f,e)}}},ol.xml.makeArrayPusher=function(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);if(void 0!==e){d[d.length-1].push(e)}}},ol.xml.makeReplacer=function(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&(d[d.length-1]=e)}},ol.xml.makeObjectPropertyPusher=function(a,b,c){return function(d,e){var f=a.call(void 0!==c?c:this,d,e);if(void 0!==f){var g,h=e[e.length-1],i=void 0!==b?b:d.localName;g=i in h?h[i]:h[i]=[],g.push(f)}}},ol.xml.makeObjectPropertySetter=function(a,b,c){return function(d,e){var f=a.call(void 0!==c?c:this,d,e);if(void 0!==f){e[e.length-1][void 0!==b?b:d.localName]=f}}},ol.xml.makeChildAppender=function(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e),e[e.length-1].node.appendChild(c)}},ol.xml.makeArraySerializer=function(a,b){var c,d;return function(b,e,f){if(void 0===c){c={};var g={};g[b.localName]=a,c[b.namespaceURI]=g,d=ol.xml.makeSimpleNodeFactory(b.localName)}ol.xml.serialize(c,d,e,f)}},ol.xml.makeSimpleNodeFactory=function(a,b){var c=a;return function(a,d,e){var f=d[d.length-1],g=f.node,h=c;void 0===h&&(h=e);var i=b;return void 0===b&&(i=g.namespaceURI),ol.xml.createElementNS(i,h)}},ol.xml.OBJECT_PROPERTY_NODE_FACTORY=ol.xml.makeSimpleNodeFactory(),ol.xml.makeSequence=function(a,b){for(var c=b.length,d=new Array(c),e=0;e<c;++e)d[e]=a[b[e]];return d},ol.xml.makeStructureNS=function(a,b,c){var d,e,f=void 0!==c?c:{};for(d=0,e=a.length;d<e;++d)f[a[d]]=b;return f},ol.xml.parseNode=function(a,b,c,d){var e;for(e=b.firstElementChild;e;e=e.nextElementSibling){var f=a[e.namespaceURI];if(void 0!==f){var g=f[e.localName];void 0!==g&&g.call(d,e,c)}}},ol.xml.pushParseAndPop=function(a,b,c,d,e){return d.push(a),ol.xml.parseNode(b,c,d,e),d.pop()},ol.xml.serialize=function(a,b,c,d,e,f){for(var g,h,i=(void 0!==e?e:c).length,j=0;j<i;++j)void 0!==(g=c[j])&&void 0!==(h=b.call(f,g,d,void 0!==e?e[j]:void 0))&&a[h.namespaceURI][h.localName].call(f,h,g,d)},ol.xml.pushSerializeAndPop=function(a,b,c,d,e,f,g){return e.push(a),ol.xml.serialize(b,c,d,e,f,g),e.pop()},goog.provide("ol.featureloader"),goog.require("ol"),goog.require("ol.format.FormatType"),goog.require("ol.xml"),ol.featureloader.loadFeaturesXhr=function(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"==typeof a?a(e,f,g):a,!0),b.getType()==ol.format.FormatType.ARRAY_BUFFER&&(h.responseType="arraybuffer"),h.onload=function(a){if(!h.status||h.status>=200&&h.status<300){var e,f=b.getType();f==ol.format.FormatType.JSON||f==ol.format.FormatType.TEXT?e=h.responseText:f==ol.format.FormatType.XML?(e=h.responseXML)||(e=ol.xml.parse(h.responseText)):f==ol.format.FormatType.ARRAY_BUFFER&&(e=h.response),e?c.call(this,b.readFeatures(e,{featureProjection:g}),b.readProjection(e)):d.call(this)}else d.call(this)}.bind(this),h.onerror=function(){d.call(this)}.bind(this),h.send()}},ol.featureloader.xhr=function(a,b){return ol.featureloader.loadFeaturesXhr(a,b,function(a,b){this.addFeatures(a)},ol.nullFunction)},goog.provide("ol.format.Feature"),goog.require("ol.geom.Geometry"),goog.require("ol.obj"),goog.require("ol.proj"),ol.format.Feature=function(){this.defaultDataProjection=null,this.defaultFeatureProjection=null},ol.format.Feature.prototype.getReadOptions=function(a,b){var c;return b&&(c={dataProjection:b.dataProjection?b.dataProjection:this.readProjection(a),featureProjection:b.featureProjection}),this.adaptOptions(c)},ol.format.Feature.prototype.adaptOptions=function(a){return ol.obj.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},a)},ol.format.Feature.prototype.getType=function(){},ol.format.Feature.prototype.readFeature=function(a,b){},ol.format.Feature.prototype.readFeatures=function(a,b){},ol.format.Feature.prototype.readGeometry=function(a,b){},ol.format.Feature.prototype.readProjection=function(a){},ol.format.Feature.prototype.writeFeature=function(a,b){},ol.format.Feature.prototype.writeFeatures=function(a,b){},ol.format.Feature.prototype.writeGeometry=function(a,b){},ol.format.Feature.transformWithOptions=function(a,b,c){var d,e=c?ol.proj.get(c.featureProjection):null,f=c?ol.proj.get(c.dataProjection):null;if(d=e&&f&&!ol.proj.equivalent(e,f)?a instanceof ol.geom.Geometry?(b?a.clone():a).transform(b?e:f,b?f:e):ol.proj.transformExtent(b?a.slice():a,b?e:f,b?f:e):a,b&&c&&c.decimals){var g=Math.pow(10,c.decimals),h=function(a){for(var b=0,c=a.length;b<c;++b)a[b]=Math.round(a[b]*g)/g;return a};Array.isArray(d)?h(d):d.applyTransform(h)}return d};goog.provide("ol.format.JSONFeature"),goog.require("ol"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),ol.format.JSONFeature=function(){ol.format.Feature.call(this)},ol.inherits(ol.format.JSONFeature,ol.format.Feature),ol.format.JSONFeature.prototype.getObject_=function(a){if("string"==typeof a){var b=JSON.parse(a);return b||null}return null!==a?a:null},ol.format.JSONFeature.prototype.getType=function(){return ol.format.FormatType.JSON},ol.format.JSONFeature.prototype.readFeature=function(a,b){return this.readFeatureFromObject(this.getObject_(a),this.getReadOptions(a,b))},ol.format.JSONFeature.prototype.readFeatures=function(a,b){return this.readFeaturesFromObject(this.getObject_(a),this.getReadOptions(a,b))},ol.format.JSONFeature.prototype.readFeatureFromObject=function(a,b){},ol.format.JSONFeature.prototype.readFeaturesFromObject=function(a,b){},ol.format.JSONFeature.prototype.readGeometry=function(a,b){return this.readGeometryFromObject(this.getObject_(a),this.getReadOptions(a,b))},ol.format.JSONFeature.prototype.readGeometryFromObject=function(a,b){},ol.format.JSONFeature.prototype.readProjection=function(a){return this.readProjectionFromObject(this.getObject_(a))},ol.format.JSONFeature.prototype.readProjectionFromObject=function(a){},ol.format.JSONFeature.prototype.writeFeature=function(a,b){return JSON.stringify(this.writeFeatureObject(a,b))},ol.format.JSONFeature.prototype.writeFeatureObject=function(a,b){},ol.format.JSONFeature.prototype.writeFeatures=function(a,b){return JSON.stringify(this.writeFeaturesObject(a,b))},ol.format.JSONFeature.prototype.writeFeaturesObject=function(a,b){},ol.format.JSONFeature.prototype.writeGeometry=function(a,b){return JSON.stringify(this.writeGeometryObject(a,b))},ol.format.JSONFeature.prototype.writeGeometryObject=function(a,b){},goog.provide("ol.geom.flat.interpolate"),goog.require("ol.array"),goog.require("ol.math"),ol.geom.flat.interpolate.lineString=function(a,b,c,d,e,f){var g=NaN,h=NaN,i=(c-b)/d;if(1===i)g=a[b],h=a[b+1];else if(2==i)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else if(0!==i){var j,k=a[b],l=a[b+1],m=0,n=[0];for(j=b+d;j<c;j+=d){var o=a[j],p=a[j+1];m+=Math.sqrt((o-k)*(o-k)+(p-l)*(p-l)),n.push(m),k=o,l=p}var q=e*m,r=ol.array.binarySearch(n,q);if(r<0){var s=(q-n[-r-2])/(n[-r-1]-n[-r-2]),t=b+(-r-2)*d;g=ol.math.lerp(a[t],a[t+d],s),h=ol.math.lerp(a[t+1],a[t+d+1],s)}else g=a[b+r*d],h=a[b+r*d+1]}return f?(f[0]=g,f[1]=h,f):[g,h]},ol.geom.flat.interpolate.lineStringCoordinateAtM=function(a,b,c,d,e,f){if(c==b)return null;var g;if(e<a[b+d-1])return f?(g=a.slice(b,b+d),g[d-1]=e,g):null;if(a[c-1]<e)return f?(g=a.slice(c-d,c),g[d-1]=e,g):null;if(e==a[b+d-1])return a.slice(b,b+d);for(var h=b/d,i=c/d;h<i;){var j=h+i>>1;e<a[(j+1)*d-1]?i=j:h=j+1}var k=a[h*d-1];if(e==k)return a.slice((h-1)*d,(h-1)*d+d);var l=a[(h+1)*d-1],m=(e-k)/(l-k);g=[];var n;for(n=0;n<d-1;++n)g.push(ol.math.lerp(a[(h-1)*d+n],a[h*d+n],m));return g.push(e),g},ol.geom.flat.interpolate.lineStringsCoordinateAtM=function(a,b,c,d,e,f,g){if(g)return ol.geom.flat.interpolate.lineStringCoordinateAtM(a,b,c[c.length-1],d,e,f);var h;if(e<a[d-1])return f?(h=a.slice(0,d),h[d-1]=e,h):null;if(a[a.length-1]<e)return f?(h=a.slice(a.length-d),h[d-1]=e,h):null;var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i];if(b!=k){if(e<a[b+d-1])return null;if(e<=a[k-1])return ol.geom.flat.interpolate.lineStringCoordinateAtM(a,b,k,d,e,!1);b=k}}return null},goog.provide("ol.geom.flat.length"),ol.geom.flat.length.lineString=function(a,b,c,d){var e,f=a[b],g=a[b+1],h=0;for(e=b+d;e<c;e+=d){var i=a[e],j=a[e+1];h+=Math.sqrt((i-f)*(i-f)+(j-g)*(j-g)),f=i,g=j}return h},ol.geom.flat.length.linearRing=function(a,b,c,d){var e=ol.geom.flat.length.lineString(a,b,c,d),f=a[c-d]-a[b],g=a[c-d+1]-a[b+1];return e+=Math.sqrt(f*f+g*g)},goog.provide("ol.geom.LineString"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interpolate"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.length"),goog.require("ol.geom.flat.segments"),goog.require("ol.geom.flat.simplify"),ol.geom.LineString=function(a,b){ol.geom.SimpleGeometry.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(a,b)},ol.inherits(ol.geom.LineString,ol.geom.SimpleGeometry),ol.geom.LineString.prototype.appendCoordinate=function(a){this.flatCoordinates?ol.array.extend(this.flatCoordinates,a):this.flatCoordinates=a.slice(),this.changed()},ol.geom.LineString.prototype.clone=function(){var a=new ol.geom.LineString(null);return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),a},ol.geom.LineString.prototype.closestPointXY=function(a,b,c,d){return d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)?d:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,a,b,c,d))},ol.geom.LineString.prototype.forEachSegment=function(a,b){return ol.geom.flat.segments.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b)},ol.geom.LineString.prototype.getCoordinateAtM=function(a,b){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM)return null;var c=void 0!==b&&b;return ol.geom.flat.interpolate.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,c)},ol.geom.LineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LineString.prototype.getCoordinateAt=function(a,b){return ol.geom.flat.interpolate.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b)},ol.geom.LineString.prototype.getLength=function(){return ol.geom.flat.length.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LineString.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},ol.geom.LineString.prototype.getSimplifiedGeometryInternal=function(a){var b=[];b.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b,0);var c=new ol.geom.LineString(null);return c.setFlatCoordinates(ol.geom.GeometryLayout.XY,b),c},ol.geom.LineString.prototype.getType=function(){return ol.geom.GeometryType.LINE_STRING},ol.geom.LineString.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a)},ol.geom.LineString.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.LineString.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b),this.changed()},goog.provide("ol.geom.MultiLineString"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interpolate"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.simplify"),ol.geom.MultiLineString=function(a,b){ol.geom.SimpleGeometry.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(a,b)},ol.inherits(ol.geom.MultiLineString,ol.geom.SimpleGeometry),ol.geom.MultiLineString.prototype.appendLineString=function(a){this.flatCoordinates?ol.array.extend(this.flatCoordinates,a.getFlatCoordinates().slice()):this.flatCoordinates=a.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},ol.geom.MultiLineString.prototype.clone=function(){var a=new ol.geom.MultiLineString(null);return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),a},ol.geom.MultiLineString.prototype.closestPointXY=function(a,b,c,d){return d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)?d:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,a,b,c,d))},ol.geom.MultiLineString.prototype.getCoordinateAtM=function(a,b,c){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM||0===this.flatCoordinates.length)return null;var d=void 0!==b&&b,e=void 0!==c&&c;return ol.geom.flat.interpolate.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,a,d,e)},ol.geom.MultiLineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},ol.geom.MultiLineString.prototype.getEnds=function(){return this.ends_},ol.geom.MultiLineString.prototype.getLineString=function(a){if(a<0||this.ends_.length<=a)return null;var b=new ol.geom.LineString(null);return b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===a?0:this.ends_[a-1],this.ends_[a])),b},ol.geom.MultiLineString.prototype.getLineStrings=function(){var a,b,c=this.flatCoordinates,d=this.ends_,e=this.layout,f=[],g=0;for(a=0,b=d.length;a<b;++a){var h=d[a],i=new ol.geom.LineString(null);i.setFlatCoordinates(e,c.slice(g,h)),f.push(i),g=h}return f},ol.geom.MultiLineString.prototype.getFlatMidpoints=function(){var a,b,c=[],d=this.flatCoordinates,e=0,f=this.ends_,g=this.stride;for(a=0,b=f.length;a<b;++a){var h=f[a],i=ol.geom.flat.interpolate.lineString(d,e,h,g,.5);ol.array.extend(c,i),e=h}return c},ol.geom.MultiLineString.prototype.getSimplifiedGeometryInternal=function(a){var b=[],c=[];b.length=ol.geom.flat.simplify.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,a,b,0,c);var d=new ol.geom.MultiLineString(null);return d.setFlatCoordinates(ol.geom.GeometryLayout.XY,b,c),d},ol.geom.MultiLineString.prototype.getType=function(){return ol.geom.GeometryType.MULTI_LINE_STRING},ol.geom.MultiLineString.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,a)},ol.geom.MultiLineString.prototype.setCoordinates=function(a,b){if(a){this.setLayout(b,a,2),this.flatCoordinates||(this.flatCoordinates=[]);var c=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,a,this.stride,this.ends_);this.flatCoordinates.length=0===c.length?0:c[c.length-1],this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)},ol.geom.MultiLineString.prototype.setFlatCoordinates=function(a,b,c){this.setFlatCoordinatesInternal(a,b),this.ends_=c,this.changed()},ol.geom.MultiLineString.prototype.setLineStrings=function(a){var b,c,d=this.getLayout(),e=[],f=[];for(b=0,c=a.length;b<c;++b){var g=a[b];0===b&&(d=g.getLayout()),ol.array.extend(e,g.getFlatCoordinates()),f.push(e.length)}this.setFlatCoordinates(d,e,f)},goog.provide("ol.geom.MultiPoint"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Point"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.math"),ol.geom.MultiPoint=function(a,b){ol.geom.SimpleGeometry.call(this),this.setCoordinates(a,b)},ol.inherits(ol.geom.MultiPoint,ol.geom.SimpleGeometry),ol.geom.MultiPoint.prototype.appendPoint=function(a){this.flatCoordinates?ol.array.extend(this.flatCoordinates,a.getFlatCoordinates()):this.flatCoordinates=a.getFlatCoordinates().slice(),this.changed()},ol.geom.MultiPoint.prototype.clone=function(){var a=new ol.geom.MultiPoint(null);return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),a},ol.geom.MultiPoint.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b))return d;var e,f,g,h=this.flatCoordinates,i=this.stride;for(e=0,f=h.length;e<f;e+=i){var j=ol.math.squaredDistance(a,b,h[e],h[e+1]);if(j<d){for(d=j,g=0;g<i;++g)c[g]=h[e+g];c.length=i}}return d},ol.geom.MultiPoint.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.MultiPoint.prototype.getPoint=function(a){var b=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(a<0||b<=a)return null;var c=new ol.geom.Point(null);return c.setFlatCoordinates(this.layout,this.flatCoordinates.slice(a*this.stride,(a+1)*this.stride)),c},ol.geom.MultiPoint.prototype.getPoints=function(){var a,b,c=this.flatCoordinates,d=this.layout,e=this.stride,f=[];for(a=0,b=c.length;a<b;a+=e){var g=new ol.geom.Point(null);g.setFlatCoordinates(d,c.slice(a,a+e)),f.push(g)}return f},ol.geom.MultiPoint.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POINT},ol.geom.MultiPoint.prototype.intersectsExtent=function(a){var b,c,d,e,f=this.flatCoordinates,g=this.stride;for(b=0,c=f.length;b<c;b+=g)if(d=f[b],e=f[b+1],ol.extent.containsXY(a,d,e))return!0;return!1},ol.geom.MultiPoint.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.MultiPoint.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b),this.changed()},goog.provide("ol.geom.flat.center"),goog.require("ol.extent"),ol.geom.flat.center.linearRingss=function(a,b,c,d){var e,f,g=[],h=ol.extent.createEmpty();for(e=0,f=c.length;e<f;++e){var i=c[e];h=ol.extent.createOrUpdateFromFlatCoordinates(a,b,i[0],d),g.push((h[0]+h[2])/2,(h[1]+h[3])/2),b=i[i.length-1]}return g},goog.provide("ol.geom.MultiPolygon"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.center"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interiorpoint"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.simplify"),ol.geom.MultiPolygon=function(a,b){ol.geom.SimpleGeometry.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(a,b)},ol.inherits(ol.geom.MultiPolygon,ol.geom.SimpleGeometry),ol.geom.MultiPolygon.prototype.appendPolygon=function(a){var b;if(this.flatCoordinates){var c=this.flatCoordinates.length;ol.array.extend(this.flatCoordinates,a.getFlatCoordinates()),b=a.getEnds().slice();var d,e;for(d=0,e=b.length;d<e;++d)b[d]+=c}else this.flatCoordinates=a.getFlatCoordinates().slice(),b=a.getEnds().slice(),this.endss_.push();this.endss_.push(b),this.changed()},ol.geom.MultiPolygon.prototype.clone=function(){for(var a=new ol.geom.MultiPolygon(null),b=this.endss_.length,c=new Array(b),d=0;d<b;++d)c[d]=this.endss_[d].slice();return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),c),a},ol.geom.MultiPolygon.prototype.closestPointXY=function(a,b,c,d){return d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)?d:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,a,b,c,d))},ol.geom.MultiPolygon.prototype.containsXY=function(a,b){return ol.geom.flat.contains.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a,b)},ol.geom.MultiPolygon.prototype.getArea=function(){return ol.geom.flat.area.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},ol.geom.MultiPolygon.prototype.getCoordinates=function(a){var b;return void 0!==a?(b=this.getOrientedFlatCoordinates().slice(),ol.geom.flat.orient.orientLinearRingss(b,0,this.endss_,this.stride,a)):b=this.flatCoordinates,ol.geom.flat.inflate.coordinatesss(b,0,this.endss_,this.stride)},ol.geom.MultiPolygon.prototype.getEndss=function(){return this.endss_},ol.geom.MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var a=ol.geom.flat.center.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},ol.geom.MultiPolygon.prototype.getInteriorPoints=function(){var a=new ol.geom.MultiPoint(null);return a.setFlatCoordinates(ol.geom.GeometryLayout.XY,this.getFlatInteriorPoints().slice()),a},ol.geom.MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var a=this.flatCoordinates;ol.geom.flat.orient.linearRingssAreOriented(a,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=a:(this.orientedFlatCoordinates_=a.slice(),this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},ol.geom.MultiPolygon.prototype.getSimplifiedGeometryInternal=function(a){var b=[],c=[];b.length=ol.geom.flat.simplify.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(a),b,0,c);var d=new ol.geom.MultiPolygon(null);return d.setFlatCoordinates(ol.geom.GeometryLayout.XY,b,c),d},ol.geom.MultiPolygon.prototype.getPolygon=function(a){if(a<0||this.endss_.length<=a)return null;var b;if(0===a)b=0;else{var c=this.endss_[a-1];b=c[c.length-1]}var d=this.endss_[a].slice(),e=d[d.length-1];if(0!==b){var f,g;for(f=0,g=d.length;f<g;++f)d[f]-=b}var h=new ol.geom.Polygon(null);return h.setFlatCoordinates(this.layout,this.flatCoordinates.slice(b,e),d),h},ol.geom.MultiPolygon.prototype.getPolygons=function(){var a,b,c,d,e=this.layout,f=this.flatCoordinates,g=this.endss_,h=[],i=0;for(a=0,b=g.length;a<b;++a){var j=g[a].slice(),k=j[j.length-1];if(0!==i)for(c=0,d=j.length;c<d;++c)j[c]-=i;var l=new ol.geom.Polygon(null);l.setFlatCoordinates(e,f.slice(i,k),j),h.push(l),i=k}return h},ol.geom.MultiPolygon.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POLYGON},ol.geom.MultiPolygon.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a)},ol.geom.MultiPolygon.prototype.setCoordinates=function(a,b){if(a){this.setLayout(b,a,3),this.flatCoordinates||(this.flatCoordinates=[]);var c=ol.geom.flat.deflate.coordinatesss(this.flatCoordinates,0,a,this.stride,this.endss_);if(0===c.length)this.flatCoordinates.length=0;else{var d=c[c.length-1];this.flatCoordinates.length=0===d.length?0:d[d.length-1]}this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.endss_)},ol.geom.MultiPolygon.prototype.setFlatCoordinates=function(a,b,c){this.setFlatCoordinatesInternal(a,b),this.endss_=c,this.changed()},ol.geom.MultiPolygon.prototype.setPolygons=function(a){var b,c,d,e=this.getLayout(),f=[],g=[];for(b=0,c=a.length;b<c;++b){var h=a[b];0===b&&(e=h.getLayout());var i=f.length;d=h.getEnds();var j,k;for(j=0,k=d.length;j<k;++j)d[j]+=i;ol.array.extend(f,h.getFlatCoordinates()),g.push(d)}this.setFlatCoordinates(e,f,g)},goog.provide("ol.format.EsriJSON"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.asserts"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),
goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.orient"),goog.require("ol.obj"),goog.require("ol.proj"),ol.format.EsriJSON=function(a){var b=a||{};ol.format.JSONFeature.call(this),this.geometryName_=b.geometryName},ol.inherits(ol.format.EsriJSON,ol.format.JSONFeature),ol.format.EsriJSON.readGeometry_=function(a,b){if(!a)return null;var c;if("number"==typeof a.x&&"number"==typeof a.y)c=ol.geom.GeometryType.POINT;else if(a.points)c=ol.geom.GeometryType.MULTI_POINT;else if(a.paths)c=1===a.paths.length?ol.geom.GeometryType.LINE_STRING:ol.geom.GeometryType.MULTI_LINE_STRING;else if(a.rings){var d=ol.format.EsriJSON.getGeometryLayout_(a),e=ol.format.EsriJSON.convertRings_(a.rings,d);a=ol.obj.assign({},a),1===e.length?(c=ol.geom.GeometryType.POLYGON,a.rings=e[0]):(c=ol.geom.GeometryType.MULTI_POLYGON,a.rings=e)}var f=ol.format.EsriJSON.GEOMETRY_READERS_[c];return ol.format.Feature.transformWithOptions(f(a),!1,b)},ol.format.EsriJSON.convertRings_=function(a,b){var c,d,e=[],f=[],g=[];for(c=0,d=a.length;c<d;++c){e.length=0,ol.geom.flat.deflate.coordinates(e,0,a[c],b.length);ol.geom.flat.orient.linearRingIsClockwise(e,0,e.length,b.length)?f.push([a[c]]):g.push(a[c])}for(;g.length;){var h=g.shift(),i=!1;for(c=f.length-1;c>=0;c--){var j=f[c][0];if(ol.extent.containsExtent(new ol.geom.LinearRing(j).getExtent(),new ol.geom.LinearRing(h).getExtent())){f[c].push(h),i=!0;break}}i||f.push([h.reverse()])}return f},ol.format.EsriJSON.readPointGeometry_=function(a){return void 0!==a.m&&void 0!==a.z?new ol.geom.Point([a.x,a.y,a.z,a.m],ol.geom.GeometryLayout.XYZM):void 0!==a.z?new ol.geom.Point([a.x,a.y,a.z],ol.geom.GeometryLayout.XYZ):void 0!==a.m?new ol.geom.Point([a.x,a.y,a.m],ol.geom.GeometryLayout.XYM):new ol.geom.Point([a.x,a.y])},ol.format.EsriJSON.readLineStringGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.LineString(a.paths[0],b)},ol.format.EsriJSON.readMultiLineStringGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.MultiLineString(a.paths,b)},ol.format.EsriJSON.getGeometryLayout_=function(a){var b=ol.geom.GeometryLayout.XY;return!0===a.hasZ&&!0===a.hasM?b=ol.geom.GeometryLayout.XYZM:!0===a.hasZ?b=ol.geom.GeometryLayout.XYZ:!0===a.hasM&&(b=ol.geom.GeometryLayout.XYM),b},ol.format.EsriJSON.readMultiPointGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.MultiPoint(a.points,b)},ol.format.EsriJSON.readMultiPolygonGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.MultiPolygon(a.rings,b)},ol.format.EsriJSON.readPolygonGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.Polygon(a.rings,b)},ol.format.EsriJSON.writePointGeometry_=function(a,b){var c,d=a.getCoordinates(),e=a.getLayout();return e===ol.geom.GeometryLayout.XYZ?c={x:d[0],y:d[1],z:d[2]}:e===ol.geom.GeometryLayout.XYM?c={x:d[0],y:d[1],m:d[2]}:e===ol.geom.GeometryLayout.XYZM?c={x:d[0],y:d[1],z:d[2],m:d[3]}:e===ol.geom.GeometryLayout.XY?c={x:d[0],y:d[1]}:ol.asserts.assert(!1,34),c},ol.format.EsriJSON.getHasZM_=function(a){var b=a.getLayout();return{hasZ:b===ol.geom.GeometryLayout.XYZ||b===ol.geom.GeometryLayout.XYZM,hasM:b===ol.geom.GeometryLayout.XYM||b===ol.geom.GeometryLayout.XYZM}},ol.format.EsriJSON.writeLineStringGeometry_=function(a,b){var c=ol.format.EsriJSON.getHasZM_(a);return{hasZ:c.hasZ,hasM:c.hasM,paths:[a.getCoordinates()]}},ol.format.EsriJSON.writePolygonGeometry_=function(a,b){var c=ol.format.EsriJSON.getHasZM_(a);return{hasZ:c.hasZ,hasM:c.hasM,rings:a.getCoordinates(!1)}},ol.format.EsriJSON.writeMultiLineStringGeometry_=function(a,b){var c=ol.format.EsriJSON.getHasZM_(a);return{hasZ:c.hasZ,hasM:c.hasM,paths:a.getCoordinates()}},ol.format.EsriJSON.writeMultiPointGeometry_=function(a,b){var c=ol.format.EsriJSON.getHasZM_(a);return{hasZ:c.hasZ,hasM:c.hasM,points:a.getCoordinates()}},ol.format.EsriJSON.writeMultiPolygonGeometry_=function(a,b){for(var c=ol.format.EsriJSON.getHasZM_(a),d=a.getCoordinates(!1),e=[],f=0;f<d.length;f++)for(var g=d[f].length-1;g>=0;g--)e.push(d[f][g]);return{hasZ:c.hasZ,hasM:c.hasM,rings:e}},ol.format.EsriJSON.GEOMETRY_READERS_={},ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.readPointGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.readLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.readPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.readMultiPointGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.readMultiLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.readMultiPolygonGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_={},ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.writePointGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.writeLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.writePolygonGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.writeMultiPointGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.writeMultiLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.writeMultiPolygonGeometry_,ol.format.EsriJSON.prototype.readFeature,ol.format.EsriJSON.prototype.readFeatures,ol.format.EsriJSON.prototype.readFeatureFromObject=function(a,b){var c=a,d=ol.format.EsriJSON.readGeometry_(c.geometry,b),e=new ol.Feature;return this.geometryName_&&e.setGeometryName(this.geometryName_),e.setGeometry(d),b&&b.idField&&c.attributes[b.idField]&&e.setId(c.attributes[b.idField]),c.attributes&&e.setProperties(c.attributes),e},ol.format.EsriJSON.prototype.readFeaturesFromObject=function(a,b){var c=a,d=b||{};if(c.features){var e,f,g=a,h=[],i=g.features;for(d.idField=a.objectIdFieldName,e=0,f=i.length;e<f;++e)h.push(this.readFeatureFromObject(i[e],d));return h}return[this.readFeatureFromObject(a,d)]},ol.format.EsriJSON.prototype.readGeometry,ol.format.EsriJSON.prototype.readGeometryFromObject=function(a,b){return ol.format.EsriJSON.readGeometry_(a,b)},ol.format.EsriJSON.prototype.readProjection,ol.format.EsriJSON.prototype.readProjectionFromObject=function(a){var b=a;if(b.spatialReference&&b.spatialReference.wkid){var c=b.spatialReference.wkid;return ol.proj.get("EPSG:"+c)}return null},ol.format.EsriJSON.writeGeometry_=function(a,b){return(0,ol.format.EsriJSON.GEOMETRY_WRITERS_[a.getType()])(ol.format.Feature.transformWithOptions(a,!0,b),b)},ol.format.EsriJSON.prototype.writeGeometry,ol.format.EsriJSON.prototype.writeGeometryObject=function(a,b){return ol.format.EsriJSON.writeGeometry_(a,this.adaptOptions(b))},ol.format.EsriJSON.prototype.writeFeature,ol.format.EsriJSON.prototype.writeFeatureObject=function(a,b){b=this.adaptOptions(b);var c={},d=a.getGeometry();d&&(c.geometry=ol.format.EsriJSON.writeGeometry_(d,b));var e=a.getProperties();return delete e[a.getGeometryName()],ol.obj.isEmpty(e)?c.attributes={}:c.attributes=e,b&&b.featureProjection&&(c.spatialReference={wkid:ol.proj.get(b.featureProjection).getCode().split(":").pop()}),c},ol.format.EsriJSON.prototype.writeFeatures,ol.format.EsriJSON.prototype.writeFeaturesObject=function(a,b){b=this.adaptOptions(b);var c,d,e=[];for(c=0,d=a.length;c<d;++c)e.push(this.writeFeatureObject(a[c],b));return{features:e}},goog.provide("ol.format.filter.Filter"),ol.format.filter.Filter=function(a){this.tagName_=a},ol.format.filter.Filter.prototype.getTagName=function(){return this.tagName_},goog.provide("ol.format.filter.LogicalNary"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.format.filter.Filter"),ol.format.filter.LogicalNary=function(a,b){ol.format.filter.Filter.call(this,a),this.conditions=Array.prototype.slice.call(arguments,1),ol.asserts.assert(this.conditions.length>=2,57)},ol.inherits(ol.format.filter.LogicalNary,ol.format.filter.Filter),goog.provide("ol.format.filter.And"),goog.require("ol"),goog.require("ol.format.filter.LogicalNary"),ol.format.filter.And=function(a){var b=["And"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,b)},ol.inherits(ol.format.filter.And,ol.format.filter.LogicalNary),goog.provide("ol.format.filter.Bbox"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Bbox=function(a,b,c){ol.format.filter.Filter.call(this,"BBOX"),this.geometryName=a,this.extent=b,this.srsName=c},ol.inherits(ol.format.filter.Bbox,ol.format.filter.Filter),goog.provide("ol.format.filter.Comparison"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Comparison=function(a,b){ol.format.filter.Filter.call(this,a),this.propertyName=b},ol.inherits(ol.format.filter.Comparison,ol.format.filter.Filter),goog.provide("ol.format.filter.ComparisonBinary"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.ComparisonBinary=function(a,b,c,d){ol.format.filter.Comparison.call(this,a,b),this.expression=c,this.matchCase=d},ol.inherits(ol.format.filter.ComparisonBinary,ol.format.filter.Comparison),goog.provide("ol.format.filter.EqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.EqualTo=function(a,b,c){ol.format.filter.ComparisonBinary.call(this,"PropertyIsEqualTo",a,b,c)},ol.inherits(ol.format.filter.EqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.GreaterThan"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.GreaterThan=function(a,b){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThan",a,b)},ol.inherits(ol.format.filter.GreaterThan,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.GreaterThanOrEqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.GreaterThanOrEqualTo=function(a,b){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)},ol.inherits(ol.format.filter.GreaterThanOrEqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.Spatial"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Spatial=function(a,b,c,d){ol.format.filter.Filter.call(this,a),this.geometryName=b||"the_geom",this.geometry=c,this.srsName=d},ol.inherits(ol.format.filter.Spatial,ol.format.filter.Filter),goog.provide("ol.format.filter.Intersects"),goog.require("ol"),goog.require("ol.format.filter.Spatial"),ol.format.filter.Intersects=function(a,b,c){ol.format.filter.Spatial.call(this,"Intersects",a,b,c)},ol.inherits(ol.format.filter.Intersects,ol.format.filter.Spatial),goog.provide("ol.format.filter.IsBetween"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.IsBetween=function(a,b,c){ol.format.filter.Comparison.call(this,"PropertyIsBetween",a),this.lowerBoundary=b,this.upperBoundary=c},ol.inherits(ol.format.filter.IsBetween,ol.format.filter.Comparison),goog.provide("ol.format.filter.IsLike"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.IsLike=function(a,b,c,d,e,f){ol.format.filter.Comparison.call(this,"PropertyIsLike",a),this.pattern=b,this.wildCard=void 0!==c?c:"*",this.singleChar=void 0!==d?d:".",this.escapeChar=void 0!==e?e:"!",this.matchCase=f},ol.inherits(ol.format.filter.IsLike,ol.format.filter.Comparison),goog.provide("ol.format.filter.IsNull"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.IsNull=function(a){ol.format.filter.Comparison.call(this,"PropertyIsNull",a)},ol.inherits(ol.format.filter.IsNull,ol.format.filter.Comparison),goog.provide("ol.format.filter.LessThan"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.LessThan=function(a,b){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThan",a,b)},ol.inherits(ol.format.filter.LessThan,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.LessThanOrEqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.LessThanOrEqualTo=function(a,b){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThanOrEqualTo",a,b)},ol.inherits(ol.format.filter.LessThanOrEqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.Not"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Not=function(a){ol.format.filter.Filter.call(this,"Not"),this.condition=a},ol.inherits(ol.format.filter.Not,ol.format.filter.Filter),goog.provide("ol.format.filter.NotEqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.NotEqualTo=function(a,b,c){ol.format.filter.ComparisonBinary.call(this,"PropertyIsNotEqualTo",a,b,c)},ol.inherits(ol.format.filter.NotEqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.Or"),goog.require("ol"),goog.require("ol.format.filter.LogicalNary"),ol.format.filter.Or=function(a){var b=["Or"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,b)},ol.inherits(ol.format.filter.Or,ol.format.filter.LogicalNary),goog.provide("ol.format.filter.Within"),goog.require("ol"),goog.require("ol.format.filter.Spatial"),ol.format.filter.Within=function(a,b,c){ol.format.filter.Spatial.call(this,"Within",a,b,c)},ol.inherits(ol.format.filter.Within,ol.format.filter.Spatial),goog.provide("ol.format.filter"),goog.require("ol.format.filter.And"),goog.require("ol.format.filter.Bbox"),goog.require("ol.format.filter.EqualTo"),goog.require("ol.format.filter.GreaterThan"),goog.require("ol.format.filter.GreaterThanOrEqualTo"),goog.require("ol.format.filter.Intersects"),goog.require("ol.format.filter.IsBetween"),goog.require("ol.format.filter.IsLike"),goog.require("ol.format.filter.IsNull"),goog.require("ol.format.filter.LessThan"),goog.require("ol.format.filter.LessThanOrEqualTo"),goog.require("ol.format.filter.Not"),goog.require("ol.format.filter.NotEqualTo"),goog.require("ol.format.filter.Or"),goog.require("ol.format.filter.Within"),ol.format.filter.and=function(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.And,b))},ol.format.filter.or=function(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.Or,b))},ol.format.filter.not=function(a){return new ol.format.filter.Not(a)},ol.format.filter.bbox=function(a,b,c){return new ol.format.filter.Bbox(a,b,c)},ol.format.filter.intersects=function(a,b,c){return new ol.format.filter.Intersects(a,b,c)},ol.format.filter.within=function(a,b,c){return new ol.format.filter.Within(a,b,c)},ol.format.filter.equalTo=function(a,b,c){return new ol.format.filter.EqualTo(a,b,c)},ol.format.filter.notEqualTo=function(a,b,c){return new ol.format.filter.NotEqualTo(a,b,c)},ol.format.filter.lessThan=function(a,b){return new ol.format.filter.LessThan(a,b)},ol.format.filter.lessThanOrEqualTo=function(a,b){return new ol.format.filter.LessThanOrEqualTo(a,b)},ol.format.filter.greaterThan=function(a,b){return new ol.format.filter.GreaterThan(a,b)},ol.format.filter.greaterThanOrEqualTo=function(a,b){return new ol.format.filter.GreaterThanOrEqualTo(a,b)},ol.format.filter.isNull=function(a){return new ol.format.filter.IsNull(a)},ol.format.filter.between=function(a,b,c){return new ol.format.filter.IsBetween(a,b,c)},ol.format.filter.like=function(a,b,c,d,e,f){return new ol.format.filter.IsLike(a,b,c,d,e,f)},goog.provide("ol.geom.GeometryCollection"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryType"),goog.require("ol.obj"),ol.geom.GeometryCollection=function(a){ol.geom.Geometry.call(this),this.geometries_=a||null,this.listenGeometriesChange_()},ol.inherits(ol.geom.GeometryCollection,ol.geom.Geometry),ol.geom.GeometryCollection.cloneGeometries_=function(a){var b,c,d=[];for(b=0,c=a.length;b<c;++b)d.push(a[b].clone());return d},ol.geom.GeometryCollection.prototype.unlistenGeometriesChange_=function(){var a,b;if(this.geometries_)for(a=0,b=this.geometries_.length;a<b;++a)ol.events.unlisten(this.geometries_[a],ol.events.EventType.CHANGE,this.changed,this)},ol.geom.GeometryCollection.prototype.listenGeometriesChange_=function(){var a,b;if(this.geometries_)for(a=0,b=this.geometries_.length;a<b;++a)ol.events.listen(this.geometries_[a],ol.events.EventType.CHANGE,this.changed,this)},ol.geom.GeometryCollection.prototype.clone=function(){var a=new ol.geom.GeometryCollection(null);return a.setGeometries(this.geometries_),a},ol.geom.GeometryCollection.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b))return d;var e,f,g=this.geometries_;for(e=0,f=g.length;e<f;++e)d=g[e].closestPointXY(a,b,c,d);return d},ol.geom.GeometryCollection.prototype.containsXY=function(a,b){var c,d,e=this.geometries_;for(c=0,d=e.length;c<d;++c)if(e[c].containsXY(a,b))return!0;return!1},ol.geom.GeometryCollection.prototype.computeExtent=function(a){ol.extent.createOrUpdateEmpty(a);for(var b=this.geometries_,c=0,d=b.length;c<d;++c)ol.extent.extend(a,b[c].getExtent());return a},ol.geom.GeometryCollection.prototype.getGeometries=function(){return ol.geom.GeometryCollection.cloneGeometries_(this.geometries_)},ol.geom.GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_},ol.geom.GeometryCollection.prototype.getSimplifiedGeometry=function(a){if(this.simplifiedGeometryRevision!=this.getRevision()&&(ol.obj.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),a<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&a<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var b=a.toString();if(this.simplifiedGeometryCache.hasOwnProperty(b))return this.simplifiedGeometryCache[b];var c,d,e=[],f=this.geometries_,g=!1;for(c=0,d=f.length;c<d;++c){var h=f[c],i=h.getSimplifiedGeometry(a);e.push(i),i!==h&&(g=!0)}if(g){var j=new ol.geom.GeometryCollection(null);return j.setGeometriesArray(e),this.simplifiedGeometryCache[b]=j,j}return this.simplifiedGeometryMaxMinSquaredTolerance=a,this},ol.geom.GeometryCollection.prototype.getType=function(){return ol.geom.GeometryType.GEOMETRY_COLLECTION},ol.geom.GeometryCollection.prototype.intersectsExtent=function(a){var b,c,d=this.geometries_;for(b=0,c=d.length;b<c;++b)if(d[b].intersectsExtent(a))return!0;return!1},ol.geom.GeometryCollection.prototype.isEmpty=function(){return 0===this.geometries_.length},ol.geom.GeometryCollection.prototype.rotate=function(a,b){for(var c=this.geometries_,d=0,e=c.length;d<e;++d)c[d].rotate(a,b);this.changed()},ol.geom.GeometryCollection.prototype.scale=function(a,b,c){var d=c;d||(d=ol.extent.getCenter(this.getExtent()));for(var e=this.geometries_,f=0,g=e.length;f<g;++f)e[f].scale(a,b,d);this.changed()},ol.geom.GeometryCollection.prototype.setGeometries=function(a){this.setGeometriesArray(ol.geom.GeometryCollection.cloneGeometries_(a))},ol.geom.GeometryCollection.prototype.setGeometriesArray=function(a){this.unlistenGeometriesChange_(),this.geometries_=a,this.listenGeometriesChange_(),this.changed()},ol.geom.GeometryCollection.prototype.applyTransform=function(a){var b,c,d=this.geometries_;for(b=0,c=d.length;b<c;++b)d[b].applyTransform(a);this.changed()},ol.geom.GeometryCollection.prototype.translate=function(a,b){var c,d,e=this.geometries_;for(c=0,d=e.length;c<d;++c)e[c].translate(a,b);this.changed()},ol.geom.GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),ol.geom.Geometry.prototype.disposeInternal.call(this)},goog.provide("ol.format.GeoJSON"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj");ol.format.GeoJSON=function(a){var b=a||{};ol.format.JSONFeature.call(this),this.defaultDataProjection=ol.proj.get(b.defaultDataProjection?b.defaultDataProjection:"EPSG:4326"),b.featureProjection&&(this.defaultFeatureProjection=ol.proj.get(b.featureProjection)),this.geometryName_=b.geometryName},ol.inherits(ol.format.GeoJSON,ol.format.JSONFeature),ol.format.GeoJSON.readGeometry_=function(a,b){if(!a)return null;var c=ol.format.GeoJSON.GEOMETRY_READERS_[a.type];return ol.format.Feature.transformWithOptions(c(a),!1,b)},ol.format.GeoJSON.readGeometryCollectionGeometry_=function(a,b){var c=a.geometries.map(function(a){return ol.format.GeoJSON.readGeometry_(a,b)});return new ol.geom.GeometryCollection(c)},ol.format.GeoJSON.readPointGeometry_=function(a){return new ol.geom.Point(a.coordinates)},ol.format.GeoJSON.readLineStringGeometry_=function(a){return new ol.geom.LineString(a.coordinates)},ol.format.GeoJSON.readMultiLineStringGeometry_=function(a){return new ol.geom.MultiLineString(a.coordinates)},ol.format.GeoJSON.readMultiPointGeometry_=function(a){return new ol.geom.MultiPoint(a.coordinates)},ol.format.GeoJSON.readMultiPolygonGeometry_=function(a){return new ol.geom.MultiPolygon(a.coordinates)},ol.format.GeoJSON.readPolygonGeometry_=function(a){return new ol.geom.Polygon(a.coordinates)},ol.format.GeoJSON.writeGeometry_=function(a,b){return(0,ol.format.GeoJSON.GEOMETRY_WRITERS_[a.getType()])(ol.format.Feature.transformWithOptions(a,!0,b),b)},ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_=function(a){return{type:"GeometryCollection",geometries:[]}},ol.format.GeoJSON.writeGeometryCollectionGeometry_=function(a,b){return{type:"GeometryCollection",geometries:a.getGeometriesArray().map(function(a){var c=ol.obj.assign({},b);return delete c.featureProjection,ol.format.GeoJSON.writeGeometry_(a,c)})}},ol.format.GeoJSON.writeLineStringGeometry_=function(a,b){return{type:"LineString",coordinates:a.getCoordinates()}},ol.format.GeoJSON.writeMultiLineStringGeometry_=function(a,b){return{type:"MultiLineString",coordinates:a.getCoordinates()}},ol.format.GeoJSON.writeMultiPointGeometry_=function(a,b){return{type:"MultiPoint",coordinates:a.getCoordinates()}},ol.format.GeoJSON.writeMultiPolygonGeometry_=function(a,b){var c;return b&&(c=b.rightHanded),{type:"MultiPolygon",coordinates:a.getCoordinates(c)}},ol.format.GeoJSON.writePointGeometry_=function(a,b){return{type:"Point",coordinates:a.getCoordinates()}},ol.format.GeoJSON.writePolygonGeometry_=function(a,b){var c;return b&&(c=b.rightHanded),{type:"Polygon",coordinates:a.getCoordinates(c)}},ol.format.GeoJSON.GEOMETRY_READERS_={Point:ol.format.GeoJSON.readPointGeometry_,LineString:ol.format.GeoJSON.readLineStringGeometry_,Polygon:ol.format.GeoJSON.readPolygonGeometry_,MultiPoint:ol.format.GeoJSON.readMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.readMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.readGeometryCollectionGeometry_},ol.format.GeoJSON.GEOMETRY_WRITERS_={Point:ol.format.GeoJSON.writePointGeometry_,LineString:ol.format.GeoJSON.writeLineStringGeometry_,Polygon:ol.format.GeoJSON.writePolygonGeometry_,MultiPoint:ol.format.GeoJSON.writeMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.writeMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.writeMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.writeGeometryCollectionGeometry_,Circle:ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_},ol.format.GeoJSON.prototype.readFeature,ol.format.GeoJSON.prototype.readFeatures,ol.format.GeoJSON.prototype.readFeatureFromObject=function(a,b){var c=null;c="Feature"===a.type?a:{type:"Feature",geometry:a};var d=ol.format.GeoJSON.readGeometry_(c.geometry,b),e=new ol.Feature;return this.geometryName_&&e.setGeometryName(this.geometryName_),e.setGeometry(d),void 0!==c.id&&e.setId(c.id),c.properties&&e.setProperties(c.properties),e},ol.format.GeoJSON.prototype.readFeaturesFromObject=function(a,b){var c=a,d=null;if("FeatureCollection"===c.type){var e=a;d=[];var f,g,h=e.features;for(f=0,g=h.length;f<g;++f)d.push(this.readFeatureFromObject(h[f],b))}else d=[this.readFeatureFromObject(a,b)];return d},ol.format.GeoJSON.prototype.readGeometry,ol.format.GeoJSON.prototype.readGeometryFromObject=function(a,b){return ol.format.GeoJSON.readGeometry_(a,b)},ol.format.GeoJSON.prototype.readProjection,ol.format.GeoJSON.prototype.readProjectionFromObject=function(a){var b,c=a,d=c.crs;return d?"name"==d.type?b=ol.proj.get(d.properties.name):"EPSG"==d.type?b=ol.proj.get("EPSG:"+d.properties.code):ol.asserts.assert(!1,36):b=this.defaultDataProjection,b},ol.format.GeoJSON.prototype.writeFeature,ol.format.GeoJSON.prototype.writeFeatureObject=function(a,b){b=this.adaptOptions(b);var c={type:"Feature"},d=a.getId();void 0!==d&&(c.id=d);var e=a.getGeometry();c.geometry=e?ol.format.GeoJSON.writeGeometry_(e,b):null;var f=a.getProperties();return delete f[a.getGeometryName()],ol.obj.isEmpty(f)?c.properties=null:c.properties=f,c},ol.format.GeoJSON.prototype.writeFeatures,ol.format.GeoJSON.prototype.writeFeaturesObject=function(a,b){b=this.adaptOptions(b);var c,d,e=[];for(c=0,d=a.length;c<d;++c)e.push(this.writeFeatureObject(a[c],b));return{type:"FeatureCollection",features:e}},ol.format.GeoJSON.prototype.writeGeometry,ol.format.GeoJSON.prototype.writeGeometryObject=function(a,b){return ol.format.GeoJSON.writeGeometry_(a,this.adaptOptions(b))},goog.provide("ol.format.XMLFeature"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),goog.require("ol.xml"),ol.format.XMLFeature=function(){this.xmlSerializer_=new XMLSerializer,ol.format.Feature.call(this)},ol.inherits(ol.format.XMLFeature,ol.format.Feature),ol.format.XMLFeature.prototype.getType=function(){return ol.format.FormatType.XML},ol.format.XMLFeature.prototype.readFeature=function(a,b){if(ol.xml.isDocument(a))return this.readFeatureFromDocument(a,b);if(ol.xml.isNode(a))return this.readFeatureFromNode(a,b);if("string"==typeof a){var c=ol.xml.parse(a);return this.readFeatureFromDocument(c,b)}return null},ol.format.XMLFeature.prototype.readFeatureFromDocument=function(a,b){var c=this.readFeaturesFromDocument(a,b);return c.length>0?c[0]:null},ol.format.XMLFeature.prototype.readFeatureFromNode=function(a,b){return null},ol.format.XMLFeature.prototype.readFeatures=function(a,b){if(ol.xml.isDocument(a))return this.readFeaturesFromDocument(a,b);if(ol.xml.isNode(a))return this.readFeaturesFromNode(a,b);if("string"==typeof a){var c=ol.xml.parse(a);return this.readFeaturesFromDocument(c,b)}return[]},ol.format.XMLFeature.prototype.readFeaturesFromDocument=function(a,b){var c,d=[];for(c=a.firstChild;c;c=c.nextSibling)c.nodeType==Node.ELEMENT_NODE&&ol.array.extend(d,this.readFeaturesFromNode(c,b));return d},ol.format.XMLFeature.prototype.readFeaturesFromNode=function(a,b){},ol.format.XMLFeature.prototype.readGeometry=function(a,b){if(ol.xml.isDocument(a))return this.readGeometryFromDocument(a,b);if(ol.xml.isNode(a))return this.readGeometryFromNode(a,b);if("string"==typeof a){var c=ol.xml.parse(a);return this.readGeometryFromDocument(c,b)}return null},ol.format.XMLFeature.prototype.readGeometryFromDocument=function(a,b){return null},ol.format.XMLFeature.prototype.readGeometryFromNode=function(a,b){return null},ol.format.XMLFeature.prototype.readProjection=function(a){if(ol.xml.isDocument(a))return this.readProjectionFromDocument(a);if(ol.xml.isNode(a))return this.readProjectionFromNode(a);if("string"==typeof a){var b=ol.xml.parse(a);return this.readProjectionFromDocument(b)}return null},ol.format.XMLFeature.prototype.readProjectionFromDocument=function(a){return this.defaultDataProjection},ol.format.XMLFeature.prototype.readProjectionFromNode=function(a){return this.defaultDataProjection},ol.format.XMLFeature.prototype.writeFeature=function(a,b){var c=this.writeFeatureNode(a,b);return this.xmlSerializer_.serializeToString(c)},ol.format.XMLFeature.prototype.writeFeatureNode=function(a,b){return null},ol.format.XMLFeature.prototype.writeFeatures=function(a,b){var c=this.writeFeaturesNode(a,b);return this.xmlSerializer_.serializeToString(c)},ol.format.XMLFeature.prototype.writeFeaturesNode=function(a,b){return null},ol.format.XMLFeature.prototype.writeGeometry=function(a,b){var c=this.writeGeometryNode(a,b);return this.xmlSerializer_.serializeToString(c)},ol.format.XMLFeature.prototype.writeGeometryNode=function(a,b){return null},goog.provide("ol.format.GMLBase"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GMLBase=function(a){var b=a||{};this.featureType=b.featureType,this.featureNS=b.featureNS,this.srsName=b.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]={featureMember:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal),featureMembers:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal)},ol.format.XMLFeature.call(this)},ol.inherits(ol.format.GMLBase,ol.format.XMLFeature),ol.format.GMLBase.GMLNS="http://www.opengis.net/gml",ol.format.GMLBase.ONLY_WHITESPACE_RE_=/^[\s\xa0]*$/,ol.format.GMLBase.prototype.readFeaturesInternal=function(a,b){var c=a.localName,d=null;if("FeatureCollection"==c)d="http://www.opengis.net/wfs"===a.namespaceURI?ol.xml.pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,a,b,this):ol.xml.pushParseAndPop(null,this.FEATURE_COLLECTION_PARSERS,a,b,this);else if("featureMembers"==c||"featureMember"==c){var e,f,g=b[0],h=g.featureType,i=g.featureNS;if(!h&&a.childNodes){for(h=[],i={},e=0,f=a.childNodes.length;e<f;++e){var j=a.childNodes[e];if(1===j.nodeType){var k=j.nodeName.split(":").pop();if(-1===h.indexOf(k)){var l="",m=0,n=j.namespaceURI;for(var o in i){if(i[o]===n){l=o;break}++m}l||(l="p"+m,i[l]=n),h.push(l+":"+k)}}}"featureMember"!=c&&(g.featureType=h,g.featureNS=i)}if("string"==typeof i){var p=i;i={},i.p0=p}var q={},r=Array.isArray(h)?h:[h];for(var s in i){var t={};for(e=0,f=r.length;e<f;++e){var u=-1===r[e].indexOf(":")?"p0":r[e].split(":")[0];u===s&&(t[r[e].split(":").pop()]="featureMembers"==c?ol.xml.makeArrayPusher(this.readFeatureElement,this):ol.xml.makeReplacer(this.readFeatureElement,this))}q[i[s]]=t}d="featureMember"==c?ol.xml.pushParseAndPop(void 0,q,a,b):ol.xml.pushParseAndPop([],q,a,b)}return null===d&&(d=[]),d},ol.format.GMLBase.prototype.readGeometryElement=function(a,b){var c=b[0];c.srsName=a.firstElementChild.getAttribute("srsName");var d=ol.xml.pushParseAndPop(null,this.GEOMETRY_PARSERS_,a,b,this);return d?ol.format.Feature.transformWithOptions(d,!1,c):void 0},ol.format.GMLBase.prototype.readFeatureElement=function(a,b){var c,d,e=a.getAttribute("fid")||ol.xml.getAttributeNS(a,ol.format.GMLBase.GMLNS,"id"),f={};for(c=a.firstElementChild;c;c=c.nextElementSibling){var g=c.localName;if(0===c.childNodes.length||1===c.childNodes.length&&(3===c.firstChild.nodeType||4===c.firstChild.nodeType)){
var h=ol.xml.getAllTextContent(c,!1);ol.format.GMLBase.ONLY_WHITESPACE_RE_.test(h)&&(h=void 0),f[g]=h}else"boundedBy"!==g&&(d=g),f[g]=this.readGeometryElement(c,b)}var i=new ol.Feature(f);return d&&i.setGeometryName(d),e&&i.setId(e),i},ol.format.GMLBase.prototype.readPoint=function(a,b){var c=this.readFlatCoordinatesFromNode_(a,b);if(c){var d=new ol.geom.Point(null);return d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,c),d}},ol.format.GMLBase.prototype.readMultiPoint=function(a,b){var c=ol.xml.pushParseAndPop([],this.MULTIPOINT_PARSERS_,a,b,this);return c?new ol.geom.MultiPoint(c):void 0},ol.format.GMLBase.prototype.readMultiLineString=function(a,b){var c=ol.xml.pushParseAndPop([],this.MULTILINESTRING_PARSERS_,a,b,this);if(c){var d=new ol.geom.MultiLineString(null);return d.setLineStrings(c),d}},ol.format.GMLBase.prototype.readMultiPolygon=function(a,b){var c=ol.xml.pushParseAndPop([],this.MULTIPOLYGON_PARSERS_,a,b,this);if(c){var d=new ol.geom.MultiPolygon(null);return d.setPolygons(c),d}},ol.format.GMLBase.prototype.pointMemberParser_=function(a,b){ol.xml.parseNode(this.POINTMEMBER_PARSERS_,a,b,this)},ol.format.GMLBase.prototype.lineStringMemberParser_=function(a,b){ol.xml.parseNode(this.LINESTRINGMEMBER_PARSERS_,a,b,this)},ol.format.GMLBase.prototype.polygonMemberParser_=function(a,b){ol.xml.parseNode(this.POLYGONMEMBER_PARSERS_,a,b,this)},ol.format.GMLBase.prototype.readLineString=function(a,b){var c=this.readFlatCoordinatesFromNode_(a,b);if(c){var d=new ol.geom.LineString(null);return d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,c),d}},ol.format.GMLBase.prototype.readFlatLinearRing_=function(a,b){var c=ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,a,b,this);return c||void 0},ol.format.GMLBase.prototype.readLinearRing=function(a,b){var c=this.readFlatCoordinatesFromNode_(a,b);if(c){var d=new ol.geom.LinearRing(null);return d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,c),d}},ol.format.GMLBase.prototype.readPolygon=function(a,b){var c=ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,a,b,this);if(c&&c[0]){var d,e,f=new ol.geom.Polygon(null),g=c[0],h=[g.length];for(d=1,e=c.length;d<e;++d)ol.array.extend(g,c[d]),h.push(g.length);return f.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,g,h),f}},ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_=function(a,b){return ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,a,b,this)},ol.format.GMLBase.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_),pointMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_)}},ol.format.GMLBase.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_),lineStringMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_)}},ol.format.GMLBase.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_),polygonMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_)}},ol.format.GMLBase.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_)}},ol.format.GMLBase.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString)}},ol.format.GMLBase.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon)}},ol.format.GMLBase.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFlatLinearRing_)}},ol.format.GMLBase.prototype.readGeometryFromNode=function(a,b){var c=this.readGeometryElement(a,[this.getReadOptions(a,b||{})]);return c||null},ol.format.GMLBase.prototype.readFeatures,ol.format.GMLBase.prototype.readFeaturesFromNode=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};return b&&ol.obj.assign(c,this.getReadOptions(a,b)),this.readFeaturesInternal(a,[c])||[]},ol.format.GMLBase.prototype.readProjectionFromNode=function(a){return ol.proj.get(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))},goog.provide("ol.format.XSD"),goog.require("ol.xml"),goog.require("ol.string"),ol.format.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema",ol.format.XSD.readBoolean=function(a){var b=ol.xml.getAllTextContent(a,!1);return ol.format.XSD.readBooleanString(b)},ol.format.XSD.readBooleanString=function(a){var b=/^\s*(true|1)|(false|0)\s*$/.exec(a);return b?void 0!==b[1]||!1:void 0},ol.format.XSD.readDateTime=function(a){var b=ol.xml.getAllTextContent(a,!1),c=Date.parse(b);return isNaN(c)?void 0:c/1e3},ol.format.XSD.readDecimal=function(a){var b=ol.xml.getAllTextContent(a,!1);return ol.format.XSD.readDecimalString(b)},ol.format.XSD.readDecimalString=function(a){var b=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a);return b?parseFloat(b[1]):void 0},ol.format.XSD.readNonNegativeInteger=function(a){var b=ol.xml.getAllTextContent(a,!1);return ol.format.XSD.readNonNegativeIntegerString(b)},ol.format.XSD.readNonNegativeIntegerString=function(a){var b=/^\s*(\d+)\s*$/.exec(a);return b?parseInt(b[1],10):void 0},ol.format.XSD.readString=function(a){return ol.xml.getAllTextContent(a,!1).trim()},ol.format.XSD.writeBooleanTextNode=function(a,b){ol.format.XSD.writeStringTextNode(a,b?"1":"0")},ol.format.XSD.writeCDATASection=function(a,b){a.appendChild(ol.xml.DOCUMENT.createCDATASection(b))},ol.format.XSD.writeDateTimeTextNode=function(a,b){var c=new Date(1e3*b),d=c.getUTCFullYear()+"-"+ol.string.padNumber(c.getUTCMonth()+1,2)+"-"+ol.string.padNumber(c.getUTCDate(),2)+"T"+ol.string.padNumber(c.getUTCHours(),2)+":"+ol.string.padNumber(c.getUTCMinutes(),2)+":"+ol.string.padNumber(c.getUTCSeconds(),2)+"Z";a.appendChild(ol.xml.DOCUMENT.createTextNode(d))},ol.format.XSD.writeDecimalTextNode=function(a,b){var c=b.toPrecision();a.appendChild(ol.xml.DOCUMENT.createTextNode(c))},ol.format.XSD.writeNonNegativeIntegerTextNode=function(a,b){var c=b.toString();a.appendChild(ol.xml.DOCUMENT.createTextNode(c))},ol.format.XSD.writeStringTextNode=function(a,b){a.appendChild(ol.xml.DOCUMENT.createTextNode(b))},goog.provide("ol.format.GML3"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.GMLBase"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GML3=function(a){var b=a||{};ol.format.GMLBase.call(this,b),this.surface_=void 0!==b.surface&&b.surface,this.curve_=void 0!==b.curve&&b.curve,this.multiCurve_=void 0===b.multiCurve||b.multiCurve,this.multiSurface_=void 0===b.multiSurface||b.multiSurface,this.schemaLocation=b.schemaLocation?b.schemaLocation:ol.format.GML3.schemaLocation_},ol.inherits(ol.format.GML3,ol.format.GMLBase),ol.format.GML3.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",ol.format.GML3.prototype.readMultiCurve_=function(a,b){var c=ol.xml.pushParseAndPop([],this.MULTICURVE_PARSERS_,a,b,this);if(c){var d=new ol.geom.MultiLineString(null);return d.setLineStrings(c),d}},ol.format.GML3.prototype.readMultiSurface_=function(a,b){var c=ol.xml.pushParseAndPop([],this.MULTISURFACE_PARSERS_,a,b,this);if(c){var d=new ol.geom.MultiPolygon(null);return d.setPolygons(c),d}},ol.format.GML3.prototype.curveMemberParser_=function(a,b){ol.xml.parseNode(this.CURVEMEMBER_PARSERS_,a,b,this)},ol.format.GML3.prototype.surfaceMemberParser_=function(a,b){ol.xml.parseNode(this.SURFACEMEMBER_PARSERS_,a,b,this)},ol.format.GML3.prototype.readPatch_=function(a,b){return ol.xml.pushParseAndPop([null],this.PATCHES_PARSERS_,a,b,this)},ol.format.GML3.prototype.readSegment_=function(a,b){return ol.xml.pushParseAndPop([null],this.SEGMENTS_PARSERS_,a,b,this)},ol.format.GML3.prototype.readPolygonPatch_=function(a,b){return ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,a,b,this)},ol.format.GML3.prototype.readLineStringSegment_=function(a,b){return ol.xml.pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,a,b,this)},ol.format.GML3.prototype.interiorParser_=function(a,b){var c=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,a,b,this);if(c){b[b.length-1].push(c)}},ol.format.GML3.prototype.exteriorParser_=function(a,b){var c=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,a,b,this);if(c){b[b.length-1][0]=c}},ol.format.GML3.prototype.readSurface_=function(a,b){var c=ol.xml.pushParseAndPop([null],this.SURFACE_PARSERS_,a,b,this);if(c&&c[0]){var d,e,f=new ol.geom.Polygon(null),g=c[0],h=[g.length];for(d=1,e=c.length;d<e;++d)ol.array.extend(g,c[d]),h.push(g.length);return f.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,g,h),f}},ol.format.GML3.prototype.readCurve_=function(a,b){var c=ol.xml.pushParseAndPop([null],this.CURVE_PARSERS_,a,b,this);if(c){var d=new ol.geom.LineString(null);return d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,c),d}},ol.format.GML3.prototype.readEnvelope_=function(a,b){var c=ol.xml.pushParseAndPop([null],this.ENVELOPE_PARSERS_,a,b,this);return ol.extent.createOrUpdate(c[1][0],c[1][1],c[2][0],c[2][1])},ol.format.GML3.prototype.readFlatPos_=function(a,b){for(var c,d=ol.xml.getAllTextContent(a,!1),e=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,f=[];c=e.exec(d);)f.push(parseFloat(c[1])),d=d.substr(c[0].length);if(""===d){var g=b[0],h=g.srsName,i="enu";if(h){i=ol.proj.get(h).getAxisOrientation()}if("neu"===i){var j,k;for(j=0,k=f.length;j<k;j+=3){var l=f[j],m=f[j+1];f[j]=m,f[j+1]=l}}var n=f.length;if(2==n&&f.push(0),0!==n)return f}},ol.format.GML3.prototype.readFlatPosList_=function(a,b){var c=ol.xml.getAllTextContent(a,!1).replace(/^\s*|\s*$/g,""),d=b[0],e=d.srsName,f=a.parentNode.getAttribute("srsDimension"),g="enu";if(e){g=ol.proj.get(e).getAxisOrientation()}var h=c.split(/\s+/),i=2;a.getAttribute("srsDimension")?i=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("srsDimension")):a.getAttribute("dimension")?i=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("dimension")):f&&(i=ol.format.XSD.readNonNegativeIntegerString(f));for(var j,k,l,m=[],n=0,o=h.length;n<o;n+=i)j=parseFloat(h[n]),k=parseFloat(h[n+1]),l=3===i?parseFloat(h[n+2]):0,"en"===g.substr(0,2)?m.push(j,k,l):m.push(k,j,l);return m},ol.format.GML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{pos:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPos_),posList:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPosList_)}},ol.format.GML3.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{interior:ol.format.GML3.prototype.interiorParser_,exterior:ol.format.GML3.prototype.exteriorParser_}},ol.format.GML3.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Surface:ol.xml.makeReplacer(ol.format.GML3.prototype.readSurface_),MultiSurface:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiSurface_),Curve:ol.xml.makeReplacer(ol.format.GML3.prototype.readCurve_),MultiCurve:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiCurve_),Envelope:ol.xml.makeReplacer(ol.format.GML3.prototype.readEnvelope_)}},ol.format.GML3.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_),curveMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_)}},ol.format.GML3.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_),surfaceMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_)}},ol.format.GML3.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString),Curve:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readCurve_)}},ol.format.GML3.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon),Surface:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readSurface_)}},ol.format.GML3.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:ol.xml.makeReplacer(ol.format.GML3.prototype.readPatch_)}},ol.format.GML3.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:ol.xml.makeReplacer(ol.format.GML3.prototype.readSegment_)}},ol.format.GML3.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_),upperCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_)}},ol.format.GML3.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:ol.xml.makeReplacer(ol.format.GML3.prototype.readPolygonPatch_)}},ol.format.GML3.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:ol.xml.makeReplacer(ol.format.GML3.prototype.readLineStringSegment_)}},ol.format.GML3.prototype.writePos_=function(a,b,c){var d=c[c.length-1],e=d.srsName,f="enu";e&&(f=ol.proj.get(e).getAxisOrientation());var g,h=b.getCoordinates();g="en"===f.substr(0,2)?h[0]+" "+h[1]:h[1]+" "+h[0],ol.format.XSD.writeStringTextNode(a,g)},ol.format.GML3.prototype.getCoords_=function(a,b){var c="enu";return b&&(c=ol.proj.get(b).getAxisOrientation()),"en"===c.substr(0,2)?a[0]+" "+a[1]:a[1]+" "+a[0]},ol.format.GML3.prototype.writePosList_=function(a,b,c){for(var d,e=c[c.length-1],f=e.srsName,g=b.getCoordinates(),h=g.length,i=new Array(h),j=0;j<h;++j)d=g[j],i[j]=this.getCoords_(d,f);ol.format.XSD.writeStringTextNode(a,i.join(" "))},ol.format.GML3.prototype.writePoint_=function(a,b,c){var d=c[c.length-1],e=d.srsName;e&&a.setAttribute("srsName",e);var f=ol.xml.createElementNS(a.namespaceURI,"pos");a.appendChild(f),this.writePos_(f,b,c)},ol.format.GML3.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},ol.format.GML3.prototype.writeEnvelope=function(a,b,c){var d=c[c.length-1],e=d.srsName;e&&a.setAttribute("srsName",e);var f=["lowerCorner","upperCorner"],g=[b[0]+" "+b[1],b[2]+" "+b[3]];ol.xml.pushSerializeAndPop({node:a},ol.format.GML3.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,g,c,f,this)},ol.format.GML3.prototype.writeLinearRing_=function(a,b,c){var d=c[c.length-1],e=d.srsName;e&&a.setAttribute("srsName",e);var f=ol.xml.createElementNS(a.namespaceURI,"posList");a.appendChild(f),this.writePosList_(f,b,c)},ol.format.GML3.prototype.RING_NODE_FACTORY_=function(a,b,c){var d=b[b.length-1],e=d.node,f=d.exteriorWritten;return void 0===f&&(d.exteriorWritten=!0),ol.xml.createElementNS(e.namespaceURI,void 0!==f?"interior":"exterior")},ol.format.GML3.prototype.writeSurfaceOrPolygon_=function(a,b,c){var d=c[c.length-1],e=d.srsName;if("PolygonPatch"!==a.nodeName&&e&&a.setAttribute("srsName",e),"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName){var f=b.getLinearRings();ol.xml.pushSerializeAndPop({node:a,srsName:e},ol.format.GML3.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,f,c,void 0,this)}else if("Surface"===a.nodeName){var g=ol.xml.createElementNS(a.namespaceURI,"patches");a.appendChild(g),this.writeSurfacePatches_(g,b,c)}},ol.format.GML3.prototype.writeCurveOrLineString_=function(a,b,c){var d=c[c.length-1],e=d.srsName;if("LineStringSegment"!==a.nodeName&&e&&a.setAttribute("srsName",e),"LineString"===a.nodeName||"LineStringSegment"===a.nodeName){var f=ol.xml.createElementNS(a.namespaceURI,"posList");a.appendChild(f),this.writePosList_(f,b,c)}else if("Curve"===a.nodeName){var g=ol.xml.createElementNS(a.namespaceURI,"segments");a.appendChild(g),this.writeCurveSegments_(g,b,c)}},ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_=function(a,b,c){var d=c[c.length-1],e=d.srsName,f=d.surface;e&&a.setAttribute("srsName",e);var g=b.getPolygons();ol.xml.pushSerializeAndPop({node:a,srsName:e,surface:f},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,c,void 0,this)},ol.format.GML3.prototype.writeMultiPoint_=function(a,b,c){var d=c[c.length-1],e=d.srsName;e&&a.setAttribute("srsName",e);var f=b.getPoints();ol.xml.pushSerializeAndPop({node:a,srsName:e},ol.format.GML3.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),f,c,void 0,this)},ol.format.GML3.prototype.writeMultiCurveOrLineString_=function(a,b,c){var d=c[c.length-1],e=d.srsName,f=d.curve;e&&a.setAttribute("srsName",e);var g=b.getLineStrings();ol.xml.pushSerializeAndPop({node:a,srsName:e,curve:f},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,c,void 0,this)},ol.format.GML3.prototype.writeRing_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"LinearRing");a.appendChild(d),this.writeLinearRing_(d,b,c)},ol.format.GML3.prototype.writeSurfaceOrPolygonMember_=function(a,b,c){var d=this.GEOMETRY_NODE_FACTORY_(b,c);d&&(a.appendChild(d),this.writeSurfaceOrPolygon_(d,b,c))},ol.format.GML3.prototype.writePointMember_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"Point");a.appendChild(d),this.writePoint_(d,b,c)},ol.format.GML3.prototype.writeLineStringOrCurveMember_=function(a,b,c){var d=this.GEOMETRY_NODE_FACTORY_(b,c);d&&(a.appendChild(d),this.writeCurveOrLineString_(d,b,c))},ol.format.GML3.prototype.writeSurfacePatches_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"PolygonPatch");a.appendChild(d),this.writeSurfaceOrPolygon_(d,b,c)},ol.format.GML3.prototype.writeCurveSegments_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"LineStringSegment");a.appendChild(d),this.writeCurveOrLineString_(d,b,c)},ol.format.GML3.prototype.writeGeometryElement=function(a,b,c){var d=c[c.length-1],e=ol.obj.assign({},d);e.node=a;var f;f=Array.isArray(b)?d.dataProjection?ol.proj.transformExtent(b,d.featureProjection,d.dataProjection):b:ol.format.Feature.transformWithOptions(b,!0,d),ol.xml.pushSerializeAndPop(e,ol.format.GML3.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[f],c,void 0,this)},ol.format.GML3.prototype.writeFeatureElement=function(a,b,c){var d=b.getId();d&&a.setAttribute("fid",d);var e=c[c.length-1],f=e.featureNS,g=b.getGeometryName();e.serializers||(e.serializers={},e.serializers[f]={});var h=b.getProperties(),i=[],j=[];for(var k in h){var l=h[k];null!==l&&(i.push(k),j.push(l),k==g||l instanceof ol.geom.Geometry?k in e.serializers[f]||(e.serializers[f][k]=ol.xml.makeChildAppender(this.writeGeometryElement,this)):k in e.serializers[f]||(e.serializers[f][k]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)))}var m=ol.obj.assign({},e);m.node=a,ol.xml.pushSerializeAndPop(m,e.serializers,ol.xml.makeSimpleNodeFactory(void 0,f),j,c,i)},ol.format.GML3.prototype.writeFeatureMembers_=function(a,b,c){var d=c[c.length-1],e=d.featureType,f=d.featureNS,g={};g[f]={},g[f][e]=ol.xml.makeChildAppender(this.writeFeatureElement,this);var h=ol.obj.assign({},d);h.node=a,ol.xml.pushSerializeAndPop(h,g,ol.xml.makeSimpleNodeFactory(e,f),b,c)},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_)}},ol.format.GML3.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePointMember_)}},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_)}},ol.format.GML3.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_),interior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_)}},ol.format.GML3.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeEnvelope)}};ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},ol.format.GML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(a,b,c){var d=b[b.length-1].node;return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_[d.nodeName])},ol.format.GML3.prototype.GEOMETRY_NODE_FACTORY_=function(a,b,c){var d,e=b[b.length-1],f=e.multiSurface,g=e.surface,h=e.curve,i=e.multiCurve;return Array.isArray(a)?d="Envelope":(d=a.getType(),"MultiPolygon"===d&&!0===f?d="MultiSurface":"Polygon"===d&&!0===g?d="Surface":"LineString"===d&&!0===h?d="Curve":"MultiLineString"===d&&!0===i&&(d="MultiCurve")),ol.xml.createElementNS("http://www.opengis.net/gml",d)},ol.format.GML3.prototype.writeGeometryNode=function(a,b){b=this.adaptOptions(b);var c=ol.xml.createElementNS("http://www.opengis.net/gml","geom"),d={node:c,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return b&&ol.obj.assign(d,b),this.writeGeometryElement(c,a,[d]),c},ol.format.GML3.prototype.writeFeatures,ol.format.GML3.prototype.writeFeaturesNode=function(a,b){b=this.adaptOptions(b);var c=ol.xml.createElementNS("http://www.opengis.net/gml","featureMembers");ol.xml.setAttributeNS(c,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return b&&ol.obj.assign(d,b),this.writeFeatureMembers_(c,a,[d]),c},goog.provide("ol.format.GML"),goog.require("ol.format.GML3"),ol.format.GML=ol.format.GML3,ol.format.GML.prototype.writeFeatures,ol.format.GML.prototype.writeFeaturesNode,goog.provide("ol.format.GML2"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.GMLBase"),goog.require("ol.format.XSD"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GML2=function(a){var b=a||{};ol.format.GMLBase.call(this,b),this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS].featureMember=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal),this.schemaLocation=b.schemaLocation?b.schemaLocation:ol.format.GML2.schemaLocation_},ol.inherits(ol.format.GML2,ol.format.GMLBase),ol.format.GML2.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",ol.format.GML2.prototype.readFlatCoordinates_=function(a,b){var c=ol.xml.getAllTextContent(a,!1).replace(/^\s*|\s*$/g,""),d=b[0],e=d.srsName,f="enu";if(e){var g=ol.proj.get(e);g&&(f=g.getAxisOrientation())}for(var h,i,j,k=c.trim().split(/\s+/),l=[],m=0,n=k.length;m<n;m++){var o=k[m].split(/,+/);h=parseFloat(o[0]),i=parseFloat(o[1]),j=3===o.length?parseFloat(o[2]):0,"en"===f.substr(0,2)?l.push(h,i,j):l.push(i,h,j)}return l},ol.format.GML2.prototype.readBox_=function(a,b){var c=ol.xml.pushParseAndPop([null],this.BOX_PARSERS_,a,b,this);return ol.extent.createOrUpdate(c[1][0],c[1][1],c[1][3],c[1][4])},ol.format.GML2.prototype.innerBoundaryIsParser_=function(a,b){var c=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,a,b,this);if(c){b[b.length-1].push(c)}},ol.format.GML2.prototype.outerBoundaryIsParser_=function(a,b){var c=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,a,b,this);if(c){b[b.length-1][0]=c}},ol.format.GML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeReplacer(ol.format.GML2.prototype.readFlatCoordinates_)}},ol.format.GML2.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{innerBoundaryIs:ol.format.GML2.prototype.innerBoundaryIsParser_,outerBoundaryIs:ol.format.GML2.prototype.outerBoundaryIsParser_}},ol.format.GML2.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeArrayPusher(ol.format.GML2.prototype.readFlatCoordinates_)}},ol.format.GML2.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Box:ol.xml.makeReplacer(ol.format.GML2.prototype.readBox_)}},ol.format.GML2.prototype.GEOMETRY_NODE_FACTORY_=function(a,b,c){var d,e=b[b.length-1],f=e.multiSurface,g=e.surface,h=e.multiCurve;return Array.isArray(a)?d="Envelope":(d=a.getType(),"MultiPolygon"===d&&!0===f?d="MultiSurface":"Polygon"===d&&!0===g?d="Surface":"MultiLineString"===d&&!0===h&&(d="MultiCurve")),ol.xml.createElementNS("http://www.opengis.net/gml",d)},ol.format.GML2.prototype.writeFeatureElement=function(a,b,c){var d=b.getId();d&&a.setAttribute("fid",d);var e=c[c.length-1],f=e.featureNS,g=b.getGeometryName();e.serializers||(e.serializers={},e.serializers[f]={});var h=b.getProperties(),i=[],j=[];for(var k in h){var l=h[k];null!==l&&(i.push(k),j.push(l),k==g||l instanceof ol.geom.Geometry?k in e.serializers[f]||(e.serializers[f][k]=ol.xml.makeChildAppender(this.writeGeometryElement,this)):k in e.serializers[f]||(e.serializers[f][k]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)))}var m=ol.obj.assign({},e);m.node=a,ol.xml.pushSerializeAndPop(m,e.serializers,ol.xml.makeSimpleNodeFactory(void 0,f),j,c,i)},ol.format.GML2.prototype.writeGeometryElement=function(a,b,c){var d=c[c.length-1],e=ol.obj.assign({},d);e.node=a;var f;f=Array.isArray(b)?d.dataProjection?ol.proj.transformExtent(b,d.featureProjection,d.dataProjection):b:ol.format.Feature.transformWithOptions(b,!0,d),ol.xml.pushSerializeAndPop(e,ol.format.GML2.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[f],c,void 0,this)},ol.format.GML2.prototype.writeCurveOrLineString_=function(a,b,c){var d=c[c.length-1],e=d.srsName;if("LineStringSegment"!==a.nodeName&&e&&a.setAttribute("srsName",e),"LineString"===a.nodeName||"LineStringSegment"===a.nodeName){var f=this.createCoordinatesNode_(a.namespaceURI);a.appendChild(f),this.writeCoordinates_(f,b,c)}else if("Curve"===a.nodeName){var g=ol.xml.createElementNS(a.namespaceURI,"segments");a.appendChild(g),this.writeCurveSegments_(g,b,c)}},ol.format.GML2.prototype.createCoordinatesNode_=function(a){var b=ol.xml.createElementNS(a,"coordinates");return b.setAttribute("decimal","."),b.setAttribute("cs",","),b.setAttribute("ts"," "),b},ol.format.GML2.prototype.writeCoordinates_=function(a,b,c){for(var d,e=c[c.length-1],f=e.srsName,g=b.getCoordinates(),h=g.length,i=new Array(h),j=0;j<h;++j)d=g[j],i[j]=this.getCoords_(d,f);ol.format.XSD.writeStringTextNode(a,i.join(" "))},ol.format.GML2.prototype.writeCurveSegments_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"LineStringSegment");a.appendChild(d),this.writeCurveOrLineString_(d,b,c)},ol.format.GML2.prototype.writeSurfaceOrPolygon_=function(a,b,c){var d=c[c.length-1],e=d.srsName;if("PolygonPatch"!==a.nodeName&&e&&a.setAttribute("srsName",e),"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName){var f=b.getLinearRings();ol.xml.pushSerializeAndPop({node:a,srsName:e},ol.format.GML2.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,f,c,void 0,this)}else if("Surface"===a.nodeName){var g=ol.xml.createElementNS(a.namespaceURI,"patches");a.appendChild(g),this.writeSurfacePatches_(g,b,c)}},ol.format.GML2.prototype.RING_NODE_FACTORY_=function(a,b,c){var d=b[b.length-1],e=d.node,f=d.exteriorWritten;return void 0===f&&(d.exteriorWritten=!0),ol.xml.createElementNS(e.namespaceURI,void 0!==f?"innerBoundaryIs":"outerBoundaryIs")},ol.format.GML2.prototype.writeSurfacePatches_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"PolygonPatch");a.appendChild(d),this.writeSurfaceOrPolygon_(d,b,c)},ol.format.GML2.prototype.writeRing_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"LinearRing");a.appendChild(d),this.writeLinearRing_(d,b,c)},ol.format.GML2.prototype.getCoords_=function(a,b){var c="enu";return b&&(c=ol.proj.get(b).getAxisOrientation()),"en"===c.substr(0,2)?a[0]+","+a[1]:a[1]+","+a[0]},ol.format.GML2.prototype.writeMultiCurveOrLineString_=function(a,b,c){var d=c[c.length-1],e=d.srsName,f=d.curve;e&&a.setAttribute("srsName",e);var g=b.getLineStrings();ol.xml.pushSerializeAndPop({node:a,srsName:e,curve:f},ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,c,void 0,this)},ol.format.GML2.prototype.writePoint_=function(a,b,c){var d=c[c.length-1],e=d.srsName;e&&a.setAttribute("srsName",e);var f=this.createCoordinatesNode_(a.namespaceURI);a.appendChild(f);var g=b.getCoordinates(),h=this.getCoords_(g,e);ol.format.XSD.writeStringTextNode(f,h)},ol.format.GML2.prototype.writeMultiPoint_=function(a,b,c){var d=c[c.length-1],e=d.srsName;e&&a.setAttribute("srsName",e);var f=b.getPoints();ol.xml.pushSerializeAndPop({node:a,srsName:e},ol.format.GML2.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),f,c,void 0,this)},ol.format.GML2.prototype.writePointMember_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"Point");a.appendChild(d),this.writePoint_(d,b,c)},ol.format.GML2.prototype.writeLineStringOrCurveMember_=function(a,b,c){var d=this.GEOMETRY_NODE_FACTORY_(b,c);d&&(a.appendChild(d),this.writeCurveOrLineString_(d,b,c))},ol.format.GML2.prototype.writeLinearRing_=function(a,b,c){var d=c[c.length-1],e=d.srsName;e&&a.setAttribute("srsName",e);var f=this.createCoordinatesNode_(a.namespaceURI);a.appendChild(f),this.writeCoordinates_(f,b,c)},ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_=function(a,b,c){var d=c[c.length-1],e=d.srsName,f=d.surface;e&&a.setAttribute("srsName",e);var g=b.getPolygons();ol.xml.pushSerializeAndPop({node:a,srsName:e,surface:f
},ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,c,void 0,this)},ol.format.GML2.prototype.writeSurfaceOrPolygonMember_=function(a,b,c){var d=this.GEOMETRY_NODE_FACTORY_(b,c);d&&(a.appendChild(d),this.writeSurfaceOrPolygon_(d,b,c))},ol.format.GML2.prototype.writeEnvelope=function(a,b,c){var d=c[c.length-1],e=d.srsName;e&&a.setAttribute("srsName",e);var f=["lowerCorner","upperCorner"],g=[b[0]+" "+b[1],b[2]+" "+b[3]];ol.xml.pushSerializeAndPop({node:a},ol.format.GML2.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,g,c,f,this)},ol.format.GML2.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML2.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeEnvelope)}},ol.format.GML2.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_)}},ol.format.GML2.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writePointMember_)}},ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_)}},ol.format.GML2.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(a,b,c){var d=b[b.length-1].node;return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_[d.nodeName])},ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_)}},ol.format.GML2.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},goog.provide("ol.format.GPX"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.array"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.Point"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GPX=function(a){var b=a||{};ol.format.XMLFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.readExtensions_=b.readExtensions},ol.inherits(ol.format.GPX,ol.format.XMLFeature),ol.format.GPX.NAMESPACE_URIS_=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],ol.format.GPX.SCHEMA_LOCATION_="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",ol.format.GPX.appendCoordinate_=function(a,b,c,d){return a.push(parseFloat(c.getAttribute("lon")),parseFloat(c.getAttribute("lat"))),"ele"in d?(a.push(d.ele),delete d.ele,b.hasZ=!0):a.push(0),"time"in d?(a.push(d.time),delete d.time,b.hasM=!0):a.push(0),a},ol.format.GPX.applyLayoutOptions_=function(a,b,c){var d=ol.geom.GeometryLayout.XY,e=2;if(a.hasZ&&a.hasM?(d=ol.geom.GeometryLayout.XYZM,e=4):a.hasZ?(d=ol.geom.GeometryLayout.XYZ,e=3):a.hasM&&(d=ol.geom.GeometryLayout.XYM,e=3),4!==e){var f,g;for(f=0,g=b.length/4;f<g;f++)b[f*e]=b[4*f],b[f*e+1]=b[4*f+1],a.hasZ&&(b[f*e+2]=b[4*f+2]),a.hasM&&(b[f*e+2]=b[4*f+3]);if(b.length=b.length/4*e,c)for(f=0,g=c.length;f<g;f++)c[f]=c[f]/4*e}return d},ol.format.GPX.parseLink_=function(a,b){var c=b[b.length-1],d=a.getAttribute("href");null!==d&&(c.link=d),ol.xml.parseNode(ol.format.GPX.LINK_PARSERS_,a,b)},ol.format.GPX.parseExtensions_=function(a,b){b[b.length-1].extensionsNode_=a},ol.format.GPX.parseRtePt_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.GPX.RTEPT_PARSERS_,a,b);if(c){var d=b[b.length-1],e=d.flatCoordinates,f=d.layoutOptions;ol.format.GPX.appendCoordinate_(e,f,a,c)}},ol.format.GPX.parseTrkPt_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.GPX.TRKPT_PARSERS_,a,b);if(c){var d=b[b.length-1],e=d.flatCoordinates,f=d.layoutOptions;ol.format.GPX.appendCoordinate_(e,f,a,c)}},ol.format.GPX.parseTrkSeg_=function(a,b){var c=b[b.length-1];ol.xml.parseNode(ol.format.GPX.TRKSEG_PARSERS_,a,b);var d=c.flatCoordinates;c.ends.push(d.length)},ol.format.GPX.readRte_=function(a,b){var c=b[0],d=ol.xml.pushParseAndPop({flatCoordinates:[],layoutOptions:{}},ol.format.GPX.RTE_PARSERS_,a,b);if(d){var e=d.flatCoordinates;delete d.flatCoordinates;var f=d.layoutOptions;delete d.layoutOptions;var g=ol.format.GPX.applyLayoutOptions_(f,e),h=new ol.geom.LineString(null);h.setFlatCoordinates(g,e),ol.format.Feature.transformWithOptions(h,!1,c);var i=new ol.Feature(h);return i.setProperties(d),i}},ol.format.GPX.readTrk_=function(a,b){var c=b[0],d=ol.xml.pushParseAndPop({flatCoordinates:[],ends:[],layoutOptions:{}},ol.format.GPX.TRK_PARSERS_,a,b);if(d){var e=d.flatCoordinates;delete d.flatCoordinates;var f=d.ends;delete d.ends;var g=d.layoutOptions;delete d.layoutOptions;var h=ol.format.GPX.applyLayoutOptions_(g,e,f),i=new ol.geom.MultiLineString(null);i.setFlatCoordinates(h,e,f),ol.format.Feature.transformWithOptions(i,!1,c);var j=new ol.Feature(i);return j.setProperties(d),j}},ol.format.GPX.readWpt_=function(a,b){var c=b[0],d=ol.xml.pushParseAndPop({},ol.format.GPX.WPT_PARSERS_,a,b);if(d){var e={},f=ol.format.GPX.appendCoordinate_([],e,a,d),g=ol.format.GPX.applyLayoutOptions_(e,f),h=new ol.geom.Point(f,g);ol.format.Feature.transformWithOptions(h,!1,c);var i=new ol.Feature(h);return i.setProperties(d),i}},ol.format.GPX.FEATURE_READER_={rte:ol.format.GPX.readRte_,trk:ol.format.GPX.readTrk_,wpt:ol.format.GPX.readWpt_},ol.format.GPX.GPX_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeArrayPusher(ol.format.GPX.readRte_),trk:ol.xml.makeArrayPusher(ol.format.GPX.readTrk_),wpt:ol.xml.makeArrayPusher(ol.format.GPX.readWpt_)}),ol.format.GPX.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkText"),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkType")}),ol.format.GPX.RTE_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_,type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),rtept:ol.format.GPX.parseRtePt_}),ol.format.GPX.RTEPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)}),ol.format.GPX.TRK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),extensions:ol.format.GPX.parseExtensions_,trkseg:ol.format.GPX.parseTrkSeg_}),ol.format.GPX.TRKSEG_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.format.GPX.parseTrkPt_}),ol.format.GPX.TRKPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)}),ol.format.GPX.WPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime),magvar:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),geoidheight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,sym:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),fix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),sat:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),hdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),vdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),pdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),ageofdgpsdata:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),dgpsid:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_}),ol.format.GPX.prototype.handleReadExtensions_=function(a){a||(a=[]);for(var b=0,c=a.length;b<c;++b){var d=a[b];if(this.readExtensions_){var e=d.get("extensionsNode_")||null;this.readExtensions_(d,e)}d.set("extensionsNode_",void 0)}},ol.format.GPX.prototype.readFeature,ol.format.GPX.prototype.readFeatureFromNode=function(a,b){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,a.namespaceURI))return null;var c=ol.format.GPX.FEATURE_READER_[a.localName];if(!c)return null;var d=c(a,[this.getReadOptions(a,b)]);return d?(this.handleReadExtensions_([d]),d):null},ol.format.GPX.prototype.readFeatures,ol.format.GPX.prototype.readFeaturesFromNode=function(a,b){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,a.namespaceURI))return[];if("gpx"==a.localName){var c=ol.xml.pushParseAndPop([],ol.format.GPX.GPX_PARSERS_,a,[this.getReadOptions(a,b)]);return c?(this.handleReadExtensions_(c),c):[]}return[]},ol.format.GPX.prototype.readProjection,ol.format.GPX.writeLink_=function(a,b,c){a.setAttribute("href",b);var d=c[c.length-1],e=d.properties,f=[e.linkText,e.linkType];ol.xml.pushSerializeAndPop({node:a},ol.format.GPX.LINK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,f,c,ol.format.GPX.LINK_SEQUENCE_)},ol.format.GPX.writeWptType_=function(a,b,c){var d=c[c.length-1],e=d.node,f=e.namespaceURI,g=d.properties;switch(ol.xml.setAttributeNS(a,null,"lat",b[1]),ol.xml.setAttributeNS(a,null,"lon",b[0]),d.geometryLayout){case ol.geom.GeometryLayout.XYZM:0!==b[3]&&(g.time=b[3]);case ol.geom.GeometryLayout.XYZ:0!==b[2]&&(g.ele=b[2]);break;case ol.geom.GeometryLayout.XYM:0!==b[2]&&(g.time=b[2])}var h="rtept"==a.nodeName?ol.format.GPX.RTEPT_TYPE_SEQUENCE_[f]:ol.format.GPX.WPT_TYPE_SEQUENCE_[f],i=ol.xml.makeSequence(g,h);ol.xml.pushSerializeAndPop({node:a,properties:g},ol.format.GPX.WPT_TYPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,i,c,h)},ol.format.GPX.writeRte_=function(a,b,c){var d=c[0],e=b.getProperties(),f={node:a,properties:e},g=b.getGeometry();g&&(g=ol.format.Feature.transformWithOptions(g,!0,d),f.geometryLayout=g.getLayout(),e.rtept=g.getCoordinates());var h=c[c.length-1].node,i=ol.format.GPX.RTE_SEQUENCE_[h.namespaceURI],j=ol.xml.makeSequence(e,i);ol.xml.pushSerializeAndPop(f,ol.format.GPX.RTE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,j,c,i)},ol.format.GPX.writeTrk_=function(a,b,c){var d=c[0],e=b.getProperties(),f={node:a,properties:e},g=b.getGeometry();g&&(g=ol.format.Feature.transformWithOptions(g,!0,d),e.trkseg=g.getLineStrings());var h=c[c.length-1].node,i=ol.format.GPX.TRK_SEQUENCE_[h.namespaceURI],j=ol.xml.makeSequence(e,i);ol.xml.pushSerializeAndPop(f,ol.format.GPX.TRK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,j,c,i)},ol.format.GPX.writeTrkSeg_=function(a,b,c){var d={node:a,geometryLayout:b.getLayout(),properties:{}};ol.xml.pushSerializeAndPop(d,ol.format.GPX.TRKSEG_SERIALIZERS_,ol.format.GPX.TRKSEG_NODE_FACTORY_,b.getCoordinates(),c)},ol.format.GPX.writeWpt_=function(a,b,c){var d=c[0],e=c[c.length-1];e.properties=b.getProperties();var f=b.getGeometry();f&&(f=ol.format.Feature.transformWithOptions(f,!0,d),e.geometryLayout=f.getLayout(),ol.format.GPX.writeWptType_(a,f.getCoordinates(),c))},ol.format.GPX.LINK_SEQUENCE_=["text","type"],ol.format.GPX.LINK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}),ol.format.GPX.RTE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","rtept"]),ol.format.GPX.RTE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),rtept:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeWptType_))}),ol.format.GPX.RTEPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time"]),ol.format.GPX.TRK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","trkseg"]),ol.format.GPX.TRK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),trkseg:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeTrkSeg_))}),ol.format.GPX.TRKSEG_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("trkpt"),ol.format.GPX.TRKSEG_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.xml.makeChildAppender(ol.format.GPX.writeWptType_)}),ol.format.GPX.WPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),ol.format.GPX.WPT_TYPE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),time:ol.xml.makeChildAppender(ol.format.XSD.writeDateTimeTextNode),magvar:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),geoidheight:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),sym:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),fix:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),sat:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),hdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),vdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),pdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),ageofdgpsdata:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),dgpsid:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode)}),ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_={Point:"wpt",LineString:"rte",MultiLineString:"trk"},ol.format.GPX.GPX_NODE_FACTORY_=function(a,b,c){var d=a.getGeometry();if(d){var e=ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_[d.getType()];if(e){var f=b[b.length-1].node;return ol.xml.createElementNS(f.namespaceURI,e)}}},ol.format.GPX.GPX_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeChildAppender(ol.format.GPX.writeRte_),trk:ol.xml.makeChildAppender(ol.format.GPX.writeTrk_),wpt:ol.xml.makeChildAppender(ol.format.GPX.writeWpt_)}),ol.format.GPX.prototype.writeFeatures,ol.format.GPX.prototype.writeFeaturesNode=function(a,b){b=this.adaptOptions(b);var c=ol.xml.createElementNS("http://www.topografix.com/GPX/1/1","gpx");return ol.xml.setAttributeNS(c,"http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),ol.xml.setAttributeNS(c,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",ol.format.GPX.SCHEMA_LOCATION_),c.setAttribute("version","1.1"),c.setAttribute("creator","OpenLayers"),ol.xml.pushSerializeAndPop({node:c},ol.format.GPX.GPX_SERIALIZERS_,ol.format.GPX.GPX_NODE_FACTORY_,a,[b]),c},goog.provide("ol.format.IGCZ"),ol.format.IGCZ={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},goog.provide("ol.format.TextFeature"),goog.require("ol"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),ol.format.TextFeature=function(){ol.format.Feature.call(this)},ol.inherits(ol.format.TextFeature,ol.format.Feature),ol.format.TextFeature.prototype.getText_=function(a){return"string"==typeof a?a:""},ol.format.TextFeature.prototype.getType=function(){return ol.format.FormatType.TEXT},ol.format.TextFeature.prototype.readFeature=function(a,b){return this.readFeatureFromText(this.getText_(a),this.adaptOptions(b))},ol.format.TextFeature.prototype.readFeatureFromText=function(a,b){},ol.format.TextFeature.prototype.readFeatures=function(a,b){return this.readFeaturesFromText(this.getText_(a),this.adaptOptions(b))},ol.format.TextFeature.prototype.readFeaturesFromText=function(a,b){},ol.format.TextFeature.prototype.readGeometry=function(a,b){return this.readGeometryFromText(this.getText_(a),this.adaptOptions(b))},ol.format.TextFeature.prototype.readGeometryFromText=function(a,b){},ol.format.TextFeature.prototype.readProjection=function(a){return this.readProjectionFromText(this.getText_(a))},ol.format.TextFeature.prototype.readProjectionFromText=function(a){return this.defaultDataProjection},ol.format.TextFeature.prototype.writeFeature=function(a,b){return this.writeFeatureText(a,this.adaptOptions(b))},ol.format.TextFeature.prototype.writeFeatureText=function(a,b){},ol.format.TextFeature.prototype.writeFeatures=function(a,b){return this.writeFeaturesText(a,this.adaptOptions(b))},ol.format.TextFeature.prototype.writeFeaturesText=function(a,b){},ol.format.TextFeature.prototype.writeGeometry=function(a,b){return this.writeGeometryText(a,this.adaptOptions(b))},ol.format.TextFeature.prototype.writeGeometryText=function(a,b){},goog.provide("ol.format.IGC"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.IGCZ"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.proj"),ol.format.IGC=function(a){var b=a||{};ol.format.TextFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.altitudeMode_=b.altitudeMode?b.altitudeMode:ol.format.IGCZ.NONE},ol.inherits(ol.format.IGC,ol.format.TextFeature),ol.format.IGC.B_RECORD_RE_=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,ol.format.IGC.H_RECORD_RE_=/^H.([A-Z]{3}).*?:(.*)/,ol.format.IGC.HFDTE_RECORD_RE_=/^HFDTE(\d{2})(\d{2})(\d{2})/,ol.format.IGC.NEWLINE_RE_=/\r\n|\r|\n/,ol.format.IGC.prototype.readFeature,ol.format.IGC.prototype.readFeatureFromText=function(a,b){var c,d,e=this.altitudeMode_,f=a.split(ol.format.IGC.NEWLINE_RE_),g={},h=[],i=2e3,j=0,k=1,l=-1;for(c=0,d=f.length;c<d;++c){var m,n=f[c];if("B"==n.charAt(0)){if(m=ol.format.IGC.B_RECORD_RE_.exec(n)){var o=parseInt(m[1],10),p=parseInt(m[2],10),q=parseInt(m[3],10),r=parseInt(m[4],10)+parseInt(m[5],10)/6e4;"S"==m[6]&&(r=-r);var s=parseInt(m[7],10)+parseInt(m[8],10)/6e4;if("W"==m[9]&&(s=-s),h.push(s,r),e!=ol.format.IGCZ.NONE){var t;t=e==ol.format.IGCZ.GPS?parseInt(m[11],10):e==ol.format.IGCZ.BAROMETRIC?parseInt(m[12],10):0,h.push(t)}var u=Date.UTC(i,j,k,o,p,q);u<l&&(u=Date.UTC(i,j,k+1,o,p,q)),h.push(u/1e3),l=u}}else"H"==n.charAt(0)&&(m=ol.format.IGC.HFDTE_RECORD_RE_.exec(n),m?(k=parseInt(m[1],10),j=parseInt(m[2],10)-1,i=2e3+parseInt(m[3],10)):(m=ol.format.IGC.H_RECORD_RE_.exec(n))&&(g[m[1]]=m[2].trim()))}if(0===h.length)return null;var v=new ol.geom.LineString(null),w=e==ol.format.IGCZ.NONE?ol.geom.GeometryLayout.XYM:ol.geom.GeometryLayout.XYZM;v.setFlatCoordinates(w,h);var x=new ol.Feature(ol.format.Feature.transformWithOptions(v,!1,b));return x.setProperties(g),x},ol.format.IGC.prototype.readFeatures,ol.format.IGC.prototype.readFeaturesFromText=function(a,b){var c=this.readFeatureFromText(a,b);return c?[c]:[]},ol.format.IGC.prototype.readProjection,ol.format.IGC.prototype.writeFeatureText=function(a,b){},ol.format.IGC.prototype.writeFeaturesText=function(a,b){},ol.format.IGC.prototype.writeGeometryText=function(a,b){},ol.format.IGC.prototype.readGeometryFromText=function(a,b){},goog.provide("ol.style.IconAnchorUnits"),ol.style.IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"},goog.provide("ol.style.IconImage"),goog.require("ol"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),goog.require("ol.ImageState"),goog.require("ol.style"),ol.style.IconImage=function(a,b,c,d,e,f){ol.events.EventTarget.call(this),this.hitDetectionImage_=null,this.image_=a||new Image,null!==d&&(this.image_.crossOrigin=d),this.canvas_=f?document.createElement("CANVAS"):null,this.color_=f,this.imageListenerKeys_=null,this.imageState_=e,this.size_=c,this.src_=b,this.tainting_=!1,this.imageState_==ol.ImageState.LOADED&&this.determineTainting_()},ol.inherits(ol.style.IconImage,ol.events.EventTarget),ol.style.IconImage.get=function(a,b,c,d,e,f){var g=ol.style.iconImageCache,h=g.get(b,d,f);return h||(h=new ol.style.IconImage(a,b,c,d,e,f),g.set(b,d,f,h)),h},ol.style.IconImage.prototype.determineTainting_=function(){var a=ol.dom.createCanvasContext2D(1,1);try{a.drawImage(this.image_,0,0),a.getImageData(0,0,1,1)}catch(a){this.tainting_=!0}},ol.style.IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ol.events.EventType.CHANGE)},ol.style.IconImage.prototype.handleImageError_=function(){this.imageState_=ol.ImageState.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},ol.style.IconImage.prototype.handleImageLoad_=function(){this.imageState_=ol.ImageState.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.determineTainting_(),this.replaceColor_(),this.dispatchChangeEvent_()},ol.style.IconImage.prototype.getImage=function(a){return this.canvas_?this.canvas_:this.image_},ol.style.IconImage.prototype.getImageState=function(){return this.imageState_},ol.style.IconImage.prototype.getHitDetectionImage=function(a){if(!this.hitDetectionImage_)if(this.tainting_){var b=this.size_[0],c=this.size_[1],d=ol.dom.createCanvasContext2D(b,c);d.fillRect(0,0,b,c),this.hitDetectionImage_=d.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},ol.style.IconImage.prototype.getSize=function(){return this.size_},ol.style.IconImage.prototype.getSrc=function(){return this.src_},ol.style.IconImage.prototype.load=function(){if(this.imageState_==ol.ImageState.IDLE){this.imageState_=ol.ImageState.LOADING,this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(a){this.handleImageError_()}}},ol.style.IconImage.prototype.replaceColor_=function(){if(!this.tainting_&&null!==this.color_){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var a=this.canvas_.getContext("2d");a.drawImage(this.image_,0,0);for(var b=a.getImageData(0,0,this.image_.width,this.image_.height),c=b.data,d=this.color_[0]/255,e=this.color_[1]/255,f=this.color_[2]/255,g=0,h=c.length;g<h;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}},ol.style.IconImage.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey),this.imageListenerKeys_=null},goog.provide("ol.style.IconOrigin"),ol.style.IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},goog.provide("ol.style.Icon");goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.asserts"),goog.require("ol.color"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.style.IconAnchorUnits"),goog.require("ol.style.IconImage"),goog.require("ol.style.IconOrigin"),goog.require("ol.style.Image"),ol.style.Icon=function(a){var b=a||{};this.anchor_=void 0!==b.anchor?b.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==b.anchorOrigin?b.anchorOrigin:ol.style.IconOrigin.TOP_LEFT,this.anchorXUnits_=void 0!==b.anchorXUnits?b.anchorXUnits:ol.style.IconAnchorUnits.FRACTION,this.anchorYUnits_=void 0!==b.anchorYUnits?b.anchorYUnits:ol.style.IconAnchorUnits.FRACTION,this.crossOrigin_=void 0!==b.crossOrigin?b.crossOrigin:null;var c=void 0!==b.img?b.img:null,d=void 0!==b.imgSize?b.imgSize:null,e=b.src;ol.asserts.assert(!(void 0!==e&&c),4),ol.asserts.assert(!c||c&&d,5),void 0!==e&&0!==e.length||!c||(e=c.src||ol.getUid(c).toString()),ol.asserts.assert(void 0!==e&&e.length>0,6);var f=void 0!==b.src?ol.ImageState.IDLE:ol.ImageState.LOADED;this.color_=void 0!==b.color?ol.color.asArray(b.color):null,this.iconImage_=ol.style.IconImage.get(c,e,d,this.crossOrigin_,f,this.color_),this.offset_=void 0!==b.offset?b.offset:[0,0],this.offsetOrigin_=void 0!==b.offsetOrigin?b.offsetOrigin:ol.style.IconOrigin.TOP_LEFT,this.origin_=null,this.size_=void 0!==b.size?b.size:null;var g=void 0!==b.opacity?b.opacity:1,h=void 0!==b.rotateWithView&&b.rotateWithView,i=void 0!==b.rotation?b.rotation:0,j=void 0!==b.scale?b.scale:1,k=void 0===b.snapToPixel||b.snapToPixel;ol.style.Image.call(this,{opacity:g,rotation:i,scale:j,snapToPixel:k,rotateWithView:h})},ol.inherits(ol.style.Icon,ol.style.Image),ol.style.Icon.prototype.clone=function(){var a,b=this.getImage(1);if(this.iconImage_.getImageState()===ol.ImageState.LOADED)if("IMG"===b.tagName.toUpperCase())a=b.cloneNode(!0);else{a=document.createElement("canvas");var c=a.getContext("2d");a.width=b.width,a.height=b.height,c.drawImage(b,0,0)}return new ol.style.Icon({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,img:a||void 0,imgSize:a?this.iconImage_.getSize().slice():void 0,src:a?void 0:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},ol.style.Icon.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var a=this.anchor_,b=this.getSize();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION||this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){if(!b)return null;a=this.anchor_.slice(),this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION&&(a[0]*=b[0]),this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION&&(a[1]*=b[1])}if(this.anchorOrigin_!=ol.style.IconOrigin.TOP_LEFT){if(!b)return null;a===this.anchor_&&(a=this.anchor_.slice()),this.anchorOrigin_!=ol.style.IconOrigin.TOP_RIGHT&&this.anchorOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(a[0]=-a[0]+b[0]),this.anchorOrigin_!=ol.style.IconOrigin.BOTTOM_LEFT&&this.anchorOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(a[1]=-a[1]+b[1])}return this.normalizedAnchor_=a,this.normalizedAnchor_},ol.style.Icon.prototype.getColor=function(){return this.color_},ol.style.Icon.prototype.getImage=function(a){return this.iconImage_.getImage(a)},ol.style.Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()},ol.style.Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},ol.style.Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()},ol.style.Icon.prototype.getHitDetectionImage=function(a){return this.iconImage_.getHitDetectionImage(a)},ol.style.Icon.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var a=this.offset_;if(this.offsetOrigin_!=ol.style.IconOrigin.TOP_LEFT){var b=this.getSize(),c=this.iconImage_.getSize();if(!b||!c)return null;a=a.slice(),this.offsetOrigin_!=ol.style.IconOrigin.TOP_RIGHT&&this.offsetOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(a[0]=c[0]-b[0]-a[0]),this.offsetOrigin_!=ol.style.IconOrigin.BOTTOM_LEFT&&this.offsetOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(a[1]=c[1]-b[1]-a[1])}return this.origin_=a,this.origin_},ol.style.Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()},ol.style.Icon.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},ol.style.Icon.prototype.listenImageChange=function(a,b){return ol.events.listen(this.iconImage_,ol.events.EventType.CHANGE,a,b)},ol.style.Icon.prototype.load=function(){this.iconImage_.load()},ol.style.Icon.prototype.unlistenImageChange=function(a,b){ol.events.unlisten(this.iconImage_,ol.events.EventType.CHANGE,a,b)},goog.provide("ol.style.Text"),goog.require("ol.style.Fill"),ol.style.Text=function(a){var b=a||{};this.font_=b.font,this.rotation_=b.rotation,this.rotateWithView_=b.rotateWithView,this.scale_=b.scale,this.text_=b.text,this.textAlign_=b.textAlign,this.textBaseline_=b.textBaseline,this.fill_=void 0!==b.fill?b.fill:new ol.style.Fill({color:ol.style.Text.DEFAULT_FILL_COLOR_}),this.stroke_=void 0!==b.stroke?b.stroke:null,this.offsetX_=void 0!==b.offsetX?b.offsetX:0,this.offsetY_=void 0!==b.offsetY?b.offsetY:0},ol.style.Text.DEFAULT_FILL_COLOR_="#333",ol.style.Text.prototype.clone=function(){return new ol.style.Text({font:this.getFont(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),
offsetY:this.getOffsetY()})},ol.style.Text.prototype.getFont=function(){return this.font_},ol.style.Text.prototype.getOffsetX=function(){return this.offsetX_},ol.style.Text.prototype.getOffsetY=function(){return this.offsetY_},ol.style.Text.prototype.getFill=function(){return this.fill_},ol.style.Text.prototype.getRotateWithView=function(){return this.rotateWithView_},ol.style.Text.prototype.getRotation=function(){return this.rotation_},ol.style.Text.prototype.getScale=function(){return this.scale_},ol.style.Text.prototype.getStroke=function(){return this.stroke_},ol.style.Text.prototype.getText=function(){return this.text_},ol.style.Text.prototype.getTextAlign=function(){return this.textAlign_},ol.style.Text.prototype.getTextBaseline=function(){return this.textBaseline_},ol.style.Text.prototype.setFont=function(a){this.font_=a},ol.style.Text.prototype.setOffsetX=function(a){this.offsetX_=a},ol.style.Text.prototype.setOffsetY=function(a){this.offsetY_=a},ol.style.Text.prototype.setFill=function(a){this.fill_=a},ol.style.Text.prototype.setRotation=function(a){this.rotation_=a},ol.style.Text.prototype.setScale=function(a){this.scale_=a},ol.style.Text.prototype.setStroke=function(a){this.stroke_=a},ol.style.Text.prototype.setText=function(a){this.text_=a},ol.style.Text.prototype.setTextAlign=function(a){this.textAlign_=a},ol.style.Text.prototype.setTextBaseline=function(a){this.textBaseline_=a},goog.provide("ol.format.KML"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.array"),goog.require("ol.asserts"),goog.require("ol.color"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.style.Fill"),goog.require("ol.style.Icon"),goog.require("ol.style.IconAnchorUnits"),goog.require("ol.style.IconOrigin"),goog.require("ol.style.Stroke"),goog.require("ol.style.Style"),goog.require("ol.style.Text"),goog.require("ol.xml"),ol.format.KML=function(a){var b=a||{};ol.format.XMLFeature.call(this),ol.format.KML.DEFAULT_STYLE_ARRAY_||ol.format.KML.createStyleDefaults_(),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.defaultStyle_=b.defaultStyle?b.defaultStyle:ol.format.KML.DEFAULT_STYLE_ARRAY_,this.extractStyles_=void 0===b.extractStyles||b.extractStyles,this.writeStyles_=void 0===b.writeStyles||b.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===b.showPointNames||b.showPointNames},ol.inherits(ol.format.KML,ol.format.XMLFeature),ol.format.KML.GX_NAMESPACE_URIS_=["http://www.google.com/kml/ext/2.2"],ol.format.KML.NAMESPACE_URIS_=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],ol.format.KML.SCHEMA_LOCATION_="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",ol.format.KML.createStyleDefaults_=function(){return ol.format.KML.DEFAULT_COLOR_=[255,255,255,1],ol.format.KML.DEFAULT_FILL_STYLE_=new ol.style.Fill({color:ol.format.KML.DEFAULT_COLOR_}),ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2],ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=ol.style.IconAnchorUnits.PIXELS,ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=ol.style.IconAnchorUnits.PIXELS,ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_=[64,64],ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_=.5,ol.format.KML.DEFAULT_IMAGE_STYLE_=new ol.style.Icon({anchor:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:"anonymous",rotation:0,scale:ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_,size:ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,src:ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_}),ol.format.KML.DEFAULT_NO_IMAGE_STYLE_="NO_IMAGE",ol.format.KML.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:ol.format.KML.DEFAULT_COLOR_,width:1}),ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_=new ol.style.Stroke({color:[51,51,51,1],width:2}),ol.format.KML.DEFAULT_TEXT_STYLE_=new ol.style.Text({font:"bold 16px Helvetica",fill:ol.format.KML.DEFAULT_FILL_STYLE_,stroke:ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_,scale:.8}),ol.format.KML.DEFAULT_STYLE_=new ol.style.Style({fill:ol.format.KML.DEFAULT_FILL_STYLE_,image:ol.format.KML.DEFAULT_IMAGE_STYLE_,text:ol.format.KML.DEFAULT_TEXT_STYLE_,stroke:ol.format.KML.DEFAULT_STROKE_STYLE_,zIndex:0}),ol.format.KML.DEFAULT_STYLE_ARRAY_=[ol.format.KML.DEFAULT_STYLE_],ol.format.KML.DEFAULT_STYLE_ARRAY_},ol.format.KML.ICON_ANCHOR_UNITS_MAP_={fraction:ol.style.IconAnchorUnits.FRACTION,pixels:ol.style.IconAnchorUnits.PIXELS},ol.format.KML.createNameStyleFunction_=function(a,b){var c=null,d=[0,0],e="start";if(a.getImage()){var f=a.getImage().getImageSize();if(null===f&&(f=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_),2==f.length){var g=a.getImage().getScale();d[0]=g*f[0]/2,d[1]=-g*f[1]/2,e="left"}}if(null!==a.getText()){var h=a.getText();c=h.clone(),c.setFont(h.getFont()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFont()),c.setScale(h.getScale()||ol.format.KML.DEFAULT_TEXT_STYLE_.getScale()),c.setFill(h.getFill()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFill()),c.setStroke(h.getStroke()||ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_)}else c=ol.format.KML.DEFAULT_TEXT_STYLE_.clone();return c.setText(b),c.setOffsetX(d[0]),c.setOffsetY(d[1]),c.setTextAlign(e),new ol.style.Style({text:c})},ol.format.KML.createFeatureStyleFunction_=function(a,b,c,d,e){return function(f){var g,h=e,i="";if(h&&this.getGeometry()&&(h=this.getGeometry().getType()===ol.geom.GeometryType.POINT),h&&(i=this.get("name"),h=h&&i),a)return h?(g=ol.format.KML.createNameStyleFunction_(a[0],i),a.concat(g)):a;if(b){var j=ol.format.KML.findStyle_(b,c,d);return h?(g=ol.format.KML.createNameStyleFunction_(j[0],i),j.concat(g)):j}return h?(g=ol.format.KML.createNameStyleFunction_(c[0],i),c.concat(g)):c}},ol.format.KML.findStyle_=function(a,b,c){return Array.isArray(a)?a:"string"==typeof a?(!(a in c)&&"#"+a in c&&(a="#"+a),ol.format.KML.findStyle_(c[a],b,c)):b},ol.format.KML.readColor_=function(a){var b=ol.xml.getAllTextContent(a,!1),c=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(b);if(c){var d=c[1];return[parseInt(d.substr(6,2),16),parseInt(d.substr(4,2),16),parseInt(d.substr(2,2),16),parseInt(d.substr(0,2),16)/255]}},ol.format.KML.readFlatCoordinates_=function(a){for(var b,c=ol.xml.getAllTextContent(a,!1),d=[],e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;b=e.exec(c);){var f=parseFloat(b[1]),g=parseFloat(b[2]),h=b[3]?parseFloat(b[3]):0;d.push(f,g,h),c=c.substr(b[0].length)}if(""===c)return d},ol.format.KML.readURI_=function(a){var b=ol.xml.getAllTextContent(a,!1).trim();if(a.baseURI){return new URL(b,a.baseURI).href}return b},ol.format.KML.readVec2_=function(a){var b=a.getAttribute("xunits"),c=a.getAttribute("yunits");return{x:parseFloat(a.getAttribute("x")),xunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[b],y:parseFloat(a.getAttribute("y")),yunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[c]}},ol.format.KML.readScale_=function(a){return ol.format.XSD.readDecimal(a)},ol.format.KML.readStyleMapValue_=function(a,b){return ol.xml.pushParseAndPop(void 0,ol.format.KML.STYLE_MAP_PARSERS_,a,b)},ol.format.KML.IconStyleParser_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.ICON_STYLE_PARSERS_,a,b);if(c){var d,e=b[b.length-1],f="Icon"in c?c.Icon:{},g=!("Icon"in c)||Object.keys(f).length>0,h=f.href;h?d=h:g&&(d=ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_);var i,j,k,l=c.hotSpot;l?(i=[l.x,l.y],j=l.xunits,k=l.yunits):d===ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_?(i=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,j=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,k=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(d)&&(i=[.5,0],j=ol.style.IconAnchorUnits.FRACTION,k=ol.style.IconAnchorUnits.FRACTION);var m,n=f.x,o=f.y;void 0!==n&&void 0!==o&&(m=[n,o]);var p,q=f.w,r=f.h;void 0!==q&&void 0!==r&&(p=[q,r]);var s,t=c.heading;void 0!==t&&(s=ol.math.toRadians(t));var u=c.scale;if(g){d==ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_&&(p=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,void 0===u&&(u=ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_));var v=new ol.style.Icon({anchor:i,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:j,anchorYUnits:k,crossOrigin:"anonymous",offset:m,offsetOrigin:ol.style.IconOrigin.BOTTOM_LEFT,rotation:s,scale:u,size:p,src:d});e.imageStyle=v}else e.imageStyle=ol.format.KML.DEFAULT_NO_IMAGE_STYLE_}},ol.format.KML.LabelStyleParser_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.LABEL_STYLE_PARSERS_,a,b);if(c){var d=b[b.length-1],e=new ol.style.Text({fill:new ol.style.Fill({color:"color"in c?c.color:ol.format.KML.DEFAULT_COLOR_}),scale:c.scale});d.textStyle=e}},ol.format.KML.LineStyleParser_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.LINE_STYLE_PARSERS_,a,b);if(c){var d=b[b.length-1],e=new ol.style.Stroke({color:"color"in c?c.color:ol.format.KML.DEFAULT_COLOR_,width:"width"in c?c.width:1});d.strokeStyle=e}},ol.format.KML.PolyStyleParser_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.POLY_STYLE_PARSERS_,a,b);if(c){var d=b[b.length-1],e=new ol.style.Fill({color:"color"in c?c.color:ol.format.KML.DEFAULT_COLOR_});d.fillStyle=e;var f=c.fill;void 0!==f&&(d.fill=f);var g=c.outline;void 0!==g&&(d.outline=g)}},ol.format.KML.readFlatLinearRing_=function(a,b){return ol.xml.pushParseAndPop(null,ol.format.KML.FLAT_LINEAR_RING_PARSERS_,a,b)},ol.format.KML.gxCoordParser_=function(a,b){var c=b[b.length-1],d=c.flatCoordinates,e=ol.xml.getAllTextContent(a,!1),f=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,g=f.exec(e);if(g){var h=parseFloat(g[1]),i=parseFloat(g[2]),j=parseFloat(g[3]);d.push(h,i,j,0)}else d.push(0,0,0,0)},ol.format.KML.readGxMultiTrack_=function(a,b){var c=ol.xml.pushParseAndPop([],ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_,a,b);if(c){var d=new ol.geom.MultiLineString(null);return d.setLineStrings(c),d}},ol.format.KML.readGxTrack_=function(a,b){var c=ol.xml.pushParseAndPop({flatCoordinates:[],whens:[]},ol.format.KML.GX_TRACK_PARSERS_,a,b);if(c){var d,e,f=c.flatCoordinates,g=c.whens;for(d=0,e=Math.min(f.length,g.length);d<e;++d)f[4*d+3]=g[d];var h=new ol.geom.LineString(null);return h.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,f),h}},ol.format.KML.readIcon_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.ICON_PARSERS_,a,b);return c||null},ol.format.KML.readFlatCoordinatesFromNode_=function(a,b){return ol.xml.pushParseAndPop(null,ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_,a,b)},ol.format.KML.readLineString_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,a,b),d=ol.format.KML.readFlatCoordinatesFromNode_(a,b);if(d){var e=new ol.geom.LineString(null);return e.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,d),e.setProperties(c),e}},ol.format.KML.readLinearRing_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,a,b),d=ol.format.KML.readFlatCoordinatesFromNode_(a,b);if(d){var e=new ol.geom.Polygon(null);return e.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,d,[d.length]),e.setProperties(c),e}},ol.format.KML.readMultiGeometry_=function(a,b){var c=ol.xml.pushParseAndPop([],ol.format.KML.MULTI_GEOMETRY_PARSERS_,a,b);if(!c)return null;if(0===c.length)return new ol.geom.GeometryCollection(c);var d,e,f,g,h=!0,i=c[0].getType();for(f=1,g=c.length;f<g;++f)if(e=c[f],e.getType()!=i){h=!1;break}if(h){var j,k;if(i==ol.geom.GeometryType.POINT){var l=c[0];for(j=l.getLayout(),k=l.getFlatCoordinates(),f=1,g=c.length;f<g;++f)e=c[f],ol.array.extend(k,e.getFlatCoordinates());d=new ol.geom.MultiPoint(null),d.setFlatCoordinates(j,k),ol.format.KML.setCommonGeometryProperties_(d,c)}else i==ol.geom.GeometryType.LINE_STRING?(d=new ol.geom.MultiLineString(null),d.setLineStrings(c),ol.format.KML.setCommonGeometryProperties_(d,c)):i==ol.geom.GeometryType.POLYGON?(d=new ol.geom.MultiPolygon(null),d.setPolygons(c),ol.format.KML.setCommonGeometryProperties_(d,c)):i==ol.geom.GeometryType.GEOMETRY_COLLECTION?d=new ol.geom.GeometryCollection(c):ol.asserts.assert(!1,37)}else d=new ol.geom.GeometryCollection(c);return d},ol.format.KML.readPoint_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,a,b),d=ol.format.KML.readFlatCoordinatesFromNode_(a,b);if(d){var e=new ol.geom.Point(null);return e.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,d),e.setProperties(c),e}},ol.format.KML.readPolygon_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,a,b),d=ol.xml.pushParseAndPop([null],ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_,a,b);if(d&&d[0]){var e,f,g=new ol.geom.Polygon(null),h=d[0],i=[h.length];for(e=1,f=d.length;e<f;++e)ol.array.extend(h,d[e]),i.push(h.length);return g.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,h,i),g.setProperties(c),g}},ol.format.KML.readStyle_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.STYLE_PARSERS_,a,b);if(!c)return null;var d="fillStyle"in c?c.fillStyle:ol.format.KML.DEFAULT_FILL_STYLE_,e=c.fill;void 0===e||e||(d=null);var f="imageStyle"in c?c.imageStyle:ol.format.KML.DEFAULT_IMAGE_STYLE_;f==ol.format.KML.DEFAULT_NO_IMAGE_STYLE_&&(f=void 0);var g="textStyle"in c?c.textStyle:ol.format.KML.DEFAULT_TEXT_STYLE_,h="strokeStyle"in c?c.strokeStyle:ol.format.KML.DEFAULT_STROKE_STYLE_,i=c.outline;return void 0===i||i||(h=null),[new ol.style.Style({fill:d,image:f,stroke:h,text:g,zIndex:void 0})]},ol.format.KML.setCommonGeometryProperties_=function(a,b){var c,d,e,f,g=b.length,h=new Array(b.length),i=new Array(b.length);for(e=f=!1,d=0;d<g;++d)c=b[d],h[d]=c.get("extrude"),i[d]=c.get("altitudeMode"),e=e||void 0!==h[d],f=f||i[d];e&&a.set("extrude",h),f&&a.set("altitudeMode",i)},ol.format.KML.DataParser_=function(a,b){var c=a.getAttribute("name");ol.xml.parseNode(ol.format.KML.DATA_PARSERS_,a,b);var d=b[b.length-1];null!==c?d[c]=d.value:null!==d.displayName&&(d[d.displayName]=d.value)},ol.format.KML.ExtendedDataParser_=function(a,b){ol.xml.parseNode(ol.format.KML.EXTENDED_DATA_PARSERS_,a,b)},ol.format.KML.RegionParser_=function(a,b){ol.xml.parseNode(ol.format.KML.REGION_PARSERS_,a,b)},ol.format.KML.PairDataParser_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.PAIR_PARSERS_,a,b);if(c){var d=c.key;if(d&&"normal"==d){var e=c.styleUrl;e&&(b[b.length-1]=e);var f=c.Style;f&&(b[b.length-1]=f)}}},ol.format.KML.PlacemarkStyleMapParser_=function(a,b){var c=ol.format.KML.readStyleMapValue_(a,b);if(c){var d=b[b.length-1];Array.isArray(c)?d.Style=c:"string"==typeof c?d.styleUrl=c:ol.asserts.assert(!1,38)}},ol.format.KML.SchemaDataParser_=function(a,b){ol.xml.parseNode(ol.format.KML.SCHEMA_DATA_PARSERS_,a,b)},ol.format.KML.SimpleDataParser_=function(a,b){var c=a.getAttribute("name");if(null!==c){var d=ol.format.XSD.readString(a);b[b.length-1][c]=d}},ol.format.KML.LatLonAltBoxParser_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.LAT_LON_ALT_BOX_PARSERS_,a,b);if(c){var d=b[b.length-1],e=[parseFloat(c.west),parseFloat(c.south),parseFloat(c.east),parseFloat(c.north)];d.extent=e,d.altitudeMode=c.altitudeMode,d.minAltitude=parseFloat(c.minAltitude),d.maxAltitude=parseFloat(c.maxAltitude)}},ol.format.KML.LodParser_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.KML.LOD_PARSERS_,a,b);if(c){var d=b[b.length-1];d.minLodPixels=parseFloat(c.minLodPixels),d.maxLodPixels=parseFloat(c.maxLodPixels),d.minFadeExtent=parseFloat(c.minFadeExtent),d.maxFadeExtent=parseFloat(c.maxFadeExtent)}},ol.format.KML.innerBoundaryIsParser_=function(a,b){var c=ol.xml.pushParseAndPop(void 0,ol.format.KML.INNER_BOUNDARY_IS_PARSERS_,a,b);if(c){b[b.length-1].push(c)}},ol.format.KML.outerBoundaryIsParser_=function(a,b){var c=ol.xml.pushParseAndPop(void 0,ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_,a,b);if(c){b[b.length-1][0]=c}},ol.format.KML.LinkParser_=function(a,b){ol.xml.parseNode(ol.format.KML.LINK_PARSERS_,a,b)},ol.format.KML.whenParser_=function(a,b){var c=b[b.length-1],d=c.whens,e=ol.xml.getAllTextContent(a,!1),f=Date.parse(e);d.push(isNaN(f)?0:f)},ol.format.KML.DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{displayName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),value:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.KML.EXTENDED_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.format.KML.DataParser_,SchemaData:ol.format.KML.SchemaDataParser_}),ol.format.KML.REGION_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LatLonAltBox:ol.format.KML.LatLonAltBoxParser_,Lod:ol.format.KML.LodParser_}),ol.format.KML.LAT_LON_ALT_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),minAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),north:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),south:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),east:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),west:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.KML.LOD_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{minLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),minFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.KML.FLAT_LINEAR_RING_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)}),ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{innerBoundaryIs:ol.format.KML.innerBoundaryIsParser_,outerBoundaryIs:ol.format.KML.outerBoundaryIsParser_}),ol.format.KML.GX_TRACK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{when:ol.format.KML.whenParser_},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{coord:ol.format.KML.gxCoordParser_})),ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)}),ol.format.KML.ICON_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),y:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),w:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),h:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)})),ol.format.KML.ICON_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeObjectPropertySetter(ol.format.KML.readIcon_),heading:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),hotSpot:ol.xml.makeObjectPropertySetter(ol.format.KML.readVec2_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)}),ol.format.KML.INNER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)}),ol.format.KML.LABEL_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)}),ol.format.KML.LINE_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),width:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.KML.MULTI_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeArrayPusher(ol.format.KML.readLineString_),LinearRing:ol.xml.makeArrayPusher(ol.format.KML.readLinearRing_),MultiGeometry:ol.xml.makeArrayPusher(ol.format.KML.readMultiGeometry_),Point:ol.xml.makeArrayPusher(ol.format.KML.readPoint_),Polygon:ol.xml.makeArrayPusher(ol.format.KML.readPolygon_)}),ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{Track:ol.xml.makeArrayPusher(ol.format.KML.readGxTrack_)}),ol.format.KML.NETWORK_LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,Link:ol.format.KML.LinkParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)}),ol.format.KML.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)}),ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)}),ol.format.KML.PAIR_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),key:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)}),ol.format.KML.PLACEMARK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,MultiGeometry:ol.xml.makeObjectPropertySetter(ol.format.KML.readMultiGeometry_,"geometry"),LineString:ol.xml.makeObjectPropertySetter(ol.format.KML.readLineString_,"geometry"),LinearRing:ol.xml.makeObjectPropertySetter(ol.format.KML.readLinearRing_,"geometry"),Point:ol.xml.makeObjectPropertySetter(ol.format.KML.readPoint_,"geometry"),Polygon:ol.xml.makeObjectPropertySetter(ol.format.KML.readPolygon_,"geometry"),Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),StyleMap:ol.format.KML.PlacemarkStyleMapParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{MultiTrack:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxMultiTrack_,"geometry"),Track:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxTrack_,"geometry")})),ol.format.KML.POLY_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),fill:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),outline:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)}),ol.format.KML.SCHEMA_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{SimpleData:ol.format.KML.SimpleDataParser_}),ol.format.KML.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.format.KML.IconStyleParser_,LabelStyle:ol.format.KML.LabelStyleParser_,LineStyle:ol.format.KML.LineStyleParser_,PolyStyle:ol.format.KML.PolyStyleParser_}),ol.format.KML.STYLE_MAP_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Pair:ol.format.KML.PairDataParser_}),ol.format.KML.prototype.readDocumentOrFolder_=function(a,b){var c=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Folder:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:ol.xml.makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),d=ol.xml.pushParseAndPop([],c,a,b,this);return d||void 0},ol.format.KML.prototype.readPlacemark_=function(a,b){var c=ol.xml.pushParseAndPop({geometry:null},ol.format.KML.PLACEMARK_PARSERS_,a,b);if(c){var d=new ol.Feature,e=a.getAttribute("id");null!==e&&d.setId(e);var f=b[0],g=c.geometry;if(g&&ol.format.Feature.transformWithOptions(g,!1,f),d.setGeometry(g),delete c.geometry,this.extractStyles_){var h=c.Style,i=c.styleUrl,j=ol.format.KML.createFeatureStyleFunction_(h,i,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);d.setStyle(j)}return delete c.Style,d.setProperties(c),d}},ol.format.KML.prototype.readSharedStyle_=function(a,b){var c=a.getAttribute("id");if(null!==c){var d=ol.format.KML.readStyle_(a,b);if(d){var e;if(a.baseURI){e=new URL("#"+c,a.baseURI).href}else e="#"+c;this.sharedStyles_[e]=d}}},ol.format.KML.prototype.readSharedStyleMap_=function(a,b){var c=a.getAttribute("id");if(null!==c){var d=ol.format.KML.readStyleMapValue_(a,b);if(d){var e;if(a.baseURI){e=new URL("#"+c,a.baseURI).href}else e="#"+c;this.sharedStyles_[e]=d}}},ol.format.KML.prototype.readFeature,ol.format.KML.prototype.readFeatureFromNode=function(a,b){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI))return null;var c=this.readPlacemark_(a,[this.getReadOptions(a,b)]);return c||null},ol.format.KML.prototype.readFeatures,ol.format.KML.prototype.readFeaturesFromNode=function(a,b){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI))return[];var c,d=a.localName;if("Document"==d||"Folder"==d)return(c=this.readDocumentOrFolder_(a,[this.getReadOptions(a,b)]))||[];if("Placemark"==d){var e=this.readPlacemark_(a,[this.getReadOptions(a,b)]);return e?[e]:[]}if("kml"==d){c=[];var f;for(f=a.firstElementChild;f;f=f.nextElementSibling){var g=this.readFeaturesFromNode(f,b);g&&ol.array.extend(c,g)}return c}return[]},ol.format.KML.prototype.readName=function(a){if(ol.xml.isDocument(a))return this.readNameFromDocument(a);if(ol.xml.isNode(a))return this.readNameFromNode(a);if("string"==typeof a){var b=ol.xml.parse(a);return this.readNameFromDocument(b)}},ol.format.KML.prototype.readNameFromDocument=function(a){var b;for(b=a.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE){var c=this.readNameFromNode(b);if(c)return c}},ol.format.KML.prototype.readNameFromNode=function(a){var b;for(b=a.firstElementChild;b;b=b.nextElementSibling)if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,b.namespaceURI)&&"name"==b.localName)return ol.format.XSD.readString(b);for(b=a.firstElementChild;b;b=b.nextElementSibling){var c=b.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,b.namespaceURI)&&("Document"==c||"Folder"==c||"Placemark"==c||"kml"==c)){var d=this.readNameFromNode(b);if(d)return d}}},ol.format.KML.prototype.readNetworkLinks=function(a){var b=[];if(ol.xml.isDocument(a))ol.array.extend(b,this.readNetworkLinksFromDocument(a));else if(ol.xml.isNode(a))ol.array.extend(b,this.readNetworkLinksFromNode(a));else if("string"==typeof a){var c=ol.xml.parse(a);ol.array.extend(b,this.readNetworkLinksFromDocument(c))}return b},ol.format.KML.prototype.readNetworkLinksFromDocument=function(a){var b,c=[];for(b=a.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&ol.array.extend(c,this.readNetworkLinksFromNode(b));return c},ol.format.KML.prototype.readNetworkLinksFromNode=function(a){var b,c=[];for(b=a.firstElementChild;b;b=b.nextElementSibling)if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,b.namespaceURI)&&"NetworkLink"==b.localName){var d=ol.xml.pushParseAndPop({},ol.format.KML.NETWORK_LINK_PARSERS_,b,[]);c.push(d)}for(b=a.firstElementChild;b;b=b.nextElementSibling){var e=b.localName;!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,b.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||ol.array.extend(c,this.readNetworkLinksFromNode(b))}return c},ol.format.KML.prototype.readRegion=function(a){var b=[];if(ol.xml.isDocument(a))ol.array.extend(b,this.readRegionFromDocument(a));else if(ol.xml.isNode(a))ol.array.extend(b,this.readRegionFromNode(a));else if("string"==typeof a){var c=ol.xml.parse(a);ol.array.extend(b,this.readRegionFromDocument(c))}return b},ol.format.KML.prototype.readRegionFromDocument=function(a){var b,c=[];for(b=a.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&ol.array.extend(c,this.readRegionFromNode(b));return c},ol.format.KML.prototype.readRegionFromNode=function(a){var b,c=[];for(b=a.firstElementChild;b;b=b.nextElementSibling)if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,b.namespaceURI)&&"Region"==b.localName){var d=ol.xml.pushParseAndPop({},ol.format.KML.REGION_PARSERS_,b,[]);c.push(d)}for(b=a.firstElementChild;b;b=b.nextElementSibling){var e=b.localName;!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,b.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||ol.array.extend(c,this.readRegionFromNode(b))}return c},ol.format.KML.prototype.readProjection,ol.format.KML.writeColorTextNode_=function(a,b){var c,d=ol.color.asArray(b),e=4==d.length?d[3]:1,f=[255*e,d[2],d[1],d[0]];for(c=0;c<4;++c){var g=parseInt(f[c],10).toString(16);f[c]=1==g.length?"0"+g:g}ol.format.XSD.writeStringTextNode(a,f.join(""))},ol.format.KML.writeCoordinatesTextNode_=function(a,b,c){var d,e=c[c.length-1],f=e.layout,g=e.stride;f==ol.geom.GeometryLayout.XY||f==ol.geom.GeometryLayout.XYM?d=2:f==ol.geom.GeometryLayout.XYZ||f==ol.geom.GeometryLayout.XYZM?d=3:ol.asserts.assert(!1,34);var h,i,j=b.length,k="";if(j>0){for(k+=b[0],h=1;h<d;++h)k+=","+b[h];for(i=g;i<j;i+=g)for(k+=" "+b[i],h=1;h<d;++h)k+=","+b[i+h]}ol.format.XSD.writeStringTextNode(a,k)},ol.format.KML.writeDataNode_=function(a,b,c){a.setAttribute("name",b.name);var d={node:a},e=b.value;"object"==typeof e?(null!==e&&e.displayName&&ol.xml.pushSerializeAndPop(d,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[e.displayName],c,["displayName"]),null!==e&&e.value&&ol.xml.pushSerializeAndPop(d,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[e.value],c,["value"])):ol.xml.pushSerializeAndPop(d,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[e],c,["value"])},ol.format.KML.writeDataNodeName_=function(a,b){ol.format.XSD.writeCDATASection(a,b)},ol.format.KML.writeDataNodeValue_=function(a,b){ol.format.XSD.writeStringTextNode(a,b)},ol.format.KML.writeDocument_=function(a,b,c){var d={node:a};ol.xml.pushSerializeAndPop(d,ol.format.KML.DOCUMENT_SERIALIZERS_,ol.format.KML.DOCUMENT_NODE_FACTORY_,b,c,void 0,this)},ol.format.KML.writeExtendedData_=function(a,b,c){for(var d={node:a},e=b.names,f=b.values,g=e.length,h=0;h<g;h++)ol.xml.pushSerializeAndPop(d,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.format.KML.DATA_NODE_FACTORY_,[{name:e[h],value:f[h]}],c)},ol.format.KML.writeIcon_=function(a,b,c){var d={node:a},e=c[c.length-1].node,f=ol.format.KML.ICON_SEQUENCE_[e.namespaceURI],g=ol.xml.makeSequence(b,f);ol.xml.pushSerializeAndPop(d,ol.format.KML.ICON_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,g,c,f),f=ol.format.KML.ICON_SEQUENCE_[ol.format.KML.GX_NAMESPACE_URIS_[0]],g=ol.xml.makeSequence(b,f),
ol.xml.pushSerializeAndPop(d,ol.format.KML.ICON_SERIALIZERS_,ol.format.KML.GX_NODE_FACTORY_,g,c,f)},ol.format.KML.writeIconStyle_=function(a,b,c){var d={node:a},e={},f=b.getSrc(),g=b.getSize(),h=b.getImageSize(),i={href:f};if(g){i.w=g[0],i.h=g[1];var j=b.getAnchor(),k=b.getOrigin();if(k&&h&&0!==k[0]&&k[1]!==g[1]&&(i.x=k[0],i.y=h[1]-(k[1]+g[1])),j&&0!==j[0]&&j[1]!==g[1]){var l={x:j[0],xunits:ol.style.IconAnchorUnits.PIXELS,y:g[1]-j[1],yunits:ol.style.IconAnchorUnits.PIXELS};e.hotSpot=l}}e.Icon=i;var m=b.getScale();1!==m&&(e.scale=m);var n=b.getRotation();0!==n&&(e.heading=n);var o=c[c.length-1].node,p=ol.format.KML.ICON_STYLE_SEQUENCE_[o.namespaceURI],q=ol.xml.makeSequence(e,p);ol.xml.pushSerializeAndPop(d,ol.format.KML.ICON_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,q,c,p)},ol.format.KML.writeLabelStyle_=function(a,b,c){var d={node:a},e={},f=b.getFill();f&&(e.color=f.getColor());var g=b.getScale();g&&1!==g&&(e.scale=g);var h=c[c.length-1].node,i=ol.format.KML.LABEL_STYLE_SEQUENCE_[h.namespaceURI],j=ol.xml.makeSequence(e,i);ol.xml.pushSerializeAndPop(d,ol.format.KML.LABEL_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,j,c,i)},ol.format.KML.writeLineStyle_=function(a,b,c){var d={node:a},e={color:b.getColor(),width:b.getWidth()},f=c[c.length-1].node,g=ol.format.KML.LINE_STYLE_SEQUENCE_[f.namespaceURI],h=ol.xml.makeSequence(e,g);ol.xml.pushSerializeAndPop(d,ol.format.KML.LINE_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,h,c,g)},ol.format.KML.writeMultiGeometry_=function(a,b,c){var d,e,f={node:a},g=b.getType();g==ol.geom.GeometryType.GEOMETRY_COLLECTION?(d=b.getGeometries(),e=ol.format.KML.GEOMETRY_NODE_FACTORY_):g==ol.geom.GeometryType.MULTI_POINT?(d=b.getPoints(),e=ol.format.KML.POINT_NODE_FACTORY_):g==ol.geom.GeometryType.MULTI_LINE_STRING?(d=b.getLineStrings(),e=ol.format.KML.LINE_STRING_NODE_FACTORY_):g==ol.geom.GeometryType.MULTI_POLYGON?(d=b.getPolygons(),e=ol.format.KML.POLYGON_NODE_FACTORY_):ol.asserts.assert(!1,39),ol.xml.pushSerializeAndPop(f,ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_,e,d,c)},ol.format.KML.writeBoundaryIs_=function(a,b,c){var d={node:a};ol.xml.pushSerializeAndPop(d,ol.format.KML.BOUNDARY_IS_SERIALIZERS_,ol.format.KML.LINEAR_RING_NODE_FACTORY_,[b],c)},ol.format.KML.writePlacemark_=function(a,b,c){var d={node:a};b.getId()&&a.setAttribute("id",b.getId());var e=b.getProperties(),f={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};f[b.getGeometryName()]=1;var g=Object.keys(e||{}).sort().filter(function(a){return!f[a]});if(g.length>0){var h=ol.xml.makeSequence(e,g),i={names:g,values:h};ol.xml.pushSerializeAndPop(d,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.EXTENDEDDATA_NODE_FACTORY_,[i],c)}var j=b.getStyleFunction();if(j){var k=j.call(b,0);if(k){var l=Array.isArray(k)?k[0]:k;this.writeStyles_&&(e.Style=l);var m=l.getText();m&&(e.name=m.getText())}}var n=c[c.length-1].node,o=ol.format.KML.PLACEMARK_SEQUENCE_[n.namespaceURI],p=ol.xml.makeSequence(e,o);ol.xml.pushSerializeAndPop(d,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,c,o);var q=c[0],r=b.getGeometry();r&&(r=ol.format.Feature.transformWithOptions(r,!0,q)),ol.xml.pushSerializeAndPop(d,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.GEOMETRY_NODE_FACTORY_,[r],c)},ol.format.KML.writePrimitiveGeometry_=function(a,b,c){var d=b.getFlatCoordinates(),e={node:a};e.layout=b.getLayout(),e.stride=b.getStride(),ol.xml.pushSerializeAndPop(e,ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_,ol.format.KML.COORDINATES_NODE_FACTORY_,[d],c)},ol.format.KML.writePolygon_=function(a,b,c){var d=b.getLinearRings(),e=d.shift(),f={node:a};ol.xml.pushSerializeAndPop(f,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_,d,c),ol.xml.pushSerializeAndPop(f,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_,[e],c)},ol.format.KML.writePolyStyle_=function(a,b,c){var d={node:a};ol.xml.pushSerializeAndPop(d,ol.format.KML.POLY_STYLE_SERIALIZERS_,ol.format.KML.COLOR_NODE_FACTORY_,[b.getColor()],c)},ol.format.KML.writeScaleTextNode_=function(a,b){ol.format.XSD.writeDecimalTextNode(a,Math.round(1e6*b)/1e6)},ol.format.KML.writeStyle_=function(a,b,c){var d={node:a},e={},f=b.getFill(),g=b.getStroke(),h=b.getImage(),i=b.getText();h instanceof ol.style.Icon&&(e.IconStyle=h),i&&(e.LabelStyle=i),g&&(e.LineStyle=g),f&&(e.PolyStyle=f);var j=c[c.length-1].node,k=ol.format.KML.STYLE_SEQUENCE_[j.namespaceURI],l=ol.xml.makeSequence(e,k);ol.xml.pushSerializeAndPop(d,ol.format.KML.STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,c,k)},ol.format.KML.writeVec2_=function(a,b){a.setAttribute("x",b.x),a.setAttribute("y",b.y),a.setAttribute("xunits",b.xunits),a.setAttribute("yunits",b.yunits)},ol.format.KML.KML_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["Document","Placemark"]),ol.format.KML.KML_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeChildAppender(ol.format.KML.writeDocument_),Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)}),ol.format.KML.DOCUMENT_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)}),ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.xml.makeChildAppender(ol.format.KML.writeDataNode_),value:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeValue_),displayName:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeName_)}),ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ol.format.KML.ICON_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["href"],ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,["x","y","w","h"])),ol.format.KML.ICON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),y:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),w:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),h:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)})),ol.format.KML.ICON_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["scale","heading","Icon","hotSpot"]),ol.format.KML.ICON_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeChildAppender(ol.format.KML.writeIcon_),heading:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),hotSpot:ol.xml.makeChildAppender(ol.format.KML.writeVec2_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)}),ol.format.KML.LABEL_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","scale"]);ol.format.KML.LABEL_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)}),ol.format.KML.LINE_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","width"]),ol.format.KML.LINE_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),width:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)}),ol.format.KML.BOUNDARY_IS_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_)}),ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),GeometryCollection:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_)}),ol.format.KML.PLACEMARK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),ol.format.KML.PLACEMARK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.xml.makeChildAppender(ol.format.KML.writeExtendedData_),MultiGeometry:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_),LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),Style:ol.xml.makeChildAppender(ol.format.KML.writeStyle_),address:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),description:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),open:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),phoneNumber:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),styleUrl:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),visibility:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode)}),ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeChildAppender(ol.format.KML.writeCoordinatesTextNode_)}),ol.format.KML.POLYGON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_)}),ol.format.KML.POLY_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_)}),ol.format.KML.STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),ol.format.KML.STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.xml.makeChildAppender(ol.format.KML.writeIconStyle_),LabelStyle:ol.xml.makeChildAppender(ol.format.KML.writeLabelStyle_),LineStyle:ol.xml.makeChildAppender(ol.format.KML.writeLineStyle_),PolyStyle:ol.xml.makeChildAppender(ol.format.KML.writePolyStyle_)}),ol.format.KML.GX_NODE_FACTORY_=function(a,b,c){return ol.xml.createElementNS(ol.format.KML.GX_NAMESPACE_URIS_[0],"gx:"+c)},ol.format.KML.DOCUMENT_NODE_FACTORY_=function(a,b,c){var d=b[b.length-1].node;return ol.xml.createElementNS(d.namespaceURI,"Placemark")},ol.format.KML.GEOMETRY_NODE_FACTORY_=function(a,b,c){if(a){var d=b[b.length-1].node;return ol.xml.createElementNS(d.namespaceURI,ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_[a.getType()])}},ol.format.KML.COLOR_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("color"),ol.format.KML.COORDINATES_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("coordinates"),ol.format.KML.DATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Data"),ol.format.KML.EXTENDEDDATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("ExtendedData"),ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("innerBoundaryIs"),ol.format.KML.POINT_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Point"),ol.format.KML.LINE_STRING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LineString"),ol.format.KML.LINEAR_RING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LinearRing"),ol.format.KML.POLYGON_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Polygon"),ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("outerBoundaryIs"),ol.format.KML.prototype.writeFeatures,ol.format.KML.prototype.writeFeaturesNode=function(a,b){b=this.adaptOptions(b);var c=ol.xml.createElementNS(ol.format.KML.NAMESPACE_URIS_[4],"kml"),d="http://www.w3.org/2000/xmlns/";ol.xml.setAttributeNS(c,d,"xmlns:gx",ol.format.KML.GX_NAMESPACE_URIS_[0]),ol.xml.setAttributeNS(c,d,"xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),ol.xml.setAttributeNS(c,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",ol.format.KML.SCHEMA_LOCATION_);var e={node:c},f={};a.length>1?f.Document=a:1==a.length&&(f.Placemark=a[0]);var g=ol.format.KML.KML_SEQUENCE_[c.namespaceURI],h=ol.xml.makeSequence(f,g);return ol.xml.pushSerializeAndPop(e,ol.format.KML.KML_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,h,[b],g,this),c},goog.provide("ol.ext.pbf"),ol.ext.pbf,function(){var a,b={},c={exports:b};!function(d){if("object"==typeof b&&void 0!==c)c.exports=d();else if("function"==typeof a&&a.amd)a([],d);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.pbf=d()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],2:[function(a,b,c){"use strict";function d(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}function e(a,b,c){var d,e,f=c.buf;if(e=f[c.pos++],d=(112&e)>>4,e<128)return g(a,d,b);if(e=f[c.pos++],d|=(127&e)<<3,e<128)return g(a,d,b);if(e=f[c.pos++],d|=(127&e)<<10,e<128)return g(a,d,b);if(e=f[c.pos++],d|=(127&e)<<17,e<128)return g(a,d,b);if(e=f[c.pos++],d|=(127&e)<<24,e<128)return g(a,d,b);if(e=f[c.pos++],d|=(1&e)<<31,e<128)return g(a,d,b);throw new Error("Expected varint not more than 10 bytes")}function f(a){return a.type===d.Bytes?a.readVarint()+a.pos:a.pos+1}function g(a,b,c){return c?4294967296*b+(a>>>0):4294967296*(b>>>0)+(a>>>0)}function h(a,b){var c,d;if(a>=0?(c=a%4294967296|0,d=a/4294967296|0):(c=~(-a%4294967296),d=~(-a/4294967296),4294967295^c?c=c+1|0:(c=0,d=d+1|0)),a>=0x10000000000000000||a<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");b.realloc(10),i(c,d,b),j(d,b)}function i(a,b,c){c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos]=127&a}function j(a,b){var c=(7&a)<<4;b.buf[b.pos++]|=c|((a>>>=3)?128:0),a&&(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),a&&(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),a&&(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),a&&(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),a&&(b.buf[b.pos++]=127&a)))))}function k(a,b,c){var d=b<=16383?1:b<=2097151?2:b<=268435455?3:Math.ceil(Math.log(b)/(7*Math.LN2));c.realloc(d);for(var e=c.pos-1;e>=a;e--)c.buf[e+d]=c.buf[e]}function l(a,b){for(var c=0;c<a.length;c++)b.writeVarint(a[c])}function m(a,b){for(var c=0;c<a.length;c++)b.writeSVarint(a[c])}function n(a,b){for(var c=0;c<a.length;c++)b.writeFloat(a[c])}function o(a,b){for(var c=0;c<a.length;c++)b.writeDouble(a[c])}function p(a,b){for(var c=0;c<a.length;c++)b.writeBoolean(a[c])}function q(a,b){for(var c=0;c<a.length;c++)b.writeFixed32(a[c])}function r(a,b){for(var c=0;c<a.length;c++)b.writeSFixed32(a[c])}function s(a,b){for(var c=0;c<a.length;c++)b.writeFixed64(a[c])}function t(a,b){for(var c=0;c<a.length;c++)b.writeSFixed64(a[c])}function u(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16)+16777216*a[b+3]}function v(a,b,c){a[c]=b,a[c+1]=b>>>8,a[c+2]=b>>>16,a[c+3]=b>>>24}function w(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16)+(a[b+3]<<24)}function x(a,b,c){for(var d="",e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h>c)break;var i,j,k;1===h?f<128&&(g=f):2===h?128==(192&(i=a[e+1]))&&(g=(31&f)<<6|63&i)<=127&&(g=null):3===h?(i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&((g=(15&f)<<12|(63&i)<<6|63&j)<=2047||g>=55296&&g<=57343)&&(g=null)):4===h&&(i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&((g=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)<=65535||g>=1114112)&&(g=null)),null===g?(g=65533,h=1):g>65535&&(g-=65536,d+=String.fromCharCode(g>>>10&1023|55296),g=56320|1023&g),d+=String.fromCharCode(g),e+=h}return d}function y(a,b,c){for(var d,e,f=0;f<b.length;f++){if((d=b.charCodeAt(f))>55295&&d<57344){if(!e){d>56319||f+1===b.length?(a[c++]=239,a[c++]=191,a[c++]=189):e=d;continue}if(d<56320){a[c++]=239,a[c++]=191,a[c++]=189,e=d;continue}d=e-55296<<10|d-56320|65536,e=null}else e&&(a[c++]=239,a[c++]=191,a[c++]=189,e=null);d<128?a[c++]=d:(d<2048?a[c++]=d>>6|192:(d<65536?a[c++]=d>>12|224:(a[c++]=d>>18|240,a[c++]=d>>12&63|128),a[c++]=d>>6&63|128),a[c++]=63&d|128)}return c}b.exports=d;var z=a("ieee754");d.Varint=0,d.Fixed64=1,d.Bytes=2,d.Fixed32=5;d.prototype={destroy:function(){this.buf=null},readFields:function(a,b,c){for(c=c||this.length;this.pos<c;){var d=this.readVarint(),e=d>>3,f=this.pos;this.type=7&d,a(e,b,this),this.pos===f&&this.skip(d)}return b},readMessage:function(a,b){return this.readFields(a,b,this.readVarint()+this.pos)},readFixed32:function(){var a=u(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=w(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=u(this.buf,this.pos)+4294967296*u(this.buf,this.pos+4);return this.pos+=8,a},readSFixed64:function(){var a=u(this.buf,this.pos)+4294967296*w(this.buf,this.pos+4);return this.pos+=8,a},readFloat:function(){var a=z.read(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=z.read(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var b,c,d=this.buf;return c=d[this.pos++],b=127&c,c<128?b:(c=d[this.pos++],b|=(127&c)<<7,c<128?b:(c=d[this.pos++],b|=(127&c)<<14,c<128?b:(c=d[this.pos++],b|=(127&c)<<21,c<128?b:(c=d[this.pos],b|=(15&c)<<28,e(b,a,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var a=this.readVarint()+this.pos,b=x(this.buf,this.pos,a);return this.pos=a,b},readBytes:function(){var a=this.readVarint()+this.pos,b=this.buf.subarray(this.pos,a);return this.pos=a,b},readPackedVarint:function(a,b){var c=f(this);for(a=a||[];this.pos<c;)a.push(this.readVarint(b));return a},readPackedSVarint:function(a){var b=f(this);for(a=a||[];this.pos<b;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){var b=f(this);for(a=a||[];this.pos<b;)a.push(this.readBoolean());return a},readPackedFloat:function(a){var b=f(this);for(a=a||[];this.pos<b;)a.push(this.readFloat());return a},readPackedDouble:function(a){var b=f(this);for(a=a||[];this.pos<b;)a.push(this.readDouble());return a},readPackedFixed32:function(a){var b=f(this);for(a=a||[];this.pos<b;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){var b=f(this);for(a=a||[];this.pos<b;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){var b=f(this);for(a=a||[];this.pos<b;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){var b=f(this);for(a=a||[];this.pos<b;)a.push(this.readSFixed64());return a},skip:function(a){var b=7&a;if(b===d.Varint)for(;this.buf[this.pos++]>127;);else if(b===d.Bytes)this.pos=this.readVarint()+this.pos;else if(b===d.Fixed32)this.pos+=4;else{if(b!==d.Fixed64)throw new Error("Unimplemented type: "+b);this.pos+=8}},writeTag:function(a,b){this.writeVarint(a<<3|b)},realloc:function(a){for(var b=this.length||16;b<this.pos+a;)b*=2;if(b!==this.length){var c=new Uint8Array(b);c.set(this.buf),this.buf=c,this.length=b}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),v(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),v(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),v(this.buf,-1&a,this.pos),v(this.buf,Math.floor(a*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),v(this.buf,-1&a,this.pos),v(this.buf,Math.floor(a*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(a){if((a=+a||0)>268435455||a<0)return void h(a,this);this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127)))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(Boolean(a))},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var b=this.pos;this.pos=y(this.buf,a,this.pos);var c=this.pos-b;c>=128&&k(b,c,this),this.pos=b-1,this.writeVarint(c),this.pos+=c},writeFloat:function(a){this.realloc(4),z.write(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),z.write(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var b=a.length;this.writeVarint(b),this.realloc(b);for(var c=0;c<b;c++)this.buf[this.pos++]=a[c]},writeRawMessage:function(a,b){this.pos++;var c=this.pos;a(b,this);var d=this.pos-c;d>=128&&k(c,d,this),this.pos=c-1,this.writeVarint(d),this.pos+=d},writeMessage:function(a,b,c){this.writeTag(a,d.Bytes),this.writeRawMessage(b,c)},writePackedVarint:function(a,b){this.writeMessage(a,l,b)},writePackedSVarint:function(a,b){this.writeMessage(a,m,b)},writePackedBoolean:function(a,b){this.writeMessage(a,p,b)},writePackedFloat:function(a,b){this.writeMessage(a,n,b)},writePackedDouble:function(a,b){this.writeMessage(a,o,b)},writePackedFixed32:function(a,b){this.writeMessage(a,q,b)},writePackedSFixed32:function(a,b){this.writeMessage(a,r,b)},writePackedFixed64:function(a,b){this.writeMessage(a,s,b)},writePackedSFixed64:function(a,b){this.writeMessage(a,t,b)},writeBytesField:function(a,b){this.writeTag(a,d.Bytes),this.writeBytes(b)},writeFixed32Field:function(a,b){this.writeTag(a,d.Fixed32),this.writeFixed32(b)},writeSFixed32Field:function(a,b){this.writeTag(a,d.Fixed32),this.writeSFixed32(b)},writeFixed64Field:function(a,b){this.writeTag(a,d.Fixed64),this.writeFixed64(b)},writeSFixed64Field:function(a,b){this.writeTag(a,d.Fixed64),this.writeSFixed64(b)},writeVarintField:function(a,b){this.writeTag(a,d.Varint),this.writeVarint(b)},writeSVarintField:function(a,b){this.writeTag(a,d.Varint),this.writeSVarint(b)},writeStringField:function(a,b){this.writeTag(a,d.Bytes),this.writeString(b)},writeFloatField:function(a,b){this.writeTag(a,d.Fixed32),this.writeFloat(b)},writeDoubleField:function(a,b){this.writeTag(a,d.Fixed64),this.writeDouble(b)},writeBooleanField:function(a,b){this.writeVarintField(a,Boolean(b))}}},{ieee754:1}]},{},[2])(2)}),ol.ext.pbf=c.exports}(),goog.provide("ol.ext.vectortile"),ol.ext.vectortile,function(){var a,b={},c={exports:b};!function(d){if("object"==typeof b&&void 0!==c)c.exports=d();else if("function"==typeof a&&a.amd)a([],d);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.vectortile=d()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){this.x=a,this.y=b}b.exports=d,d.prototype={clone:function(){return new d(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var b=a.x-this.x,c=a.y-this.y;return b*b+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,b){return Math.atan2(this.x*b-this.y*a,this.x*a+this.y*b)},_matMult:function(a){var b=a[0]*this.x+a[1]*this.y,c=a[2]*this.x+a[3]*this.y;return this.x=b,this.y=c,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var b=Math.cos(a),c=Math.sin(a),d=b*this.x-c*this.y,e=c*this.x+b*this.y;return this.x=d,this.y=e,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},d.convert=function(a){return a instanceof d?a:Array.isArray(a)?new d(a[0],a[1]):a}},{}],2:[function(a,b,c){b.exports.VectorTile=a("./lib/vectortile.js"),b.exports.VectorTileFeature=a("./lib/vectortilefeature.js"),b.exports.VectorTileLayer=a("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(a,b,c){"use strict";function d(a,b){this.layers=a.readFields(e,{},b)}function e(a,b,c){if(3===a){var d=new f(c,c.readVarint()+c.pos);d.length&&(b[d.name]=d)}}var f=a("./vectortilelayer");b.exports=d},{"./vectortilelayer":5}],4:[function(a,b,c){"use strict";function d(a,b,c,d,f){this.properties={},this.extent=c,this.type=0,this._pbf=a,this._geometry=-1,this._keys=d,this._values=f,a.readFields(e,this,b)}function e(a,b,c){1==a?b.id=c.readVarint():2==a?f(c,b):3==a?b.type=c.readVarint():4==a&&(b._geometry=c.pos)}function f(a,b){for(var c=a.readVarint()+a.pos;a.pos<c;){var d=b._keys[a.readVarint()],e=b._values[a.readVarint()];b.properties[d]=e}}function g(a){var b=a.length;if(b<=1)return[a];for(var c,d,e=[],f=0;f<b;f++){var g=h(a[f]);0!==g&&(void 0===d&&(d=g<0),d===g<0?(c&&e.push(c),c=[a[f]]):c.push(a[f]))}return c&&e.push(c),e}function h(a){for(var b,c,d=0,e=0,f=a.length,g=f-1;e<f;g=e++)b=a[e],c=a[g],d+=(c.x-b.x)*(b.y+c.y);return d}var i=a("point-geometry");b.exports=d,d.types=["Unknown","Point","LineString","Polygon"],d.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var b,c=a.readVarint()+a.pos,d=1,e=0,f=0,g=0,h=[];a.pos<c;){if(!e){var j=a.readVarint();d=7&j,e=j>>3}if(e--,1===d||2===d)f+=a.readSVarint(),g+=a.readSVarint(),1===d&&(b&&h.push(b),b=[]),b.push(new i(f,g));else{if(7!==d)throw new Error("unknown command "+d);b&&b.push(b[0].clone())}}return b&&h.push(b),h},d.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var b=a.readVarint()+a.pos,c=1,d=0,e=0,f=0,g=1/0,h=-1/0,i=1/0,j=-1/0;a.pos<b;){if(!d){var k=a.readVarint();c=7&k,d=k>>3}if(d--,1===c||2===c)e+=a.readSVarint(),f+=a.readSVarint(),e<g&&(g=e),e>h&&(h=e),f<i&&(i=f),f>j&&(j=f);else if(7!==c)throw new Error("unknown command "+c)}return[g,i,h,j]},d.prototype.toGeoJSON=function(a,b,c){function e(a){for(var b=0;b<a.length;b++){var c=a[b],d=180-360*(c.y+k)/i;a[b]=[360*(c.x+j)/i-180,360/Math.PI*Math.atan(Math.exp(d*Math.PI/180))-90]}}var f,h,i=this.extent*Math.pow(2,c),j=this.extent*a,k=this.extent*b,l=this.loadGeometry(),m=d.types[this.type];switch(this.type){case 1:var n=[];for(f=0;f<l.length;f++)n[f]=l[f][0];l=n,e(l);break;case 2:for(f=0;f<l.length;f++)e(l[f]);break;case 3:for(l=g(l),f=0;f<l.length;f++)for(h=0;h<l[f].length;h++)e(l[f][h])}1===l.length?l=l[0]:m="Multi"+m;var o={type:"Feature",geometry:{type:m,coordinates:l},properties:this.properties};return"id"in this&&(o.id=this.id),o}},{"point-geometry":1}],5:[function(a,b,c){"use strict";function d(a,b){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(e,this,b),this.length=this._features.length}function e(a,b,c){15===a?b.version=c.readVarint():1===a?b.name=c.readString():5===a?b.extent=c.readVarint():2===a?b._features.push(c.pos):3===a?b._keys.push(c.readString()):4===a&&b._values.push(f(c))}function f(a){for(var b=null,c=a.readVarint()+a.pos;a.pos<c;){var d=a.readVarint()>>3;b=1===d?a.readString():2===d?a.readFloat():3===d?a.readDouble():4===d?a.readVarint64():5===d?a.readVarint():6===d?a.readSVarint():7===d?a.readBoolean():null}return b}var g=a("./vectortilefeature.js");b.exports=d,d.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var b=this._pbf.readVarint()+this._pbf.pos;return new g(this._pbf,b,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":4}]},{},[2])(2)}),ol.ext.vectortile=c.exports}(),goog.provide("ol.render.Feature"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),ol.render.Feature=function(a,b,c,d){this.extent_,this.type_=a,this.flatCoordinates_=b,this.ends_=c,this.properties_=d},ol.render.Feature.prototype.get=function(a){return this.properties_[a]},ol.render.Feature.prototype.getEnds=function(){return this.ends_},ol.render.Feature.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===ol.geom.GeometryType.POINT?ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates_):ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},ol.render.Feature.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},ol.render.Feature.prototype.getFlatCoordinates=ol.render.Feature.prototype.getOrientedFlatCoordinates,ol.render.Feature.prototype.getGeometry=function(){return this},ol.render.Feature.prototype.getProperties=function(){return this.properties_},ol.render.Feature.prototype.getSimplifiedGeometry=ol.render.Feature.prototype.getGeometry,ol.render.Feature.prototype.getStride=function(){return 2},ol.render.Feature.prototype.getStyleFunction=ol.nullFunction,ol.render.Feature.prototype.getType=function(){return this.type_},goog.provide("ol.format.MVT"),goog.require("ol"),goog.require("ol.ext.pbf"),goog.require("ol.ext.vectortile"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.render.Feature"),ol.format.MVT=function(a){ol.format.Feature.call(this);var b=a||{};this.defaultDataProjection=new ol.proj.Projection({code:"",units:ol.proj.Units.TILE_PIXELS}),this.featureClass_=b.featureClass?b.featureClass:ol.render.Feature,this.geometryName_=b.geometryName,this.layerName_=b.layerName?b.layerName:"layer",
this.layers_=b.layers?b.layers:null},ol.inherits(ol.format.MVT,ol.format.Feature),ol.format.MVT.prototype.getType=function(){return ol.format.FormatType.ARRAY_BUFFER},ol.format.MVT.prototype.readFeature_=function(a,b,c){var d=new this.featureClass_,e=a.id,f=a.properties;f[this.layerName_]=b,this.geometryName_&&d.setGeometryName(this.geometryName_);var g=ol.format.Feature.transformWithOptions(ol.format.MVT.readGeometry_(a),!1,this.adaptOptions(c));return d.setGeometry(g),d.setId(e),d.setProperties(f),d},ol.format.MVT.prototype.readRenderFeature_=function(a,b){var c=a.loadGeometry(),d=[],e=[];ol.format.MVT.calculateFlatCoordinates_(c,e,d);var f,g=a.type;1===g?f=1===c.length?ol.geom.GeometryType.POINT:ol.geom.GeometryType.MULTI_POINT:2===g?f=1===c.length?ol.geom.GeometryType.LINE_STRING:ol.geom.GeometryType.MULTI_LINE_STRING:3===g&&(f=ol.geom.GeometryType.POLYGON);var h=a.properties;return h[this.layerName_]=b,new this.featureClass_(f,e,d,h)},ol.format.MVT.prototype.readFeatures=function(a,b){var c,d,e=this.layers_,f=new ol.ext.pbf(a),g=new ol.ext.vectortile.VectorTile(f),h=[],i=this.featureClass_;for(var j in g.layers)if(!e||-1!=e.indexOf(j)){c=g.layers[j];for(var k=0,l=c.length;k<l;++k)d=i===ol.render.Feature?this.readRenderFeature_(c.feature(k),j):this.readFeature_(c.feature(k),j,b),h.push(d)}return h},ol.format.MVT.prototype.readProjection=function(a){return this.defaultDataProjection},ol.format.MVT.prototype.setLayers=function(a){this.layers_=a},ol.format.MVT.calculateFlatCoordinates_=function(a,b,c){for(var d=0,e=0,f=a.length;e<f;++e){var g,h,i=a[e];for(g=0,h=i.length;g<h;++g){var j=i[g];b.push(j.x,j.y)}d+=2*g,c.push(d)}},ol.format.MVT.readGeometry_=function(a){var b=a.type;if(0===b)return null;var c=a.loadGeometry(),d=[],e=[];ol.format.MVT.calculateFlatCoordinates_(c,e,d);var f;return 1===b?f=1===c.length?new ol.geom.Point(null):new ol.geom.MultiPoint(null):2===b?f=1===c.length?new ol.geom.LineString(null):new ol.geom.MultiLineString(null):3===b&&(f=new ol.geom.Polygon(null)),f.setFlatCoordinates(ol.geom.GeometryLayout.XY,e,d),f},ol.format.MVT.prototype.readFeature=function(){},ol.format.MVT.prototype.readGeometry=function(){},ol.format.MVT.prototype.writeFeature=function(){},ol.format.MVT.prototype.writeGeometry=function(){},ol.format.MVT.prototype.writeFeatures=function(){},goog.provide("ol.format.OSMXML"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.OSMXML=function(){ol.format.XMLFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326")},ol.inherits(ol.format.OSMXML,ol.format.XMLFeature),ol.format.OSMXML.readNode_=function(a,b){var c=b[0],d=b[b.length-1],e=a.getAttribute("id"),f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.nodes[e]=f;var g=ol.xml.pushParseAndPop({tags:{}},ol.format.OSMXML.NODE_PARSERS_,a,b);if(!ol.obj.isEmpty(g.tags)){var h=new ol.geom.Point(f);ol.format.Feature.transformWithOptions(h,!1,c);var i=new ol.Feature(h);i.setId(e),i.setProperties(g.tags),d.features.push(i)}},ol.format.OSMXML.readWay_=function(a,b){for(var c=b[0],d=a.getAttribute("id"),e=ol.xml.pushParseAndPop({ndrefs:[],tags:{}},ol.format.OSMXML.WAY_PARSERS_,a,b),f=b[b.length-1],g=[],h=0,i=e.ndrefs.length;h<i;h++){var j=f.nodes[e.ndrefs[h]];ol.array.extend(g,j)}var k;e.ndrefs[0]==e.ndrefs[e.ndrefs.length-1]?(k=new ol.geom.Polygon(null),k.setFlatCoordinates(ol.geom.GeometryLayout.XY,g,[g.length])):(k=new ol.geom.LineString(null),k.setFlatCoordinates(ol.geom.GeometryLayout.XY,g)),ol.format.Feature.transformWithOptions(k,!1,c);var l=new ol.Feature(k);l.setId(d),l.setProperties(e.tags),f.features.push(l)},ol.format.OSMXML.readNd_=function(a,b){b[b.length-1].ndrefs.push(a.getAttribute("ref"))},ol.format.OSMXML.readTag_=function(a,b){b[b.length-1].tags[a.getAttribute("k")]=a.getAttribute("v")},ol.format.OSMXML.NAMESPACE_URIS_=[null],ol.format.OSMXML.WAY_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{nd:ol.format.OSMXML.readNd_,tag:ol.format.OSMXML.readTag_}),ol.format.OSMXML.PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{node:ol.format.OSMXML.readNode_,way:ol.format.OSMXML.readWay_}),ol.format.OSMXML.NODE_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{tag:ol.format.OSMXML.readTag_}),ol.format.OSMXML.prototype.readFeatures,ol.format.OSMXML.prototype.readFeaturesFromNode=function(a,b){var c=this.getReadOptions(a,b);if("osm"==a.localName){var d=ol.xml.pushParseAndPop({nodes:{},features:[]},ol.format.OSMXML.PARSERS_,a,[c]);if(d.features)return d.features}return[]},ol.format.OSMXML.prototype.readProjection,ol.format.OSMXML.prototype.writeFeatureNode=function(a,b){},ol.format.OSMXML.prototype.writeFeaturesNode=function(a,b){},ol.format.OSMXML.prototype.writeGeometryNode=function(a,b){},goog.provide("ol.format.XLink"),ol.format.XLink.NAMESPACE_URI="http://www.w3.org/1999/xlink",ol.format.XLink.readHref=function(a){return a.getAttributeNS(ol.format.XLink.NAMESPACE_URI,"href")},goog.provide("ol.format.XML"),goog.require("ol.xml"),ol.format.XML=function(){},ol.format.XML.prototype.read=function(a){if(ol.xml.isDocument(a))return this.readFromDocument(a);if(ol.xml.isNode(a))return this.readFromNode(a);if("string"==typeof a){var b=ol.xml.parse(a);return this.readFromDocument(b)}return null},ol.format.XML.prototype.readFromDocument=function(a){},ol.format.XML.prototype.readFromNode=function(a){},goog.provide("ol.format.OWS"),goog.require("ol"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.OWS=function(){ol.format.XML.call(this)},ol.inherits(ol.format.OWS,ol.format.XML),ol.format.OWS.prototype.readFromDocument=function(a){for(var b=a.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return this.readFromNode(b);return null},ol.format.OWS.prototype.readFromNode=function(a){var b=ol.xml.pushParseAndPop({},ol.format.OWS.PARSERS_,a,[]);return b||null},ol.format.OWS.readAddress_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.OWS.ADDRESS_PARSERS_,a,b)},ol.format.OWS.readAllowedValues_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.OWS.ALLOWED_VALUES_PARSERS_,a,b)},ol.format.OWS.readConstraint_=function(a,b){var c=a.getAttribute("name");if(c)return ol.xml.pushParseAndPop({name:c},ol.format.OWS.CONSTRAINT_PARSERS_,a,b)},ol.format.OWS.readContactInfo_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.OWS.CONTACT_INFO_PARSERS_,a,b)},ol.format.OWS.readDcp_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.OWS.DCP_PARSERS_,a,b)},ol.format.OWS.readGet_=function(a,b){var c=ol.format.XLink.readHref(a);if(c)return ol.xml.pushParseAndPop({href:c},ol.format.OWS.REQUEST_METHOD_PARSERS_,a,b)},ol.format.OWS.readHttp_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.OWS.HTTP_PARSERS_,a,b)},ol.format.OWS.readOperation_=function(a,b){var c=a.getAttribute("name"),d=ol.xml.pushParseAndPop({},ol.format.OWS.OPERATION_PARSERS_,a,b);if(d){b[b.length-1][c]=d}},ol.format.OWS.readOperationsMetadata_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.OWS.OPERATIONS_METADATA_PARSERS_,a,b)},ol.format.OWS.readPhone_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.OWS.PHONE_PARSERS_,a,b)},ol.format.OWS.readServiceIdentification_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_,a,b)},ol.format.OWS.readServiceContact_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_CONTACT_PARSERS_,a,b)},ol.format.OWS.readServiceProvider_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_PROVIDER_PARSERS_,a,b)},ol.format.OWS.readValue_=function(a,b){return ol.format.XSD.readString(a)},ol.format.OWS.NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"],ol.format.OWS.PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ServiceIdentification:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceIdentification_),ServiceProvider:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceProvider_),OperationsMetadata:ol.xml.makeObjectPropertySetter(ol.format.OWS.readOperationsMetadata_)}),ol.format.OWS.ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DeliveryPoint:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AdministrativeArea:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostalCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.ALLOWED_VALUES_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Value:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readValue_)}),ol.format.OWS.CONSTRAINT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{AllowedValues:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAllowedValues_)}),ol.format.OWS.CONTACT_INFO_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Phone:ol.xml.makeObjectPropertySetter(ol.format.OWS.readPhone_),Address:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAddress_)}),ol.format.OWS.DCP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readHttp_)}),ol.format.OWS.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readGet_),Post:void 0}),ol.format.OWS.OPERATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DCP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readDcp_)}),ol.format.OWS.OPERATIONS_METADATA_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Operation:ol.format.OWS.readOperation_}),ol.format.OWS.PHONE_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Voice:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Facsimile:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.REQUEST_METHOD_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Constraint:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readConstraint_)}),ol.format.OWS.SERVICE_CONTACT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{IndividualName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PositionName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactInfo:ol.xml.makeObjectPropertySetter(ol.format.OWS.readContactInfo_)}),ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceTypeVersion:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.SERVICE_PROVIDER_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ProviderName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ProviderSite:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ServiceContact:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceContact_)}),goog.provide("ol.geom.flat.flip"),ol.geom.flat.flip.flipXY=function(a,b,c,d,e,f){var g,h;void 0!==e?(g=e,h=void 0!==f?f:0):(g=[],h=0);for(var i=b;i<c;){var j=a[i++];g[h++]=a[i++],g[h++]=j;for(var k=2;k<d;++k)g[h++]=a[i++]}return g.length=h,g},goog.provide("ol.format.Polyline"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.flip"),goog.require("ol.geom.flat.inflate"),goog.require("ol.proj"),ol.format.Polyline=function(a){var b=a||{};ol.format.TextFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.factor_=b.factor?b.factor:1e5,this.geometryLayout_=b.geometryLayout?b.geometryLayout:ol.geom.GeometryLayout.XY},ol.inherits(ol.format.Polyline,ol.format.TextFeature),ol.format.Polyline.encodeDeltas=function(a,b,c){var d,e=c||1e5,f=new Array(b);for(d=0;d<b;++d)f[d]=0;var g,h;for(g=0,h=a.length;g<h;)for(d=0;d<b;++d,++g){var i=a[g],j=i-f[d];f[d]=i,a[g]=j}return ol.format.Polyline.encodeFloats(a,e)},ol.format.Polyline.decodeDeltas=function(a,b,c){var d,e=c||1e5,f=new Array(b);for(d=0;d<b;++d)f[d]=0;var g,h,i=ol.format.Polyline.decodeFloats(a,e);for(g=0,h=i.length;g<h;)for(d=0;d<b;++d,++g)f[d]+=i[g],i[g]=f[d];return i},ol.format.Polyline.encodeFloats=function(a,b){var c,d,e=b||1e5;for(c=0,d=a.length;c<d;++c)a[c]=Math.round(a[c]*e);return ol.format.Polyline.encodeSignedIntegers(a)},ol.format.Polyline.decodeFloats=function(a,b){var c,d,e=b||1e5,f=ol.format.Polyline.decodeSignedIntegers(a);for(c=0,d=f.length;c<d;++c)f[c]/=e;return f},ol.format.Polyline.encodeSignedIntegers=function(a){var b,c;for(b=0,c=a.length;b<c;++b){var d=a[b];a[b]=d<0?~(d<<1):d<<1}return ol.format.Polyline.encodeUnsignedIntegers(a)},ol.format.Polyline.decodeSignedIntegers=function(a){var b,c,d=ol.format.Polyline.decodeUnsignedIntegers(a);for(b=0,c=d.length;b<c;++b){var e=d[b];d[b]=1&e?~(e>>1):e>>1}return d},ol.format.Polyline.encodeUnsignedIntegers=function(a){var b,c,d="";for(b=0,c=a.length;b<c;++b)d+=ol.format.Polyline.encodeUnsignedInteger(a[b]);return d},ol.format.Polyline.decodeUnsignedIntegers=function(a){var b,c,d=[],e=0,f=0;for(b=0,c=a.length;b<c;++b){var g=a.charCodeAt(b)-63;e|=(31&g)<<f,g<32?(d.push(e),e=0,f=0):f+=5}return d},ol.format.Polyline.encodeUnsignedInteger=function(a){for(var b,c="";a>=32;)b=63+(32|31&a),c+=String.fromCharCode(b),a>>=5;return b=a+63,c+=String.fromCharCode(b)},ol.format.Polyline.prototype.readFeature,ol.format.Polyline.prototype.readFeatureFromText=function(a,b){var c=this.readGeometryFromText(a,b);return new ol.Feature(c)},ol.format.Polyline.prototype.readFeatures,ol.format.Polyline.prototype.readFeaturesFromText=function(a,b){return[this.readFeatureFromText(a,b)]},ol.format.Polyline.prototype.readGeometry,ol.format.Polyline.prototype.readGeometryFromText=function(a,b){var c=ol.geom.SimpleGeometry.getStrideForLayout(this.geometryLayout_),d=ol.format.Polyline.decodeDeltas(a,c,this.factor_);ol.geom.flat.flip.flipXY(d,0,d.length,c,d);var e=ol.geom.flat.inflate.coordinates(d,0,d.length,c);return ol.format.Feature.transformWithOptions(new ol.geom.LineString(e,this.geometryLayout_),!1,this.adaptOptions(b))},ol.format.Polyline.prototype.readProjection,ol.format.Polyline.prototype.writeFeatureText=function(a,b){var c=a.getGeometry();return c?this.writeGeometryText(c,b):(ol.asserts.assert(!1,40),"")},ol.format.Polyline.prototype.writeFeaturesText=function(a,b){return this.writeFeatureText(a[0],b)},ol.format.Polyline.prototype.writeGeometry,ol.format.Polyline.prototype.writeGeometryText=function(a,b){a=ol.format.Feature.transformWithOptions(a,!0,this.adaptOptions(b));var c=a.getFlatCoordinates(),d=a.getStride();return ol.geom.flat.flip.flipXY(c,0,c.length,d,c),ol.format.Polyline.encodeDeltas(c,d,this.factor_)},goog.provide("ol.format.TopoJSON"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),ol.format.TopoJSON=function(a){var b=a||{};ol.format.JSONFeature.call(this),this.defaultDataProjection=ol.proj.get(b.defaultDataProjection?b.defaultDataProjection:"EPSG:4326")},ol.inherits(ol.format.TopoJSON,ol.format.JSONFeature),ol.format.TopoJSON.concatenateArcs_=function(a,b){var c,d,e,f,g,h,i=[];for(e=0,f=a.length;e<f;++e)c=a[e],e>0&&i.pop(),d=c>=0?b[c]:b[~c].slice().reverse(),i.push.apply(i,d);for(g=0,h=i.length;g<h;++g)i[g]=i[g].slice();return i},ol.format.TopoJSON.readPointGeometry_=function(a,b,c){var d=a.coordinates;return b&&c&&ol.format.TopoJSON.transformVertex_(d,b,c),new ol.geom.Point(d)},ol.format.TopoJSON.readMultiPointGeometry_=function(a,b,c){var d,e,f=a.coordinates;if(b&&c)for(d=0,e=f.length;d<e;++d)ol.format.TopoJSON.transformVertex_(f[d],b,c);return new ol.geom.MultiPoint(f)},ol.format.TopoJSON.readLineStringGeometry_=function(a,b){var c=ol.format.TopoJSON.concatenateArcs_(a.arcs,b);return new ol.geom.LineString(c)},ol.format.TopoJSON.readMultiLineStringGeometry_=function(a,b){var c,d,e=[];for(c=0,d=a.arcs.length;c<d;++c)e[c]=ol.format.TopoJSON.concatenateArcs_(a.arcs[c],b);return new ol.geom.MultiLineString(e)},ol.format.TopoJSON.readPolygonGeometry_=function(a,b){var c,d,e=[];for(c=0,d=a.arcs.length;c<d;++c)e[c]=ol.format.TopoJSON.concatenateArcs_(a.arcs[c],b);return new ol.geom.Polygon(e)},ol.format.TopoJSON.readMultiPolygonGeometry_=function(a,b){var c,d,e,f,g,h,i=[];for(g=0,h=a.arcs.length;g<h;++g){for(c=a.arcs[g],d=[],e=0,f=c.length;e<f;++e)d[e]=ol.format.TopoJSON.concatenateArcs_(c[e],b);i[g]=d}return new ol.geom.MultiPolygon(i)},ol.format.TopoJSON.readFeaturesFromGeometryCollection_=function(a,b,c,d,e){var f,g,h=a.geometries,i=[];for(f=0,g=h.length;f<g;++f)i[f]=ol.format.TopoJSON.readFeatureFromGeometry_(h[f],b,c,d,e);return i},ol.format.TopoJSON.readFeatureFromGeometry_=function(a,b,c,d,e){var f,g=a.type,h=ol.format.TopoJSON.GEOMETRY_READERS_[g];f="Point"===g||"MultiPoint"===g?h(a,c,d):h(a,b);var i=new ol.Feature;return i.setGeometry(ol.format.Feature.transformWithOptions(f,!1,e)),void 0!==a.id&&i.setId(a.id),a.properties&&i.setProperties(a.properties),i},ol.format.TopoJSON.prototype.readFeatures,ol.format.TopoJSON.prototype.readFeaturesFromObject=function(a,b){if("Topology"==a.type){var c,d=a,e=null,f=null;d.transform&&(c=d.transform,e=c.scale,f=c.translate);var g=d.arcs;c&&ol.format.TopoJSON.transformArcs_(g,e,f);var h,i,j,k=[],l=ol.obj.getValues(d.objects);for(h=0,i=l.length;h<i;++h)"GeometryCollection"===l[h].type?(j=l[h],k.push.apply(k,ol.format.TopoJSON.readFeaturesFromGeometryCollection_(j,g,e,f,b))):(j=l[h],k.push(ol.format.TopoJSON.readFeatureFromGeometry_(j,g,e,f,b)));return k}return[]},ol.format.TopoJSON.transformArcs_=function(a,b,c){var d,e;for(d=0,e=a.length;d<e;++d)ol.format.TopoJSON.transformArc_(a[d],b,c)},ol.format.TopoJSON.transformArc_=function(a,b,c){var d,e,f,g=0,h=0;for(e=0,f=a.length;e<f;++e)d=a[e],g+=d[0],h+=d[1],d[0]=g,d[1]=h,ol.format.TopoJSON.transformVertex_(d,b,c)},ol.format.TopoJSON.transformVertex_=function(a,b,c){a[0]=a[0]*b[0]+c[0],a[1]=a[1]*b[1]+c[1]},ol.format.TopoJSON.prototype.readProjection,ol.format.TopoJSON.prototype.readProjectionFromObject=function(a){return this.defaultDataProjection},ol.format.TopoJSON.GEOMETRY_READERS_={Point:ol.format.TopoJSON.readPointGeometry_,LineString:ol.format.TopoJSON.readLineStringGeometry_,Polygon:ol.format.TopoJSON.readPolygonGeometry_,MultiPoint:ol.format.TopoJSON.readMultiPointGeometry_,MultiLineString:ol.format.TopoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.TopoJSON.readMultiPolygonGeometry_},ol.format.TopoJSON.prototype.writeFeatureObject=function(a,b){},ol.format.TopoJSON.prototype.writeFeaturesObject=function(a,b){},ol.format.TopoJSON.prototype.writeGeometryObject=function(a,b){},ol.format.TopoJSON.prototype.readGeometryFromObject=function(){},ol.format.TopoJSON.prototype.readFeatureFromObject=function(){},goog.provide("ol.format.WFS"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.format.GML2"),goog.require("ol.format.GML3"),goog.require("ol.format.GMLBase"),goog.require("ol.format.filter"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.WFS=function(a){var b=a||{};this.featureType_=b.featureType,this.featureNS_=b.featureNS,this.gmlFormat_=b.gmlFormat?b.gmlFormat:new ol.format.GML3,this.schemaLocation_=b.schemaLocation?b.schemaLocation:ol.format.WFS.SCHEMA_LOCATIONS[ol.format.WFS.DEFAULT_VERSION],ol.format.XMLFeature.call(this)},ol.inherits(ol.format.WFS,ol.format.XMLFeature),ol.format.WFS.FEATURE_PREFIX="feature",ol.format.WFS.XMLNS="http://www.w3.org/2000/xmlns/",ol.format.WFS.OGCNS="http://www.opengis.net/ogc",ol.format.WFS.WFSNS="http://www.opengis.net/wfs",ol.format.WFS.SCHEMA_LOCATIONS={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},ol.format.WFS.DEFAULT_VERSION="1.1.0",ol.format.WFS.prototype.readFeatures,ol.format.WFS.prototype.readFeaturesFromNode=function(a,b){var c={featureType:this.featureType_,featureNS:this.featureNS_};ol.obj.assign(c,this.getReadOptions(a,b||{}));var d=[c];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS].featureMember=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);var e=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,a,d,this.gmlFormat_);return e||(e=[]),e},ol.format.WFS.prototype.readTransactionResponse=function(a){if(ol.xml.isDocument(a))return this.readTransactionResponseFromDocument(a);if(ol.xml.isNode(a))return this.readTransactionResponseFromNode(a);if("string"==typeof a){var b=ol.xml.parse(a);return this.readTransactionResponseFromDocument(b)}},ol.format.WFS.prototype.readFeatureCollectionMetadata=function(a){if(ol.xml.isDocument(a))return this.readFeatureCollectionMetadataFromDocument(a);if(ol.xml.isNode(a))return this.readFeatureCollectionMetadataFromNode(a);if("string"==typeof a){var b=ol.xml.parse(a);return this.readFeatureCollectionMetadataFromDocument(b)}},ol.format.WFS.prototype.readFeatureCollectionMetadataFromDocument=function(a){for(var b=a.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(b)},ol.format.WFS.FEATURE_COLLECTION_PARSERS_={"http://www.opengis.net/gml":{boundedBy:ol.xml.makeObjectPropertySetter(ol.format.GMLBase.prototype.readGeometryElement,"bounds")}},ol.format.WFS.prototype.readFeatureCollectionMetadataFromNode=function(a){var b={},c=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("numberOfFeatures"));return b.numberOfFeatures=c,ol.xml.pushParseAndPop(b,ol.format.WFS.FEATURE_COLLECTION_PARSERS_,a,[],this.gmlFormat_)},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_={"http://www.opengis.net/wfs":{totalInserted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalUpdated:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalDeleted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}},ol.format.WFS.readTransactionSummary_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_,a,b)},ol.format.WFS.OGC_FID_PARSERS_={"http://www.opengis.net/ogc":{FeatureId:ol.xml.makeArrayPusher(function(a,b){return a.getAttribute("fid")})}},ol.format.WFS.fidParser_=function(a,b){ol.xml.parseNode(ol.format.WFS.OGC_FID_PARSERS_,a,b)},ol.format.WFS.INSERT_RESULTS_PARSERS_={"http://www.opengis.net/wfs":{Feature:ol.format.WFS.fidParser_}},ol.format.WFS.readInsertResults_=function(a,b){return ol.xml.pushParseAndPop([],ol.format.WFS.INSERT_RESULTS_PARSERS_,a,b)},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_={"http://www.opengis.net/wfs":{TransactionSummary:ol.xml.makeObjectPropertySetter(ol.format.WFS.readTransactionSummary_,"transactionSummary"),InsertResults:ol.xml.makeObjectPropertySetter(ol.format.WFS.readInsertResults_,"insertIds")}},ol.format.WFS.prototype.readTransactionResponseFromDocument=function(a){for(var b=a.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(b)},ol.format.WFS.prototype.readTransactionResponseFromNode=function(a){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_,a,[])},ol.format.WFS.QUERY_SERIALIZERS_={"http://www.opengis.net/wfs":{PropertyName:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},ol.format.WFS.writeFeature_=function(a,b,c){var d=c[c.length-1],e=d.featureType,f=d.featureNS,g=d.gmlVersion,h=ol.xml.createElementNS(f,e);a.appendChild(h),2===g?ol.format.GML2.prototype.writeFeatureElement(h,b,c):ol.format.GML3.prototype.writeFeatureElement(h,b,c)},ol.format.WFS.writeOgcFidFilter_=function(a,b,c){var d=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter"),e=ol.xml.createElementNS(ol.format.WFS.OGCNS,"FeatureId");d.appendChild(e),e.setAttribute("fid",b),a.appendChild(d)},ol.format.WFS.writeDelete_=function(a,b,c){var d=c[c.length-1];ol.asserts.assert(void 0!==b.getId(),26);var e=d.featureType,f=d.featurePrefix;f=f||ol.format.WFS.FEATURE_PREFIX;var g=d.featureNS;a.setAttribute("typeName",f+":"+e),ol.xml.setAttributeNS(a,ol.format.WFS.XMLNS,"xmlns:"+f,g);var h=b.getId();void 0!==h&&ol.format.WFS.writeOgcFidFilter_(a,h,c)},ol.format.WFS.writeUpdate_=function(a,b,c){var d=c[c.length-1];ol.asserts.assert(void 0!==b.getId(),27);var e=d.featureType,f=d.featurePrefix;f=f||ol.format.WFS.FEATURE_PREFIX;var g=d.featureNS;a.setAttribute("typeName",f+":"+e),ol.xml.setAttributeNS(a,ol.format.WFS.XMLNS,"xmlns:"+f,g);var h=b.getId();if(void 0!==h){for(var i=b.getKeys(),j=[],k=0,l=i.length;k<l;k++){var m=b.get(i[k]);void 0!==m&&j.push({name:i[k],value:m})}ol.xml.pushSerializeAndPop({gmlVersion:d.gmlVersion,node:a,srsName:d.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Property"),j,c),ol.format.WFS.writeOgcFidFilter_(a,h,c)}},ol.format.WFS.writeProperty_=function(a,b,c){var d=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Name"),e=c[c.length-1],f=e.gmlVersion;if(a.appendChild(d),ol.format.XSD.writeStringTextNode(d,b.name),void 0!==b.value&&null!==b.value){var g=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Value");a.appendChild(g),b.value instanceof ol.geom.Geometry?2===f?ol.format.GML2.prototype.writeGeometryElement(g,b.value,c):ol.format.GML3.prototype.writeGeometryElement(g,b.value,c):ol.format.XSD.writeStringTextNode(g,b.value)}},ol.format.WFS.writeNative_=function(a,b,c){b.vendorId&&a.setAttribute("vendorId",b.vendorId),void 0!==b.safeToIgnore&&a.setAttribute("safeToIgnore",b.safeToIgnore),void 0!==b.value&&ol.format.XSD.writeStringTextNode(a,b.value)},ol.format.WFS.TRANSACTION_SERIALIZERS_={"http://www.opengis.net/wfs":{Insert:ol.xml.makeChildAppender(ol.format.WFS.writeFeature_),Update:ol.xml.makeChildAppender(ol.format.WFS.writeUpdate_),Delete:ol.xml.makeChildAppender(ol.format.WFS.writeDelete_),Property:ol.xml.makeChildAppender(ol.format.WFS.writeProperty_),Native:ol.xml.makeChildAppender(ol.format.WFS.writeNative_)}},ol.format.WFS.writeQuery_=function(a,b,c){var d=c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName,i=e?e+":":"";a.setAttribute("typeName",i+b),h&&a.setAttribute("srsName",h),f&&ol.xml.setAttributeNS(a,ol.format.WFS.XMLNS,"xmlns:"+e,f);var j=ol.obj.assign({},d);j.node=a,ol.xml.pushSerializeAndPop(j,ol.format.WFS.QUERY_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("PropertyName"),g,c);var k=d.filter;if(k){var l=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");a.appendChild(l),ol.format.WFS.writeFilterCondition_(l,k,c)}},ol.format.WFS.writeFilterCondition_=function(a,b,c){var d={node:a};ol.xml.pushSerializeAndPop(d,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(b.getTagName()),[b],c)},ol.format.WFS.writeBboxFilter_=function(a,b,c){c[c.length-1].srsName=b.srsName,ol.format.WFS.writeOgcPropertyName_(a,b.geometryName),ol.format.GML3.prototype.writeGeometryElement(a,b.extent,c)},ol.format.WFS.writeIntersectsFilter_=function(a,b,c){c[c.length-1].srsName=b.srsName,ol.format.WFS.writeOgcPropertyName_(a,b.geometryName),ol.format.GML3.prototype.writeGeometryElement(a,b.geometry,c)},ol.format.WFS.writeWithinFilter_=function(a,b,c){c[c.length-1].srsName=b.srsName,ol.format.WFS.writeOgcPropertyName_(a,b.geometryName),ol.format.GML3.prototype.writeGeometryElement(a,b.geometry,c)},ol.format.WFS.writeLogicalFilter_=function(a,b,c){var d={node:a};b.conditions.forEach(function(a){ol.xml.pushSerializeAndPop(d,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(a.getTagName()),[a],c)})},ol.format.WFS.writeNotFilter_=function(a,b,c){var d={node:a},e=b.condition;ol.xml.pushSerializeAndPop(d,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(e.getTagName()),[e],c)},ol.format.WFS.writeComparisonFilter_=function(a,b,c){void 0!==b.matchCase&&a.setAttribute("matchCase",b.matchCase.toString()),ol.format.WFS.writeOgcPropertyName_(a,b.propertyName),ol.format.WFS.writeOgcLiteral_(a,""+b.expression)},ol.format.WFS.writeIsNullFilter_=function(a,b,c){ol.format.WFS.writeOgcPropertyName_(a,b.propertyName)},ol.format.WFS.writeIsBetweenFilter_=function(a,b,c){ol.format.WFS.writeOgcPropertyName_(a,b.propertyName);var d=ol.xml.createElementNS(ol.format.WFS.OGCNS,"LowerBoundary");a.appendChild(d),ol.format.WFS.writeOgcLiteral_(d,""+b.lowerBoundary);var e=ol.xml.createElementNS(ol.format.WFS.OGCNS,"UpperBoundary");a.appendChild(e),ol.format.WFS.writeOgcLiteral_(e,""+b.upperBoundary)},ol.format.WFS.writeIsLikeFilter_=function(a,b,c){a.setAttribute("wildCard",b.wildCard),a.setAttribute("singleChar",b.singleChar),a.setAttribute("escapeChar",b.escapeChar),void 0!==b.matchCase&&a.setAttribute("matchCase",b.matchCase.toString()),ol.format.WFS.writeOgcPropertyName_(a,b.propertyName),ol.format.WFS.writeOgcLiteral_(a,""+b.pattern)},ol.format.WFS.writeOgcExpression_=function(a,b,c){var d=ol.xml.createElementNS(ol.format.WFS.OGCNS,a);ol.format.XSD.writeStringTextNode(d,c),b.appendChild(d)},ol.format.WFS.writeOgcPropertyName_=function(a,b){ol.format.WFS.writeOgcExpression_("PropertyName",a,b)},ol.format.WFS.writeOgcLiteral_=function(a,b){ol.format.WFS.writeOgcExpression_("Literal",a,b)},ol.format.WFS.GETFEATURE_SERIALIZERS_={"http://www.opengis.net/wfs":{Query:ol.xml.makeChildAppender(ol.format.WFS.writeQuery_)},"http://www.opengis.net/ogc":{And:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Or:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Not:ol.xml.makeChildAppender(ol.format.WFS.writeNotFilter_),BBOX:ol.xml.makeChildAppender(ol.format.WFS.writeBboxFilter_),Intersects:ol.xml.makeChildAppender(ol.format.WFS.writeIntersectsFilter_),Within:ol.xml.makeChildAppender(ol.format.WFS.writeWithinFilter_),PropertyIsEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNotEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNull:ol.xml.makeChildAppender(ol.format.WFS.writeIsNullFilter_),PropertyIsBetween:ol.xml.makeChildAppender(ol.format.WFS.writeIsBetweenFilter_),PropertyIsLike:ol.xml.makeChildAppender(ol.format.WFS.writeIsLikeFilter_)}},ol.format.WFS.writeFilter=function(a){var b=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");return ol.format.WFS.writeFilterCondition_(b,a,[]),b},ol.format.WFS.writeGetFeature_=function(a,b,c){var d=c[c.length-1],e=ol.obj.assign({},d);e.node=a,ol.xml.pushSerializeAndPop(e,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Query"),b,c)},ol.format.WFS.prototype.writeGetFeature=function(a){var b=ol.xml.createElementNS(ol.format.WFS.WFSNS,"GetFeature");b.setAttribute("service","WFS"),b.setAttribute("version","1.1.0");var c;if(a&&(a.handle&&b.setAttribute("handle",a.handle),a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat),
void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures),a.resultType&&b.setAttribute("resultType",a.resultType),void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex),void 0!==a.count&&b.setAttribute("count",a.count),c=a.filter,a.bbox)){ol.asserts.assert(a.geometryName,12);var d=ol.format.filter.bbox(a.geometryName,a.bbox,a.srsName);c=c?ol.format.filter.and(c,d):d}ol.xml.setAttributeNS(b,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);var e={node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.featureNS_,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]};return ol.asserts.assert(Array.isArray(a.featureTypes),11),ol.format.WFS.writeGetFeature_(b,a.featureTypes,[e]),b},ol.format.WFS.prototype.writeTransaction=function(a,b,c,d){var e=[],f=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Transaction"),g=d.version?d.version:ol.format.WFS.DEFAULT_VERSION,h="1.0.0"===g?2:3;f.setAttribute("service","WFS"),f.setAttribute("version",g);var i,j;d&&(i=d.gmlOptions?d.gmlOptions:{},d.handle&&f.setAttribute("handle",d.handle));var k=ol.format.WFS.SCHEMA_LOCATIONS[g];return ol.xml.setAttributeNS(f,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",k),a&&(j={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,srsName:d.srsName},ol.obj.assign(j,i),ol.xml.pushSerializeAndPop(j,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Insert"),a,e)),b&&(j={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,srsName:d.srsName},ol.obj.assign(j,i),ol.xml.pushSerializeAndPop(j,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Update"),b,e)),c&&ol.xml.pushSerializeAndPop({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,srsName:d.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Delete"),c,e),d.nativeElements&&ol.xml.pushSerializeAndPop({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,gmlVersion:h,srsName:d.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Native"),d.nativeElements,e),f},ol.format.WFS.prototype.readProjection,ol.format.WFS.prototype.readProjectionFromDocument=function(a){for(var b=a.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(b);return null},ol.format.WFS.prototype.readProjectionFromNode=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild){a=a.firstElementChild.firstElementChild;for(var b=a.firstElementChild;b;b=b.nextElementSibling)if(0!==b.childNodes.length&&(1!==b.childNodes.length||3!==b.firstChild.nodeType)){var c=[{}];return this.gmlFormat_.readGeometryElement(b,c),ol.proj.get(c.pop().srsName)}}return null},goog.provide("ol.format.WKT"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),ol.format.WKT=function(a){var b=a||{};ol.format.TextFeature.call(this),this.splitCollection_=void 0!==b.splitCollection&&b.splitCollection},ol.inherits(ol.format.WKT,ol.format.TextFeature),ol.format.WKT.EMPTY="EMPTY",ol.format.WKT.Z="Z",ol.format.WKT.M="M",ol.format.WKT.ZM="ZM",ol.format.WKT.encodePointGeometry_=function(a){var b=a.getCoordinates();return 0===b.length?"":b.join(" ")},ol.format.WKT.encodeMultiPointGeometry_=function(a){for(var b=[],c=a.getPoints(),d=0,e=c.length;d<e;++d)b.push("("+ol.format.WKT.encodePointGeometry_(c[d])+")");return b.join(",")},ol.format.WKT.encodeGeometryCollectionGeometry_=function(a){for(var b=[],c=a.getGeometries(),d=0,e=c.length;d<e;++d)b.push(ol.format.WKT.encode_(c[d]));return b.join(",")},ol.format.WKT.encodeLineStringGeometry_=function(a){for(var b=a.getCoordinates(),c=[],d=0,e=b.length;d<e;++d)c.push(b[d].join(" "));return c.join(",")},ol.format.WKT.encodeMultiLineStringGeometry_=function(a){for(var b=[],c=a.getLineStrings(),d=0,e=c.length;d<e;++d)b.push("("+ol.format.WKT.encodeLineStringGeometry_(c[d])+")");return b.join(",")},ol.format.WKT.encodePolygonGeometry_=function(a){for(var b=[],c=a.getLinearRings(),d=0,e=c.length;d<e;++d)b.push("("+ol.format.WKT.encodeLineStringGeometry_(c[d])+")");return b.join(",")},ol.format.WKT.encodeMultiPolygonGeometry_=function(a){for(var b=[],c=a.getPolygons(),d=0,e=c.length;d<e;++d)b.push("("+ol.format.WKT.encodePolygonGeometry_(c[d])+")");return b.join(",")},ol.format.WKT.encodeGeometryLayout_=function(a){var b=a.getLayout(),c="";return b!==ol.geom.GeometryLayout.XYZ&&b!==ol.geom.GeometryLayout.XYZM||(c+=ol.format.WKT.Z),b!==ol.geom.GeometryLayout.XYM&&b!==ol.geom.GeometryLayout.XYZM||(c+=ol.format.WKT.M),c},ol.format.WKT.encode_=function(a){var b=a.getType(),c=ol.format.WKT.GeometryEncoder_[b],d=c(a);if(b=b.toUpperCase(),a instanceof ol.geom.SimpleGeometry){var e=ol.format.WKT.encodeGeometryLayout_(a);e.length>0&&(b+=" "+e)}return 0===d.length?b+" "+ol.format.WKT.EMPTY:b+"("+d+")"},ol.format.WKT.GeometryEncoder_={Point:ol.format.WKT.encodePointGeometry_,LineString:ol.format.WKT.encodeLineStringGeometry_,Polygon:ol.format.WKT.encodePolygonGeometry_,MultiPoint:ol.format.WKT.encodeMultiPointGeometry_,MultiLineString:ol.format.WKT.encodeMultiLineStringGeometry_,MultiPolygon:ol.format.WKT.encodeMultiPolygonGeometry_,GeometryCollection:ol.format.WKT.encodeGeometryCollectionGeometry_},ol.format.WKT.prototype.parse_=function(a){var b=new ol.format.WKT.Lexer(a);return new ol.format.WKT.Parser(b).parse()},ol.format.WKT.prototype.readFeature,ol.format.WKT.prototype.readFeatureFromText=function(a,b){var c=this.readGeometryFromText(a,b);if(c){var d=new ol.Feature;return d.setGeometry(c),d}return null},ol.format.WKT.prototype.readFeatures,ol.format.WKT.prototype.readFeaturesFromText=function(a,b){var c=[],d=this.readGeometryFromText(a,b);c=this.splitCollection_&&d.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION?d.getGeometriesArray():[d];for(var e,f=[],g=0,h=c.length;g<h;++g)e=new ol.Feature,e.setGeometry(c[g]),f.push(e);return f},ol.format.WKT.prototype.readGeometry,ol.format.WKT.prototype.readGeometryFromText=function(a,b){var c=this.parse_(a);return c?ol.format.Feature.transformWithOptions(c,!1,b):null},ol.format.WKT.prototype.writeFeature,ol.format.WKT.prototype.writeFeatureText=function(a,b){var c=a.getGeometry();return c?this.writeGeometryText(c,b):""},ol.format.WKT.prototype.writeFeatures,ol.format.WKT.prototype.writeFeaturesText=function(a,b){if(1==a.length)return this.writeFeatureText(a[0],b);for(var c=[],d=0,e=a.length;d<e;++d)c.push(a[d].getGeometry());var f=new ol.geom.GeometryCollection(c);return this.writeGeometryText(f,b)},ol.format.WKT.prototype.writeGeometry,ol.format.WKT.prototype.writeGeometryText=function(a,b){return ol.format.WKT.encode_(ol.format.Feature.transformWithOptions(a,!0,b))},ol.format.WKT.TokenType_={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},ol.format.WKT.Lexer=function(a){this.wkt=a,this.index_=-1},ol.format.WKT.Lexer.prototype.isAlpha_=function(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"},ol.format.WKT.Lexer.prototype.isNumeric_=function(a,b){var c=void 0!==b&&b;return a>="0"&&a<="9"||"."==a&&!c},ol.format.WKT.Lexer.prototype.isWhiteSpace_=function(a){return" "==a||"\t"==a||"\r"==a||"\n"==a},ol.format.WKT.Lexer.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},ol.format.WKT.Lexer.prototype.nextToken=function(){var a=this.nextChar_(),b={position:this.index_,value:a};if("("==a)b.type=ol.format.WKT.TokenType_.LEFT_PAREN;else if(","==a)b.type=ol.format.WKT.TokenType_.COMMA;else if(")"==a)b.type=ol.format.WKT.TokenType_.RIGHT_PAREN;else if(this.isNumeric_(a)||"-"==a)b.type=ol.format.WKT.TokenType_.NUMBER,b.value=this.readNumber_();else if(this.isAlpha_(a))b.type=ol.format.WKT.TokenType_.TEXT,b.value=this.readText_();else{if(this.isWhiteSpace_(a))return this.nextToken();if(""!==a)throw new Error("Unexpected character: "+a);b.type=ol.format.WKT.TokenType_.EOF}return b},ol.format.WKT.Lexer.prototype.readNumber_=function(){var a,b=this.index_,c=!1,d=!1;do{"."==a?c=!0:"e"!=a&&"E"!=a||(d=!0),a=this.nextChar_()}while(this.isNumeric_(a,c)||!d&&("e"==a||"E"==a)||d&&("-"==a||"+"==a));return parseFloat(this.wkt.substring(b,this.index_--))},ol.format.WKT.Lexer.prototype.readText_=function(){var a,b=this.index_;do{a=this.nextChar_()}while(this.isAlpha_(a));return this.wkt.substring(b,this.index_--).toUpperCase()},ol.format.WKT.Parser=function(a){this.lexer_=a,this.token_,this.layout_=ol.geom.GeometryLayout.XY},ol.format.WKT.Parser.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},ol.format.WKT.Parser.prototype.isTokenType=function(a){return this.token_.type==a},ol.format.WKT.Parser.prototype.match=function(a){var b=this.isTokenType(a);return b&&this.consume_(),b},ol.format.WKT.Parser.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},ol.format.WKT.Parser.prototype.parseGeometryLayout_=function(){var a=ol.geom.GeometryLayout.XY,b=this.token_;if(this.isTokenType(ol.format.WKT.TokenType_.TEXT)){var c=b.value;c===ol.format.WKT.Z?a=ol.geom.GeometryLayout.XYZ:c===ol.format.WKT.M?a=ol.geom.GeometryLayout.XYM:c===ol.format.WKT.ZM&&(a=ol.geom.GeometryLayout.XYZM),a!==ol.geom.GeometryLayout.XY&&this.consume_()}return a},ol.format.WKT.Parser.prototype.parseGeometry_=function(){var a=this.token_;if(this.match(ol.format.WKT.TokenType_.TEXT)){var b=a.value;if(this.layout_=this.parseGeometryLayout_(),b==ol.geom.GeometryType.GEOMETRY_COLLECTION.toUpperCase()){var c=this.parseGeometryCollectionText_();return new ol.geom.GeometryCollection(c)}var d=ol.format.WKT.Parser.GeometryParser_[b],e=ol.format.WKT.Parser.GeometryConstructor_[b];if(!d||!e)throw new Error("Invalid geometry type: "+b);return new e(d.call(this),this.layout_)}throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseGeometryCollectionText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=[];do{a.push(this.parseGeometry_())}while(this.match(ol.format.WKT.TokenType_.COMMA));if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parsePoint_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parsePointList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiPointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a;if(a=this.token_.type==ol.format.WKT.TokenType_.LEFT_PAREN?this.parsePointTextList_():this.parsePointList_(),this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiPolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parsePolygonTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePoint_=function(){for(var a=[],b=this.layout_.length,c=0;c<b;++c){var d=this.token_;if(!this.match(ol.format.WKT.TokenType_.NUMBER))break;a.push(d.value)}if(a.length==b)return a;throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePointList_=function(){for(var a=[this.parsePoint_()];this.match(ol.format.WKT.TokenType_.COMMA);)a.push(this.parsePoint_());return a},ol.format.WKT.Parser.prototype.parsePointTextList_=function(){for(var a=[this.parsePointText_()];this.match(ol.format.WKT.TokenType_.COMMA);)a.push(this.parsePointText_());return a},ol.format.WKT.Parser.prototype.parseLineStringTextList_=function(){for(var a=[this.parseLineStringText_()];this.match(ol.format.WKT.TokenType_.COMMA);)a.push(this.parseLineStringText_());return a},ol.format.WKT.Parser.prototype.parsePolygonTextList_=function(){for(var a=[this.parsePolygonText_()];this.match(ol.format.WKT.TokenType_.COMMA);)a.push(this.parsePolygonText_());return a},ol.format.WKT.Parser.prototype.isEmptyGeometry_=function(){var a=this.isTokenType(ol.format.WKT.TokenType_.TEXT)&&this.token_.value==ol.format.WKT.EMPTY;return a&&this.consume_(),a},ol.format.WKT.Parser.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},ol.format.WKT.Parser.GeometryConstructor_={POINT:ol.geom.Point,LINESTRING:ol.geom.LineString,POLYGON:ol.geom.Polygon,MULTIPOINT:ol.geom.MultiPoint,MULTILINESTRING:ol.geom.MultiLineString,MULTIPOLYGON:ol.geom.MultiPolygon},ol.format.WKT.Parser.GeometryParser_={POINT:ol.format.WKT.Parser.prototype.parsePointText_,LINESTRING:ol.format.WKT.Parser.prototype.parseLineStringText_,POLYGON:ol.format.WKT.Parser.prototype.parsePolygonText_,MULTIPOINT:ol.format.WKT.Parser.prototype.parseMultiPointText_,MULTILINESTRING:ol.format.WKT.Parser.prototype.parseMultiLineStringText_,MULTIPOLYGON:ol.format.WKT.Parser.prototype.parseMultiPolygonText_},goog.provide("ol.format.WMSCapabilities"),goog.require("ol"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.WMSCapabilities=function(){ol.format.XML.call(this),this.version=void 0},ol.inherits(ol.format.WMSCapabilities,ol.format.XML),ol.format.WMSCapabilities.prototype.read,ol.format.WMSCapabilities.prototype.readFromDocument=function(a){for(var b=a.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return this.readFromNode(b);return null},ol.format.WMSCapabilities.prototype.readFromNode=function(a){this.version=a.getAttribute("version").trim();var b=ol.xml.pushParseAndPop({version:this.version},ol.format.WMSCapabilities.PARSERS_,a,[]);return b||null},ol.format.WMSCapabilities.readAttribution_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_,a,b)},ol.format.WMSCapabilities.readBoundingBox_=function(a,b){var c=[ol.format.XSD.readDecimalString(a.getAttribute("minx")),ol.format.XSD.readDecimalString(a.getAttribute("miny")),ol.format.XSD.readDecimalString(a.getAttribute("maxx")),ol.format.XSD.readDecimalString(a.getAttribute("maxy"))],d=[ol.format.XSD.readDecimalString(a.getAttribute("resx")),ol.format.XSD.readDecimalString(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:c,res:d}},ol.format.WMSCapabilities.readEXGeographicBoundingBox_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_,a,b);if(c){var d=c.westBoundLongitude,e=c.southBoundLatitude,f=c.eastBoundLongitude,g=c.northBoundLatitude;if(void 0!==d&&void 0!==e&&void 0!==f&&void 0!==g)return[d,e,f,g]}},ol.format.WMSCapabilities.readCapability_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CAPABILITY_PARSERS_,a,b)},ol.format.WMSCapabilities.readService_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.SERVICE_PARSERS_,a,b)},ol.format.WMSCapabilities.readContactInformation_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_,a,b)},ol.format.WMSCapabilities.readContactPersonPrimary_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_,a,b)},ol.format.WMSCapabilities.readContactAddress_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_,a,b)},ol.format.WMSCapabilities.readException_=function(a,b){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.EXCEPTION_PARSERS_,a,b)},ol.format.WMSCapabilities.readCapabilityLayer_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,a,b)},ol.format.WMSCapabilities.readLayer_=function(a,b){var c=b[b.length-1],d=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,a,b);if(d){var e=ol.format.XSD.readBooleanString(a.getAttribute("queryable"));void 0===e&&(e=c.queryable),d.queryable=void 0!==e&&e;var f=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("cascaded"));void 0===f&&(f=c.cascaded),d.cascaded=f;var g=ol.format.XSD.readBooleanString(a.getAttribute("opaque"));void 0===g&&(g=c.opaque),d.opaque=void 0!==g&&g;var h=ol.format.XSD.readBooleanString(a.getAttribute("noSubsets"));void 0===h&&(h=c.noSubsets),d.noSubsets=void 0!==h&&h;var i=ol.format.XSD.readDecimalString(a.getAttribute("fixedWidth"));i||(i=c.fixedWidth),d.fixedWidth=i;var j=ol.format.XSD.readDecimalString(a.getAttribute("fixedHeight"));j||(j=c.fixedHeight),d.fixedHeight=j;["Style","CRS","AuthorityURL"].forEach(function(a){if(a in c){var b=d[a]||[];d[a]=b.concat(c[a])}});return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(a){if(!(a in d)){var b=c[a];d[a]=b}}),d}},ol.format.WMSCapabilities.readDimension_=function(a,b){return{name:a.getAttribute("name"),units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),default:a.getAttribute("default"),multipleValues:ol.format.XSD.readBooleanString(a.getAttribute("multipleValues")),nearestValue:ol.format.XSD.readBooleanString(a.getAttribute("nearestValue")),current:ol.format.XSD.readBooleanString(a.getAttribute("current")),values:ol.format.XSD.readString(a)}},ol.format.WMSCapabilities.readFormatOnlineresource_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_,a,b)},ol.format.WMSCapabilities.readRequest_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.REQUEST_PARSERS_,a,b)},ol.format.WMSCapabilities.readDCPType_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.DCPTYPE_PARSERS_,a,b)},ol.format.WMSCapabilities.readHTTP_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.HTTP_PARSERS_,a,b)};ol.format.WMSCapabilities.readOperationType_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_,a,b)},ol.format.WMSCapabilities.readSizedFormatOnlineresource_=function(a,b){var c=ol.format.WMSCapabilities.readFormatOnlineresource_(a,b);if(c){var d=[ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("width")),ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("height"))];return c.size=d,c}},ol.format.WMSCapabilities.readAuthorityURL_=function(a,b){var c=ol.format.WMSCapabilities.readFormatOnlineresource_(a,b);if(c)return c.name=a.getAttribute("name"),c},ol.format.WMSCapabilities.readMetadataURL_=function(a,b){var c=ol.format.WMSCapabilities.readFormatOnlineresource_(a,b);if(c)return c.type=a.getAttribute("type"),c},ol.format.WMSCapabilities.readStyle_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.STYLE_PARSERS_,a,b)},ol.format.WMSCapabilities.readKeywordList_=function(a,b){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_,a,b)},ol.format.WMSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wms"],ol.format.WMSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Service:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readService_),Capability:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapability_)}),ol.format.WMSCapabilities.CAPABILITY_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Request:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readRequest_),Exception:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readException_),Layer:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapabilityLayer_)}),ol.format.WMSCapabilities.SERVICE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ContactInformation:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactInformation_),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LayerLimit:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}),ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPersonPrimary:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactPersonPrimary_),ContactPosition:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactAddress:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactAddress_),ContactVoiceTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactFacsimileTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPerson:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactOrganization:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{AddressType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),StateOrProvince:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.EXCEPTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeArrayPusher(ol.format.XSD.readString)}),ol.format.WMSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),CRS:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),EX_GeographicBoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readEXGeographicBoundingBox_),BoundingBox:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readBoundingBox_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDimension_),Attribution:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readAttribution_),AuthorityURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readAuthorityURL_),Identifier:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),MetadataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readMetadataURL_),DataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),FeatureListURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),Style:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readStyle_),MinScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),MaxScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readLayer_)}),ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),LogoURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readSizedFormatOnlineresource_)}),ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{westBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),eastBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),southBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),northBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.WMSCapabilities.REQUEST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{GetCapabilities:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetMap:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetFeatureInfo:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_)}),ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),DCPType:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDCPType_)}),ol.format.WMSCapabilities.DCPTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readHTTP_)}),ol.format.WMSCapabilities.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),Post:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)}),ol.format.WMSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readSizedFormatOnlineresource_),StyleSheetURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),StyleURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)}),ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)}),ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Keyword:ol.xml.makeArrayPusher(ol.format.XSD.readString)}),goog.provide("ol.format.WMSGetFeatureInfo"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.format.GML2"),goog.require("ol.format.XMLFeature"),goog.require("ol.obj"),goog.require("ol.xml"),ol.format.WMSGetFeatureInfo=function(a){var b=a||{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new ol.format.GML2,this.layers_=b.layers?b.layers:null,ol.format.XMLFeature.call(this)},ol.inherits(ol.format.WMSGetFeatureInfo,ol.format.XMLFeature),ol.format.WMSGetFeatureInfo.featureIdentifier_="_feature",ol.format.WMSGetFeatureInfo.layerIdentifier_="_layer",ol.format.WMSGetFeatureInfo.prototype.readFeatures_=function(a,b){a.setAttribute("namespaceURI",this.featureNS_);var c=a.localName,d=[];if(0===a.childNodes.length)return d;if("msGMLOutput"==c)for(var e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];if(g.nodeType===Node.ELEMENT_NODE){var h=b[0],i=ol.format.WMSGetFeatureInfo.layerIdentifier_,j=g.localName.replace(i,"");if(!this.layers_||ol.array.includes(this.layers_,j)){var k=j+ol.format.WMSGetFeatureInfo.featureIdentifier_;h.featureType=k,h.featureNS=this.featureNS_;var l={};l[k]=ol.xml.makeArrayPusher(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var m=ol.xml.makeStructureNS([h.featureNS,null],l);g.setAttribute("namespaceURI",this.featureNS_);var n=ol.xml.pushParseAndPop([],m,g,b,this.gmlFormat_);n&&ol.array.extend(d,n)}}}if("FeatureCollection"==c){var o=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,a,[{}],this.gmlFormat_);o&&(d=o)}return d},ol.format.WMSGetFeatureInfo.prototype.readFeatures,ol.format.WMSGetFeatureInfo.prototype.readFeaturesFromNode=function(a,b){var c={};return b&&ol.obj.assign(c,this.getReadOptions(a,b)),this.readFeatures_(a,[c])},ol.format.WMSGetFeatureInfo.prototype.writeFeatureNode=function(a,b){},ol.format.WMSGetFeatureInfo.prototype.writeFeaturesNode=function(a,b){},ol.format.WMSGetFeatureInfo.prototype.writeGeometryNode=function(a,b){},goog.provide("ol.format.WMTSCapabilities"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.format.OWS"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.WMTSCapabilities=function(){ol.format.XML.call(this),this.owsParser_=new ol.format.OWS},ol.inherits(ol.format.WMTSCapabilities,ol.format.XML),ol.format.WMTSCapabilities.prototype.read,ol.format.WMTSCapabilities.prototype.readFromDocument=function(a){for(var b=a.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return this.readFromNode(b);return null},ol.format.WMTSCapabilities.prototype.readFromNode=function(a){var b=a.getAttribute("version").trim(),c=this.owsParser_.readFromNode(a);return c?(c.version=b,(c=ol.xml.pushParseAndPop(c,ol.format.WMTSCapabilities.PARSERS_,a,[]))||null):null},ol.format.WMTSCapabilities.readContents_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.CONTENTS_PARSERS_,a,b)},ol.format.WMTSCapabilities.readLayer_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.LAYER_PARSERS_,a,b)},ol.format.WMTSCapabilities.readTileMatrixSet_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_PARSERS_,a,b)},ol.format.WMTSCapabilities.readStyle_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.STYLE_PARSERS_,a,b);if(c){var d="true"===a.getAttribute("isDefault");return c.isDefault=d,c}},ol.format.WMTSCapabilities.readTileMatrixSetLink_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_,a,b)},ol.format.WMTSCapabilities.readDimensions_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.DIMENSION_PARSERS_,a,b)},ol.format.WMTSCapabilities.readResourceUrl_=function(a,b){
var c=a.getAttribute("format"),d=a.getAttribute("template"),e=a.getAttribute("resourceType"),f={};return c&&(f.format=c),d&&(f.template=d),e&&(f.resourceType=e),f},ol.format.WMTSCapabilities.readWgs84BoundingBox_=function(a,b){var c=ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.WGS84_BBOX_READERS_,a,b);if(2==c.length)return ol.extent.boundingExtent(c)},ol.format.WMTSCapabilities.readLegendUrl_=function(a,b){var c={};return c.format=a.getAttribute("format"),c.href=ol.format.XLink.readHref(a),c},ol.format.WMTSCapabilities.readCoordinates_=function(a,b){var c=ol.format.XSD.readString(a).split(" ");if(c&&2==c.length){var d=+c[0],e=+c[1];if(!isNaN(d)&&!isNaN(e))return[d,e]}},ol.format.WMTSCapabilities.readTileMatrix_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TM_PARSERS_,a,b)},ol.format.WMTSCapabilities.readTileMatrixLimitsList_=function(a,b){return ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_,a,b)},ol.format.WMTSCapabilities.readTileMatrixLimits_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_,a,b)},ol.format.WMTSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wmts/1.0"],ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"],ol.format.WMTSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Contents:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readContents_)}),ol.format.WMTSCapabilities.CONTENTS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLayer_),TileMatrixSet:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSet_)}),ol.format.WMTSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readStyle_),Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),TileMatrixSetLink:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSetLink_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readDimensions_),ResourceURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readResourceUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),WGS84BoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readWgs84BoundingBox_),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLegendUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrixSetLimits:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readTileMatrixLimitsList_)}),ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixLimits:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readTileMatrixLimits_)}),ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),MinTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MinTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}),ol.format.WMTSCapabilities.DIMENSION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Default:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Value:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.WGS84_BBOX_READERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{LowerCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_),UpperCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_)}),ol.format.WMTSCapabilities.TMS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{WellKnownScaleSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrix:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrix_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{SupportedCRS:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.TM_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TopLeftCorner:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readCoordinates_),ScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),TileWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),TileHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),goog.provide("ol.GeolocationProperty"),ol.GeolocationProperty={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},goog.provide("ol.Geolocation"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.GeolocationProperty"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.geom.Polygon"),goog.require("ol.has"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.sphere.WGS84"),ol.Geolocation=function(a){ol.Object.call(this);var b=a||{};this.position_=null,this.transform_=ol.proj.identityTransform,this.watchId_=void 0,ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.PROJECTION),this.handleProjectionChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.TRACKING),this.handleTrackingChanged_,this),void 0!==b.projection&&this.setProjection(ol.proj.get(b.projection)),void 0!==b.trackingOptions&&this.setTrackingOptions(b.trackingOptions),this.setTracking(void 0!==b.tracking&&b.tracking)},ol.inherits(ol.Geolocation,ol.Object),ol.Geolocation.prototype.disposeInternal=function(){this.setTracking(!1),ol.Object.prototype.disposeInternal.call(this)},ol.Geolocation.prototype.handleProjectionChanged_=function(){var a=this.getProjection();a&&(this.transform_=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),a),this.position_&&this.set(ol.GeolocationProperty.POSITION,this.transform_(this.position_)))},ol.Geolocation.prototype.handleTrackingChanged_=function(){if(ol.has.GEOLOCATION){var a=this.getTracking();a&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):a||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},ol.Geolocation.prototype.positionChange_=function(a){var b=a.coords;this.set(ol.GeolocationProperty.ACCURACY,b.accuracy),this.set(ol.GeolocationProperty.ALTITUDE,null===b.altitude?void 0:b.altitude),this.set(ol.GeolocationProperty.ALTITUDE_ACCURACY,null===b.altitudeAccuracy?void 0:b.altitudeAccuracy),this.set(ol.GeolocationProperty.HEADING,null===b.heading?void 0:ol.math.toRadians(b.heading)),this.position_?(this.position_[0]=b.longitude,this.position_[1]=b.latitude):this.position_=[b.longitude,b.latitude];var c=this.transform_(this.position_);this.set(ol.GeolocationProperty.POSITION,c),this.set(ol.GeolocationProperty.SPEED,null===b.speed?void 0:b.speed);var d=ol.geom.Polygon.circular(ol.sphere.WGS84,this.position_,b.accuracy);d.applyTransform(this.transform_),this.set(ol.GeolocationProperty.ACCURACY_GEOMETRY,d),this.changed()},ol.Geolocation.prototype.positionError_=function(a){a.type=ol.events.EventType.ERROR,this.setTracking(!1),this.dispatchEvent(a)},ol.Geolocation.prototype.getAccuracy=function(){return this.get(ol.GeolocationProperty.ACCURACY)},ol.Geolocation.prototype.getAccuracyGeometry=function(){return this.get(ol.GeolocationProperty.ACCURACY_GEOMETRY)||null},ol.Geolocation.prototype.getAltitude=function(){return this.get(ol.GeolocationProperty.ALTITUDE)},ol.Geolocation.prototype.getAltitudeAccuracy=function(){return this.get(ol.GeolocationProperty.ALTITUDE_ACCURACY)},ol.Geolocation.prototype.getHeading=function(){return this.get(ol.GeolocationProperty.HEADING)},ol.Geolocation.prototype.getPosition=function(){return this.get(ol.GeolocationProperty.POSITION)},ol.Geolocation.prototype.getProjection=function(){return this.get(ol.GeolocationProperty.PROJECTION)},ol.Geolocation.prototype.getSpeed=function(){return this.get(ol.GeolocationProperty.SPEED)},ol.Geolocation.prototype.getTracking=function(){return this.get(ol.GeolocationProperty.TRACKING)},ol.Geolocation.prototype.getTrackingOptions=function(){return this.get(ol.GeolocationProperty.TRACKING_OPTIONS)},ol.Geolocation.prototype.setProjection=function(a){this.set(ol.GeolocationProperty.PROJECTION,a)},ol.Geolocation.prototype.setTracking=function(a){this.set(ol.GeolocationProperty.TRACKING,a)},ol.Geolocation.prototype.setTrackingOptions=function(a){this.set(ol.GeolocationProperty.TRACKING_OPTIONS,a)},goog.provide("ol.geom.Circle"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),ol.geom.Circle=function(a,b,c){ol.geom.SimpleGeometry.call(this);var d=b||0;this.setCenterAndRadius(a,d,c)},ol.inherits(ol.geom.Circle,ol.geom.SimpleGeometry),ol.geom.Circle.prototype.clone=function(){var a=new ol.geom.Circle(null);return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),a},ol.geom.Circle.prototype.closestPointXY=function(a,b,c,d){var e=this.flatCoordinates,f=a-e[0],g=b-e[1],h=f*f+g*g;if(h<d){var i;if(0===h)for(i=0;i<this.stride;++i)c[i]=e[i];else{var j=this.getRadius()/Math.sqrt(h);for(c[0]=e[0]+j*f,c[1]=e[1]+j*g,i=2;i<this.stride;++i)c[i]=e[i]}return c.length=this.stride,h}return d},ol.geom.Circle.prototype.containsXY=function(a,b){var c=this.flatCoordinates,d=a-c[0],e=b-c[1];return d*d+e*e<=this.getRadiusSquared_()},ol.geom.Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},ol.geom.Circle.prototype.computeExtent=function(a){var b=this.flatCoordinates,c=b[this.stride]-b[0];return ol.extent.createOrUpdate(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)},ol.geom.Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},ol.geom.Circle.prototype.getRadiusSquared_=function(){var a=this.flatCoordinates[this.stride]-this.flatCoordinates[0],b=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return a*a+b*b},ol.geom.Circle.prototype.getType=function(){return ol.geom.GeometryType.CIRCLE},ol.geom.Circle.prototype.intersectsExtent=function(a){var b=this.getExtent();if(ol.extent.intersects(a,b)){var c=this.getCenter();return a[0]<=c[0]&&a[2]>=c[0]||(a[1]<=c[1]&&a[3]>=c[1]||ol.extent.forEachCorner(a,this.intersectsCoordinate,this))}return!1},ol.geom.Circle.prototype.setCenter=function(a){var b=this.stride,c=this.flatCoordinates[b]-this.flatCoordinates[0],d=a.slice();d[b]=d[0]+c;var e;for(e=1;e<b;++e)d[b+e]=a[e];this.setFlatCoordinates(this.layout,d)},ol.geom.Circle.prototype.setCenterAndRadius=function(a,b,c){if(a){this.setLayout(c,a,0),this.flatCoordinates||(this.flatCoordinates=[]);var d=this.flatCoordinates,e=ol.geom.flat.deflate.coordinate(d,0,a,this.stride);d[e++]=d[0]+b;var f,g;for(f=1,g=this.stride;f<g;++f)d[e++]=d[f];d.length=e,this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.Circle.prototype.getCoordinates=function(){},ol.geom.Circle.prototype.setCoordinates=function(a,b){},ol.geom.Circle.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b),this.changed()},ol.geom.Circle.prototype.setRadius=function(a){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+a,this.changed()},ol.geom.Circle.prototype.transform,goog.provide("ol.geom.flat.geodesic"),goog.require("ol.math"),goog.require("ol.proj"),ol.geom.flat.geodesic.line_=function(a,b,c){for(var d,e,f,g,h,i,j=[],k=a(0),l=a(1),m=b(k),n=b(l),o=[l,k],p=[n,m],q=[1,0],r={},s=1e5;--s>0&&q.length>0;)f=q.pop(),k=o.pop(),m=p.pop(),i=f.toString(),i in r||(j.push(m[0],m[1]),r[i]=!0),g=q.pop(),l=o.pop(),n=p.pop(),h=(f+g)/2,d=a(h),e=b(d),ol.math.squaredSegmentDistance(e[0],e[1],m[0],m[1],n[0],n[1])<c?(j.push(n[0],n[1]),i=g.toString(),r[i]=!0):(q.push(g,h,h,f),p.push(n,e,e,m),o.push(l,d,d,k));return j},ol.geom.flat.geodesic.greatCircleArc=function(a,b,c,d,e,f){var g=ol.proj.get("EPSG:4326"),h=Math.cos(ol.math.toRadians(b)),i=Math.sin(ol.math.toRadians(b)),j=Math.cos(ol.math.toRadians(d)),k=Math.sin(ol.math.toRadians(d)),l=Math.cos(ol.math.toRadians(c-a)),m=Math.sin(ol.math.toRadians(c-a)),n=i*k+h*j*l;return ol.geom.flat.geodesic.line_(function(b){if(1<=n)return[c,d];var e=b*Math.acos(n),f=Math.cos(e),g=Math.sin(e),o=m*j,p=h*k-i*j*l,q=Math.atan2(o,p),r=Math.asin(i*f+h*g*Math.cos(q)),s=ol.math.toRadians(a)+Math.atan2(Math.sin(q)*g*h,f-i*Math.sin(r));return[ol.math.toDegrees(s),ol.math.toDegrees(r)]},ol.proj.getTransform(g,e),f)},ol.geom.flat.geodesic.meridian=function(a,b,c,d,e){var f=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(d){return[a,b+(c-b)*d]},ol.proj.getTransform(f,d),e)},ol.geom.flat.geodesic.parallel=function(a,b,c,d,e){var f=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(d){return[b+(c-b)*d,a]},ol.proj.getTransform(f,d),e)},goog.provide("ol.Graticule"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.flat.geodesic"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.render.EventType"),goog.require("ol.style.Stroke"),ol.Graticule=function(a){var b=a||{};this.map_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==b.targetSize?b.targetSize:100,this.maxLines_=void 0!==b.maxLines?b.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==b.strokeStyle?b.strokeStyle:ol.Graticule.DEFAULT_STROKE_STYLE_,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.setMap(void 0!==b.map?b.map:null)},ol.Graticule.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:"rgba(0,0,0,0.2)"}),ol.Graticule.intervals_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],ol.Graticule.prototype.addMeridian_=function(a,b,c,d,e,f){var g=this.getMeridian_(a,b,c,d,f);return ol.extent.intersects(g.getExtent(),e)&&(this.meridians_[f++]=g),f},ol.Graticule.prototype.addParallel_=function(a,b,c,d,e,f){var g=this.getParallel_(a,b,c,d,f);return ol.extent.intersects(g.getExtent(),e)&&(this.parallels_[f++]=g),f},ol.Graticule.prototype.createGraticule_=function(a,b,c,d){var e=this.getInterval_(c);if(-1==e)return void(this.meridians_.length=this.parallels_.length=0);var f,g,h,i,j=this.toLonLatTransform_(b),k=j[0],l=j[1],m=this.maxLines_,n=[Math.max(a[0],this.minLonP_),Math.max(a[1],this.minLatP_),Math.min(a[2],this.maxLonP_),Math.min(a[3],this.maxLatP_)];n=ol.proj.transformExtent(n,this.projection_,"EPSG:4326");var o=n[3],p=n[2],q=n[1],r=n[0];for(k=Math.floor(k/e)*e,i=ol.math.clamp(k,this.minLon_,this.maxLon_),g=this.addMeridian_(i,q,o,d,a,0),f=0;i!=this.minLon_&&f++<m;)i=Math.max(i-e,this.minLon_),g=this.addMeridian_(i,q,o,d,a,g);for(i=ol.math.clamp(k,this.minLon_,this.maxLon_),f=0;i!=this.maxLon_&&f++<m;)i=Math.min(i+e,this.maxLon_),g=this.addMeridian_(i,q,o,d,a,g);for(this.meridians_.length=g,l=Math.floor(l/e)*e,h=ol.math.clamp(l,this.minLat_,this.maxLat_),g=this.addParallel_(h,r,p,d,a,0),f=0;h!=this.minLat_&&f++<m;)h=Math.max(h-e,this.minLat_),g=this.addParallel_(h,r,p,d,a,g);for(h=ol.math.clamp(l,this.minLat_,this.maxLat_),f=0;h!=this.maxLat_&&f++<m;)h=Math.min(h+e,this.maxLat_),g=this.addParallel_(h,r,p,d,a,g);this.parallels_.length=g},ol.Graticule.prototype.getInterval_=function(a){var b,c,d,e=this.projectionCenterLonLat_[0],f=this.projectionCenterLonLat_[1],g=-1,h=Math.pow(this.targetSize_*a,2),i=[],j=[];for(b=0,c=ol.Graticule.intervals_.length;b<c&&(d=ol.Graticule.intervals_[b]/2,i[0]=e-d,i[1]=f-d,j[0]=e+d,j[1]=f+d,this.fromLonLatTransform_(i,i),this.fromLonLatTransform_(j,j),!(Math.pow(j[0]-i[0],2)+Math.pow(j[1]-i[1],2)<=h));++b)g=ol.Graticule.intervals_[b];return g},ol.Graticule.prototype.getMap=function(){return this.map_},ol.Graticule.prototype.getMeridian_=function(a,b,c,d,e){var f=ol.geom.flat.geodesic.meridian(a,b,c,this.projection_,d),g=void 0!==this.meridians_[e]?this.meridians_[e]:new ol.geom.LineString(null);return g.setFlatCoordinates(ol.geom.GeometryLayout.XY,f),g},ol.Graticule.prototype.getMeridians=function(){return this.meridians_},ol.Graticule.prototype.getParallel_=function(a,b,c,d,e){var f=ol.geom.flat.geodesic.parallel(a,this.minLon_,this.maxLon_,this.projection_,d),g=void 0!==this.parallels_[e]?this.parallels_[e]:new ol.geom.LineString(null);return g.setFlatCoordinates(ol.geom.GeometryLayout.XY,f),g},ol.Graticule.prototype.getParallels=function(){return this.parallels_},ol.Graticule.prototype.handlePostCompose_=function(a){var b=a.vectorContext,c=a.frameState,d=c.extent,e=c.viewState,f=e.center,g=e.projection,h=e.resolution,i=c.pixelRatio,j=h*h/(4*i*i);(!this.projection_||!ol.proj.equivalent(this.projection_,g))&&this.updateProjectionInfo_(g);var k=0;if(g.canWrapX()){var l=g.getExtent(),m=ol.extent.getWidth(l),n=c.focus[0];if(n<l[0]||n>l[2]){k=m*Math.ceil((l[0]-n)/m),d=[d[0]+k,d[1],d[2]+k,d[3]]}}this.createGraticule_(d,f,h,j),b.setFillStrokeStyle(null,this.strokeStyle_);var o,p,q;for(o=0,p=this.meridians_.length;o<p;++o)q=this.meridians_[o],b.drawLineString(q,null);for(o=0,p=this.parallels_.length;o<p;++o)q=this.parallels_[o],b.drawLineString(q,null)},ol.Graticule.prototype.updateProjectionInfo_=function(a){var b=ol.proj.get("EPSG:4326"),c=a.getExtent(),d=a.getWorldExtent(),e=ol.proj.transformExtent(d,b,a),f=d[3],g=d[2],h=d[1],i=d[0],j=e[3],k=e[2],l=e[1],m=e[0];this.maxLat_=f,this.maxLon_=g,this.minLat_=h,this.minLon_=i,this.maxLatP_=j,this.maxLonP_=k,this.minLatP_=l,this.minLonP_=m,this.fromLonLatTransform_=ol.proj.getTransform(b,a),this.toLonLatTransform_=ol.proj.getTransform(a,b),this.projectionCenterLonLat_=this.toLonLatTransform_(ol.extent.getCenter(c)),this.projection_=a},ol.Graticule.prototype.setMap=function(a){this.map_&&(this.map_.un(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this),this.map_.render()),a&&(a.on(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this),a.render()),this.map_=a},goog.provide("ol.ImageBase"),goog.require("ol"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),ol.ImageBase=function(a,b,c,d,e){ol.events.EventTarget.call(this),this.attributions_=e,this.extent=a,this.pixelRatio_=c,this.resolution=b,this.state=d},ol.inherits(ol.ImageBase,ol.events.EventTarget),ol.ImageBase.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)},ol.ImageBase.prototype.getAttributions=function(){return this.attributions_},ol.ImageBase.prototype.getExtent=function(){return this.extent},ol.ImageBase.prototype.getImage=function(a){},ol.ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_},ol.ImageBase.prototype.getResolution=function(){return this.resolution},ol.ImageBase.prototype.getState=function(){return this.state},ol.ImageBase.prototype.load=function(){},goog.provide("ol.Image"),goog.require("ol"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.obj"),ol.Image=function(a,b,c,d,e,f,g){ol.ImageBase.call(this,a,b,c,ol.ImageState.IDLE,d),this.src_=e,this.image_=new Image,null!==f&&(this.image_.crossOrigin=f),this.imageByContext_={},this.imageListenerKeys_=null,this.state=ol.ImageState.IDLE,this.imageLoadFunction_=g},ol.inherits(ol.Image,ol.ImageBase),ol.Image.prototype.getImage=function(a){if(void 0!==a){var b,c=ol.getUid(a);return c in this.imageByContext_?this.imageByContext_[c]:(b=ol.obj.isEmpty(this.imageByContext_)?this.image_:this.image_.cloneNode(!1),this.imageByContext_[c]=b,b)}return this.image_},ol.Image.prototype.handleImageError_=function(){this.state=ol.ImageState.ERROR,this.unlistenImage_(),this.changed()},ol.Image.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=ol.extent.getHeight(this.extent)/this.image_.height),this.state=ol.ImageState.LOADED,this.unlistenImage_(),this.changed()},ol.Image.prototype.load=function(){this.state!=ol.ImageState.IDLE&&this.state!=ol.ImageState.ERROR||(this.state=ol.ImageState.LOADING,this.changed(),this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},ol.Image.prototype.setImage=function(a){this.image_=a},ol.Image.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey),this.imageListenerKeys_=null},goog.provide("ol.ImageCanvas");goog.require("ol"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),ol.ImageCanvas=function(a,b,c,d,e,f){this.loader_=void 0!==f?f:null;var g=void 0!==f?ol.ImageState.IDLE:ol.ImageState.LOADED;ol.ImageBase.call(this,a,b,c,g,d),this.canvas_=e,this.error_=null},ol.inherits(ol.ImageCanvas,ol.ImageBase),ol.ImageCanvas.prototype.getError=function(){return this.error_},ol.ImageCanvas.prototype.handleLoad_=function(a){a?(this.error_=a,this.state=ol.ImageState.ERROR):this.state=ol.ImageState.LOADED,this.changed()},ol.ImageCanvas.prototype.load=function(){this.state==ol.ImageState.IDLE&&(this.state=ol.ImageState.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},ol.ImageCanvas.prototype.getImage=function(a){return this.canvas_},goog.provide("ol.Tile"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),ol.Tile=function(a,b){ol.events.EventTarget.call(this),this.tileCoord=a,this.state=b,this.interimTile=null,this.key=""},ol.inherits(ol.Tile,ol.events.EventTarget),ol.Tile.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)},ol.Tile.prototype.getImage=function(){},ol.Tile.prototype.getKey=function(){return this.key+"/"+this.tileCoord},ol.Tile.prototype.getInterimTile=function(){if(!this.interimTile)return this;var a=this.interimTile;do{if(a.getState()==ol.TileState.LOADED)return a;a=a.interimTile}while(a);return this},ol.Tile.prototype.refreshInterimChain=function(){if(this.interimTile){var a=this.interimTile,b=this;do{if(a.getState()==ol.TileState.LOADED){a.interimTile=null;break}a.getState()==ol.TileState.LOADING?b=a:a.getState()==ol.TileState.IDLE?b.interimTile=a.interimTile:b=a,a=b.interimTile}while(a)}},ol.Tile.prototype.getTileCoord=function(){return this.tileCoord},ol.Tile.prototype.getState=function(){return this.state},ol.Tile.prototype.load=function(){},goog.provide("ol.ImageTile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.events"),goog.require("ol.events.EventType"),ol.ImageTile=function(a,b,c,d,e){ol.Tile.call(this,a,b),this.src_=c,this.image_=new Image,null!==d&&(this.image_.crossOrigin=d),this.imageListenerKeys_=null,this.tileLoadFunction_=e},ol.inherits(ol.ImageTile,ol.Tile),ol.ImageTile.prototype.disposeInternal=function(){this.state==ol.TileState.LOADING&&this.unlistenImage_(),this.interimTile&&this.interimTile.dispose(),this.state=ol.TileState.ABORT,this.changed(),ol.Tile.prototype.disposeInternal.call(this)},ol.ImageTile.prototype.getImage=function(){return this.image_},ol.ImageTile.prototype.getKey=function(){return this.src_},ol.ImageTile.prototype.handleImageError_=function(){this.state=ol.TileState.ERROR,this.unlistenImage_(),this.changed()},ol.ImageTile.prototype.handleImageLoad_=function(){this.image_.naturalWidth&&this.image_.naturalHeight?this.state=ol.TileState.LOADED:this.state=ol.TileState.EMPTY,this.unlistenImage_(),this.changed()},ol.ImageTile.prototype.load=function(){this.state!=ol.TileState.IDLE&&this.state!=ol.TileState.ERROR||(this.state=ol.TileState.LOADING,this.changed(),this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},ol.ImageTile.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey),this.imageListenerKeys_=null},goog.provide("ol.interaction.DragAndDrop"),goog.require("ol"),goog.require("ol.functions"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.interaction.Interaction"),goog.require("ol.proj"),ol.interaction.DragAndDrop=function(a){var b=a||{};ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DragAndDrop.handleEvent}),this.formatConstructors_=b.formatConstructors?b.formatConstructors:[],this.projection_=b.projection?ol.proj.get(b.projection):null,this.dropListenKeys_=null,this.target=b.target?b.target:null},ol.inherits(ol.interaction.DragAndDrop,ol.interaction.Interaction),ol.interaction.DragAndDrop.handleDrop_=function(a){var b,c,d,e=a.dataTransfer.files;for(b=0,c=e.length;b<c;++b){d=e.item(b);var f=new FileReader;f.addEventListener(ol.events.EventType.LOAD,this.handleResult_.bind(this,d)),f.readAsText(d)}},ol.interaction.DragAndDrop.handleStop_=function(a){a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="copy"},ol.interaction.DragAndDrop.prototype.handleResult_=function(a,b){var c=b.target.result,d=this.getMap(),e=this.projection_;if(!e){e=d.getView().getProjection()}var f,g,h=this.formatConstructors_,i=[];for(f=0,g=h.length;f<g;++f){var j=h[f],k=new j;if((i=this.tryReadFeatures_(k,c,{featureProjection:e}))&&i.length>0)break}this.dispatchEvent(new ol.interaction.DragAndDrop.Event(ol.interaction.DragAndDrop.EventType_.ADD_FEATURES,a,i,e))},ol.interaction.DragAndDrop.handleEvent=ol.functions.TRUE,ol.interaction.DragAndDrop.prototype.setMap=function(a){if(this.dropListenKeys_&&(this.dropListenKeys_.forEach(ol.events.unlistenByKey),this.dropListenKeys_=null),ol.interaction.Interaction.prototype.setMap.call(this,a),a){var b=this.target?this.target:a.getViewport();this.dropListenKeys_=[ol.events.listen(b,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleDrop_,this),ol.events.listen(b,ol.events.EventType.DRAGENTER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(b,ol.events.EventType.DRAGOVER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(b,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleStop_,this)]}},ol.interaction.DragAndDrop.prototype.tryReadFeatures_=function(a,b,c){try{return a.readFeatures(b,c)}catch(a){return null}},ol.interaction.DragAndDrop.EventType_={ADD_FEATURES:"addfeatures"},ol.interaction.DragAndDrop.Event=function(a,b,c,d){ol.events.Event.call(this,a),this.features=c,this.file=b,this.projection=d},ol.inherits(ol.interaction.DragAndDrop.Event,ol.events.Event),goog.provide("ol.interaction.DragRotateAndZoom"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.DragRotateAndZoom=function(a){var b=a||{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotateAndZoom.handleDownEvent_,handleDragEvent:ol.interaction.DragRotateAndZoom.handleDragEvent_,handleUpEvent:ol.interaction.DragRotateAndZoom.handleUpEvent_}),this.condition_=b.condition?b.condition:ol.events.condition.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==b.duration?b.duration:400},ol.inherits(ol.interaction.DragRotateAndZoom,ol.interaction.Pointer),ol.interaction.DragRotateAndZoom.handleDragEvent_=function(a){if(ol.events.condition.mouseOnly(a)){var b=a.map,c=b.getSize(),d=a.pixel,e=d[0]-c[0]/2,f=c[1]/2-d[1],g=Math.atan2(f,e),h=Math.sqrt(e*e+f*f),i=b.getView();if(void 0!==this.lastAngle_){var j=g-this.lastAngle_;ol.interaction.Interaction.rotateWithoutConstraints(i,i.getRotation()-j)}if(this.lastAngle_=g,void 0!==this.lastMagnitude_){var k=this.lastMagnitude_*(i.getResolution()/h);ol.interaction.Interaction.zoomWithoutConstraints(i,k)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/h),this.lastMagnitude_=h}},ol.interaction.DragRotateAndZoom.handleUpEvent_=function(a){if(!ol.events.condition.mouseOnly(a))return!0;var b=a.map,c=b.getView();c.setHint(ol.ViewHint.INTERACTING,-1);var d=this.lastScaleDelta_-1;return ol.interaction.Interaction.rotate(c,c.getRotation()),ol.interaction.Interaction.zoom(c,c.getResolution(),void 0,this.duration_,d),this.lastScaleDelta_=0,!1},ol.interaction.DragRotateAndZoom.handleDownEvent_=function(a){return!!ol.events.condition.mouseOnly(a)&&(!!this.condition_(a)&&(a.map.getView().setHint(ol.ViewHint.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},goog.provide("ol.interaction.DrawEventType"),ol.interaction.DrawEventType={DRAWSTART:"drawstart",DRAWEND:"drawend"},goog.provide("ol.render.canvas.Instruction"),ol.render.canvas.Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,DRAW_IMAGE:4,DRAW_TEXT:5,END_GEOMETRY:6,FILL:7,MOVE_TO_LINE_TO:8,SET_FILL_STYLE:9,SET_STROKE_STYLE:10,SET_TEXT_STYLE:11,STROKE:12},goog.provide("ol.render.canvas.Replay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.extent.Relationship"),goog.require("ol.geom.flat.transform"),goog.require("ol.has"),goog.require("ol.obj"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.transform"),ol.render.canvas.Replay=function(a,b,c,d){ol.render.VectorContext.call(this),this.tolerance=a,this.maxExtent=b,this.overlaps=d,this.maxLineWidth=0,this.resolution=c,this.fillOrigin_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.instructions=[],this.coordinates=[],this.renderedTransform_=ol.transform.create(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.tmpLocalTransform_=ol.transform.create(),this.resetTransform_=ol.transform.create()},ol.inherits(ol.render.canvas.Replay,ol.render.VectorContext),ol.render.canvas.Replay.prototype.appendFlatCoordinates=function(a,b,c,d,e,f){var g=this.coordinates.length,h=this.getBufferedMaxExtent();f&&(b+=d);var i,j,k,l=[a[b],a[b+1]],m=[NaN,NaN],n=!0;for(i=b+d;i<c;i+=d)m[0]=a[i],m[1]=a[i+1],k=ol.extent.coordinateRelationship(h,m),k!==j?(n&&(this.coordinates[g++]=l[0],this.coordinates[g++]=l[1]),
this.coordinates[g++]=m[0],this.coordinates[g++]=m[1],n=!1):k===ol.extent.Relationship.INTERSECTING?(this.coordinates[g++]=m[0],this.coordinates[g++]=m[1],n=!1):n=!0,l[0]=m[0],l[1]=m[1],j=k;return(e&&n||i===b+d)&&(this.coordinates[g++]=l[0],this.coordinates[g++]=l[1]),g},ol.render.canvas.Replay.prototype.beginGeometry=function(a,b){this.beginGeometryInstruction1_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,b,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,b,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},ol.render.canvas.Replay.prototype.fill_=function(a,b){if(this.fillOrigin_){var c=ol.transform.apply(this.renderedTransform_,this.fillOrigin_.slice());a.translate(c[0],c[1]),a.rotate(b)}a.fill(),this.fillOrigin_&&a.setTransform.apply(a,this.resetTransform_)},ol.render.canvas.Replay.prototype.replay_=function(a,b,c,d,e,f,g,h){var i;this.pixelCoordinates_&&ol.array.equals(c,this.renderedTransform_)?i=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),i=ol.geom.flat.transform.transform2D(this.coordinates,0,this.coordinates.length,2,c,this.pixelCoordinates_),ol.transform.setFromArray(this.renderedTransform_,c));for(var j,k,l,m,n,o=!ol.obj.isEmpty(e),p=0,q=f.length,r=0,s=this.tmpLocalTransform_,t=this.resetTransform_,u=0,v=0,w=this.instructions!=f||this.overlaps?0:200;p<q;){var x,y,z,A,B,C,D=f[p],E=D[0];switch(E){case ol.render.canvas.Instruction.BEGIN_GEOMETRY:x=D[1],o&&e[ol.getUid(x).toString()]||!x.getGeometry()?p=D[2]:void 0===h||ol.extent.intersects(h,x.getGeometry().getExtent())?++p:p=D[2]+1;break;case ol.render.canvas.Instruction.BEGIN_PATH:u>w&&(this.fill_(a,d),u=0),v>w&&(a.stroke(),v=0),u||v||(a.beginPath(),k=l=NaN),++p;break;case ol.render.canvas.Instruction.CIRCLE:r=D[1];var F=i[r],G=i[r+1],H=i[r+2],I=i[r+3],J=H-F,K=I-G,L=Math.sqrt(J*J+K*K);a.moveTo(F+L,G),a.arc(F,G,L,0,2*Math.PI,!0),++p;break;case ol.render.canvas.Instruction.CLOSE_PATH:a.closePath(),++p;break;case ol.render.canvas.Instruction.DRAW_IMAGE:r=D[1],j=D[2];var M=D[3],N=D[4]*b,O=D[5]*b,P=D[6],Q=D[7],R=D[8],S=D[9],T=D[10],U=D[11],V=D[12],W=D[13],X=D[14];for(T&&(U+=d);r<j;r+=2){if(B=i[r]-N,C=i[r+1]-O,W&&(B=Math.round(B),C=Math.round(C)),1!=V||0!==U){var Y=B+N,Z=C+O;ol.transform.compose(s,Y,Z,V,V,U,-Y,-Z),a.setTransform.apply(a,s)}var $=a.globalAlpha;1!=Q&&(a.globalAlpha=$*Q);var _=X+R>M.width?M.width-R:X,aa=P+S>M.height?M.height-S:P;a.drawImage(M,R,S,_,aa,B,C,_*b,aa*b),1!=Q&&(a.globalAlpha=$),1==V&&0===U||a.setTransform.apply(a,t)}++p;break;case ol.render.canvas.Instruction.DRAW_TEXT:r=D[1],j=D[2],A=D[3];var ba=D[4]*b,ca=D[5]*b;for(U=D[6],V=D[7]*b,y=D[8],z=D[9],T=D[10],T&&(U+=d);r<j;r+=2){B=i[r]+ba,C=i[r+1]+ca,1==V&&0===U||(ol.transform.compose(s,B,C,V,V,U,-B,-C),a.setTransform.apply(a,s));var da,ea,fa=A.split("\n"),ga=fa.length;ga>1?(da=Math.round(1.5*a.measureText("M").width),ea=C-(ga-1)/2*da):(da=0,ea=C);for(var ha=0;ha<ga;ha++){var ia=fa[ha];z&&a.strokeText(ia,B,ea),y&&a.fillText(ia,B,ea),ea+=da}1==V&&0===U||a.setTransform.apply(a,t)}++p;break;case ol.render.canvas.Instruction.END_GEOMETRY:if(void 0!==g){x=D[1];var ja=g(x);if(ja)return ja}++p;break;case ol.render.canvas.Instruction.FILL:w?u++:this.fill_(a,d),++p;break;case ol.render.canvas.Instruction.MOVE_TO_LINE_TO:for(r=D[1],j=D[2],B=i[r],C=i[r+1],m=B+.5|0,n=C+.5|0,m===k&&n===l||(a.moveTo(B,C),k=m,l=n),r+=2;r<j;r+=2)B=i[r],C=i[r+1],m=B+.5|0,n=C+.5|0,r!=j-2&&m===k&&n===l||(a.lineTo(B,C),k=m,l=n);++p;break;case ol.render.canvas.Instruction.SET_FILL_STYLE:this.fillOrigin_=D[2],u&&(this.fill_(a,d),u=0,v&&(a.stroke(),v=0)),a.fillStyle=D[1],++p;break;case ol.render.canvas.Instruction.SET_STROKE_STYLE:var ka=void 0===D[8]||D[8],la=D[9],ma=D[2];if(v&&(a.stroke(),v=0),a.strokeStyle=D[1],a.lineWidth=ka?ma*b:ma,a.lineCap=D[3],a.lineJoin=D[4],a.miterLimit=D[5],ol.has.CANVAS_LINE_DASH){var na=D[6],oa=D[7];ka&&b!==la&&(na=na.map(function(a){return a*b/la}),oa*=b/la,D[6]=na,D[7]=oa,D[9]=b),a.lineDashOffset=oa,a.setLineDash(na)}++p;break;case ol.render.canvas.Instruction.SET_TEXT_STYLE:a.font=D[1],a.textAlign=D[2],a.textBaseline=D[3],++p;break;case ol.render.canvas.Instruction.STROKE:w?v++:a.stroke(),++p;break;default:++p}}u&&this.fill_(a,d),v&&a.stroke()},ol.render.canvas.Replay.prototype.replay=function(a,b,c,d,e){var f=this.instructions;this.replay_(a,b,c,d,e,f,void 0,void 0)},ol.render.canvas.Replay.prototype.replayHitDetection=function(a,b,c,d,e,f){var g=this.hitDetectionInstructions;return this.replay_(a,1,b,c,d,g,e,f)},ol.render.canvas.Replay.prototype.reverseHitDetectionInstructions=function(){var a=this.hitDetectionInstructions;a.reverse();var b,c,d,e=a.length,f=-1;for(b=0;b<e;++b)c=a[b],d=c[0],d==ol.render.canvas.Instruction.END_GEOMETRY?f=b:d==ol.render.canvas.Instruction.BEGIN_GEOMETRY&&(c[2]=b,ol.array.reverseSubArray(this.hitDetectionInstructions,f,b),f=-1)},ol.render.canvas.Replay.prototype.endGeometry=function(a,b){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var c=[ol.render.canvas.Instruction.END_GEOMETRY,b];this.instructions.push(c),this.hitDetectionInstructions.push(c)},ol.render.canvas.Replay.prototype.finish=ol.nullFunction,ol.render.canvas.Replay.prototype.getBufferedMaxExtent=function(){return this.maxExtent},goog.provide("ol.render.canvas.ImageReplay"),goog.require("ol"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),ol.render.canvas.ImageReplay=function(a,b,c,d){ol.render.canvas.Replay.call(this,a,b,c,d),this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0},ol.inherits(ol.render.canvas.ImageReplay,ol.render.canvas.Replay),ol.render.canvas.ImageReplay.prototype.drawCoordinates_=function(a,b,c,d){return this.appendFlatCoordinates(a,b,c,d,!1,!1)},ol.render.canvas.ImageReplay.prototype.drawPoint=function(a,b){if(this.image_){this.beginGeometry(a,b);var c=a.getFlatCoordinates(),d=a.getStride(),e=this.coordinates.length,f=this.drawCoordinates_(c,0,c.length,d);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,e,f,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,e,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(a,b)}},ol.render.canvas.ImageReplay.prototype.drawMultiPoint=function(a,b){if(this.image_){this.beginGeometry(a,b);var c=a.getFlatCoordinates(),d=a.getStride(),e=this.coordinates.length,f=this.drawCoordinates_(c,0,c.length,d);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,e,f,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,e,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(a,b)}},ol.render.canvas.ImageReplay.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},ol.render.canvas.ImageReplay.prototype.setImageStyle=function(a){var b=a.getAnchor(),c=a.getSize(),d=a.getHitDetectionImage(1),e=a.getImage(1),f=a.getOrigin();this.anchorX_=b[0],this.anchorY_=b[1],this.hitDetectionImage_=d,this.image_=e,this.height_=c[1],this.opacity_=a.getOpacity(),this.originX_=f[0],this.originY_=f[1],this.rotateWithView_=a.getRotateWithView(),this.rotation_=a.getRotation(),this.scale_=a.getScale(),this.snapToPixel_=a.getSnapToPixel(),this.width_=c[0]},goog.provide("ol.render.canvas.LineStringReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.colorlike"),goog.require("ol.extent"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),ol.render.canvas.LineStringReplay=function(a,b,c,d){ol.render.canvas.Replay.call(this,a,b,c,d),this.bufferedMaxExtent_=null,this.state_={currentStrokeStyle:void 0,currentLineCap:void 0,currentLineDash:null,currentLineDashOffset:void 0,currentLineJoin:void 0,currentLineWidth:void 0,currentMiterLimit:void 0,lastStroke:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}},ol.inherits(ol.render.canvas.LineStringReplay,ol.render.canvas.Replay),ol.render.canvas.LineStringReplay.prototype.drawFlatCoordinates_=function(a,b,c,d){var e=this.coordinates.length,f=this.appendFlatCoordinates(a,b,c,d,!1,!1),g=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,e,f];return this.instructions.push(g),this.hitDetectionInstructions.push(g),c},ol.render.canvas.LineStringReplay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent),this.maxLineWidth>0)){var a=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},ol.render.canvas.LineStringReplay.prototype.setStrokeStyle_=function(){var a=this.state_,b=a.strokeStyle,c=a.lineCap,d=a.lineDash,e=a.lineDashOffset,f=a.lineJoin,g=a.lineWidth,h=a.miterLimit;a.currentStrokeStyle==b&&a.currentLineCap==c&&ol.array.equals(a.currentLineDash,d)&&a.currentLineDashOffset==e&&a.currentLineJoin==f&&a.currentLineWidth==g&&a.currentMiterLimit==h||(a.lastStroke!=this.coordinates.length&&(this.instructions.push([ol.render.canvas.Instruction.STROKE]),a.lastStroke=this.coordinates.length),this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,b,g,c,f,h,d,e,!0,1],[ol.render.canvas.Instruction.BEGIN_PATH]),a.currentStrokeStyle=b,a.currentLineCap=c,a.currentLineDash=d,a.currentLineDashOffset=e,a.currentLineJoin=f,a.currentLineWidth=g,a.currentMiterLimit=h)},ol.render.canvas.LineStringReplay.prototype.drawLineString=function(a,b){var c=this.state_,d=c.strokeStyle,e=c.lineWidth;if(void 0!==d&&void 0!==e){this.setStrokeStyle_(),this.beginGeometry(a,b),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1],[ol.render.canvas.Instruction.BEGIN_PATH]);var f=a.getFlatCoordinates(),g=a.getStride();this.drawFlatCoordinates_(f,0,f.length,g),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]),this.endGeometry(a,b)}},ol.render.canvas.LineStringReplay.prototype.drawMultiLineString=function(a,b){var c=this.state_,d=c.strokeStyle,e=c.lineWidth;if(void 0!==d&&void 0!==e){this.setStrokeStyle_(),this.beginGeometry(a,b),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1],[ol.render.canvas.Instruction.BEGIN_PATH]);var f,g,h=a.getEnds(),i=a.getFlatCoordinates(),j=a.getStride(),k=0;for(f=0,g=h.length;f<g;++f)k=this.drawFlatCoordinates_(i,k,h[f],j);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]),this.endGeometry(a,b)}},ol.render.canvas.LineStringReplay.prototype.finish=function(){this.state_.lastStroke!=this.coordinates.length&&this.instructions.push([ol.render.canvas.Instruction.STROKE]),this.reverseHitDetectionInstructions(),this.state_=null},ol.render.canvas.LineStringReplay.prototype.setFillStrokeStyle=function(a,b){var c=b.getColor();this.state_.strokeStyle=ol.colorlike.asColorLike(c||ol.render.canvas.defaultStrokeStyle);var d=b.getLineCap();this.state_.lineCap=void 0!==d?d:ol.render.canvas.defaultLineCap;var e=b.getLineDash();this.state_.lineDash=e||ol.render.canvas.defaultLineDash;var f=b.getLineDashOffset();this.state_.lineDashOffset=f||ol.render.canvas.defaultLineDashOffset;var g=b.getLineJoin();this.state_.lineJoin=void 0!==g?g:ol.render.canvas.defaultLineJoin;var h=b.getWidth();this.state_.lineWidth=void 0!==h?h:ol.render.canvas.defaultLineWidth;var i=b.getMiterLimit();this.state_.miterLimit=void 0!==i?i:ol.render.canvas.defaultMiterLimit,this.state_.lineWidth>this.maxLineWidth&&(this.maxLineWidth=this.state_.lineWidth,this.bufferedMaxExtent_=null)},goog.provide("ol.render.canvas.PolygonReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.colorlike"),goog.require("ol.extent"),goog.require("ol.geom.flat.simplify"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),ol.render.canvas.PolygonReplay=function(a,b,c,d){ol.render.canvas.Replay.call(this,a,b,c,d),this.bufferedMaxExtent_=null,this.state_={currentFillStyle:void 0,currentStrokeStyle:void 0,currentLineCap:void 0,currentLineDash:null,currentLineDashOffset:void 0,currentLineJoin:void 0,currentLineWidth:void 0,currentMiterLimit:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}},ol.inherits(ol.render.canvas.PolygonReplay,ol.render.canvas.Replay),ol.render.canvas.PolygonReplay.prototype.drawFlatCoordinatess_=function(a,b,c,d){var e=this.state_,f=void 0!==e.fillStyle,g=void 0!=e.strokeStyle,h=c.length,i=[ol.render.canvas.Instruction.BEGIN_PATH];this.instructions.push(i),this.hitDetectionInstructions.push(i);for(var j=0;j<h;++j){var k=c[j],l=this.coordinates.length,m=this.appendFlatCoordinates(a,b,k,d,!0,!g),n=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,l,m];if(this.instructions.push(n),this.hitDetectionInstructions.push(n),g){var o=[ol.render.canvas.Instruction.CLOSE_PATH];this.instructions.push(o),this.hitDetectionInstructions.push(o)}b=k}var p=[ol.render.canvas.Instruction.FILL];if(this.hitDetectionInstructions.push(p),f&&this.instructions.push(p),g){var q=[ol.render.canvas.Instruction.STROKE];this.instructions.push(q),this.hitDetectionInstructions.push(q)}return b},ol.render.canvas.PolygonReplay.prototype.drawCircle=function(a,b){var c=this.state_,d=c.fillStyle,e=c.strokeStyle;if(void 0!==d||void 0!==e){this.setFillStrokeStyles_(a),this.beginGeometry(a,b),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);var f=a.getFlatCoordinates(),g=a.getStride(),h=this.coordinates.length;this.appendFlatCoordinates(f,0,f.length,g,!1,!1);var i=[ol.render.canvas.Instruction.BEGIN_PATH],j=[ol.render.canvas.Instruction.CIRCLE,h];this.instructions.push(i,j),this.hitDetectionInstructions.push(i,j);var k=[ol.render.canvas.Instruction.FILL];if(this.hitDetectionInstructions.push(k),void 0!==c.fillStyle&&this.instructions.push(k),void 0!==c.strokeStyle){var l=[ol.render.canvas.Instruction.STROKE];this.instructions.push(l),this.hitDetectionInstructions.push(l)}this.endGeometry(a,b)}},ol.render.canvas.PolygonReplay.prototype.drawPolygon=function(a,b){var c=this.state_;this.setFillStrokeStyles_(a),this.beginGeometry(a,b),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);var d=a.getEnds(),e=a.getOrientedFlatCoordinates(),f=a.getStride();this.drawFlatCoordinatess_(e,0,d,f),this.endGeometry(a,b)},ol.render.canvas.PolygonReplay.prototype.drawMultiPolygon=function(a,b){var c=this.state_,d=c.fillStyle,e=c.strokeStyle;if(void 0!==d||void 0!==e){this.setFillStrokeStyles_(a),this.beginGeometry(a,b),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);var f,g,h=a.getEndss(),i=a.getOrientedFlatCoordinates(),j=a.getStride(),k=0;for(f=0,g=h.length;f<g;++f)k=this.drawFlatCoordinatess_(i,k,h[f],j);this.endGeometry(a,b)}},ol.render.canvas.PolygonReplay.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state_=null;var a=this.tolerance;if(0!==a){var b,c,d=this.coordinates;for(b=0,c=d.length;b<c;++b)d[b]=ol.geom.flat.simplify.snap(d[b],a)}},ol.render.canvas.PolygonReplay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent),this.maxLineWidth>0)){var a=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyle=function(a,b){var c=this.state_;if(a){var d=a.getColor();c.fillStyle=ol.colorlike.asColorLike(d||ol.render.canvas.defaultFillStyle)}else c.fillStyle=void 0;if(b){var e=b.getColor();c.strokeStyle=ol.colorlike.asColorLike(e||ol.render.canvas.defaultStrokeStyle);var f=b.getLineCap();c.lineCap=void 0!==f?f:ol.render.canvas.defaultLineCap;var g=b.getLineDash();c.lineDash=g?g.slice():ol.render.canvas.defaultLineDash;var h=b.getLineDashOffset();c.lineDashOffset=h||ol.render.canvas.defaultLineDashOffset;var i=b.getLineJoin();c.lineJoin=void 0!==i?i:ol.render.canvas.defaultLineJoin;var j=b.getWidth();c.lineWidth=void 0!==j?j:ol.render.canvas.defaultLineWidth;var k=b.getMiterLimit();c.miterLimit=void 0!==k?k:ol.render.canvas.defaultMiterLimit,c.lineWidth>this.maxLineWidth&&(this.maxLineWidth=c.lineWidth,this.bufferedMaxExtent_=null)}else c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineDashOffset=void 0,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0},ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyles_=function(a){var b=this.state_,c=b.fillStyle,d=b.strokeStyle,e=b.lineCap,f=b.lineDash,g=b.lineDashOffset,h=b.lineJoin,i=b.lineWidth,j=b.miterLimit;if(void 0!==c&&("string"!=typeof c||b.currentFillStyle!=c)){var k=[ol.render.canvas.Instruction.SET_FILL_STYLE,c];if("string"!=typeof c){var l=a.getExtent();k.push([l[0],l[3]])}this.instructions.push(k),b.currentFillStyle=b.fillStyle}void 0!==d&&(b.currentStrokeStyle==d&&b.currentLineCap==e&&ol.array.equals(b.currentLineDash,f)&&b.currentLineDashOffset==g&&b.currentLineJoin==h&&b.currentLineWidth==i&&b.currentMiterLimit==j||(this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,d,i,e,h,j,f,g,!0,1]),b.currentStrokeStyle=d,b.currentLineCap=e,b.currentLineDash=f,b.currentLineDashOffset=g,b.currentLineJoin=h,b.currentLineWidth=i,b.currentMiterLimit=j))},goog.provide("ol.render.canvas.TextReplay"),goog.require("ol"),goog.require("ol.colorlike"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),ol.render.canvas.TextReplay=function(a,b,c,d){ol.render.canvas.Replay.call(this,a,b,c,d),this.replayFillState_=null,this.replayStrokeState_=null,this.replayTextState_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null},ol.inherits(ol.render.canvas.TextReplay,ol.render.canvas.Replay),ol.render.canvas.TextReplay.prototype.drawText=function(a,b,c,d,e,f){if(""!==this.text_&&this.textState_&&(this.textFillState_||this.textStrokeState_)){this.textFillState_&&this.setReplayFillState_(this.textFillState_),this.textStrokeState_&&this.setReplayStrokeState_(this.textStrokeState_),this.setReplayTextState_(this.textState_),this.beginGeometry(e,f);var g=this.coordinates.length,h=this.appendFlatCoordinates(a,b,c,d,!1,!1),i=!!this.textFillState_,j=!!this.textStrokeState_,k=[ol.render.canvas.Instruction.DRAW_TEXT,g,h,this.text_,this.textOffsetX_,this.textOffsetY_,this.textRotation_,this.textScale_,i,j,this.textRotateWithView_];this.instructions.push(k),this.hitDetectionInstructions.push(k),this.endGeometry(e,f)}},ol.render.canvas.TextReplay.prototype.setReplayFillState_=function(a){var b=this.replayFillState_;if(!b||b.fillStyle!=a.fillStyle){var c=[ol.render.canvas.Instruction.SET_FILL_STYLE,a.fillStyle];this.instructions.push(c),this.hitDetectionInstructions.push(c),b?b.fillStyle=a.fillStyle:this.replayFillState_={fillStyle:a.fillStyle}}},ol.render.canvas.TextReplay.prototype.setReplayStrokeState_=function(a){var b=this.replayStrokeState_;if(!b||b.lineCap!=a.lineCap||b.lineDash!=a.lineDash||b.lineDashOffset!=a.lineDashOffset||b.lineJoin!=a.lineJoin||b.lineWidth!=a.lineWidth||b.miterLimit!=a.miterLimit||b.strokeStyle!=a.strokeStyle){var c=[ol.render.canvas.Instruction.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,a.lineDash,a.lineDashOffset,!1,1];this.instructions.push(c),this.hitDetectionInstructions.push(c),b?(b.lineCap=a.lineCap,b.lineDash=a.lineDash,b.lineDashOffset=a.lineDashOffset,b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.strokeStyle=a.strokeStyle):this.replayStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle}}},ol.render.canvas.TextReplay.prototype.setReplayTextState_=function(a){var b=this.replayTextState_;if(!b||b.font!=a.font||b.textAlign!=a.textAlign||b.textBaseline!=a.textBaseline){var c=[ol.render.canvas.Instruction.SET_TEXT_STYLE,a.font,a.textAlign,a.textBaseline];this.instructions.push(c),this.hitDetectionInstructions.push(c),b?(b.font=a.font,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline):this.replayTextState_={font:a.font,textAlign:a.textAlign,textBaseline:a.textBaseline}}},ol.render.canvas.TextReplay.prototype.setTextStyle=function(a){if(a){var b=a.getFill();if(b){var c=b.getColor(),d=ol.colorlike.asColorLike(c||ol.render.canvas.defaultFillStyle);if(this.textFillState_){this.textFillState_.fillStyle=d}else this.textFillState_={fillStyle:d}}else this.textFillState_=null;var e=a.getStroke();if(e){var f=e.getColor(),g=e.getLineCap(),h=e.getLineDash(),i=e.getLineDashOffset(),j=e.getLineJoin(),k=e.getWidth(),l=e.getMiterLimit(),m=void 0!==g?g:ol.render.canvas.defaultLineCap,n=h?h.slice():ol.render.canvas.defaultLineDash,o=void 0!==i?i:ol.render.canvas.defaultLineDashOffset,p=void 0!==j?j:ol.render.canvas.defaultLineJoin,q=void 0!==k?k:ol.render.canvas.defaultLineWidth,r=void 0!==l?l:ol.render.canvas.defaultMiterLimit,s=ol.colorlike.asColorLike(f||ol.render.canvas.defaultStrokeStyle);if(this.textStrokeState_){var t=this.textStrokeState_;t.lineCap=m,t.lineDash=n,t.lineDashOffset=o,t.lineJoin=p,t.lineWidth=q,t.miterLimit=r,t.strokeStyle=s}else this.textStrokeState_={lineCap:m,lineDash:n,lineDashOffset:o,lineJoin:p,lineWidth:q,miterLimit:r,strokeStyle:s}}else this.textStrokeState_=null;var u=a.getFont(),v=a.getOffsetX(),w=a.getOffsetY(),x=a.getRotateWithView(),y=a.getRotation(),z=a.getScale(),A=a.getText(),B=a.getTextAlign(),C=a.getTextBaseline(),D=void 0!==u?u:ol.render.canvas.defaultFont,E=void 0!==B?B:ol.render.canvas.defaultTextAlign,F=void 0!==C?C:ol.render.canvas.defaultTextBaseline;if(this.textState_){var G=this.textState_;G.font=D,G.textAlign=E,G.textBaseline=F}else this.textState_={font:D,textAlign:E,textBaseline:F};this.text_=void 0!==A?A:"",this.textOffsetX_=void 0!==v?v:0,this.textOffsetY_=void 0!==w?w:0,this.textRotateWithView_=void 0!==x&&x,this.textRotation_=void 0!==y?y:0,this.textScale_=void 0!==z?z:1}else this.text_=""},goog.provide("ol.render.canvas.ReplayGroup"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.geom.flat.transform"),goog.require("ol.obj"),goog.require("ol.render.ReplayGroup"),goog.require("ol.render.canvas.ImageReplay"),goog.require("ol.render.canvas.LineStringReplay"),goog.require("ol.render.canvas.PolygonReplay"),goog.require("ol.render.canvas.TextReplay"),goog.require("ol.render.replay"),goog.require("ol.transform"),ol.render.canvas.ReplayGroup=function(a,b,c,d,e){ol.render.ReplayGroup.call(this),this.tolerance_=a,this.maxExtent_=b,this.overlaps_=d,this.resolution_=c,this.renderBuffer_=e,this.replaysByZIndex_={},this.hitDetectionContext_=ol.dom.createCanvasContext2D(1,1),this.hitDetectionTransform_=ol.transform.create()},ol.inherits(ol.render.canvas.ReplayGroup,ol.render.ReplayGroup),ol.render.canvas.ReplayGroup.circleArrayCache_={0:[[!0]]},ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_=function(a,b,c){var d,e=Math.floor(a.length/2);if(b>=e)for(d=e;d<b;d++)a[d][c]=!0;else if(b<e)for(d=b+1;d<e;d++)a[d][c]=!0},ol.render.canvas.ReplayGroup.getCircleArray_=function(a){if(void 0!==ol.render.canvas.ReplayGroup.circleArrayCache_[a])return ol.render.canvas.ReplayGroup.circleArrayCache_[a];for(var b=2*a+1,c=new Array(b),d=0;d<b;d++)c[d]=new Array(b);for(var e=a,f=0,g=0;e>=f;)ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+e,a+f),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+f,a+e),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-f,a+e),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-e,a+f),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-e,a-f),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-f,a-e),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+f,a-e),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+e,a-f),f++,2*((g+=1+2*f)-e)+1>0&&(e-=1,g+=1-2*e);return ol.render.canvas.ReplayGroup.circleArrayCache_[a]=c,c},ol.render.canvas.ReplayGroup.prototype.finish=function(){var a;for(a in this.replaysByZIndex_){var b,c=this.replaysByZIndex_[a];for(b in c)c[b].finish()}},ol.render.canvas.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f){d=Math.round(d);var g=2*d+1,h=ol.transform.compose(this.hitDetectionTransform_,d+.5,d+.5,1/b,-1/b,-c,-a[0],-a[1]),i=this.hitDetectionContext_;i.canvas.width!==g||i.canvas.height!==g?(i.canvas.width=g,i.canvas.height=g):i.clearRect(0,0,g,g);var j;void 0!==this.renderBuffer_&&(j=ol.extent.createEmpty(),ol.extent.extendCoordinate(j,a),ol.extent.buffer(j,b*(this.renderBuffer_+d),j));var k=ol.render.canvas.ReplayGroup.getCircleArray_(d);return this.replayHitDetection_(i,h,c,e,function(a){for(var b=i.getImageData(0,0,g,g).data,c=0;c<g;c++)for(var d=0;d<g;d++)if(k[c][d]&&b[4*(d*g+c)+3]>0){var e=f(a);return e||void i.clearRect(0,0,g,g)}},j)},ol.render.canvas.ReplayGroup.prototype.getClipCoords=function(a){var b=this.maxExtent_,c=b[0],d=b[1],e=b[2],f=b[3],g=[c,d,c,f,e,f,e,d];return ol.geom.flat.transform.transform2D(g,0,8,2,a,g),g},ol.render.canvas.ReplayGroup.prototype.getReplay=function(a,b){var c=void 0!==a?a.toString():"0",d=this.replaysByZIndex_[c];void 0===d&&(d={},this.replaysByZIndex_[c]=d);var e=d[b];if(void 0===e){e=new(0,ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_[b])(this.tolerance_,this.maxExtent_,this.resolution_,this.overlaps_),d[b]=e}return e},ol.render.canvas.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)},ol.render.canvas.ReplayGroup.prototype.replay=function(a,b,c,d,e,f){var g=Object.keys(this.replaysByZIndex_).map(Number);g.sort(ol.array.numberSafeCompareFunction);var h=this.getClipCoords(c);a.save(),a.beginPath(),a.moveTo(h[0],h[1]),a.lineTo(h[2],h[3]),a.lineTo(h[4],h[5]),a.lineTo(h[6],h[7]),a.clip();var i,j,k,l,m,n,o=f||ol.render.replay.ORDER;for(i=0,j=g.length;i<j;++i)for(m=this.replaysByZIndex_[g[i].toString()],k=0,l=o.length;k<l;++k)void 0!==(n=m[o[k]])&&n.replay(a,b,c,d,e);a.restore()},ol.render.canvas.ReplayGroup.prototype.replayHitDetection_=function(a,b,c,d,e,f){var g=Object.keys(this.replaysByZIndex_).map(Number);g.sort(function(a,b){return b-a});var h,i,j,k,l,m;for(h=0,i=g.length;h<i;++h)for(k=this.replaysByZIndex_[g[h].toString()],j=ol.render.replay.ORDER.length-1;j>=0;--j)if(void 0!==(l=k[ol.render.replay.ORDER[j]])&&(m=l.replayHitDetection(a,b,c,d,e,f)))return m},ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.canvas.PolygonReplay,Image:ol.render.canvas.ImageReplay,LineString:ol.render.canvas.LineStringReplay,Polygon:ol.render.canvas.PolygonReplay,Text:ol.render.canvas.TextReplay},goog.provide("ol.renderer.Layer"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.Observable"),goog.require("ol.TileState"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.functions"),goog.require("ol.source.State"),ol.renderer.Layer=function(a){ol.Observable.call(this),this.layer_=a},ol.inherits(ol.renderer.Layer,ol.Observable),ol.renderer.Layer.prototype.forEachFeatureAtCoordinate=ol.nullFunction,ol.renderer.Layer.prototype.hasFeatureAtCoordinate=ol.functions.FALSE,ol.renderer.Layer.prototype.createLoadedTileFinder=function(a,b,c){return function(d,e){function f(a){c[d]||(c[d]={}),c[d][a.tileCoord.toString()]=a}return a.forEachLoadedTile(b,d,e,f)}},ol.renderer.Layer.prototype.getLayer=function(){return this.layer_};ol.renderer.Layer.prototype.handleImageChange_=function(a){a.target.getState()===ol.ImageState.LOADED&&this.renderIfReadyAndVisible()},ol.renderer.Layer.prototype.loadImage=function(a){var b=a.getState();return b!=ol.ImageState.LOADED&&b!=ol.ImageState.ERROR&&ol.events.listen(a,ol.events.EventType.CHANGE,this.handleImageChange_,this),b==ol.ImageState.IDLE&&(a.load(),b=a.getState()),b==ol.ImageState.LOADED},ol.renderer.Layer.prototype.renderIfReadyAndVisible=function(){var a=this.getLayer();a.getVisible()&&a.getSourceState()==ol.source.State.READY&&this.changed()},ol.renderer.Layer.prototype.scheduleExpireCache=function(a,b){if(b.canExpireCache()){var c=function(a,b,c){var d=ol.getUid(a).toString();a.expireCache(c.viewState.projection,c.usedTiles[d])}.bind(null,b);a.postRenderFunctions.push(c)}},ol.renderer.Layer.prototype.updateAttributions=function(a,b){if(b){var c,d,e;for(d=0,e=b.length;d<e;++d)c=b[d],a[ol.getUid(c).toString()]=c}},ol.renderer.Layer.prototype.updateLogos=function(a,b){var c=b.getLogo();void 0!==c&&("string"==typeof c?a.logos[c]="":c&&(ol.asserts.assert("string"==typeof c.href,44),ol.asserts.assert("string"==typeof c.src,45),a.logos[c.src]=c.href))},ol.renderer.Layer.prototype.updateUsedTiles=function(a,b,c,d){var e=ol.getUid(b).toString(),f=c.toString();e in a?f in a[e]?a[e][f].extend(d):a[e][f]=d:(a[e]={},a[e][f]=d)},ol.renderer.Layer.prototype.manageTilePyramid=function(a,b,c,d,e,f,g,h,i,j){var k=ol.getUid(b).toString();k in a.wantedTiles||(a.wantedTiles[k]={});var l,m,n,o,p,q,r=a.wantedTiles[k],s=a.tileQueue,t=c.getMinZoom();for(q=g;q>=t;--q)for(m=c.getTileRangeForExtentAndZ(f,q,m),n=c.getResolution(q),o=m.minX;o<=m.maxX;++o)for(p=m.minY;p<=m.maxY;++p)g-q<=h?(l=b.getTile(q,o,p,d,e),l.getState()==ol.TileState.IDLE&&(r[l.getKey()]=!0,s.isKeyQueued(l.getKey())||s.enqueue([l,k,c.getTileCoordCenter(l.tileCoord),n])),void 0!==i&&i.call(j,l)):b.useTile(q,o,p,e)},goog.provide("ol.renderer.canvas.Layer"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.render.Event"),
goog.require("ol.render.EventType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.renderer.Layer"),goog.require("ol.transform"),ol.renderer.canvas.Layer=function(a){ol.renderer.Layer.call(this,a),this.renderedResolution,this.transform_=ol.transform.create()},ol.inherits(ol.renderer.canvas.Layer,ol.renderer.Layer),ol.renderer.canvas.Layer.prototype.clip=function(a,b,c){var d=b.pixelRatio,e=b.size[0]*d,f=b.size[1]*d,g=b.viewState.rotation,h=ol.extent.getTopLeft(c),i=ol.extent.getTopRight(c),j=ol.extent.getBottomRight(c),k=ol.extent.getBottomLeft(c);ol.transform.apply(b.coordinateToPixelTransform,h),ol.transform.apply(b.coordinateToPixelTransform,i),ol.transform.apply(b.coordinateToPixelTransform,j),ol.transform.apply(b.coordinateToPixelTransform,k),a.save(),ol.render.canvas.rotateAtOffset(a,-g,e/2,f/2),a.beginPath(),a.moveTo(h[0]*d,h[1]*d),a.lineTo(i[0]*d,i[1]*d),a.lineTo(j[0]*d,j[1]*d),a.lineTo(k[0]*d,k[1]*d),a.clip(),ol.render.canvas.rotateAtOffset(a,g,e/2,f/2)},ol.renderer.canvas.Layer.prototype.dispatchComposeEvent_=function(a,b,c,d){var e=this.getLayer();if(e.hasListener(a)){var f=c.size[0]*c.pixelRatio,g=c.size[1]*c.pixelRatio,h=c.viewState.rotation;ol.render.canvas.rotateAtOffset(b,-h,f/2,g/2);var i=void 0!==d?d:this.getTransform(c,0),j=new ol.render.canvas.Immediate(b,c.pixelRatio,c.extent,i,c.viewState.rotation),k=new ol.render.Event(a,j,c,b,null);e.dispatchEvent(k),ol.render.canvas.rotateAtOffset(b,h,f/2,g/2)}},ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate=function(a,b,c,d){return this.forEachFeatureAtCoordinate(a,b,0,ol.functions.TRUE,this)?c.call(d,this.getLayer(),null):void 0},ol.renderer.canvas.Layer.prototype.postCompose=function(a,b,c,d){this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a,b,d)},ol.renderer.canvas.Layer.prototype.preCompose=function(a,b,c){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a,b,c)},ol.renderer.canvas.Layer.prototype.dispatchRenderEvent=function(a,b,c){this.dispatchComposeEvent_(ol.render.EventType.RENDER,a,b,c)},ol.renderer.canvas.Layer.prototype.getTransform=function(a,b){var c=a.viewState,d=a.pixelRatio,e=d*a.size[0]/2,f=d*a.size[1]/2,g=d/c.resolution,h=-g,i=-c.rotation,j=-c.center[0]+b,k=-c.center[1];return ol.transform.compose(this.transform_,e,f,g,h,i,j,k)},ol.renderer.canvas.Layer.prototype.composeFrame=function(a,b,c){},ol.renderer.canvas.Layer.prototype.prepareFrame=function(a,b){},goog.provide("ol.renderer.vector"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.render.ReplayType"),ol.renderer.vector.defaultOrder=function(a,b){return ol.getUid(a)-ol.getUid(b)},ol.renderer.vector.getSquaredTolerance=function(a,b){var c=ol.renderer.vector.getTolerance(a,b);return c*c},ol.renderer.vector.getTolerance=function(a,b){return ol.SIMPLIFY_TOLERANCE*a/b},ol.renderer.vector.renderCircleGeometry_=function(a,b,c,d){var e=c.getFill(),f=c.getStroke();if(e||f){var g=a.getReplay(c.getZIndex(),ol.render.ReplayType.CIRCLE);g.setFillStrokeStyle(e,f),g.drawCircle(b,d)}var h=c.getText();if(h){var i=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);i.setTextStyle(h),i.drawText(b.getCenter(),0,2,2,b,d)}},ol.renderer.vector.renderFeature=function(a,b,c,d,e,f){var g,h,i=!1;return g=c.getImage(),g&&(h=g.getImageState(),h==ol.ImageState.LOADED||h==ol.ImageState.ERROR?g.unlistenImageChange(e,f):(h==ol.ImageState.IDLE&&g.load(),h=g.getImageState(),g.listenImageChange(e,f),i=!0)),ol.renderer.vector.renderFeature_(a,b,c,d),i},ol.renderer.vector.renderFeature_=function(a,b,c,d){var e=c.getGeometryFunction()(b);if(e){var f=e.getSimplifiedGeometry(d);(0,ol.renderer.vector.GEOMETRY_RENDERERS_[f.getType()])(a,f,c,b)}},ol.renderer.vector.renderGeometryCollectionGeometry_=function(a,b,c,d){var e,f,g=b.getGeometriesArray();for(e=0,f=g.length;e<f;++e){(0,ol.renderer.vector.GEOMETRY_RENDERERS_[g[e].getType()])(a,g[e],c,d)}},ol.renderer.vector.renderLineStringGeometry_=function(a,b,c,d){var e=c.getStroke();if(e){var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.LINE_STRING);f.setFillStrokeStyle(null,e),f.drawLineString(b,d)}var g=c.getText();if(g){var h=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);h.setTextStyle(g),h.drawText(b.getFlatMidpoint(),0,2,2,b,d)}},ol.renderer.vector.renderMultiLineStringGeometry_=function(a,b,c,d){var e=c.getStroke();if(e){var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.LINE_STRING);f.setFillStrokeStyle(null,e),f.drawMultiLineString(b,d)}var g=c.getText();if(g){var h=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);h.setTextStyle(g);var i=b.getFlatMidpoints();h.drawText(i,0,i.length,2,b,d)}},ol.renderer.vector.renderMultiPolygonGeometry_=function(a,b,c,d){var e=c.getFill(),f=c.getStroke();if(f||e){var g=a.getReplay(c.getZIndex(),ol.render.ReplayType.POLYGON);g.setFillStrokeStyle(e,f),g.drawMultiPolygon(b,d)}var h=c.getText();if(h){var i=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);i.setTextStyle(h);var j=b.getFlatInteriorPoints();i.drawText(j,0,j.length,2,b,d)}},ol.renderer.vector.renderPointGeometry_=function(a,b,c,d){var e=c.getImage();if(e){if(e.getImageState()!=ol.ImageState.LOADED)return;var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.IMAGE);f.setImageStyle(e),f.drawPoint(b,d)}var g=c.getText();if(g){var h=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);h.setTextStyle(g),h.drawText(b.getFlatCoordinates(),0,2,2,b,d)}},ol.renderer.vector.renderMultiPointGeometry_=function(a,b,c,d){var e=c.getImage();if(e){if(e.getImageState()!=ol.ImageState.LOADED)return;var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.IMAGE);f.setImageStyle(e),f.drawMultiPoint(b,d)}var g=c.getText();if(g){var h=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);h.setTextStyle(g);var i=b.getFlatCoordinates();h.drawText(i,0,i.length,b.getStride(),b,d)}},ol.renderer.vector.renderPolygonGeometry_=function(a,b,c,d){var e=c.getFill(),f=c.getStroke();if(e||f){var g=a.getReplay(c.getZIndex(),ol.render.ReplayType.POLYGON);g.setFillStrokeStyle(e,f),g.drawPolygon(b,d)}var h=c.getText();if(h){var i=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);i.setTextStyle(h),i.drawText(b.getFlatInteriorPoint(),0,2,2,b,d)}},ol.renderer.vector.GEOMETRY_RENDERERS_={Point:ol.renderer.vector.renderPointGeometry_,LineString:ol.renderer.vector.renderLineStringGeometry_,Polygon:ol.renderer.vector.renderPolygonGeometry_,MultiPoint:ol.renderer.vector.renderMultiPointGeometry_,MultiLineString:ol.renderer.vector.renderMultiLineStringGeometry_,MultiPolygon:ol.renderer.vector.renderMultiPolygonGeometry_,GeometryCollection:ol.renderer.vector.renderGeometryCollectionGeometry_,Circle:ol.renderer.vector.renderCircleGeometry_},goog.provide("ol.renderer.canvas.VectorLayer"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.renderer.canvas.Layer"),goog.require("ol.renderer.vector"),ol.renderer.canvas.VectorLayer=function(a){ol.renderer.canvas.Layer.call(this,a),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=ol.extent.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.context_=ol.dom.createCanvasContext2D()},ol.inherits(ol.renderer.canvas.VectorLayer,ol.renderer.canvas.Layer),ol.renderer.canvas.VectorLayer.prototype.composeFrame=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.managed?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,i=g.rotation,j=h.getExtent(),k=this.getLayer().getSource(),l=this.getTransform(a,0);this.preCompose(c,a,l);var m=b.extent,n=void 0!==m;n&&this.clip(c,a,m);var o=this.replayGroup_;if(o&&!o.isEmpty()){var p,q=this.getLayer(),r=0,s=0;if(q.hasListener(ol.render.EventType.RENDER)){var t=c.canvas.width,u=c.canvas.height;if(i){var v=Math.round(Math.sqrt(t*t+u*u));r=(v-t)/2,s=(v-u)/2,t=u=v}this.context_.canvas.width=t,this.context_.canvas.height=u,p=this.context_}else p=c;var w=p.globalAlpha;p.globalAlpha=b.opacity,p!=c&&p.translate(r,s);var x=a.size[0]*e,y=a.size[1]*e;if(ol.render.canvas.rotateAtOffset(p,-i,x/2,y/2),o.replay(p,e,l,i,f),k.getWrapX()&&h.canWrapX()&&!ol.extent.containsExtent(j,d)){for(var z,A=d[0],B=ol.extent.getWidth(j),C=0;A<j[0];)--C,z=B*C,l=this.getTransform(a,z),o.replay(p,e,l,i,f),A+=B;for(C=0,A=d[2];A>j[2];)++C,z=B*C,l=this.getTransform(a,z),o.replay(p,e,l,i,f),A-=B;l=this.getTransform(a,0)}ol.render.canvas.rotateAtOffset(p,i,x/2,y/2),p!=c&&(this.dispatchRenderEvent(p,a,l),c.drawImage(p.canvas,-r,-s),p.translate(-r,-s)),p.globalAlpha=w}n&&c.restore(),this.postCompose(c,a,b,l)},ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){if(this.replayGroup_){var f=b.viewState.resolution,g=b.viewState.rotation,h=this.getLayer(),i={};return this.replayGroup_.forEachFeatureAtCoordinate(a,f,g,c,{},function(a){var b=ol.getUid(a).toString();if(!(b in i))return i[b]=!0,d.call(e,a,h)})}},ol.renderer.canvas.VectorLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()},ol.renderer.canvas.VectorLayer.prototype.prepareFrame=function(a,b){var c=this.getLayer(),d=c.getSource();this.updateAttributions(a.attributions,d.getAttributions()),this.updateLogos(a,d);var e=a.viewHints[ol.ViewHint.ANIMATING],f=a.viewHints[ol.ViewHint.INTERACTING],g=c.getUpdateWhileAnimating(),h=c.getUpdateWhileInteracting();if(!this.dirty_&&!g&&e||!h&&f)return!0;var i=a.extent,j=a.viewState,k=j.projection,l=j.resolution,m=a.pixelRatio,n=c.getRevision(),o=c.getRenderBuffer(),p=c.getRenderOrder();void 0===p&&(p=ol.renderer.vector.defaultOrder);var q=ol.extent.buffer(i,o*l),r=j.projection.getExtent();if(d.getWrapX()&&j.projection.canWrapX()&&!ol.extent.containsExtent(r,a.extent)){var s=ol.extent.getWidth(r),t=Math.max(ol.extent.getWidth(q)/2,s);q[0]=r[0]-t,q[2]=r[2]+t}if(!this.dirty_&&this.renderedResolution_==l&&this.renderedRevision_==n&&this.renderedRenderOrder_==p&&ol.extent.containsExtent(this.renderedExtent_,q))return!0;this.replayGroup_=null,this.dirty_=!1;var u=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(l,m),q,l,d.getOverlaps(),c.getRenderBuffer());d.loadFeatures(q,l,k);var v=function(a){var b,d=a.getStyleFunction();if(d?b=d.call(a,l):(d=c.getStyleFunction())&&(b=d(a,l)),b){var e=this.renderFeature(a,l,m,b,u);this.dirty_=this.dirty_||e}};if(p){var w=[];d.forEachFeatureInExtent(q,function(a){w.push(a)},this),w.sort(p),w.forEach(v,this)}else d.forEachFeatureInExtent(q,v,this);return u.finish(),this.renderedResolution_=l,this.renderedRevision_=n,this.renderedRenderOrder_=p,this.renderedExtent_=q,this.replayGroup_=u,!0},ol.renderer.canvas.VectorLayer.prototype.renderFeature=function(a,b,c,d,e){if(!d)return!1;var f=!1;if(Array.isArray(d))for(var g=0,h=d.length;g<h;++g)f=ol.renderer.vector.renderFeature(e,a,d[g],ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f;else f=ol.renderer.vector.renderFeature(e,a,d,ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f;return f},goog.provide("ol.renderer.webgl.defaultmapshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.ENABLE_WEBGL&&(ol.renderer.webgl.defaultmapshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.renderer.webgl.defaultmapshader.Fragment.SOURCE)},ol.inherits(ol.renderer.webgl.defaultmapshader.Fragment,ol.webgl.Fragment),ol.renderer.webgl.defaultmapshader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n",ol.renderer.webgl.defaultmapshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}",ol.renderer.webgl.defaultmapshader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.renderer.webgl.defaultmapshader.Fragment.DEBUG_SOURCE:ol.renderer.webgl.defaultmapshader.Fragment.OPTIMIZED_SOURCE,ol.renderer.webgl.defaultmapshader.fragment=new ol.renderer.webgl.defaultmapshader.Fragment,ol.renderer.webgl.defaultmapshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.renderer.webgl.defaultmapshader.Vertex.SOURCE)},ol.inherits(ol.renderer.webgl.defaultmapshader.Vertex,ol.webgl.Vertex),ol.renderer.webgl.defaultmapshader.Vertex.DEBUG_SOURCE="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n",ol.renderer.webgl.defaultmapshader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}",ol.renderer.webgl.defaultmapshader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.renderer.webgl.defaultmapshader.Vertex.DEBUG_SOURCE:ol.renderer.webgl.defaultmapshader.Vertex.OPTIMIZED_SOURCE,ol.renderer.webgl.defaultmapshader.vertex=new ol.renderer.webgl.defaultmapshader.Vertex,ol.renderer.webgl.defaultmapshader.Locations=function(a,b){this.u_opacity=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_opacity":"f"),this.u_projectionMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_projectionMatrix":"e"),this.u_texCoordMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_texCoordMatrix":"d"),this.u_texture=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_texture":"g"),this.a_position=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_texCoord":"c")}),goog.provide("ol.renderer.webgl.Layer"),goog.require("ol"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.renderer.Layer"),goog.require("ol.renderer.webgl.defaultmapshader"),goog.require("ol.transform"),goog.require("ol.vec.Mat4"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),goog.require("ol.webgl.Context"),ol.ENABLE_WEBGL&&(ol.renderer.webgl.Layer=function(a,b){ol.renderer.Layer.call(this,b),this.mapRenderer=a,this.arrayBuffer_=new ol.webgl.Buffer([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=ol.transform.create(),this.projectionMatrix=ol.transform.create(),this.tmpMat4_=ol.vec.Mat4.create(),this.defaultLocations_=null},ol.inherits(ol.renderer.webgl.Layer,ol.renderer.Layer),ol.renderer.webgl.Layer.prototype.bindFramebuffer=function(a,b){var c=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=b){var d=function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,c,this.framebuffer,this.texture);a.postRenderFunctions.push(d);var e=ol.webgl.Context.createEmptyTexture(c,b,b),f=c.createFramebuffer();c.bindFramebuffer(ol.webgl.FRAMEBUFFER,f),c.framebufferTexture2D(ol.webgl.FRAMEBUFFER,ol.webgl.COLOR_ATTACHMENT0,ol.webgl.TEXTURE_2D,e,0),this.texture=e,this.framebuffer=f,this.framebufferDimension=b}else c.bindFramebuffer(ol.webgl.FRAMEBUFFER,this.framebuffer)},ol.renderer.webgl.Layer.prototype.composeFrame=function(a,b,c){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,c,a),c.bindBuffer(ol.webgl.ARRAY_BUFFER,this.arrayBuffer_);var d,e=c.getGL(),f=ol.renderer.webgl.defaultmapshader.fragment,g=ol.renderer.webgl.defaultmapshader.vertex,h=c.getProgram(f,g);this.defaultLocations_?d=this.defaultLocations_:(d=new ol.renderer.webgl.defaultmapshader.Locations(e,h),this.defaultLocations_=d),c.useProgram(h)&&(e.enableVertexAttribArray(d.a_position),e.vertexAttribPointer(d.a_position,2,ol.webgl.FLOAT,!1,16,0),e.enableVertexAttribArray(d.a_texCoord),e.vertexAttribPointer(d.a_texCoord,2,ol.webgl.FLOAT,!1,16,8),e.uniform1i(d.u_texture,0)),e.uniformMatrix4fv(d.u_texCoordMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getTexCoordMatrix())),e.uniformMatrix4fv(d.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getProjectionMatrix())),e.uniform1f(d.u_opacity,b.opacity),e.bindTexture(ol.webgl.TEXTURE_2D,this.getTexture()),e.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,c,a)},ol.renderer.webgl.Layer.prototype.dispatchComposeEvent_=function(a,b,c){var d=this.getLayer();if(d.hasListener(a)){var e=c.viewState,f=e.resolution,g=c.pixelRatio,h=c.extent,i=e.center,j=e.rotation,k=c.size,l=new ol.render.webgl.Immediate(b,i,f,j,k,h,g),m=new ol.render.Event(a,l,c,null,b);d.dispatchEvent(m)}},ol.renderer.webgl.Layer.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},ol.renderer.webgl.Layer.prototype.getTexture=function(){return this.texture},ol.renderer.webgl.Layer.prototype.getProjectionMatrix=function(){return this.projectionMatrix},ol.renderer.webgl.Layer.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},ol.renderer.webgl.Layer.prototype.prepareFrame=function(a,b,c){},ol.renderer.webgl.Layer.prototype.forEachLayerAtPixel=function(a,b,c,d){}),goog.provide("ol.renderer.webgl.VectorLayer"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.extent"),goog.require("ol.render.webgl.ReplayGroup"),goog.require("ol.renderer.vector"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.transform"),ol.ENABLE_WEBGL&&(ol.renderer.webgl.VectorLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=ol.extent.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null},ol.inherits(ol.renderer.webgl.VectorLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.VectorLayer.prototype.composeFrame=function(a,b,c){this.layerState_=b;var d=a.viewState,e=this.replayGroup_,f=a.size,g=a.pixelRatio,h=this.mapRenderer.getGL();e&&!e.isEmpty()&&(h.enable(h.SCISSOR_TEST),h.scissor(0,0,f[0]*g,f[1]*g),e.replay(c,d.center,d.resolution,d.rotation,f,g,b.opacity,b.managed?a.skippedFeatureUids:{}),h.disable(h.SCISSOR_TEST))},ol.renderer.webgl.VectorLayer.prototype.disposeInternal=function(){var a=this.replayGroup_;if(a){var b=this.mapRenderer.getContext();a.getDeleteResourcesFunction(b)(),this.replayGroup_=null}ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)},ol.renderer.webgl.VectorLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){if(this.replayGroup_&&this.layerState_){var f=this.mapRenderer.getContext(),g=b.viewState,h=this.getLayer(),i=this.layerState_,j={};return this.replayGroup_.forEachFeatureAtCoordinate(a,f,g.center,g.resolution,g.rotation,b.size,b.pixelRatio,i.opacity,{},function(a){var b=ol.getUid(a).toString();if(!(b in j))return j[b]=!0,d.call(e,a,h)})}},ol.renderer.webgl.VectorLayer.prototype.hasFeatureAtCoordinate=function(a,b){if(this.replayGroup_&&this.layerState_){var c=this.mapRenderer.getContext(),d=b.viewState,e=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(a,c,d.center,d.resolution,d.rotation,b.size,b.pixelRatio,e.opacity,b.skippedFeatureUids)}return!1},ol.renderer.webgl.VectorLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){var e=ol.transform.apply(b.pixelToCoordinateTransform,a.slice());return this.hasFeatureAtCoordinate(e,b)?c.call(d,this.getLayer(),null):void 0},ol.renderer.webgl.VectorLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()},ol.renderer.webgl.VectorLayer.prototype.prepareFrame=function(a,b,c){var d=this.getLayer(),e=d.getSource();this.updateAttributions(a.attributions,e.getAttributions()),this.updateLogos(a,e);var f=a.viewHints[ol.ViewHint.ANIMATING],g=a.viewHints[ol.ViewHint.INTERACTING],h=d.getUpdateWhileAnimating(),i=d.getUpdateWhileInteracting();if(!this.dirty_&&!h&&f||!i&&g)return!0;var j=a.extent,k=a.viewState,l=k.projection,m=k.resolution,n=a.pixelRatio,o=d.getRevision(),p=d.getRenderBuffer(),q=d.getRenderOrder();void 0===q&&(q=ol.renderer.vector.defaultOrder);var r=ol.extent.buffer(j,p*m);if(!this.dirty_&&this.renderedResolution_==m&&this.renderedRevision_==o&&this.renderedRenderOrder_==q&&ol.extent.containsExtent(this.renderedExtent_,r))return!0;this.replayGroup_&&a.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(c)),this.dirty_=!1;var s=new ol.render.webgl.ReplayGroup(ol.renderer.vector.getTolerance(m,n),r,d.getRenderBuffer());e.loadFeatures(r,m,l);var t=function(a){var b,c=a.getStyleFunction();if(c?b=c.call(a,m):(c=d.getStyleFunction())&&(b=c(a,m)),b){var e=this.renderFeature(a,m,n,b,s);this.dirty_=this.dirty_||e}};if(q){var u=[];e.forEachFeatureInExtent(r,function(a){u.push(a)},this),u.sort(q),u.forEach(t,this)}else e.forEachFeatureInExtent(r,t,this);return s.finish(c),this.renderedResolution_=m,this.renderedRevision_=o,this.renderedRenderOrder_=q,this.renderedExtent_=r,this.replayGroup_=s,!0},ol.renderer.webgl.VectorLayer.prototype.renderFeature=function(a,b,c,d,e){if(!d)return!1;var f=!1;if(Array.isArray(d))for(var g=d.length-1;g>=0;--g)f=ol.renderer.vector.renderFeature(e,a,d[g],ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f;else f=ol.renderer.vector.renderFeature(e,a,d,ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f;return f}),goog.provide("ol.layer.Vector"),goog.require("ol"),goog.require("ol.layer.Layer"),goog.require("ol.obj"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.VectorLayer"),goog.require("ol.renderer.webgl.VectorLayer"),goog.require("ol.style.Style"),ol.layer.Vector=function(a){var b=a||{},c=ol.obj.assign({},b);delete c.style,delete c.renderBuffer,delete c.updateWhileAnimating,delete c.updateWhileInteracting,ol.layer.Layer.call(this,c),this.renderBuffer_=void 0!==b.renderBuffer?b.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(b.style),this.updateWhileAnimating_=void 0!==b.updateWhileAnimating&&b.updateWhileAnimating,this.updateWhileInteracting_=void 0!==b.updateWhileInteracting&&b.updateWhileInteracting},ol.inherits(ol.layer.Vector,ol.layer.Layer),ol.layer.Vector.prototype.createRenderer=function(a){var b=null,c=a.getType();return ol.ENABLE_CANVAS&&c===ol.renderer.Type.CANVAS?b=new ol.renderer.canvas.VectorLayer(this):ol.ENABLE_WEBGL&&c===ol.renderer.Type.WEBGL&&(b=new ol.renderer.webgl.VectorLayer(a,this)),b},ol.layer.Vector.prototype.getRenderBuffer=function(){return this.renderBuffer_},ol.layer.Vector.prototype.getRenderOrder=function(){return this.get(ol.layer.Vector.Property_.RENDER_ORDER)},ol.layer.Vector.prototype.getSource,ol.layer.Vector.prototype.getStyle=function(){return this.style_},ol.layer.Vector.prototype.getStyleFunction=function(){return this.styleFunction_},ol.layer.Vector.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},ol.layer.Vector.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},ol.layer.Vector.prototype.setRenderOrder=function(a){this.set(ol.layer.Vector.Property_.RENDER_ORDER,a)},ol.layer.Vector.prototype.setStyle=function(a){this.style_=void 0!==a?a:ol.style.Style.defaultFunction,this.styleFunction_=null===a?void 0:ol.style.Style.createFunction(this.style_),this.changed()},ol.layer.Vector.Property_={RENDER_ORDER:"renderOrder"},goog.provide("ol.loadingstrategy"),ol.loadingstrategy.all=function(a,b){return[[-1/0,-1/0,1/0,1/0]]},ol.loadingstrategy.bbox=function(a,b){return[a]},ol.loadingstrategy.tile=function(a){return function(b,c){var d=a.getZForResolution(c),e=a.getTileRangeForExtentAndZ(b,d),f=[],g=[d,0,0];for(g[1]=e.minX;g[1]<=e.maxX;++g[1])for(g[2]=e.minY;g[2]<=e.maxY;++g[2])f.push(a.getTileCoordExtent(g));return f}},goog.provide("ol.source.Source"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.Object"),goog.require("ol.proj"),goog.require("ol.source.State"),ol.source.Source=function(a){ol.Object.call(this),this.projection_=ol.proj.get(a.projection),this.attributions_=ol.source.Source.toAttributionsArray_(a.attributions),this.logo_=a.logo,this.state_=void 0!==a.state?a.state:ol.source.State.READY,this.wrapX_=void 0!==a.wrapX&&a.wrapX},ol.inherits(ol.source.Source,ol.Object),ol.source.Source.toAttributionsArray_=function(a){if("string"==typeof a)return[new ol.Attribution({html:a})];if(a instanceof ol.Attribution)return[a];if(Array.isArray(a)){for(var b=a.length,c=new Array(b),d=0;d<b;d++){var e=a[d];c[d]="string"==typeof e?new ol.Attribution({html:e}):e}return c}return null},ol.source.Source.prototype.forEachFeatureAtCoordinate=ol.nullFunction,ol.source.Source.prototype.getAttributions=function(){return this.attributions_},ol.source.Source.prototype.getLogo=function(){return this.logo_},ol.source.Source.prototype.getProjection=function(){return this.projection_},ol.source.Source.prototype.getResolutions=function(){},ol.source.Source.prototype.getState=function(){return this.state_},ol.source.Source.prototype.getWrapX=function(){return this.wrapX_},ol.source.Source.prototype.refresh=function(){this.changed()},ol.source.Source.prototype.setAttributions=function(a){this.attributions_=ol.source.Source.toAttributionsArray_(a),this.changed()},ol.source.Source.prototype.setLogo=function(a){this.logo_=a},ol.source.Source.prototype.setState=function(a){this.state_=a,this.changed()},goog.provide("ol.source.VectorEventType"),ol.source.VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"},goog.provide("ol.source.Vector"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.ObjectEventType"),goog.require("ol.array"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.featureloader"),goog.require("ol.functions"),goog.require("ol.loadingstrategy"),goog.require("ol.obj"),goog.require("ol.source.Source"),goog.require("ol.source.State"),goog.require("ol.source.VectorEventType"),goog.require("ol.structs.RBush"),ol.source.Vector=function(a){var b=a||{};ol.source.Source.call(this,{attributions:b.attributions,logo:b.logo,projection:void 0,state:ol.source.State.READY,wrapX:void 0===b.wrapX||b.wrapX}),this.loader_=ol.nullFunction,this.format_=b.format,this.overlaps_=void 0==b.overlaps||b.overlaps,this.url_=b.url,void 0!==b.loader?this.loader_=b.loader:void 0!==this.url_&&(ol.asserts.assert(this.format_,7),this.loader_=ol.featureloader.xhr(this.url_,this.format_)),this.strategy_=void 0!==b.strategy?b.strategy:ol.loadingstrategy.all;var c=void 0===b.useSpatialIndex||b.useSpatialIndex;this.featuresRtree_=c?new ol.structs.RBush:null,this.loadedExtentsRtree_=new ol.structs.RBush,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;var d,e;b.features instanceof ol.Collection?(d=b.features,e=d.getArray()):Array.isArray(b.features)&&(e=b.features),c||void 0!==d||(d=new ol.Collection(e)),void 0!==e&&this.addFeaturesInternal(e),void 0!==d&&this.bindFeaturesCollection_(d)},ol.inherits(ol.source.Vector,ol.source.Source),ol.source.Vector.prototype.addFeature=function(a){this.addFeatureInternal(a),this.changed()},ol.source.Vector.prototype.addFeatureInternal=function(a){var b=ol.getUid(a).toString();if(this.addToIndex_(b,a)){this.setupChangeEvents_(b,a);var c=a.getGeometry();if(c){var d=c.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(d,a)}else this.nullGeometryFeatures_[b]=a;this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,a))}},ol.source.Vector.prototype.setupChangeEvents_=function(a,b){this.featureChangeKeys_[a]=[ol.events.listen(b,ol.events.EventType.CHANGE,this.handleFeatureChange_,this),ol.events.listen(b,ol.ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]},ol.source.Vector.prototype.addToIndex_=function(a,b){var c=!0,d=b.getId();return void 0!==d?d.toString()in this.idIndex_?c=!1:this.idIndex_[d.toString()]=b:(ol.asserts.assert(!(a in this.undefIdIndex_),30),this.undefIdIndex_[a]=b),c},ol.source.Vector.prototype.addFeatures=function(a){this.addFeaturesInternal(a),this.changed()},ol.source.Vector.prototype.addFeaturesInternal=function(a){var b,c,d,e,f=[],g=[],h=[];for(c=0,d=a.length;c<d;c++)e=a[c],b=ol.getUid(e).toString(),this.addToIndex_(b,e)&&g.push(e);for(c=0,d=g.length;c<d;c++){e=g[c],b=ol.getUid(e).toString(),this.setupChangeEvents_(b,e);var i=e.getGeometry();if(i){var j=i.getExtent();f.push(j),h.push(e)}else this.nullGeometryFeatures_[b]=e}for(this.featuresRtree_&&this.featuresRtree_.load(f,h),c=0,d=g.length;c<d;c++)this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,g[c]))},ol.source.Vector.prototype.bindFeaturesCollection_=function(a){var b=!1;ol.events.listen(this,ol.source.VectorEventType.ADDFEATURE,function(c){b||(b=!0,a.push(c.feature),b=!1)}),ol.events.listen(this,ol.source.VectorEventType.REMOVEFEATURE,function(c){b||(b=!0,a.remove(c.feature),b=!1)}),ol.events.listen(a,ol.CollectionEventType.ADD,function(a){b||(b=!0,this.addFeature(a.element),b=!1)},this),ol.events.listen(a,ol.CollectionEventType.REMOVE,function(a){b||(b=!0,this.removeFeature(a.element),b=!1)},this),this.featuresCollection_=a},ol.source.Vector.prototype.clear=function(a){if(a){for(var b in this.featureChangeKeys_){this.featureChangeKeys_[b].forEach(ol.events.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var c in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[c])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var d=new ol.source.Vector.Event(ol.source.VectorEventType.CLEAR);this.dispatchEvent(d),this.changed()},ol.source.Vector.prototype.forEachFeature=function(a,b){return this.featuresRtree_?this.featuresRtree_.forEach(a,b):this.featuresCollection_?this.featuresCollection_.forEach(a,b):void 0},ol.source.Vector.prototype.forEachFeatureAtCoordinateDirect=function(a,b,c){var d=[a[0],a[1],a[0],a[1]];return this.forEachFeatureInExtent(d,function(d){return d.getGeometry().intersectsCoordinate(a)?b.call(c,d):void 0})},ol.source.Vector.prototype.forEachFeatureInExtent=function(a,b,c){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(a,b,c):this.featuresCollection_?this.featuresCollection_.forEach(b,c):void 0},ol.source.Vector.prototype.forEachFeatureIntersectingExtent=function(a,b,c){return this.forEachFeatureInExtent(a,function(d){if(d.getGeometry().intersectsExtent(a)){var e=b.call(c,d);if(e)return e}})},ol.source.Vector.prototype.getFeaturesCollection=function(){return this.featuresCollection_},ol.source.Vector.prototype.getFeatures=function(){var a;return this.featuresCollection_?a=this.featuresCollection_.getArray():this.featuresRtree_&&(a=this.featuresRtree_.getAll(),ol.obj.isEmpty(this.nullGeometryFeatures_)||ol.array.extend(a,ol.obj.getValues(this.nullGeometryFeatures_))),a},ol.source.Vector.prototype.getFeaturesAtCoordinate=function(a){var b=[];return this.forEachFeatureAtCoordinateDirect(a,function(a){b.push(a)}),b},ol.source.Vector.prototype.getFeaturesInExtent=function(a){return this.featuresRtree_.getInExtent(a)},ol.source.Vector.prototype.getClosestFeatureToCoordinate=function(a,b){var c=a[0],d=a[1],e=null,f=[NaN,NaN],g=1/0,h=[-1/0,-1/0,1/0,1/0],i=b||ol.functions.TRUE;return this.featuresRtree_.forEachInExtent(h,function(a){if(i(a)){var b=a.getGeometry(),j=g;if((g=b.closestPointXY(c,d,f,g))<j){e=a;var k=Math.sqrt(g);h[0]=c-k,h[1]=d-k,h[2]=c+k,h[3]=d+k}}}),e},
ol.source.Vector.prototype.getExtent=function(a){return this.featuresRtree_.getExtent(a)},ol.source.Vector.prototype.getFeatureById=function(a){var b=this.idIndex_[a.toString()];return void 0!==b?b:null},ol.source.Vector.prototype.getFormat=function(){return this.format_},ol.source.Vector.prototype.getOverlaps=function(){return this.overlaps_},ol.source.Vector.prototype.getResolutions=function(){},ol.source.Vector.prototype.getUrl=function(){return this.url_},ol.source.Vector.prototype.handleFeatureChange_=function(a){var b=a.target,c=ol.getUid(b).toString(),d=b.getGeometry();if(d){var e=d.getExtent();c in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[c],this.featuresRtree_&&this.featuresRtree_.insert(e,b)):this.featuresRtree_&&this.featuresRtree_.update(e,b)}else c in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(b),this.nullGeometryFeatures_[c]=b);var f=b.getId();if(void 0!==f){var g=f.toString();c in this.undefIdIndex_?(delete this.undefIdIndex_[c],this.idIndex_[g]=b):this.idIndex_[g]!==b&&(this.removeFromIdIndex_(b),this.idIndex_[g]=b)}else c in this.undefIdIndex_||(this.removeFromIdIndex_(b),this.undefIdIndex_[c]=b);this.changed(),this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,b))},ol.source.Vector.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ol.obj.isEmpty(this.nullGeometryFeatures_)},ol.source.Vector.prototype.loadFeatures=function(a,b,c){var d,e,f=this.loadedExtentsRtree_,g=this.strategy_(a,b);for(d=0,e=g.length;d<e;++d){var h=g[d];f.forEachInExtent(h,function(a){return ol.extent.containsExtent(a.extent,h)})||(this.loader_.call(this,h,b,c),f.insert(h,{extent:h.slice()}))}},ol.source.Vector.prototype.removeFeature=function(a){var b=ol.getUid(a).toString();b in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[b]:this.featuresRtree_&&this.featuresRtree_.remove(a),this.removeFeatureInternal(a),this.changed()},ol.source.Vector.prototype.removeFeatureInternal=function(a){var b=ol.getUid(a).toString();this.featureChangeKeys_[b].forEach(ol.events.unlistenByKey),delete this.featureChangeKeys_[b];var c=a.getId();void 0!==c?delete this.idIndex_[c.toString()]:delete this.undefIdIndex_[b],this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.REMOVEFEATURE,a))},ol.source.Vector.prototype.removeFromIdIndex_=function(a){var b=!1;for(var c in this.idIndex_)if(this.idIndex_[c]===a){delete this.idIndex_[c],b=!0;break}return b},ol.source.Vector.Event=function(a,b){ol.events.Event.call(this,a),this.feature=b},ol.inherits(ol.source.Vector.Event,ol.events.Event),goog.provide("ol.interaction.Draw"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEventType"),goog.require("ol.Object"),goog.require("ol.coordinate"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.condition"),goog.require("ol.extent");goog.require("ol.functions"),goog.require("ol.geom.Circle"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.interaction.DrawEventType"),goog.require("ol.interaction.Pointer"),goog.require("ol.interaction.Property"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.interaction.Draw=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Draw.handleDownEvent_,handleEvent:ol.interaction.Draw.handleEvent,handleUpEvent:ol.interaction.Draw.handleUpEvent_}),this.shouldHandle_=!1,this.downPx_=null,this.freehand_=!1,this.source_=a.source?a.source:null,this.features_=a.features?a.features:null,this.snapTolerance_=a.snapTolerance?a.snapTolerance:12,this.type_=a.type,this.mode_=ol.interaction.Draw.getMode_(this.type_),this.minPoints_=a.minPoints?a.minPoints:this.mode_===ol.interaction.Draw.Mode_.POLYGON?3:2,this.maxPoints_=a.maxPoints?a.maxPoints:1/0,this.finishCondition_=a.finishCondition?a.finishCondition:ol.functions.TRUE;var b=a.geometryFunction;if(!b)if(this.type_===ol.geom.GeometryType.CIRCLE)b=function(a,b){var c=b||new ol.geom.Circle([NaN,NaN]),d=ol.coordinate.squaredDistance(a[0],a[1]);return c.setCenterAndRadius(a[0],Math.sqrt(d)),c};else{var c,d=this.mode_;d===ol.interaction.Draw.Mode_.POINT?c=ol.geom.Point:d===ol.interaction.Draw.Mode_.LINE_STRING?c=ol.geom.LineString:d===ol.interaction.Draw.Mode_.POLYGON&&(c=ol.geom.Polygon),b=function(a,b){var e=b;return e?d===ol.interaction.Draw.Mode_.POLYGON?e.setCoordinates([a[0].concat([a[0][0]])]):e.setCoordinates(a):e=new c(a),e}}this.geometryFunction_=b,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=a.clickTolerance?a.clickTolerance*a.clickTolerance:36,this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!a.wrapX&&a.wrapX}),style:a.style?a.style:ol.interaction.Draw.getDefaultStyleFunction()}),this.geometryName_=a.geometryName,this.condition_=a.condition?a.condition:ol.events.condition.noModifierKeys,this.freehandCondition_,a.freehand?this.freehandCondition_=ol.events.condition.always:this.freehandCondition_=a.freehandCondition?a.freehandCondition:ol.events.condition.shiftKeyOnly,ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.updateState_,this)},ol.inherits(ol.interaction.Draw,ol.interaction.Pointer),ol.interaction.Draw.getDefaultStyleFunction=function(){var a=ol.style.Style.createDefaultEditing();return function(b,c){return a[b.getGeometry().getType()]}},ol.interaction.Draw.prototype.setMap=function(a){ol.interaction.Pointer.prototype.setMap.call(this,a),this.updateState_()},ol.interaction.Draw.handleEvent=function(a){this.freehand_=this.mode_!==ol.interaction.Draw.Mode_.POINT&&this.freehandCondition_(a);var b=!this.freehand_;return this.freehand_&&a.type===ol.MapBrowserEventType.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(a),b=!1):a.type===ol.MapBrowserEventType.POINTERMOVE?b=this.handlePointerMove_(a):a.type===ol.MapBrowserEventType.DBLCLICK&&(b=!1),ol.interaction.Pointer.handleEvent.call(this,a)&&b},ol.interaction.Draw.handleDownEvent_=function(a){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=a.pixel,this.finishCoordinate_||this.startDrawing_(a),!0):!!this.condition_(a)&&(this.downPx_=a.pixel,!0)},ol.interaction.Draw.handleUpEvent_=function(a){var b=!0;this.handlePointerMove_(a);var c=this.mode_===ol.interaction.Draw.Mode_.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||c?this.finishDrawing():this.atFinish_(a)?this.finishCondition_(a)&&this.finishDrawing():this.addToDrawing_(a):(this.startDrawing_(a),this.mode_===ol.interaction.Draw.Mode_.POINT&&this.finishDrawing()),b=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),b},ol.interaction.Draw.prototype.handlePointerMove_=function(a){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var b=this.downPx_,c=a.pixel,d=b[0]-c[0],e=b[1]-c[1],f=d*d+e*e;this.shouldHandle_=this.freehand_?f>this.squaredClickTolerance_:f<=this.squaredClickTolerance_}return this.finishCoordinate_?this.modifyDrawing_(a):this.createOrUpdateSketchPoint_(a),!0},ol.interaction.Draw.prototype.atFinish_=function(a){var b=!1;if(this.sketchFeature_){var c=!1,d=[this.finishCoordinate_];if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?c=this.sketchCoords_.length>this.minPoints_:this.mode_===ol.interaction.Draw.Mode_.POLYGON&&(c=this.sketchCoords_[0].length>this.minPoints_,d=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]),c)for(var e=a.map,f=0,g=d.length;f<g;f++){var h=d[f],i=e.getPixelFromCoordinate(h),j=a.pixel,k=j[0]-i[0],l=j[1]-i[1],m=this.freehand_?1:this.snapTolerance_;if(b=Math.sqrt(k*k+l*l)<=m){this.finishCoordinate_=h;break}}}return b},ol.interaction.Draw.prototype.createOrUpdateSketchPoint_=function(a){var b=a.coordinate.slice();if(this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(b)}else this.sketchPoint_=new ol.Feature(new ol.geom.Point(b)),this.updateSketchFeatures_()},ol.interaction.Draw.prototype.startDrawing_=function(a){var b=a.coordinate;this.finishCoordinate_=b,this.mode_===ol.interaction.Draw.Mode_.POINT?this.sketchCoords_=b.slice():this.mode_===ol.interaction.Draw.Mode_.POLYGON?(this.sketchCoords_=[[b.slice(),b.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):(this.sketchCoords_=[b.slice(),b.slice()],this.mode_===ol.interaction.Draw.Mode_.CIRCLE&&(this.sketchLineCoords_=this.sketchCoords_)),this.sketchLineCoords_&&(this.sketchLine_=new ol.Feature(new ol.geom.LineString(this.sketchLineCoords_)));var c=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new ol.Feature,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(c),this.updateSketchFeatures_(),this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))},ol.interaction.Draw.prototype.modifyDrawing_=function(a){var b,c,d=a.coordinate,e=this.sketchFeature_.getGeometry();if(this.mode_===ol.interaction.Draw.Mode_.POINT?c=this.sketchCoords_:this.mode_===ol.interaction.Draw.Mode_.POLYGON?(b=this.sketchCoords_[0],c=b[b.length-1],this.atFinish_(a)&&(d=this.finishCoordinate_.slice())):(b=this.sketchCoords_,c=b[b.length-1]),c[0]=d[0],c[1]=d[1],this.geometryFunction_(this.sketchCoords_,e),this.sketchPoint_){this.sketchPoint_.getGeometry().setCoordinates(d)}var f;if(e instanceof ol.geom.Polygon&&this.mode_!==ol.interaction.Draw.Mode_.POLYGON){this.sketchLine_||(this.sketchLine_=new ol.Feature(new ol.geom.LineString(null)));var g=e.getLinearRing(0);f=this.sketchLine_.getGeometry(),f.setFlatCoordinates(g.getLayout(),g.getFlatCoordinates())}else this.sketchLineCoords_&&(f=this.sketchLine_.getGeometry(),f.setCoordinates(this.sketchLineCoords_));this.updateSketchFeatures_()},ol.interaction.Draw.prototype.addToDrawing_=function(a){var b,c,d=a.coordinate,e=this.sketchFeature_.getGeometry();this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?(this.finishCoordinate_=d.slice(),c=this.sketchCoords_,c.length>=this.maxPoints_&&(this.freehand_?c.pop():b=!0),c.push(d.slice()),this.geometryFunction_(c,e)):this.mode_===ol.interaction.Draw.Mode_.POLYGON&&(c=this.sketchCoords_[0],c.length>=this.maxPoints_&&(this.freehand_?c.pop():b=!0),c.push(d.slice()),b&&(this.finishCoordinate_=c[0]),this.geometryFunction_(this.sketchCoords_,e)),this.updateSketchFeatures_(),b&&this.finishDrawing()},ol.interaction.Draw.prototype.removeLastPoint=function(){if(this.sketchFeature_){var a,b,c=this.sketchFeature_.getGeometry();this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?(a=this.sketchCoords_,a.splice(-2,1),this.geometryFunction_(a,c),a.length>=2&&(this.finishCoordinate_=a[a.length-2].slice())):this.mode_===ol.interaction.Draw.Mode_.POLYGON&&(a=this.sketchCoords_[0],a.splice(-2,1),b=this.sketchLine_.getGeometry(),b.setCoordinates(a),this.geometryFunction_(this.sketchCoords_,c)),0===a.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},ol.interaction.Draw.prototype.finishDrawing=function(){var a=this.abortDrawing_(),b=this.sketchCoords_,c=a.getGeometry();this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?(b.pop(),this.geometryFunction_(b,c)):this.mode_===ol.interaction.Draw.Mode_.POLYGON&&(b[0].pop(),this.geometryFunction_(b,c),b=c.getCoordinates()),this.type_===ol.geom.GeometryType.MULTI_POINT?a.setGeometry(new ol.geom.MultiPoint([b])):this.type_===ol.geom.GeometryType.MULTI_LINE_STRING?a.setGeometry(new ol.geom.MultiLineString([b])):this.type_===ol.geom.GeometryType.MULTI_POLYGON&&a.setGeometry(new ol.geom.MultiPolygon([b])),this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWEND,a)),this.features_&&this.features_.push(a),this.source_&&this.source_.addFeature(a)},ol.interaction.Draw.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var a=this.sketchFeature_;return a&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),a},ol.interaction.Draw.prototype.extend=function(a){var b=a.getGeometry(),c=b;this.sketchFeature_=a,this.sketchCoords_=c.getCoordinates();var d=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=d.slice(),this.sketchCoords_.push(d.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))},ol.interaction.Draw.prototype.shouldStopEvent=ol.functions.FALSE,ol.interaction.Draw.prototype.updateSketchFeatures_=function(){var a=[];this.sketchFeature_&&a.push(this.sketchFeature_),this.sketchLine_&&a.push(this.sketchLine_),this.sketchPoint_&&a.push(this.sketchPoint_);var b=this.overlay_.getSource();b.clear(!0),b.addFeatures(a)},ol.interaction.Draw.prototype.updateState_=function(){var a=this.getMap(),b=this.getActive();a&&b||this.abortDrawing_(),this.overlay_.setMap(b?a:null)},ol.interaction.Draw.createRegularPolygon=function(a,b){return function(c,d){var e=c[0],f=c[1],g=Math.sqrt(ol.coordinate.squaredDistance(e,f)),h=d||ol.geom.Polygon.fromCircle(new ol.geom.Circle(e),a),i=b||Math.atan((f[1]-e[1])/(f[0]-e[0]));return ol.geom.Polygon.makeRegular(h,e,g,i),h}},ol.interaction.Draw.createBox=function(){return function(a,b){var c=ol.extent.boundingExtent(a),d=b||new ol.geom.Polygon(null);return d.setCoordinates([[ol.extent.getBottomLeft(c),ol.extent.getBottomRight(c),ol.extent.getTopRight(c),ol.extent.getTopLeft(c),ol.extent.getBottomLeft(c)]]),d}},ol.interaction.Draw.getMode_=function(a){var b;return a===ol.geom.GeometryType.POINT||a===ol.geom.GeometryType.MULTI_POINT?b=ol.interaction.Draw.Mode_.POINT:a===ol.geom.GeometryType.LINE_STRING||a===ol.geom.GeometryType.MULTI_LINE_STRING?b=ol.interaction.Draw.Mode_.LINE_STRING:a===ol.geom.GeometryType.POLYGON||a===ol.geom.GeometryType.MULTI_POLYGON?b=ol.interaction.Draw.Mode_.POLYGON:a===ol.geom.GeometryType.CIRCLE&&(b=ol.interaction.Draw.Mode_.CIRCLE),b},ol.interaction.Draw.Mode_={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},ol.interaction.Draw.Event=function(a,b){ol.events.Event.call(this,a),this.feature=b},ol.inherits(ol.interaction.Draw.Event,ol.events.Event),goog.provide("ol.interaction.Extent"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.coordinate"),goog.require("ol.events.Event"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.interaction.Pointer"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.interaction.Extent=function(a){this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,a||(a={}),a.extent&&this.setExtent(a.extent),ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Extent.handleDownEvent_,handleDragEvent:ol.interaction.Extent.handleDragEvent_,handleEvent:ol.interaction.Extent.handleEvent_,handleUpEvent:ol.interaction.Extent.handleUpEvent_}),this.extentOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.boxStyle?a.boxStyle:ol.interaction.Extent.getDefaultExtentStyleFunction_(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.pointerStyle?a.pointerStyle:ol.interaction.Extent.getDefaultPointerStyleFunction_(),updateWhileAnimating:!0,updateWhileInteracting:!0})},ol.inherits(ol.interaction.Extent,ol.interaction.Pointer),ol.interaction.Extent.handleEvent_=function(a){return!(a instanceof ol.MapBrowserPointerEvent)||(a.type!=ol.MapBrowserEventType.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(a),ol.interaction.Pointer.handleEvent.call(this,a),!1)},ol.interaction.Extent.handleDownEvent_=function(a){var b=a.pixel,c=a.map,d=this.getExtent(),e=this.snapToVertex_(b,c),f=function(a){var b=null,c=null;return a[0]==d[0]?b=d[2]:a[0]==d[2]&&(b=d[0]),a[1]==d[1]?c=d[3]:a[1]==d[3]&&(c=d[1]),null!==b&&null!==c?[b,c]:null};if(e&&d){var g=e[0]==d[0]||e[0]==d[2]?e[0]:null,h=e[1]==d[1]||e[1]==d[3]?e[1]:null;null!==g&&null!==h?this.pointerHandler_=ol.interaction.Extent.getPointHandler_(f(e)):null!==g?this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(f([g,d[1]]),f([g,d[3]])):null!==h&&(this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(f([d[0],h]),f([d[2],h])))}else e=c.getCoordinateFromPixel(b),this.setExtent([e[0],e[1],e[0],e[1]]),this.pointerHandler_=ol.interaction.Extent.getPointHandler_(e);return!0},ol.interaction.Extent.handleDragEvent_=function(a){if(this.pointerHandler_){var b=a.coordinate;this.setExtent(this.pointerHandler_(b)),this.createOrUpdatePointerFeature_(b)}return!0},ol.interaction.Extent.handleUpEvent_=function(a){this.pointerHandler_=null;var b=this.getExtent();return b&&0!==ol.extent.getArea(b)||this.setExtent(null),!1},ol.interaction.Extent.getDefaultExtentStyleFunction_=function(){var a=ol.style.Style.createDefaultEditing();return function(b,c){return a[ol.geom.GeometryType.POLYGON]}},ol.interaction.Extent.getDefaultPointerStyleFunction_=function(){var a=ol.style.Style.createDefaultEditing();return function(b,c){return a[ol.geom.GeometryType.POINT]}},ol.interaction.Extent.getPointHandler_=function(a){return function(b){return ol.extent.boundingExtent([a,b])}},ol.interaction.Extent.getEdgeHandler_=function(a,b){return a[0]==b[0]?function(c){return ol.extent.boundingExtent([a,[c[0],b[1]]])}:a[1]==b[1]?function(c){return ol.extent.boundingExtent([a,[b[0],c[1]]])}:null},ol.interaction.Extent.getSegments_=function(a){return[[[a[0],a[1]],[a[0],a[3]]],[[a[0],a[3]],[a[2],a[3]]],[[a[2],a[3]],[a[2],a[1]]],[[a[2],a[1]],[a[0],a[1]]]]},ol.interaction.Extent.prototype.snapToVertex_=function(a,b){var c=b.getCoordinateFromPixel(a),d=function(a,b){return ol.coordinate.squaredDistanceToSegment(c,a)-ol.coordinate.squaredDistanceToSegment(c,b)},e=this.getExtent();if(e){var f=ol.interaction.Extent.getSegments_(e);f.sort(d);var g=f[0],h=ol.coordinate.closestOnSegment(c,g),i=b.getPixelFromCoordinate(h);if(ol.coordinate.distance(a,i)<=this.pixelTolerance_){var j=b.getPixelFromCoordinate(g[0]),k=b.getPixelFromCoordinate(g[1]),l=ol.coordinate.squaredDistance(i,j),m=ol.coordinate.squaredDistance(i,k),n=Math.sqrt(Math.min(l,m));return this.snappedToVertex_=n<=this.pixelTolerance_,this.snappedToVertex_&&(h=l>m?g[1]:g[0]),h}}return null},ol.interaction.Extent.prototype.handlePointerMove_=function(a){var b=a.pixel,c=a.map,d=this.snapToVertex_(b,c);d||(d=c.getCoordinateFromPixel(b)),this.createOrUpdatePointerFeature_(d)},ol.interaction.Extent.prototype.createOrUpdateExtentFeature_=function(a){var b=this.extentFeature_;return b?a?b.setGeometry(ol.geom.Polygon.fromExtent(a)):b.setGeometry(void 0):(b=a?new ol.Feature(ol.geom.Polygon.fromExtent(a)):new ol.Feature({}),this.extentFeature_=b,this.extentOverlay_.getSource().addFeature(b)),b},ol.interaction.Extent.prototype.createOrUpdatePointerFeature_=function(a){var b=this.vertexFeature_;if(b){b.getGeometry().setCoordinates(a)}else b=new ol.Feature(new ol.geom.Point(a)),this.vertexFeature_=b,this.vertexOverlay_.getSource().addFeature(b);return b},ol.interaction.Extent.prototype.setMap=function(a){this.extentOverlay_.setMap(a),this.vertexOverlay_.setMap(a),ol.interaction.Pointer.prototype.setMap.call(this,a)},ol.interaction.Extent.prototype.getExtent=function(){return this.extent_},ol.interaction.Extent.prototype.setExtent=function(a){this.extent_=a||null,this.createOrUpdateExtentFeature_(a),this.dispatchEvent(new ol.interaction.Extent.Event(this.extent_))},ol.interaction.Extent.Event=function(a){ol.events.Event.call(this,ol.interaction.Extent.EventType_.EXTENTCHANGED),this.extent_=a},ol.inherits(ol.interaction.Extent.Event,ol.events.Event),ol.interaction.Extent.EventType_={EXTENTCHANGED:"extentchanged"},goog.provide("ol.interaction.ModifyEventType"),ol.interaction.ModifyEventType={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},goog.provide("ol.interaction.Modify"),goog.require("ol"),goog.require("ol.CollectionEventType"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.ViewHint"),goog.require("ol.array"),goog.require("ol.coordinate"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Point"),goog.require("ol.interaction.ModifyEventType"),goog.require("ol.interaction.Pointer"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.structs.RBush"),goog.require("ol.style.Style"),ol.interaction.Modify=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Modify.handleDownEvent_,handleDragEvent:ol.interaction.Modify.handleDragEvent_,handleEvent:ol.interaction.Modify.handleEvent,handleUpEvent:ol.interaction.Modify.handleUpEvent_}),this.condition_=a.condition?a.condition:ol.events.condition.primaryAction,this.defaultDeleteCondition_=function(a){return ol.events.condition.noModifierKeys(a)&&ol.events.condition.singleClick(a)},this.deleteCondition_=a.deleteCondition?a.deleteCondition:this.defaultDeleteCondition_,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new ol.structs.RBush,this.pixelTolerance_=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?a.style:ol.interaction.Modify.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.features_=a.features,this.features_.forEach(this.addFeature_,this),ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null},ol.inherits(ol.interaction.Modify,ol.interaction.Pointer),ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX=0,ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX=1,ol.interaction.Modify.prototype.addFeature_=function(a){var b=a.getGeometry();b&&b.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[b.getType()].call(this,a,b);var c=this.getMap();c&&c.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,c),ol.events.listen(a,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)},ol.interaction.Modify.prototype.willModifyFeatures_=function(a){this.modified_||(this.modified_=!0,this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYSTART,this.features_,a)))},ol.interaction.Modify.prototype.removeFeature_=function(a){this.removeFeatureSegmentData_(a),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),ol.events.unlisten(a,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)},ol.interaction.Modify.prototype.removeFeatureSegmentData_=function(a){var b=this.rBush_,c=[];b.forEach(function(b){a===b.feature&&c.push(b)});for(var d=c.length-1;d>=0;--d)b.remove(c[d])},ol.interaction.Modify.prototype.setActive=function(a){this.vertexFeature_&&!a&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),ol.interaction.Pointer.prototype.setActive.call(this,a)},ol.interaction.Modify.prototype.setMap=function(a){this.overlay_.setMap(a),ol.interaction.Pointer.prototype.setMap.call(this,a)},ol.interaction.Modify.prototype.handleFeatureAdd_=function(a){this.addFeature_(a.element)},ol.interaction.Modify.prototype.handleFeatureChange_=function(a){if(!this.changingFeature_){var b=a.target;this.removeFeature_(b),this.addFeature_(b)}},ol.interaction.Modify.prototype.handleFeatureRemove_=function(a){var b=a.element;this.removeFeature_(b)},ol.interaction.Modify.prototype.writePointGeometry_=function(a,b){var c=b.getCoordinates(),d={feature:a,geometry:b,segment:[c,c]};this.rBush_.insert(b.getExtent(),d)},ol.interaction.Modify.prototype.writeMultiPointGeometry_=function(a,b){var c,d,e,f,g=b.getCoordinates();for(d=0,e=g.length;d<e;++d)c=g[d],f={feature:a,geometry:b,depth:[d],index:d,segment:[c,c]},this.rBush_.insert(b.getExtent(),f)},ol.interaction.Modify.prototype.writeLineStringGeometry_=function(a,b){var c,d,e,f,g=b.getCoordinates();for(c=0,d=g.length-1;c<d;++c)e=g.slice(c,c+2),f={feature:a,geometry:b,index:c,segment:e},this.rBush_.insert(ol.extent.boundingExtent(e),f)},ol.interaction.Modify.prototype.writeMultiLineStringGeometry_=function(a,b){var c,d,e,f,g,h,i,j=b.getCoordinates();for(f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)h=c.slice(d,d+2),i={feature:a,geometry:b,depth:[f],index:d,segment:h},this.rBush_.insert(ol.extent.boundingExtent(h),i)},ol.interaction.Modify.prototype.writePolygonGeometry_=function(a,b){var c,d,e,f,g,h,i,j=b.getCoordinates();for(f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)h=c.slice(d,d+2),i={feature:a,geometry:b,depth:[f],index:d,segment:h},this.rBush_.insert(ol.extent.boundingExtent(h),i)},ol.interaction.Modify.prototype.writeMultiPolygonGeometry_=function(a,b){var c,d,e,f,g,h,i,j,k,l,m=b.getCoordinates();for(h=0,i=m.length;h<i;++h)for(j=m[h],f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)k=c.slice(d,d+2),l={feature:a,geometry:b,depth:[f,h],index:d,segment:k},this.rBush_.insert(ol.extent.boundingExtent(k),l)},ol.interaction.Modify.prototype.writeCircleGeometry_=function(a,b){var c=b.getCenter(),d={feature:a,geometry:b,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,segment:[c,c]},e={feature:a,geometry:b,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,segment:[c,c]},f=[d,e];d.featureSegments=e.featureSegments=f,this.rBush_.insert(ol.extent.createOrUpdateFromCoordinate(c),d),this.rBush_.insert(b.getExtent(),e)},ol.interaction.Modify.prototype.writeGeometryCollectionGeometry_=function(a,b){var c,d=b.getGeometriesArray();for(c=0;c<d.length;++c)this.SEGMENT_WRITERS_[d[c].getType()].call(this,a,d[c])},ol.interaction.Modify.prototype.createOrUpdateVertexFeature_=function(a){var b=this.vertexFeature_;if(b){b.getGeometry().setCoordinates(a)}else b=new ol.Feature(new ol.geom.Point(a)),this.vertexFeature_=b,this.overlay_.getSource().addFeature(b);return b},ol.interaction.Modify.compareIndexes_=function(a,b){return a.index-b.index},ol.interaction.Modify.handleDownEvent_=function(a){if(!this.condition_(a))return!1;this.handlePointerAtPixel_(a.pixel,a.map);var b=a.map.getCoordinateFromPixel(a.pixel);this.dragSegments_.length=0,this.modified_=!1;var c=this.vertexFeature_;if(c){var d=[],e=c.getGeometry(),f=e.getCoordinates(),g=ol.extent.boundingExtent([f]),h=this.rBush_.getInExtent(g),i={};h.sort(ol.interaction.Modify.compareIndexes_);for(var j=0,k=h.length;j<k;++j){var l=h[j],m=l.segment,n=ol.getUid(l.feature),o=l.depth;if(o&&(n+="-"+o.join("-")),i[n]||(i[n]=new Array(2)),l.geometry.getType()===ol.geom.GeometryType.CIRCLE&&l.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var p=ol.interaction.Modify.closestOnSegmentData_(b,l);ol.coordinate.equals(p,f)&&!i[n][0]&&(this.dragSegments_.push([l,0]),i[n][0]=l)}else if(ol.coordinate.equals(m[0],f)&&!i[n][0])this.dragSegments_.push([l,0]),i[n][0]=l;else if(ol.coordinate.equals(m[1],f)&&!i[n][1]){if((l.geometry.getType()===ol.geom.GeometryType.LINE_STRING||l.geometry.getType()===ol.geom.GeometryType.MULTI_LINE_STRING)&&i[n][0]&&0===i[n][0].index)continue;this.dragSegments_.push([l,1]),i[n][1]=l}else ol.getUid(m)in this.vertexSegments_&&!i[n][0]&&!i[n][1]&&d.push([l,f])}d.length&&this.willModifyFeatures_(a);for(var q=d.length-1;q>=0;--q)this.insertVertex_.apply(this,d[q])}return!!this.vertexFeature_},ol.interaction.Modify.handleDragEvent_=function(a){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(a);for(var b=a.coordinate,c=0,d=this.dragSegments_.length;c<d;++c){for(var e,f=this.dragSegments_[c],g=f[0],h=g.depth,i=g.geometry,j=g.segment,k=f[1];b.length<i.getStride();)b.push(j[k][b.length]);switch(i.getType()){case ol.geom.GeometryType.POINT:e=b,j[0]=j[1]=b;break;case ol.geom.GeometryType.MULTI_POINT:e=i.getCoordinates(),e[g.index]=b,j[0]=j[1]=b;break;case ol.geom.GeometryType.LINE_STRING:e=i.getCoordinates(),e[g.index+k]=b,j[k]=b;break;case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:e=i.getCoordinates(),e[h[0]][g.index+k]=b,j[k]=b;break;case ol.geom.GeometryType.MULTI_POLYGON:e=i.getCoordinates(),e[h[1]][h[0]][g.index+k]=b,j[k]=b;break;case ol.geom.GeometryType.CIRCLE:j[0]=j[1]=b,g.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX?(this.changingFeature_=!0,i.setCenter(b),this.changingFeature_=!1):(this.changingFeature_=!0,i.setRadius(ol.coordinate.distance(i.getCenter(),b)),this.changingFeature_=!1)}e&&this.setGeometryCoordinates_(i,e)}this.createOrUpdateVertexFeature_(b)},ol.interaction.Modify.handleUpEvent_=function(a){for(var b,c,d=this.dragSegments_.length-1;d>=0;--d)if(b=this.dragSegments_[d][0],c=b.geometry,c.getType()===ol.geom.GeometryType.CIRCLE){var e=c.getCenter(),f=b.featureSegments[0],g=b.featureSegments[1];f.segment[0]=f.segment[1]=e,g.segment[0]=g.segment[1]=e,this.rBush_.update(ol.extent.createOrUpdateFromCoordinate(e),f),this.rBush_.update(c.getExtent(),g)}else this.rBush_.update(ol.extent.boundingExtent(b.segment),b);return this.modified_&&(this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,a)),this.modified_=!1),!1},ol.interaction.Modify.handleEvent=function(a){if(!(a instanceof ol.MapBrowserPointerEvent))return!0;this.lastPointerEvent_=a;var b;return a.map.getView().getHints()[ol.ViewHint.INTERACTING]||a.type!=ol.MapBrowserEventType.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(a),this.vertexFeature_&&this.deleteCondition_(a)&&(b=!(a.type!=ol.MapBrowserEventType.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),a.type==ol.MapBrowserEventType.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),ol.interaction.Pointer.handleEvent.call(this,a)&&!b},ol.interaction.Modify.prototype.handlePointerMove_=function(a){this.lastPixel_=a.pixel,this.handlePointerAtPixel_(a.pixel,a.map)},ol.interaction.Modify.prototype.handlePointerAtPixel_=function(a,b){var c=b.getCoordinateFromPixel(a),d=function(a,b){return ol.interaction.Modify.pointDistanceToSegmentDataSquared_(c,a)-ol.interaction.Modify.pointDistanceToSegmentDataSquared_(c,b)},e=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(c),b.getView().getResolution()*this.pixelTolerance_),f=this.rBush_,g=f.getInExtent(e);if(g.length>0){g.sort(d);var h=g[0],i=h.segment,j=ol.interaction.Modify.closestOnSegmentData_(c,h),k=b.getPixelFromCoordinate(j),l=ol.coordinate.distance(a,k);if(l<=this.pixelTolerance_){var m={};if(h.geometry.getType()===ol.geom.GeometryType.CIRCLE&&h.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX)this.snappedToVertex_=!0,
this.createOrUpdateVertexFeature_(j);else{var n=b.getPixelFromCoordinate(i[0]),o=b.getPixelFromCoordinate(i[1]),p=ol.coordinate.squaredDistance(k,n),q=ol.coordinate.squaredDistance(k,o);l=Math.sqrt(Math.min(p,q)),this.snappedToVertex_=l<=this.pixelTolerance_,this.snappedToVertex_&&(j=p>q?i[1]:i[0]),this.createOrUpdateVertexFeature_(j);for(var r,s=1,t=g.length;s<t&&(r=g[s].segment,ol.coordinate.equals(i[0],r[0])&&ol.coordinate.equals(i[1],r[1])||ol.coordinate.equals(i[0],r[1])&&ol.coordinate.equals(i[1],r[0]));++s)m[ol.getUid(r)]=!0}return m[ol.getUid(i)]=!0,void(this.vertexSegments_=m)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},ol.interaction.Modify.pointDistanceToSegmentDataSquared_=function(a,b){var c=b.geometry;if(c.getType()===ol.geom.GeometryType.CIRCLE){var d=c;if(b.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var e=ol.coordinate.squaredDistance(d.getCenter(),a),f=Math.sqrt(e)-d.getRadius();return f*f}}return ol.coordinate.squaredDistanceToSegment(a,b.segment)},ol.interaction.Modify.closestOnSegmentData_=function(a,b){var c=b.geometry;return c.getType()===ol.geom.GeometryType.CIRCLE&&b.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX?c.getClosestPoint(a):ol.coordinate.closestOnSegment(a,b.segment)},ol.interaction.Modify.prototype.insertVertex_=function(a,b){for(var c,d=a.segment,e=a.feature,f=a.geometry,g=a.depth,h=a.index;b.length<f.getStride();)b.push(0);switch(f.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:c=f.getCoordinates(),c[g[0]].splice(h+1,0,b);break;case ol.geom.GeometryType.MULTI_POLYGON:c=f.getCoordinates(),c[g[1]][g[0]].splice(h+1,0,b);break;case ol.geom.GeometryType.LINE_STRING:c=f.getCoordinates(),c.splice(h+1,0,b);break;default:return}this.setGeometryCoordinates_(f,c);var i=this.rBush_;i.remove(a),this.updateSegmentIndices_(f,h,g,1);var j={segment:[d[0],b],feature:e,geometry:f,depth:g,index:h};i.insert(ol.extent.boundingExtent(j.segment),j),this.dragSegments_.push([j,1]);var k={segment:[b,d[1]],feature:e,geometry:f,depth:g,index:h+1};i.insert(ol.extent.boundingExtent(k.segment),k),this.dragSegments_.push([k,0]),this.ignoreNextSingleClick_=!0},ol.interaction.Modify.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=ol.MapBrowserEventType.POINTERDRAG){var a=this.lastPointerEvent_;return this.willModifyFeatures_(a),this.removeVertex_(),this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,a)),this.modified_=!1,!0}return!1},ol.interaction.Modify.prototype.removeVertex_=function(){var a,b,c,d,e,f,g,h,i,j,k,l=this.dragSegments_,m={},n=!1;for(e=l.length-1;e>=0;--e)c=l[e],j=c[0],k=ol.getUid(j.feature),j.depth&&(k+="-"+j.depth.join("-")),k in m||(m[k]={}),0===c[1]?(m[k].right=j,m[k].index=j.index):1==c[1]&&(m[k].left=j,m[k].index=j.index+1);for(k in m){switch(i=m[k].right,g=m[k].left,f=m[k].index,h=f-1,j=void 0!==g?g:i,h<0&&(h=0),d=j.geometry,b=d.getCoordinates(),a=b,n=!1,d.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:b[j.depth[0]].length>2&&(b[j.depth[0]].splice(f,1),n=!0);break;case ol.geom.GeometryType.LINE_STRING:b.length>2&&(b.splice(f,1),n=!0);break;case ol.geom.GeometryType.MULTI_POLYGON:a=a[j.depth[1]];case ol.geom.GeometryType.POLYGON:a=a[j.depth[0]],a.length>4&&(f==a.length-1&&(f=0),a.splice(f,1),n=!0,0===f&&(a.pop(),a.push(a[0]),h=a.length-1))}if(n){this.setGeometryCoordinates_(d,b);var o=[];if(void 0!==g&&(this.rBush_.remove(g),o.push(g.segment[0])),void 0!==i&&(this.rBush_.remove(i),o.push(i.segment[1])),void 0!==g&&void 0!==i){var p={depth:j.depth,feature:j.feature,geometry:j.geometry,index:h,segment:o};this.rBush_.insert(ol.extent.boundingExtent(p.segment),p)}this.updateSegmentIndices_(d,f,j.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),l.length=0}}return n},ol.interaction.Modify.prototype.setGeometryCoordinates_=function(a,b){this.changingFeature_=!0,a.setCoordinates(b),this.changingFeature_=!1},ol.interaction.Modify.prototype.updateSegmentIndices_=function(a,b,c,d){this.rBush_.forEachInExtent(a.getExtent(),function(e){e.geometry===a&&(void 0===c||void 0===e.depth||ol.array.equals(e.depth,c))&&e.index>b&&(e.index+=d)})},ol.interaction.Modify.getDefaultStyleFunction=function(){var a=ol.style.Style.createDefaultEditing();return function(b,c){return a[ol.geom.GeometryType.POINT]}},ol.interaction.Modify.Event=function(a,b,c){ol.events.Event.call(this,a),this.features=b,this.mapBrowserEvent=c},ol.inherits(ol.interaction.Modify.Event,ol.events.Event),goog.provide("ol.interaction.Select"),goog.require("ol"),goog.require("ol.CollectionEventType"),goog.require("ol.array"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.condition"),goog.require("ol.functions"),goog.require("ol.geom.GeometryType"),goog.require("ol.interaction.Interaction"),goog.require("ol.layer.Vector"),goog.require("ol.obj"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.interaction.Select=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.Select.handleEvent});var b=a||{};this.condition_=b.condition?b.condition:ol.events.condition.singleClick,this.addCondition_=b.addCondition?b.addCondition:ol.events.condition.never,this.removeCondition_=b.removeCondition?b.removeCondition:ol.events.condition.never,this.toggleCondition_=b.toggleCondition?b.toggleCondition:ol.events.condition.shiftKeyOnly,this.multi_=!!b.multi&&b.multi,this.filter_=b.filter?b.filter:ol.functions.TRUE,this.hitTolerance_=b.hitTolerance?b.hitTolerance:0;var c=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,features:b.features,wrapX:b.wrapX}),style:b.style?b.style:ol.interaction.Select.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.featureOverlay_=c;var d;if(b.layers)if("function"==typeof b.layers)d=b.layers;else{var e=b.layers;d=function(a){return ol.array.includes(e,a)}}else d=ol.functions.TRUE;this.layerFilter_=d,this.featureLayerAssociation_={};var f=this.featureOverlay_.getSource().getFeaturesCollection();ol.events.listen(f,ol.CollectionEventType.ADD,this.addFeature_,this),ol.events.listen(f,ol.CollectionEventType.REMOVE,this.removeFeature_,this)},ol.inherits(ol.interaction.Select,ol.interaction.Interaction),ol.interaction.Select.prototype.addFeatureLayerAssociation_=function(a,b){var c=ol.getUid(a);this.featureLayerAssociation_[c]=b},ol.interaction.Select.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},ol.interaction.Select.prototype.getHitTolerance=function(){return this.hitTolerance_},ol.interaction.Select.prototype.getLayer=function(a){var b=ol.getUid(a);return this.featureLayerAssociation_[b]},ol.interaction.Select.handleEvent=function(a){if(!this.condition_(a))return!0;var b=this.addCondition_(a),c=this.removeCondition_(a),d=this.toggleCondition_(a),e=!b&&!c&&!d,f=a.map,g=this.featureOverlay_.getSource().getFeaturesCollection(),h=[],i=[];if(e){ol.obj.clear(this.featureLayerAssociation_),f.forEachFeatureAtPixel(a.pixel,function(a,b){if(this.filter_(a,b))return i.push(a),this.addFeatureLayerAssociation_(a,b),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var j;for(j=g.getLength()-1;j>=0;--j){var k=g.item(j),l=i.indexOf(k);l>-1?i.splice(l,1):(g.remove(k),h.push(k))}0!==i.length&&g.extend(i)}else{f.forEachFeatureAtPixel(a.pixel,function(a,e){if(this.filter_(a,e))return!b&&!d||ol.array.includes(g.getArray(),a)?(c||d)&&ol.array.includes(g.getArray(),a)&&(h.push(a),this.removeFeatureLayerAssociation_(a)):(i.push(a),this.addFeatureLayerAssociation_(a,e)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var m;for(m=h.length-1;m>=0;--m)g.remove(h[m]);g.extend(i)}return(i.length>0||h.length>0)&&this.dispatchEvent(new ol.interaction.Select.Event(ol.interaction.Select.EventType_.SELECT,i,h,a)),ol.events.condition.pointerMove(a)},ol.interaction.Select.prototype.setHitTolerance=function(a){this.hitTolerance_=a},ol.interaction.Select.prototype.setMap=function(a){var b=this.getMap(),c=this.featureOverlay_.getSource().getFeaturesCollection();b&&c.forEach(b.unskipFeature,b),ol.interaction.Interaction.prototype.setMap.call(this,a),this.featureOverlay_.setMap(a),a&&c.forEach(a.skipFeature,a)},ol.interaction.Select.getDefaultStyleFunction=function(){var a=ol.style.Style.createDefaultEditing();return ol.array.extend(a[ol.geom.GeometryType.POLYGON],a[ol.geom.GeometryType.LINE_STRING]),ol.array.extend(a[ol.geom.GeometryType.GEOMETRY_COLLECTION],a[ol.geom.GeometryType.LINE_STRING]),function(b,c){return b.getGeometry()?a[b.getGeometry().getType()]:null}},ol.interaction.Select.prototype.addFeature_=function(a){var b=this.getMap();b&&b.skipFeature(a.element)},ol.interaction.Select.prototype.removeFeature_=function(a){var b=this.getMap();b&&b.unskipFeature(a.element)},ol.interaction.Select.prototype.removeFeatureLayerAssociation_=function(a){var b=ol.getUid(a);delete this.featureLayerAssociation_[b]},ol.interaction.Select.Event=function(a,b,c,d){ol.events.Event.call(this,a),this.selected=b,this.deselected=c,this.mapBrowserEvent=d},ol.inherits(ol.interaction.Select.Event,ol.events.Event),ol.interaction.Select.EventType_={SELECT:"select"},goog.provide("ol.interaction.Snap"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.coordinate"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.interaction.Pointer"),goog.require("ol.obj"),goog.require("ol.source.Vector"),goog.require("ol.source.VectorEventType"),goog.require("ol.structs.RBush"),ol.interaction.Snap=function(a){ol.interaction.Pointer.call(this,{handleEvent:ol.interaction.Snap.handleEvent_,handleDownEvent:ol.functions.TRUE,handleUpEvent:ol.interaction.Snap.handleUpEvent_});var b=a||{};this.source_=b.source?b.source:null,this.vertex_=void 0===b.vertex||b.vertex,this.edge_=void 0===b.edge||b.edge,this.features_=b.features?b.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==b.pixelTolerance?b.pixelTolerance:10,this.sortByDistance_=ol.interaction.Snap.sortByDistance.bind(this),this.rBush_=new ol.structs.RBush,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_}},ol.inherits(ol.interaction.Snap,ol.interaction.Pointer),ol.interaction.Snap.prototype.addFeature=function(a,b){var c=void 0===b||b,d=ol.getUid(a),e=a.getGeometry();if(e){var f=this.SEGMENT_WRITERS_[e.getType()];f&&(this.indexedFeaturesExtents_[d]=e.getExtent(ol.extent.createEmpty()),f.call(this,a,e))}c&&(this.featureChangeListenerKeys_[d]=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleFeatureChange_,this))},ol.interaction.Snap.prototype.forEachFeatureAdd_=function(a){this.addFeature(a)},ol.interaction.Snap.prototype.forEachFeatureRemove_=function(a){this.removeFeature(a)},ol.interaction.Snap.prototype.getFeatures_=function(){var a;return this.features_?a=this.features_:this.source_&&(a=this.source_.getFeatures()),a},ol.interaction.Snap.prototype.handleFeatureAdd_=function(a){var b;a instanceof ol.source.Vector.Event?b=a.feature:a instanceof ol.Collection.Event&&(b=a.element),this.addFeature(b)},ol.interaction.Snap.prototype.handleFeatureRemove_=function(a){var b;a instanceof ol.source.Vector.Event?b=a.feature:a instanceof ol.Collection.Event&&(b=a.element),this.removeFeature(b)},ol.interaction.Snap.prototype.handleFeatureChange_=function(a){var b=a.target;if(this.handlingDownUpSequence){var c=ol.getUid(b);c in this.pendingFeatures_||(this.pendingFeatures_[c]=b)}else this.updateFeature_(b)},ol.interaction.Snap.prototype.removeFeature=function(a,b){var c=void 0===b||b,d=ol.getUid(a),e=this.indexedFeaturesExtents_[d];if(e){var f,g=this.rBush_,h=[];for(g.forEachInExtent(e,function(b){a===b.feature&&h.push(b)}),f=h.length-1;f>=0;--f)g.remove(h[f])}c&&(ol.events.unlistenByKey(this.featureChangeListenerKeys_[d]),delete this.featureChangeListenerKeys_[d])},ol.interaction.Snap.prototype.setMap=function(a){var b=this.getMap(),c=this.featuresListenerKeys_,d=this.getFeatures_();b&&(c.forEach(ol.events.unlistenByKey),c.length=0,d.forEach(this.forEachFeatureRemove_,this)),ol.interaction.Pointer.prototype.setMap.call(this,a),a&&(this.features_?c.push(ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this)):this.source_&&c.push(ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleFeatureAdd_,this),ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleFeatureRemove_,this)),d.forEach(this.forEachFeatureAdd_,this))},ol.interaction.Snap.prototype.shouldStopEvent=ol.functions.FALSE,ol.interaction.Snap.prototype.snapTo=function(a,b,c){var d,e,f,g,h,i=c.getCoordinateFromPixel([a[0]-this.pixelTolerance_,a[1]+this.pixelTolerance_]),j=c.getCoordinateFromPixel([a[0]+this.pixelTolerance_,a[1]-this.pixelTolerance_]),k=ol.extent.boundingExtent([i,j]),l=this.rBush_.getInExtent(k),m=!1,n=null,o=null;if(l.length>0){this.pixelCoordinate_=b,l.sort(this.sortByDistance_);var p=l[0].segment;this.vertex_&&!this.edge_?(e=c.getPixelFromCoordinate(p[0]),f=c.getPixelFromCoordinate(p[1]),g=ol.coordinate.squaredDistance(a,e),h=ol.coordinate.squaredDistance(a,f),d=Math.sqrt(Math.min(g,h)),d<=this.pixelTolerance_&&(m=!0,n=g>h?p[1]:p[0],o=c.getPixelFromCoordinate(n))):this.edge_&&(n=ol.coordinate.closestOnSegment(b,p),o=c.getPixelFromCoordinate(n),ol.coordinate.distance(a,o)<=this.pixelTolerance_&&(m=!0,this.vertex_&&(e=c.getPixelFromCoordinate(p[0]),f=c.getPixelFromCoordinate(p[1]),g=ol.coordinate.squaredDistance(o,e),h=ol.coordinate.squaredDistance(o,f),d=Math.sqrt(Math.min(g,h)),d<=this.pixelTolerance_&&(n=g>h?p[1]:p[0],o=c.getPixelFromCoordinate(n))))),m&&(o=[Math.round(o[0]),Math.round(o[1])])}return{snapped:m,vertex:n,vertexPixel:o}},ol.interaction.Snap.prototype.updateFeature_=function(a){this.removeFeature(a,!1),this.addFeature(a,!1)},ol.interaction.Snap.prototype.writeGeometryCollectionGeometry_=function(a,b){var c,d=b.getGeometriesArray();for(c=0;c<d.length;++c)this.SEGMENT_WRITERS_[d[c].getType()].call(this,a,d[c])},ol.interaction.Snap.prototype.writeLineStringGeometry_=function(a,b){var c,d,e,f,g=b.getCoordinates();for(c=0,d=g.length-1;c<d;++c)e=g.slice(c,c+2),f={feature:a,segment:e},this.rBush_.insert(ol.extent.boundingExtent(e),f)};ol.interaction.Snap.prototype.writeMultiLineStringGeometry_=function(a,b){var c,d,e,f,g,h,i,j=b.getCoordinates();for(f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)h=c.slice(d,d+2),i={feature:a,segment:h},this.rBush_.insert(ol.extent.boundingExtent(h),i)},ol.interaction.Snap.prototype.writeMultiPointGeometry_=function(a,b){var c,d,e,f,g=b.getCoordinates();for(d=0,e=g.length;d<e;++d)c=g[d],f={feature:a,segment:[c,c]},this.rBush_.insert(b.getExtent(),f)},ol.interaction.Snap.prototype.writeMultiPolygonGeometry_=function(a,b){var c,d,e,f,g,h,i,j,k,l,m=b.getCoordinates();for(h=0,i=m.length;h<i;++h)for(j=m[h],f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)k=c.slice(d,d+2),l={feature:a,segment:k},this.rBush_.insert(ol.extent.boundingExtent(k),l)},ol.interaction.Snap.prototype.writePointGeometry_=function(a,b){var c=b.getCoordinates(),d={feature:a,segment:[c,c]};this.rBush_.insert(b.getExtent(),d)},ol.interaction.Snap.prototype.writePolygonGeometry_=function(a,b){var c,d,e,f,g,h,i,j=b.getCoordinates();for(f=0,g=j.length;f<g;++f)for(c=j[f],d=0,e=c.length-1;d<e;++d)h=c.slice(d,d+2),i={feature:a,segment:h},this.rBush_.insert(ol.extent.boundingExtent(h),i)},ol.interaction.Snap.handleEvent_=function(a){var b=this.snapTo(a.pixel,a.coordinate,a.map);return b.snapped&&(a.coordinate=b.vertex.slice(0,2),a.pixel=b.vertexPixel),ol.interaction.Pointer.handleEvent.call(this,a)},ol.interaction.Snap.handleUpEvent_=function(a){var b=ol.obj.getValues(this.pendingFeatures_);return b.length&&(b.forEach(this.updateFeature_,this),this.pendingFeatures_={}),!1},ol.interaction.Snap.sortByDistance=function(a,b){return ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,a.segment)-ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,b.segment)},goog.provide("ol.interaction.TranslateEventType"),ol.interaction.TranslateEventType={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},goog.provide("ol.interaction.Translate"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.functions"),goog.require("ol.array"),goog.require("ol.interaction.Pointer"),goog.require("ol.interaction.TranslateEventType"),ol.interaction.Translate=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Translate.handleDownEvent_,handleDragEvent:ol.interaction.Translate.handleDragEvent_,handleMoveEvent:ol.interaction.Translate.handleMoveEvent_,handleUpEvent:ol.interaction.Translate.handleUpEvent_});var b=a||{};this.previousCursor_=void 0,this.lastCoordinate_=null,this.features_=void 0!==b.features?b.features:null;var c;if(b.layers)if("function"==typeof b.layers)c=b.layers;else{var d=b.layers;c=function(a){return ol.array.includes(d,a)}}else c=ol.functions.TRUE;this.layerFilter_=c,this.hitTolerance_=b.hitTolerance?b.hitTolerance:0,this.lastFeature_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.handleActiveChanged_,this)},ol.inherits(ol.interaction.Translate,ol.interaction.Pointer),ol.interaction.Translate.handleDownEvent_=function(a){if(this.lastFeature_=this.featuresAtPixel_(a.pixel,a.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=a.coordinate,ol.interaction.Translate.handleMoveEvent_.call(this,a);var b=this.features_||new ol.Collection([this.lastFeature_]);return this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATESTART,b,a.coordinate)),!0}return!1},ol.interaction.Translate.handleUpEvent_=function(a){if(this.lastCoordinate_){this.lastCoordinate_=null,ol.interaction.Translate.handleMoveEvent_.call(this,a);var b=this.features_||new ol.Collection([this.lastFeature_]);return this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATEEND,b,a.coordinate)),!0}return!1},ol.interaction.Translate.handleDragEvent_=function(a){if(this.lastCoordinate_){var b=a.coordinate,c=b[0]-this.lastCoordinate_[0],d=b[1]-this.lastCoordinate_[1],e=this.features_||new ol.Collection([this.lastFeature_]);e.forEach(function(a){var b=a.getGeometry();b.translate(c,d),a.setGeometry(b)}),this.lastCoordinate_=b,this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATING,e,b))}},ol.interaction.Translate.handleMoveEvent_=function(a){var b=a.map.getTargetElement();this.featuresAtPixel_(a.pixel,a.map)?(this.previousCursor_=void 0!==this.previousCursor_?this.previousCursor_:b.style.cursor,b.style.cursor=this.lastCoordinate_?"-webkit-grabbing":"-webkit-grab",b.style.cursor=this.lastCoordinate_?"grabbing":"grab"):void 0!==this.previousCursor_&&(b.style.cursor=this.previousCursor_,this.previousCursor_=void 0)},ol.interaction.Translate.prototype.featuresAtPixel_=function(a,b){return b.forEachFeatureAtPixel(a,function(a){if(!this.features_||ol.array.includes(this.features_.getArray(),a))return a}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},ol.interaction.Translate.prototype.getHitTolerance=function(){return this.hitTolerance_},ol.interaction.Translate.prototype.setHitTolerance=function(a){this.hitTolerance_=a},ol.interaction.Translate.prototype.setMap=function(a){var b=this.getMap();ol.interaction.Pointer.prototype.setMap.call(this,a),this.updateState_(b)},ol.interaction.Translate.prototype.handleActiveChanged_=function(){this.updateState_(null)},ol.interaction.Translate.prototype.updateState_=function(a){var b=this.getMap(),c=this.getActive();if(!(b&&c||void 0===this.previousCursor_)){b||(b=a);b.getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=void 0}},ol.interaction.Translate.Event=function(a,b,c){ol.events.Event.call(this,a),this.features=b,this.coordinate=c},ol.inherits(ol.interaction.Translate.Event,ol.events.Event),goog.provide("ol.layer.Heatmap"),goog.require("ol.events"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.dom"),goog.require("ol.layer.Vector"),goog.require("ol.math"),goog.require("ol.obj"),goog.require("ol.render.EventType"),goog.require("ol.style.Icon"),goog.require("ol.style.Style"),ol.layer.Heatmap=function(a){var b=a||{},c=ol.obj.assign({},b);delete c.gradient,delete c.radius,delete c.blur,delete c.shadow,delete c.weight,ol.layer.Vector.call(this,c),this.gradient_=null,this.shadow_=void 0!==b.shadow?b.shadow:250,this.circleImage_=void 0,this.styleCache_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.GRADIENT),this.handleGradientChanged_,this),this.setGradient(b.gradient?b.gradient:ol.layer.Heatmap.DEFAULT_GRADIENT),this.setBlur(void 0!==b.blur?b.blur:15),this.setRadius(void 0!==b.radius?b.radius:8),ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.BLUR),this.handleStyleChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.RADIUS),this.handleStyleChanged_,this),this.handleStyleChanged_();var d,e=b.weight?b.weight:"weight";d="string"==typeof e?function(a){return a.get(e)}:e,this.setStyle(function(a,b){var c=d(a),e=void 0!==c?ol.math.clamp(c,0,1):1,f=255*e|0,g=this.styleCache_[f];return g||(g=[new ol.style.Style({image:new ol.style.Icon({opacity:e,src:this.circleImage_})})],this.styleCache_[f]=g),g}.bind(this)),this.setRenderOrder(null),ol.events.listen(this,ol.render.EventType.RENDER,this.handleRender_,this)},ol.inherits(ol.layer.Heatmap,ol.layer.Vector),ol.layer.Heatmap.DEFAULT_GRADIENT=["#00f","#0ff","#0f0","#ff0","#f00"],ol.layer.Heatmap.createGradient_=function(a){for(var b=ol.dom.createCanvasContext2D(1,256),c=b.createLinearGradient(0,0,1,256),d=1/(a.length-1),e=0,f=a.length;e<f;++e)c.addColorStop(e*d,a[e]);return b.fillStyle=c,b.fillRect(0,0,1,256),b.getImageData(0,0,1,256).data},ol.layer.Heatmap.prototype.createCircle_=function(){var a=this.getRadius(),b=this.getBlur(),c=a+b+1,d=2*c,e=ol.dom.createCanvasContext2D(d,d);e.shadowOffsetX=e.shadowOffsetY=this.shadow_,e.shadowBlur=b,e.shadowColor="#000",e.beginPath();var f=c-this.shadow_;return e.arc(f,f,a,0,2*Math.PI,!0),e.fill(),e.canvas.toDataURL()},ol.layer.Heatmap.prototype.getBlur=function(){return this.get(ol.layer.Heatmap.Property_.BLUR)},ol.layer.Heatmap.prototype.getGradient=function(){return this.get(ol.layer.Heatmap.Property_.GRADIENT)},ol.layer.Heatmap.prototype.getRadius=function(){return this.get(ol.layer.Heatmap.Property_.RADIUS)},ol.layer.Heatmap.prototype.handleGradientChanged_=function(){this.gradient_=ol.layer.Heatmap.createGradient_(this.getGradient())},ol.layer.Heatmap.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=new Array(256),this.changed()},ol.layer.Heatmap.prototype.handleRender_=function(a){var b,c,d,e=a.context,f=e.canvas,g=e.getImageData(0,0,f.width,f.height),h=g.data;for(b=0,c=h.length;b<c;b+=4)(d=4*h[b+3])&&(h[b]=this.gradient_[d],h[b+1]=this.gradient_[d+1],h[b+2]=this.gradient_[d+2]);e.putImageData(g,0,0)},ol.layer.Heatmap.prototype.setBlur=function(a){this.set(ol.layer.Heatmap.Property_.BLUR,a)},ol.layer.Heatmap.prototype.setGradient=function(a){this.set(ol.layer.Heatmap.Property_.GRADIENT,a)},ol.layer.Heatmap.prototype.setRadius=function(a){this.set(ol.layer.Heatmap.Property_.RADIUS,a)},ol.layer.Heatmap.Property_={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},goog.provide("ol.renderer.canvas.IntermediateCanvas"),goog.require("ol"),goog.require("ol.coordinate"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.renderer.canvas.Layer"),goog.require("ol.transform"),ol.renderer.canvas.IntermediateCanvas=function(a){ol.renderer.canvas.Layer.call(this,a),this.coordinateToCanvasPixelTransform=ol.transform.create(),this.hitCanvasContext_=null},ol.inherits(ol.renderer.canvas.IntermediateCanvas,ol.renderer.canvas.Layer),ol.renderer.canvas.IntermediateCanvas.prototype.composeFrame=function(a,b,c){this.preCompose(c,a);var d=this.getImage();if(d){var e=b.extent,f=void 0!==e&&!ol.extent.containsExtent(e,a.extent)&&ol.extent.intersects(e,a.extent);f&&this.clip(c,a,e);var g=this.getImageTransform(),h=c.globalAlpha;c.globalAlpha=b.opacity;var i=g[4],j=g[5],k=d.width*g[0],l=d.height*g[3];c.drawImage(d,0,0,+d.width,+d.height,Math.round(i),Math.round(j),Math.round(k),Math.round(l)),c.globalAlpha=h,f&&c.restore()}this.postCompose(c,a,b)},ol.renderer.canvas.IntermediateCanvas.prototype.getImage=function(){},ol.renderer.canvas.IntermediateCanvas.prototype.getImageTransform=function(){},ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){var f=this.getLayer(),g=f.getSource(),h=b.viewState.resolution,i=b.viewState.rotation,j=b.skippedFeatureUids;return g.forEachFeatureAtCoordinate(a,h,i,c,j,function(a){return d.call(e,a,f)})},ol.renderer.canvas.IntermediateCanvas.prototype.forEachLayerAtCoordinate=function(a,b,c,d){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction)return ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate.apply(this,arguments);var e=ol.transform.apply(this.coordinateToCanvasPixelTransform,a.slice());ol.coordinate.scale(e,b.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),e[0],e[1],1,1,0,0,1,1);var f=this.hitCanvasContext_.getImageData(0,0,1,1).data;return f[3]>0?c.call(d,this.getLayer(),f):void 0}},goog.provide("ol.renderer.canvas.ImageLayer"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.extent"),goog.require("ol.renderer.canvas.IntermediateCanvas"),goog.require("ol.transform"),ol.renderer.canvas.ImageLayer=function(a){ol.renderer.canvas.IntermediateCanvas.call(this,a),this.image_=null,this.imageTransform_=ol.transform.create()},ol.inherits(ol.renderer.canvas.ImageLayer,ol.renderer.canvas.IntermediateCanvas),ol.renderer.canvas.ImageLayer.prototype.getImage=function(){return this.image_?this.image_.getImage():null},ol.renderer.canvas.ImageLayer.prototype.getImageTransform=function(){return this.imageTransform_},ol.renderer.canvas.ImageLayer.prototype.prepareFrame=function(a,b){var c,d=a.pixelRatio,e=a.size,f=a.viewState,g=f.center,h=f.resolution,i=this.getLayer(),j=i.getSource(),k=a.viewHints,l=a.extent;if(void 0!==b.extent&&(l=ol.extent.getIntersection(l,b.extent)),!k[ol.ViewHint.ANIMATING]&&!k[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(l)){var m=f.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var n=j.getProjection();n&&(m=n)}if(c=j.getImage(l,h,d,m)){this.loadImage(c)&&(this.image_=c)}}if(this.image_){c=this.image_;var o=c.getExtent(),p=c.getResolution(),q=c.getPixelRatio(),r=d*p/(h*q),s=ol.transform.compose(this.imageTransform_,d*e[0]/2,d*e[1]/2,r,r,0,q*(o[0]-g[0])/p,q*(g[1]-o[3])/p);ol.transform.compose(this.coordinateToCanvasPixelTransform,d*e[0]/2-s[4],d*e[1]/2-s[5],d/h,-d/h,0,-g[0],-g[1]),this.updateAttributions(a.attributions,c.getAttributions()),this.updateLogos(a,j),this.renderedResolution=h*d/q}return!!this.image_},goog.provide("ol.reproj"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.proj"),ol.reproj.calculateSourceResolution=function(a,b,c,d){var e=ol.proj.transform(c,b,a),f=ol.proj.getPointResolution(b,d,c),g=b.getMetersPerUnit();void 0!==g&&(f*=g);var h=a.getMetersPerUnit();void 0!==h&&(f/=h);var i=ol.proj.getPointResolution(a,f,e)/f;return isFinite(i)&&i>0&&(f/=i),f},ol.reproj.enlargeClipPoint_=function(a,b,c,d){var e=c-a,f=d-b,g=Math.sqrt(e*e+f*f);return[Math.round(c+e/g),Math.round(d+f/g)]},ol.reproj.render=function(a,b,c,d,e,f,g,h,i,j,k){var l=ol.dom.createCanvasContext2D(Math.round(c*a),Math.round(c*b));if(0===i.length)return l.canvas;l.scale(c,c);var m=ol.extent.createEmpty();i.forEach(function(a,b,c){ol.extent.extend(m,a.extent)});var n=ol.extent.getWidth(m),o=ol.extent.getHeight(m),p=ol.dom.createCanvasContext2D(Math.round(c*n/d),Math.round(c*o/d)),q=c/d;i.forEach(function(a,b,c){var d=a.extent[0]-m[0],e=-(a.extent[3]-m[3]),f=ol.extent.getWidth(a.extent),g=ol.extent.getHeight(a.extent);p.drawImage(a.image,j,j,a.image.width-2*j,a.image.height-2*j,d*q,e*q,f*q,g*q)});var r=ol.extent.getTopLeft(g);return h.getTriangles().forEach(function(a,b,e){var g=a.source,h=a.target,i=g[0][0],j=g[0][1],k=g[1][0],n=g[1][1],o=g[2][0],q=g[2][1],s=(h[0][0]-r[0])/f,t=-(h[0][1]-r[1])/f,u=(h[1][0]-r[0])/f,v=-(h[1][1]-r[1])/f,w=(h[2][0]-r[0])/f,x=-(h[2][1]-r[1])/f,y=i,z=j;i=0,j=0,k-=y,n-=z,o-=y,q-=z;var A=[[k,n,0,0,u-s],[o,q,0,0,w-s],[0,0,k,n,v-t],[0,0,o,q,x-t]],B=ol.math.solveLinearSystem(A);if(B){l.save(),l.beginPath();var C=(s+u+w)/3,D=(t+v+x)/3,E=ol.reproj.enlargeClipPoint_(C,D,s,t),F=ol.reproj.enlargeClipPoint_(C,D,u,v),G=ol.reproj.enlargeClipPoint_(C,D,w,x);l.moveTo(F[0],F[1]),l.lineTo(E[0],E[1]),l.lineTo(G[0],G[1]),l.clip(),l.transform(B[0],B[2],B[1],B[3],s,t),l.translate(m[0]-y,m[3]-z),l.scale(d/c,-d/c),l.drawImage(p.canvas,0,0),l.restore()}}),k&&(l.save(),l.strokeStyle="black",l.lineWidth=1,h.getTriangles().forEach(function(a,b,c){var d=a.target,e=(d[0][0]-r[0])/f,g=-(d[0][1]-r[1])/f,h=(d[1][0]-r[0])/f,i=-(d[1][1]-r[1])/f,j=(d[2][0]-r[0])/f,k=-(d[2][1]-r[1])/f;l.beginPath(),l.moveTo(h,i),l.lineTo(e,g),l.lineTo(j,k),l.closePath(),l.stroke()}),l.restore()),l.canvas},goog.provide("ol.reproj.Triangulation"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.proj"),ol.reproj.Triangulation=function(a,b,c,d,e){this.sourceProj_=a,this.targetProj_=b;var f={},g=ol.proj.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(a){var b=a[0]+"/"+a[1];return f[b]||(f[b]=g(a)),f[b]},this.maxSourceExtent_=d,this.errorThresholdSquared_=e*e,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!d&&!!this.sourceProj_.getExtent()&&ol.extent.getWidth(d)==ol.extent.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ol.extent.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ol.extent.getWidth(this.targetProj_.getExtent()):null;var h=ol.extent.getTopLeft(c),i=ol.extent.getTopRight(c),j=ol.extent.getBottomRight(c),k=ol.extent.getBottomLeft(c),l=this.transformInv_(h),m=this.transformInv_(i),n=this.transformInv_(j),o=this.transformInv_(k);if(this.addQuad_(h,i,j,k,l,m,n,o,ol.RASTER_REPROJECTION_MAX_SUBDIVISION),this.wrapsXInSource_){var p=1/0;this.triangles_.forEach(function(a,b,c){p=Math.min(p,a.source[0][0],a.source[1][0],a.source[2][0])}),this.triangles_.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-p>this.sourceWorldWidth_/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-p>this.sourceWorldWidth_/2&&(b[0][0]-=this.sourceWorldWidth_),b[1][0]-p>this.sourceWorldWidth_/2&&(b[1][0]-=this.sourceWorldWidth_),
b[2][0]-p>this.sourceWorldWidth_/2&&(b[2][0]-=this.sourceWorldWidth_);var c=Math.min(b[0][0],b[1][0],b[2][0]);Math.max(b[0][0],b[1][0],b[2][0])-c<this.sourceWorldWidth_/2&&(a.source=b)}},this)}f={}},ol.reproj.Triangulation.prototype.addTriangle_=function(a,b,c,d,e,f){this.triangles_.push({source:[d,e,f],target:[a,b,c]})},ol.reproj.Triangulation.prototype.addQuad_=function(a,b,c,d,e,f,g,h,i){var j=ol.extent.boundingExtent([e,f,g,h]),k=this.sourceWorldWidth_?ol.extent.getWidth(j)/this.sourceWorldWidth_:null,l=this.sourceWorldWidth_,m=this.sourceProj_.canWrapX()&&k>.5&&k<1,n=!1;if(i>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var o=ol.extent.boundingExtent([a,b,c,d]);n|=ol.extent.getWidth(o)/this.targetWorldWidth_>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!m&&this.sourceProj_.isGlobal()&&k&&(n|=k>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(n||!this.maxSourceExtent_||ol.extent.intersects(j,this.maxSourceExtent_)){if(!(n||isFinite(e[0])&&isFinite(e[1])&&isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(i>0))return;n=!0}if(i>0){if(!n){var p,q=[(a[0]+c[0])/2,(a[1]+c[1])/2],r=this.transformInv_(q);if(m){p=(ol.math.modulo(e[0],l)+ol.math.modulo(g[0],l))/2-ol.math.modulo(r[0],l)}else p=(e[0]+g[0])/2-r[0];var s=(e[1]+g[1])/2-r[1];n=p*p+s*s>this.errorThresholdSquared_}if(n){if(Math.abs(a[0]-c[0])<=Math.abs(a[1]-c[1])){var t=[(b[0]+c[0])/2,(b[1]+c[1])/2],u=this.transformInv_(t),v=[(d[0]+a[0])/2,(d[1]+a[1])/2],w=this.transformInv_(v);this.addQuad_(a,b,t,v,e,f,u,w,i-1),this.addQuad_(v,t,c,d,w,u,g,h,i-1)}else{var x=[(a[0]+b[0])/2,(a[1]+b[1])/2],y=this.transformInv_(x),z=[(c[0]+d[0])/2,(c[1]+d[1])/2],A=this.transformInv_(z);this.addQuad_(a,x,z,d,e,y,A,h,i-1),this.addQuad_(x,b,c,z,y,f,g,A,i-1)}return}}if(m){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(a,c,d,e,g,h),this.addTriangle_(a,b,c,e,f,g)}},ol.reproj.Triangulation.prototype.calculateSourceExtent=function(){var a=ol.extent.createEmpty();return this.triangles_.forEach(function(b,c,d){var e=b.source;ol.extent.extendCoordinate(a,e[0]),ol.extent.extendCoordinate(a,e[1]),ol.extent.extendCoordinate(a,e[2])}),a},ol.reproj.Triangulation.prototype.getTriangles=function(){return this.triangles_},goog.provide("ol.reproj.Image"),goog.require("ol"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.reproj"),goog.require("ol.reproj.Triangulation"),ol.reproj.Image=function(a,b,c,d,e,f){this.targetProj_=b,this.maxSourceExtent_=a.getExtent();var g=b.getExtent(),h=g?ol.extent.getIntersection(c,g):c,i=ol.extent.getCenter(h),j=ol.reproj.calculateSourceResolution(a,b,i,d),k=ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(a,b,h,this.maxSourceExtent_,j*k),this.targetResolution_=d,this.targetExtent_=c;var l=this.triangulation_.calculateSourceExtent();this.sourceImage_=f(l,j,e),this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1,this.canvas_=null,this.sourceListenerKey_=null;var m=ol.ImageState.LOADED,n=[];this.sourceImage_&&(m=ol.ImageState.IDLE,n=this.sourceImage_.getAttributions()),ol.ImageBase.call(this,c,d,this.sourcePixelRatio_,m,n)},ol.inherits(ol.reproj.Image,ol.ImageBase),ol.reproj.Image.prototype.disposeInternal=function(){this.state==ol.ImageState.LOADING&&this.unlistenSource_(),ol.ImageBase.prototype.disposeInternal.call(this)},ol.reproj.Image.prototype.getImage=function(a){return this.canvas_},ol.reproj.Image.prototype.getProjection=function(){return this.targetProj_},ol.reproj.Image.prototype.reproject_=function(){var a=this.sourceImage_.getState();if(a==ol.ImageState.LOADED){var b=ol.extent.getWidth(this.targetExtent_)/this.targetResolution_,c=ol.extent.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=ol.reproj.render(b,c,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=a,this.changed()},ol.reproj.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING,this.changed();var a=this.sourceImage_.getState();a==ol.ImageState.LOADED||a==ol.ImageState.ERROR?this.reproject_():(this.sourceListenerKey_=ol.events.listen(this.sourceImage_,ol.events.EventType.CHANGE,function(a){var b=this.sourceImage_.getState();b!=ol.ImageState.LOADED&&b!=ol.ImageState.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},ol.reproj.Image.prototype.unlistenSource_=function(){ol.events.unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null},goog.provide("ol.source.Image"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.array"),goog.require("ol.events.Event"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.reproj.Image"),goog.require("ol.source.Source"),ol.source.Image=function(a){ol.source.Source.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state}),this.resolutions_=void 0!==a.resolutions?a.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0},ol.inherits(ol.source.Image,ol.source.Source),ol.source.Image.prototype.getResolutions=function(){return this.resolutions_},ol.source.Image.prototype.findNearestResolution=function(a){if(this.resolutions_){var b=ol.array.linearFindNearest(this.resolutions_,a,0);a=this.resolutions_[b]}return a},ol.source.Image.prototype.getImage=function(a,b,c,d){var e=this.getProjection();if(ol.ENABLE_RASTER_REPROJECTION&&e&&d&&!ol.proj.equivalent(e,d)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ol.proj.equivalent(this.reprojectedImage_.getProjection(),d)&&this.reprojectedImage_.getResolution()==b&&this.reprojectedImage_.getPixelRatio()==c&&ol.extent.equals(this.reprojectedImage_.getExtent(),a))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new ol.reproj.Image(e,d,a,b,c,function(a,b,c){return this.getImageInternal(a,b,c,e)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return e&&(d=e),this.getImageInternal(a,b,c,d)},ol.source.Image.prototype.getImageInternal=function(a,b,c,d){},ol.source.Image.prototype.handleImageChange=function(a){var b=a.target;switch(b.getState()){case ol.ImageState.LOADING:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADSTART,b));break;case ol.ImageState.LOADED:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADEND,b));break;case ol.ImageState.ERROR:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADERROR,b))}},ol.source.Image.defaultImageLoadFunction=function(a,b){a.getImage().src=b},ol.source.Image.Event=function(a,b){ol.events.Event.call(this,a),this.image=b},ol.inherits(ol.source.Image.Event,ol.events.Event),ol.source.Image.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},goog.provide("ol.source.ImageCanvas"),goog.require("ol"),goog.require("ol.ImageCanvas"),goog.require("ol.extent"),goog.require("ol.source.Image"),ol.source.ImageCanvas=function(a){ol.source.Image.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state}),this.canvasFunction_=a.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==a.ratio?a.ratio:1.5},ol.inherits(ol.source.ImageCanvas,ol.source.Image),ol.source.ImageCanvas.prototype.getImageInternal=function(a,b,c,d){b=this.findNearestResolution(b);var e=this.canvas_;if(e&&this.renderedRevision_==this.getRevision()&&e.getResolution()==b&&e.getPixelRatio()==c&&ol.extent.containsExtent(e.getExtent(),a))return e;a=a.slice(),ol.extent.scaleFromCenter(a,this.ratio_);var f=ol.extent.getWidth(a)/b,g=ol.extent.getHeight(a)/b,h=[f*c,g*c],i=this.canvasFunction_(a,b,c,h,d);return i&&(e=new ol.ImageCanvas(a,b,c,this.getAttributions(),i)),this.canvas_=e,this.renderedRevision_=this.getRevision(),e},goog.provide("ol.source.ImageVector"),goog.require("ol"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.renderer.vector"),goog.require("ol.source.ImageCanvas"),goog.require("ol.style.Style"),goog.require("ol.transform"),ol.source.ImageVector=function(a){this.source_=a.source,this.transform_=ol.transform.create(),this.canvasContext_=ol.dom.createCanvasContext2D(),this.canvasSize_=[0,0],this.renderBuffer_=void 0==a.renderBuffer?100:a.renderBuffer,this.replayGroup_=null,ol.source.ImageCanvas.call(this,{attributions:a.attributions,canvasFunction:this.canvasFunctionInternal_.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.source_.getState()}),this.style_=null,this.styleFunction_=void 0,this.setStyle(a.style),ol.events.listen(this.source_,ol.events.EventType.CHANGE,this.handleSourceChange_,this)},ol.inherits(ol.source.ImageVector,ol.source.ImageCanvas),ol.source.ImageVector.prototype.canvasFunctionInternal_=function(a,b,c,d,e){var f=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(b,c),a,b,this.source_.getOverlaps(),this.renderBuffer_);this.source_.loadFeatures(a,b,e);var g=!1;if(this.source_.forEachFeatureInExtent(a,function(a){g=g||this.renderFeature_(a,b,c,f)},this),f.finish(),g)return null;this.canvasSize_[0]!=d[0]||this.canvasSize_[1]!=d[1]?(this.canvasContext_.canvas.width=d[0],this.canvasContext_.canvas.height=d[1],this.canvasSize_[0]=d[0],this.canvasSize_[1]=d[1]):this.canvasContext_.clearRect(0,0,d[0],d[1]);var h=this.getTransform_(ol.extent.getCenter(a),b,c,d);return f.replay(this.canvasContext_,c,h,0,{}),this.replayGroup_=f,this.canvasContext_.canvas},ol.source.ImageVector.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f){if(this.replayGroup_){var g={};return this.replayGroup_.forEachFeatureAtCoordinate(a,b,0,d,e,function(a){var b=ol.getUid(a).toString();if(!(b in g))return g[b]=!0,f(a)})}},ol.source.ImageVector.prototype.getSource=function(){return this.source_},ol.source.ImageVector.prototype.getStyle=function(){return this.style_},ol.source.ImageVector.prototype.getStyleFunction=function(){return this.styleFunction_},ol.source.ImageVector.prototype.getTransform_=function(a,b,c,d){var e=d[0]/2,f=d[1]/2,g=c/b,h=-g,i=-a[0],j=-a[1];return ol.transform.compose(this.transform_,e,f,g,h,0,i,j)},ol.source.ImageVector.prototype.handleImageChange_=function(a){this.changed()},ol.source.ImageVector.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())},ol.source.ImageVector.prototype.renderFeature_=function(a,b,c,d){var e,f=a.getStyleFunction();if(f?e=f.call(a,b):this.styleFunction_&&(e=this.styleFunction_(a,b)),!e)return!1;var g,h,i=!1;for(Array.isArray(e)||(e=[e]),g=0,h=e.length;g<h;++g)i=ol.renderer.vector.renderFeature(d,a,e[g],ol.renderer.vector.getSquaredTolerance(b,c),this.handleImageChange_,this)||i;return i},ol.source.ImageVector.prototype.setStyle=function(a){this.style_=void 0!==a?a:ol.style.Style.defaultFunction,this.styleFunction_=a?ol.style.Style.createFunction(this.style_):void 0,this.changed()},goog.provide("ol.renderer.webgl.ImageLayer"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.source.ImageVector"),goog.require("ol.transform"),goog.require("ol.webgl"),goog.require("ol.webgl.Context"),ol.ENABLE_WEBGL&&(ol.renderer.webgl.ImageLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null},ol.inherits(ol.renderer.webgl.ImageLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.ImageLayer.prototype.createTexture_=function(a){var b=a.getImage(),c=this.mapRenderer.getGL();return ol.webgl.Context.createTexture(c,b,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE)},ol.renderer.webgl.ImageLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){var f=this.getLayer(),g=f.getSource(),h=b.viewState.resolution,i=b.viewState.rotation,j=b.skippedFeatureUids;return g.forEachFeatureAtCoordinate(a,h,i,c,j,function(a){return d.call(e,a,f)})},ol.renderer.webgl.ImageLayer.prototype.prepareFrame=function(a,b,c){var d=this.mapRenderer.getGL(),e=a.pixelRatio,f=a.viewState,g=f.center,h=f.resolution,i=f.rotation,j=this.image_,k=this.texture,l=this.getLayer(),m=l.getSource(),n=a.viewHints,o=a.extent;if(void 0!==b.extent&&(o=ol.extent.getIntersection(o,b.extent)),!n[ol.ViewHint.ANIMATING]&&!n[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(o)){var p=f.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var q=m.getProjection();q&&(p=q)}var r=m.getImage(o,h,e,p);if(r){if(this.loadImage(r)&&(j=r,k=this.createTexture_(r),this.texture)){var s=function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,d,this.texture);a.postRenderFunctions.push(s)}}}if(j){var t=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(t.width,t.height,e,g,h,i,j.getExtent()),this.hitTransformationMatrix_=null;var u=this.texCoordMatrix;ol.transform.reset(u),ol.transform.scale(u,1,-1),ol.transform.translate(u,0,-1),this.image_=j,this.texture=k,this.updateAttributions(a.attributions,j.getAttributions()),this.updateLogos(a,m)}return!!j},ol.renderer.webgl.ImageLayer.prototype.updateProjectionMatrix_=function(a,b,c,d,e,f,g){var h=a*e,i=b*e,j=this.projectionMatrix;ol.transform.reset(j),ol.transform.scale(j,2*c/h,2*c/i),ol.transform.rotate(j,-f),ol.transform.translate(j,g[0]-d[0],g[1]-d[1]),ol.transform.scale(j,(g[2]-g[0])/2,(g[3]-g[1])/2),ol.transform.translate(j,1,1)},ol.renderer.webgl.ImageLayer.prototype.hasFeatureAtCoordinate=function(a,b){return void 0!==this.forEachFeatureAtCoordinate(a,b,0,ol.functions.TRUE,this)},ol.renderer.webgl.ImageLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){if(this.image_&&this.image_.getImage()){if(this.getLayer().getSource()instanceof ol.source.ImageVector){var e=ol.transform.apply(b.pixelToCoordinateTransform,a.slice());return this.forEachFeatureAtCoordinate(e,b,0,ol.functions.TRUE,this)?c.call(d,this.getLayer(),null):void 0}var f=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(b.size,f));var g=ol.transform.apply(this.hitTransformationMatrix_,a.slice());if(!(g[0]<0||g[0]>f[0]||g[1]<0||g[1]>f[1])){this.hitCanvasContext_||(this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),g[0],g[1],1,1,0,0,1,1);var h=this.hitCanvasContext_.getImageData(0,0,1,1).data;return h[3]>0?c.call(d,this.getLayer(),h):void 0}}},ol.renderer.webgl.ImageLayer.prototype.getHitTransformationMatrix_=function(a,b){var c=ol.transform.create();ol.transform.translate(c,-1,-1),ol.transform.scale(c,2/a[0],2/a[1]),ol.transform.translate(c,0,a[1]),ol.transform.scale(c,1,-1);var d=ol.transform.invert(this.projectionMatrix.slice()),e=ol.transform.create();return ol.transform.translate(e,0,b[1]),ol.transform.scale(e,1,-1),ol.transform.scale(e,b[0]/2,b[1]/2),ol.transform.translate(e,1,1),ol.transform.multiply(e,d),ol.transform.multiply(e,c),e}),goog.provide("ol.layer.Image"),goog.require("ol"),goog.require("ol.layer.Layer"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.webgl.ImageLayer"),ol.layer.Image=function(a){var b=a||{};ol.layer.Layer.call(this,b)},ol.inherits(ol.layer.Image,ol.layer.Layer),ol.layer.Image.prototype.createRenderer=function(a){var b=null,c=a.getType();return ol.ENABLE_CANVAS&&c===ol.renderer.Type.CANVAS?b=new ol.renderer.canvas.ImageLayer(this):ol.ENABLE_WEBGL&&c===ol.renderer.Type.WEBGL&&(b=new ol.renderer.webgl.ImageLayer(a,this)),b},ol.layer.Image.prototype.getSource,goog.provide("ol.layer.TileProperty"),ol.layer.TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},goog.provide("ol.renderer.canvas.TileLayer"),goog.require("ol"),goog.require("ol.TileRange"),goog.require("ol.TileState"),goog.require("ol.ViewHint"),goog.require("ol.array");goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.renderer.canvas.IntermediateCanvas"),goog.require("ol.transform"),ol.renderer.canvas.TileLayer=function(a){ol.renderer.canvas.IntermediateCanvas.call(this,a),this.context=null===this.context?null:ol.dom.createCanvasContext2D(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.tmpExtent=ol.extent.createEmpty(),this.tmpTileRange_=new ol.TileRange(0,0,0,0),this.imageTransform_=ol.transform.create(),this.zDirection=0},ol.inherits(ol.renderer.canvas.TileLayer,ol.renderer.canvas.IntermediateCanvas),ol.renderer.canvas.TileLayer.prototype.isDrawableTile_=function(a){var b=a.getState(),c=this.getLayer().getUseInterimTilesOnError();return b==ol.TileState.LOADED||b==ol.TileState.EMPTY||b==ol.TileState.ERROR&&!c},ol.renderer.canvas.TileLayer.prototype.prepareFrame=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.projection,g=e.resolution,h=e.center,i=this.getLayer(),j=i.getSource(),k=j.getRevision(),l=j.getTileGridForProjection(f),m=l.getZForResolution(g,this.zDirection),n=l.getResolution(m),o=Math.round(g/n)||1,p=a.extent;if(void 0!==b.extent&&(p=ol.extent.getIntersection(p,b.extent)),ol.extent.isEmpty(p))return!1;var q=l.getTileRangeForExtentAndResolution(p,n),r=l.getTileRangeExtent(m,q),s=j.getTilePixelRatio(c),t={};t[m]={};var u,v,w,x=this.createLoadedTileFinder(j,f,t),y=this.tmpExtent,z=this.tmpTileRange_,A=!1;for(v=q.minX;v<=q.maxX;++v)for(w=q.minY;w<=q.maxY;++w)if(u=j.getTile(m,v,w,c,f),this.isDrawableTile_(u)||(u=u.getInterimTile()),this.isDrawableTile_(u))u.getState()==ol.TileState.LOADED&&(t[m][u.tileCoord.toString()]=u,A||-1!=this.renderedTiles.indexOf(u)||(A=!0));else{var B=l.forEachTileCoordParentTileRange(u.tileCoord,x,null,z,y);if(!B){var C=l.getTileCoordChildTileRange(u.tileCoord,z,y);C&&x(m+1,C)}}var D=a.viewHints;if(!(this.renderedResolution&&Date.now()-a.time>16&&(D[ol.ViewHint.ANIMATING]||D[ol.ViewHint.INTERACTING]))&&(A||!this.renderedExtent_||!ol.extent.containsExtent(this.renderedExtent_,p)||this.renderedRevision!=k)||o!=this.oversampling_){var E=this.context;if(E){var F=j.getTilePixelSize(m,c,f),G=Math.round(q.getWidth()*F[0]/o),H=Math.round(q.getHeight()*F[1]/o),I=E.canvas;I.width!=G||I.height!=H?(this.oversampling_=o,I.width=G,I.height=H):(E.clearRect(0,0,G,H),o=this.oversampling_)}this.renderedTiles.length=0;var J=Object.keys(t).map(Number);J.sort(ol.array.numberSafeCompareFunction);var K,L,M,N,O,P,Q,R,S,T,U;for(O=0,P=J.length;O<P;++O){N=J[O],M=j.getTilePixelSize(N,c,f),K=l.getResolution(N),L=K/n,R=s*j.getGutter(f),S=t[N];for(var V in S)u=S[V],Q=l.getTileCoordExtent(u.getTileCoord(),y),v=(Q[0]-r[0])/n*s/o,w=(r[3]-Q[3])/n*s/o,T=M[0]*L/o,U=M[1]*L/o,this.drawTileImage(u,a,b,v,w,T,U,R),this.renderedTiles.push(u)}this.renderedRevision=k,this.renderedResolution=n*c/s*o,this.renderedExtent_=r}var W=this.renderedResolution/g,X=ol.transform.compose(this.imageTransform_,c*d[0]/2,c*d[1]/2,W,W,0,(this.renderedExtent_[0]-h[0])/this.renderedResolution*c,(h[1]-this.renderedExtent_[3])/this.renderedResolution*c);return ol.transform.compose(this.coordinateToCanvasPixelTransform,c*d[0]/2-X[4],c*d[1]/2-X[5],c/g,-c/g,0,-h[0],-h[1]),this.updateUsedTiles(a.usedTiles,j,m,q),this.manageTilePyramid(a,j,l,c,f,p,m,i.getPreload()),this.scheduleExpireCache(a,j),this.updateLogos(a,j),this.renderedTiles.length>0},ol.renderer.canvas.TileLayer.prototype.drawTileImage=function(a,b,c,d,e,f,g,h){this.getLayer().getSource().getOpaque(b.viewState.projection)||this.context.clearRect(d,e,f,g);var i=a.getImage();i&&this.context.drawImage(i,h,h,i.width-2*h,i.height-2*h,d,e,f,g)},ol.renderer.canvas.TileLayer.prototype.getImage=function(){var a=this.context;return a?a.canvas:null},ol.renderer.canvas.TileLayer.prototype.getLayer,ol.renderer.canvas.TileLayer.prototype.getImageTransform=function(){return this.imageTransform_},goog.provide("ol.renderer.webgl.tilelayershader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.ENABLE_WEBGL&&(ol.renderer.webgl.tilelayershader.Fragment=function(){ol.webgl.Fragment.call(this,ol.renderer.webgl.tilelayershader.Fragment.SOURCE)},ol.inherits(ol.renderer.webgl.tilelayershader.Fragment,ol.webgl.Fragment),ol.renderer.webgl.tilelayershader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n",ol.renderer.webgl.tilelayershader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}",ol.renderer.webgl.tilelayershader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.renderer.webgl.tilelayershader.Fragment.DEBUG_SOURCE:ol.renderer.webgl.tilelayershader.Fragment.OPTIMIZED_SOURCE,ol.renderer.webgl.tilelayershader.fragment=new ol.renderer.webgl.tilelayershader.Fragment,ol.renderer.webgl.tilelayershader.Vertex=function(){ol.webgl.Vertex.call(this,ol.renderer.webgl.tilelayershader.Vertex.SOURCE)},ol.inherits(ol.renderer.webgl.tilelayershader.Vertex,ol.webgl.Vertex),ol.renderer.webgl.tilelayershader.Vertex.DEBUG_SOURCE="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n",ol.renderer.webgl.tilelayershader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}",ol.renderer.webgl.tilelayershader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.renderer.webgl.tilelayershader.Vertex.DEBUG_SOURCE:ol.renderer.webgl.tilelayershader.Vertex.OPTIMIZED_SOURCE,ol.renderer.webgl.tilelayershader.vertex=new ol.renderer.webgl.tilelayershader.Vertex,ol.renderer.webgl.tilelayershader.Locations=function(a,b){this.u_texture=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_texture":"e"),this.u_tileOffset=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_tileOffset":"d"),this.a_position=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_texCoord":"c")}),goog.provide("ol.renderer.webgl.TileLayer"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.TileRange"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.renderer.webgl.tilelayershader"),goog.require("ol.size"),goog.require("ol.transform"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.ENABLE_WEBGL&&(ol.renderer.webgl.TileLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b),this.fragmentShader_=ol.renderer.webgl.tilelayershader.fragment,this.vertexShader_=ol.renderer.webgl.tilelayershader.vertex,this.locations_=null,this.renderArrayBuffer_=new ol.webgl.Buffer([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]},ol.inherits(ol.renderer.webgl.TileLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.TileLayer.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)},ol.renderer.webgl.TileLayer.prototype.createLoadedTileFinder=function(a,b,c){var d=this.mapRenderer;return function(e,f){function g(a){var b=d.isTileTextureLoaded(a);return b&&(c[e]||(c[e]={}),c[e][a.tileCoord.toString()]=a),b}return a.forEachLoadedTile(b,e,f,g)}},ol.renderer.webgl.TileLayer.prototype.handleWebGLContextLost=function(){ol.renderer.webgl.Layer.prototype.handleWebGLContextLost.call(this),this.locations_=null},ol.renderer.webgl.TileLayer.prototype.prepareFrame=function(a,b,c){var d,e=this.mapRenderer,f=c.getGL(),g=a.viewState,h=g.projection,i=this.getLayer(),j=i.getSource(),k=j.getTileGridForProjection(h),l=k.getZForResolution(g.resolution),m=k.getResolution(l),n=j.getTilePixelSize(l,a.pixelRatio,h),o=n[0]/ol.size.toSize(k.getTileSize(l),this.tmpSize_)[0],p=m/o,q=j.getTilePixelRatio(o)*j.getGutter(h),r=g.center,s=a.extent,t=k.getTileRangeForExtentAndResolution(s,m);if(this.renderedTileRange_&&this.renderedTileRange_.equals(t)&&this.renderedRevision_==j.getRevision())d=this.renderedFramebufferExtent_;else{var u=t.getSize(),v=Math.max(u[0]*n[0],u[1]*n[1]),w=ol.math.roundUpToPowerOfTwo(v),x=p*w,y=k.getOrigin(l),z=y[0]+t.minX*n[0]*p,A=y[1]+t.minY*n[1]*p;d=[z,A,z+x,A+x],this.bindFramebuffer(a,w),f.viewport(0,0,w,w),f.clearColor(0,0,0,0),f.clear(ol.webgl.COLOR_BUFFER_BIT),f.disable(ol.webgl.BLEND);var B=c.getProgram(this.fragmentShader_,this.vertexShader_);c.useProgram(B),this.locations_||(this.locations_=new ol.renderer.webgl.tilelayershader.Locations(f,B)),c.bindBuffer(ol.webgl.ARRAY_BUFFER,this.renderArrayBuffer_),f.enableVertexAttribArray(this.locations_.a_position),f.vertexAttribPointer(this.locations_.a_position,2,ol.webgl.FLOAT,!1,16,0),f.enableVertexAttribArray(this.locations_.a_texCoord),f.vertexAttribPointer(this.locations_.a_texCoord,2,ol.webgl.FLOAT,!1,16,8),f.uniform1i(this.locations_.u_texture,0);var C={};C[l]={};var D,E,F,G,H,I,J,K,L=this.createLoadedTileFinder(j,h,C),M=i.getUseInterimTilesOnError(),N=!0,O=ol.extent.createEmpty(),P=new ol.TileRange(0,0,0,0);for(I=t.minX;I<=t.maxX;++I)for(J=t.minY;J<=t.maxY;++J)if(G=j.getTile(l,I,J,o,h),void 0===b.extent||(K=k.getTileCoordExtent(G.tileCoord,O),ol.extent.intersects(K,b.extent))){if(H=G.getState(),E=H==ol.TileState.LOADED||H==ol.TileState.EMPTY||H==ol.TileState.ERROR&&!M,E||(G=G.getInterimTile()),(H=G.getState())==ol.TileState.LOADED){if(e.isTileTextureLoaded(G)){C[l][G.tileCoord.toString()]=G;continue}}else if(H==ol.TileState.EMPTY||H==ol.TileState.ERROR&&!M)continue;N=!1,F=k.forEachTileCoordParentTileRange(G.tileCoord,L,null,P,O),F||(D=k.getTileCoordChildTileRange(G.tileCoord,P,O))&&L(l+1,D)}var Q=Object.keys(C).map(Number);Q.sort(ol.array.numberSafeCompareFunction);var R,S,T,U,V=new Float32Array(4);for(R=0,S=Q.length;R<S;++R){U=C[Q[R]];for(T in U)G=U[T],K=k.getTileCoordExtent(G.tileCoord,O),V[0]=2*(K[2]-K[0])/x,V[1]=2*(K[3]-K[1])/x,V[2]=2*(K[0]-d[0])/x-1,V[3]=2*(K[1]-d[1])/x-1,f.uniform4fv(this.locations_.u_tileOffset,V),e.bindTileTexture(G,n,q*o,ol.webgl.LINEAR,ol.webgl.LINEAR),f.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4)}N?(this.renderedTileRange_=t,this.renderedFramebufferExtent_=d,this.renderedRevision_=j.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,a.animate=!0)}this.updateUsedTiles(a.usedTiles,j,l,t);var W=e.getTileTextureQueue();this.manageTilePyramid(a,j,k,o,h,s,l,i.getPreload(),function(a){a.getState()!=ol.TileState.LOADED||e.isTileTextureLoaded(a)||W.isKeyQueued(a.getKey())||W.enqueue([a,k.getTileCoordCenter(a.tileCoord),k.getResolution(a.tileCoord[0]),n,q*o])},this),this.scheduleExpireCache(a,j),this.updateLogos(a,j);var X=this.texCoordMatrix;return ol.transform.reset(X),ol.transform.translate(X,(Math.round(r[0]/m)*m-d[0])/(d[2]-d[0]),(Math.round(r[1]/m)*m-d[1])/(d[3]-d[1])),0!==g.rotation&&ol.transform.rotate(X,g.rotation),ol.transform.scale(X,a.size[0]*g.resolution/(d[2]-d[0]),a.size[1]*g.resolution/(d[3]-d[1])),ol.transform.translate(X,-.5,-.5),!0},ol.renderer.webgl.TileLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){if(this.framebuffer){var e=[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]],f=ol.transform.apply(this.texCoordMatrix,e.slice()),g=[f[0]*this.framebufferDimension,f[1]*this.framebufferDimension],h=this.mapRenderer.getContext().getGL();h.bindFramebuffer(h.FRAMEBUFFER,this.framebuffer);var i=new Uint8Array(4);return h.readPixels(g[0],g[1],1,1,h.RGBA,h.UNSIGNED_BYTE,i),i[3]>0?c.call(d,this.getLayer(),i):void 0}}),goog.provide("ol.layer.Tile"),goog.require("ol"),goog.require("ol.layer.Layer"),goog.require("ol.layer.TileProperty"),goog.require("ol.obj"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.webgl.TileLayer"),ol.layer.Tile=function(a){var b=a||{},c=ol.obj.assign({},b);delete c.preload,delete c.useInterimTilesOnError,ol.layer.Layer.call(this,c),this.setPreload(void 0!==b.preload?b.preload:0),this.setUseInterimTilesOnError(void 0===b.useInterimTilesOnError||b.useInterimTilesOnError)},ol.inherits(ol.layer.Tile,ol.layer.Layer),ol.layer.Tile.prototype.createRenderer=function(a){var b=null,c=a.getType();return ol.ENABLE_CANVAS&&c===ol.renderer.Type.CANVAS?b=new ol.renderer.canvas.TileLayer(this):ol.ENABLE_WEBGL&&c===ol.renderer.Type.WEBGL&&(b=new ol.renderer.webgl.TileLayer(a,this)),b},ol.layer.Tile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)},ol.layer.Tile.prototype.getSource,ol.layer.Tile.prototype.setPreload=function(a){this.set(ol.layer.TileProperty.PRELOAD,a)},ol.layer.Tile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)},ol.layer.Tile.prototype.setUseInterimTilesOnError=function(a){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,a)},goog.provide("ol.layer.VectorTileRenderType"),ol.layer.VectorTileRenderType={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},goog.provide("ol.renderer.canvas.VectorTileLayer"),goog.require("ol"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.proj.Units"),goog.require("ol.layer.VectorTileRenderType"),goog.require("ol.render.ReplayType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.render.replay"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.vector"),goog.require("ol.size"),goog.require("ol.transform"),ol.renderer.canvas.VectorTileLayer=function(a){this.context=null,ol.renderer.canvas.TileLayer.call(this,a),this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=ol.transform.create(),this.zDirection=a.getRenderMode()==ol.layer.VectorTileRenderType.VECTOR?1:0},ol.inherits(ol.renderer.canvas.VectorTileLayer,ol.renderer.canvas.TileLayer),ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS={image:ol.render.replay.ORDER,hybrid:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING]},ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS={hybrid:[ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],vector:ol.render.replay.ORDER},ol.renderer.canvas.VectorTileLayer.prototype.prepareFrame=function(a,b){var c=this.getLayer(),d=c.getRevision();if(this.renderedLayerRevision_!=d){this.renderedTiles.length=0;var e=c.getRenderMode();this.context||e==ol.layer.VectorTileRenderType.VECTOR||(this.context=ol.dom.createCanvasContext2D()),this.context&&e==ol.layer.VectorTileRenderType.VECTOR&&(this.context=null)}return this.renderedLayerRevision_=d,ol.renderer.canvas.TileLayer.prototype.prepareFrame.apply(this,arguments)},ol.renderer.canvas.VectorTileLayer.prototype.createReplayGroup_=function(a,b){function c(a){var b,c=a.getStyleFunction();if(c?b=c.call(a,q):(c=d.getStyleFunction())&&(b=c(a,q)),b){Array.isArray(b)||(b=[b]);var e=this.renderFeature(a,u,b,t);this.dirty_=this.dirty_||e,i.dirty=i.dirty||e}}var d=this.getLayer(),e=b.pixelRatio,f=b.viewState.projection,g=d.getRevision(),h=d.getRenderOrder()||null,i=a.getReplayState();if(i.dirty||i.renderedRevision!=g||i.renderedRenderOrder!=h){i.replayGroup=null,i.dirty=!1;var j,k,l,m=d.getSource(),n=m.getTileGrid(),o=a.tileCoord,p=a.getProjection(),q=n.getResolution(o[0]);if(p.getUnits()==ol.proj.Units.TILE_PIXELS){var r=l=m.getTilePixelRatio(),s=ol.size.toSize(n.getTileSize(o[0]));j=[0,0,s[0]*r,s[1]*r]
}else l=q,j=n.getTileCoordExtent(o),ol.proj.equivalent(f,p)||(k=!0,a.setProjection(f));i.dirty=!1;var t=new ol.render.canvas.ReplayGroup(0,j,l,m.getOverlaps(),d.getRenderBuffer()),u=ol.renderer.vector.getSquaredTolerance(l,e),v=a.getFeatures();h&&h!==i.renderedRenderOrder&&v.sort(h);for(var w,x=0,y=v.length;x<y;++x)w=v[x],k&&w.getGeometry().transform(p,f),c.call(this,w);t.finish(),i.renderedRevision=g,i.renderedRenderOrder=h,i.replayGroup=t,i.resolution=NaN}},ol.renderer.canvas.VectorTileLayer.prototype.drawTileImage=function(a,b,c,d,e,f,g,h){var i=a;this.createReplayGroup_(i,b),this.context&&(this.renderTileImage_(i,b,c),ol.renderer.canvas.TileLayer.prototype.drawTileImage.apply(this,arguments))},ol.renderer.canvas.VectorTileLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){var f=b.viewState.resolution,g=b.viewState.rotation;c=void 0==c?0:c;var h,i,j,k,l,m,n,o,p,q,r,s=this.getLayer(),t={},u=this.renderedTiles,v=s.getSource(),w=v.getTileGrid();for(j=0,k=u.length;j<k;++j)n=u[j],o=n.tileCoord,p=v.getTileGrid().getTileCoordExtent(o,this.tmpExtent),ol.extent.containsCoordinate(ol.extent.buffer(p,c*f),a)&&(n.getProjection().getUnits()===ol.proj.Units.TILE_PIXELS?(l=ol.extent.getTopLeft(p),q=v.getTilePixelRatio(),r=w.getResolution(o[0])/q,i=[(a[0]-l[0])/r,(l[1]-a[1])/r],f=q):i=a,m=n.getReplayState().replayGroup,h=h||m.forEachFeatureAtCoordinate(i,f,g,c,{},function(a){var b=ol.getUid(a).toString();if(!(b in t))return t[b]=!0,d.call(e,a,s)}));return h},ol.renderer.canvas.VectorTileLayer.prototype.getReplayTransform_=function(a,b){if(a.getProjection().getUnits()==ol.proj.Units.TILE_PIXELS){var c=this.getLayer(),d=c.getSource(),e=d.getTileGrid(),f=a.tileCoord,g=e.getResolution(f[0])/d.getTilePixelRatio(),h=b.viewState,i=b.pixelRatio,j=h.resolution/i,k=e.getTileCoordExtent(f,this.tmpExtent),l=h.center,m=ol.extent.getTopLeft(k),n=b.size,o=Math.round(i*n[0]/2),p=Math.round(i*n[1]/2);return ol.transform.compose(this.tmpTransform_,o,p,g/j,g/j,h.rotation,(m[0]-l[0])/g,(l[1]-m[1])/g)}return this.getTransform(b,0)},ol.renderer.canvas.VectorTileLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()},ol.renderer.canvas.VectorTileLayer.prototype.postCompose=function(a,b,c){var d=this.getLayer().getRenderMode(),e=ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS[d];if(e)for(var f=b.pixelRatio,g=b.viewState.rotation,h=b.size,i=Math.round(f*h[0]/2),j=Math.round(f*h[1]/2),k=this.renderedTiles,l=[],m=[],n=k.length-1;n>=0;--n){var o=k[n],p=this.getReplayTransform_(o,b),q=o.getReplayState().replayGroup.getClipCoords(p),r=o.tileCoord[0];a.save(),a.globalAlpha=c.opacity,ol.render.canvas.rotateAtOffset(a,-g,i,j);for(var s=0,t=l.length;s<t;++s){var u=l[s];r<m[s]&&(a.beginPath(),a.moveTo(q[0],q[1]),a.lineTo(q[2],q[3]),a.lineTo(q[4],q[5]),a.lineTo(q[6],q[7]),a.moveTo(u[6],u[7]),a.lineTo(u[4],u[5]),a.lineTo(u[2],u[3]),a.lineTo(u[0],u[1]),a.clip())}var v=o.getReplayState().replayGroup;v.replay(a,f,p,g,{},e),a.restore(),l.push(q),m.push(r)}ol.renderer.canvas.TileLayer.prototype.postCompose.apply(this,arguments)},ol.renderer.canvas.VectorTileLayer.prototype.renderFeature=function(a,b,c,d){if(!c)return!1;var e=!1;if(Array.isArray(c))for(var f=0,g=c.length;f<g;++f)e=ol.renderer.vector.renderFeature(d,a,c[f],b,this.handleStyleImageChange_,this)||e;else e=ol.renderer.vector.renderFeature(d,a,c,b,this.handleStyleImageChange_,this)||e;return e},ol.renderer.canvas.VectorTileLayer.prototype.renderTileImage_=function(a,b,c){var d=this.getLayer(),e=a.getReplayState(),f=d.getRevision(),g=ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS[d.getRenderMode()];if(g&&e.renderedTileRevision!==f){e.renderedTileRevision=f;var h=a.tileCoord,i=a.tileCoord[0],j=b.pixelRatio,k=d.getSource(),l=k.getTileGrid(),m=k.getTilePixelRatio(),n=ol.transform.reset(this.tmpTransform_);if(a.getProjection().getUnits()==ol.proj.Units.TILE_PIXELS){var o=j/m;ol.transform.scale(n,o,o)}else{var p=l.getResolution(i),q=j/p,r=l.getTileCoordExtent(h,this.tmpExtent);ol.transform.scale(n,q,-q),ol.transform.translate(n,-r[0],-r[3])}var s=a.getContext(),t=k.getTilePixelSize(i,j,b.viewState.projection);s.canvas.width=t[0],s.canvas.height=t[1],e.replayGroup.replay(s,j,n,0,{},g)}},goog.provide("ol.layer.VectorTile"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.layer.TileProperty"),goog.require("ol.layer.Vector"),goog.require("ol.layer.VectorTileRenderType"),goog.require("ol.obj"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.VectorTileLayer"),ol.layer.VectorTile=function(a){var b=a||{},c=ol.obj.assign({},b);delete c.preload,delete c.useInterimTilesOnError,ol.layer.Vector.call(this,c),this.setPreload(b.preload?b.preload:0),this.setUseInterimTilesOnError(!b.useInterimTilesOnError||b.useInterimTilesOnError),ol.asserts.assert(void 0==b.renderMode||b.renderMode==ol.layer.VectorTileRenderType.IMAGE||b.renderMode==ol.layer.VectorTileRenderType.HYBRID||b.renderMode==ol.layer.VectorTileRenderType.VECTOR,28),this.renderMode_=b.renderMode||ol.layer.VectorTileRenderType.HYBRID},ol.inherits(ol.layer.VectorTile,ol.layer.Vector),ol.layer.VectorTile.prototype.createRenderer=function(a){var b=null,c=a.getType();return ol.ENABLE_CANVAS&&c===ol.renderer.Type.CANVAS&&(b=new ol.renderer.canvas.VectorTileLayer(this)),b},ol.layer.VectorTile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)},ol.layer.VectorTile.prototype.getRenderMode=function(){return this.renderMode_},ol.layer.VectorTile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)},ol.layer.VectorTile.prototype.setPreload=function(a){this.set(ol.layer.TileProperty.PRELOAD,a)},ol.layer.VectorTile.prototype.setUseInterimTilesOnError=function(a){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,a)},goog.provide("ol.net"),goog.require("ol"),ol.net.jsonp=function(a,b,c,d){function e(){delete window[g],f.parentNode.removeChild(f)}var f=document.createElement("script"),g="olc_"+ol.getUid(b);f.async=!0,f.src=a+(-1==a.indexOf("?")?"?":"&")+(d||"callback")+"="+g;var h=setTimeout(function(){e(),c&&c()},1e4);window[g]=function(a){clearTimeout(h),e(),b(a)},document.getElementsByTagName("head")[0].appendChild(f)},goog.provide("ol.proj.common"),goog.require("ol.proj"),ol.proj.common.add=ol.proj.addCommon,goog.provide("ol.render"),goog.require("ol.has"),goog.require("ol.transform"),goog.require("ol.render.canvas.Immediate"),ol.render.toContext=function(a,b){var c=a.canvas,d=b||{},e=d.pixelRatio||ol.has.DEVICE_PIXEL_RATIO,f=d.size;f&&(c.width=f[0]*e,c.height=f[1]*e,c.style.width=f[0]+"px",c.style.height=f[1]+"px");var g=[0,0,c.width,c.height],h=ol.transform.scale(ol.transform.create(),e,e);return new ol.render.canvas.Immediate(a,e,g,h,0)},goog.provide("ol.reproj.Tile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.reproj"),goog.require("ol.reproj.Triangulation"),ol.reproj.Tile=function(a,b,c,d,e,f,g,h,i,j,k){ol.Tile.call(this,e,ol.TileState.IDLE),this.renderEdges_=void 0!==k&&k,this.pixelRatio_=g,this.gutter_=h,this.canvas_=null,this.sourceTileGrid_=b,this.targetTileGrid_=d,this.wrappedTileCoord_=f||e,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var l=d.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent(),n=this.sourceTileGrid_.getExtent(),o=m?ol.extent.getIntersection(l,m):l;if(0===ol.extent.getArea(o))return void(this.state=ol.TileState.EMPTY);var p=a.getExtent();p&&(n=n?ol.extent.getIntersection(n,p):p);var q=d.getResolution(this.wrappedTileCoord_[0]),r=ol.extent.getCenter(o),s=ol.reproj.calculateSourceResolution(a,c,r,q);if(!isFinite(s)||s<=0)return void(this.state=ol.TileState.EMPTY);var t=void 0!==j?j:ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;if(this.triangulation_=new ol.reproj.Triangulation(a,c,o,n,s*t),0===this.triangulation_.getTriangles().length)return void(this.state=ol.TileState.EMPTY);this.sourceZ_=b.getZForResolution(s);var u=this.triangulation_.calculateSourceExtent();if(n&&(a.canWrapX()?(u[1]=ol.math.clamp(u[1],n[1],n[3]),u[3]=ol.math.clamp(u[3],n[1],n[3])):u=ol.extent.getIntersection(u,n)),ol.extent.getArea(u)){for(var v=b.getTileRangeForExtentAndZ(u,this.sourceZ_),w=v.minX;w<=v.maxX;w++)for(var x=v.minY;x<=v.maxY;x++){var y=i(this.sourceZ_,w,x,g);y&&this.sourceTiles_.push(y)}0===this.sourceTiles_.length&&(this.state=ol.TileState.EMPTY)}else this.state=ol.TileState.EMPTY},ol.inherits(ol.reproj.Tile,ol.Tile),ol.reproj.Tile.prototype.disposeInternal=function(){this.state==ol.TileState.LOADING&&this.unlistenSources_(),ol.Tile.prototype.disposeInternal.call(this)},ol.reproj.Tile.prototype.getImage=function(){return this.canvas_},ol.reproj.Tile.prototype.reproject_=function(){var a=[];if(this.sourceTiles_.forEach(function(b,c,d){b&&b.getState()==ol.TileState.LOADED&&a.push({extent:this.sourceTileGrid_.getTileCoordExtent(b.tileCoord),image:b.getImage()})},this),this.sourceTiles_.length=0,0===a.length)this.state=ol.TileState.ERROR;else{var b=this.wrappedTileCoord_[0],c=this.targetTileGrid_.getTileSize(b),d="number"==typeof c?c:c[0],e="number"==typeof c?c:c[1],f=this.targetTileGrid_.getResolution(b),g=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ol.reproj.render(d,e,this.pixelRatio_,g,this.sourceTileGrid_.getExtent(),f,h,this.triangulation_,a,this.gutter_,this.renderEdges_),this.state=ol.TileState.LOADED}this.changed()},ol.reproj.Tile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING,this.changed();var a=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(b,c,d){var e=b.getState();if(e==ol.TileState.IDLE||e==ol.TileState.LOADING){a++;var f;f=ol.events.listen(b,ol.events.EventType.CHANGE,function(c){var d=b.getState();d!=ol.TileState.LOADED&&d!=ol.TileState.ERROR&&d!=ol.TileState.EMPTY||(ol.events.unlistenByKey(f),0===--a&&(this.unlistenSources_(),this.reproject_()))},this),this.sourcesListenerKeys_.push(f)}},this),this.sourceTiles_.forEach(function(a,b,c){a.getState()==ol.TileState.IDLE&&a.load()}),0===a&&setTimeout(this.reproject_.bind(this),0)}},ol.reproj.Tile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ol.events.unlistenByKey),this.sourcesListenerKeys_=null},goog.provide("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.math"),goog.require("ol.tilecoord"),ol.TileUrlFunction.createFromTemplate=function(a,b){return function(c,d,e){return c?a.replace(/\{z\}/g,c[0].toString()).replace(/\{x\}/g,c[1].toString()).replace(/\{y\}/g,function(){return(-c[2]-1).toString()}).replace(/\{-y\}/g,function(){var a=c[0],d=b.getFullTileRange(a);return ol.asserts.assert(d,55),(d.getHeight()+c[2]).toString()}):void 0}},ol.TileUrlFunction.createFromTemplates=function(a,b){for(var c=a.length,d=new Array(c),e=0;e<c;++e)d[e]=ol.TileUrlFunction.createFromTemplate(a[e],b);return ol.TileUrlFunction.createFromTileUrlFunctions(d)},ol.TileUrlFunction.createFromTileUrlFunctions=function(a){return 1===a.length?a[0]:function(b,c,d){if(b){var e=ol.tilecoord.hash(b),f=ol.math.modulo(e,a.length);return a[f](b,c,d)}}},ol.TileUrlFunction.nullTileUrlFunction=function(a,b,c){},ol.TileUrlFunction.expandUrl=function(a){var b=[],c=/\{([a-z])-([a-z])\}/.exec(a);if(c){var d,e=c[1].charCodeAt(0),f=c[2].charCodeAt(0);for(d=e;d<=f;++d)b.push(a.replace(c[0],String.fromCharCode(d)));return b}if(c=c=/\{(\d+)-(\d+)\}/.exec(a)){for(var g=parseInt(c[2],10),h=parseInt(c[1],10);h<=g;h++)b.push(a.replace(c[0],h.toString()));return b}return b.push(a),b},goog.provide("ol.TileCache"),goog.require("ol"),goog.require("ol.structs.LRUCache"),ol.TileCache=function(a){ol.structs.LRUCache.call(this),this.highWaterMark=void 0!==a?a:2048},ol.inherits(ol.TileCache,ol.structs.LRUCache),ol.TileCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},ol.TileCache.prototype.expireCache=function(a){for(var b,c;this.canExpireCache()&&(b=this.peekLast(),!((c=b.tileCoord[0].toString())in a&&a[c].contains(b.tileCoord)));)this.pop().dispose()},goog.provide("ol.source.Tile"),goog.require("ol"),goog.require("ol.TileCache"),goog.require("ol.TileState"),goog.require("ol.events.Event"),goog.require("ol.proj"),goog.require("ol.size"),goog.require("ol.source.Source"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.Tile=function(a){ol.source.Source.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX}),this.opaque_=void 0!==a.opaque&&a.opaque,this.tilePixelRatio_=void 0!==a.tilePixelRatio?a.tilePixelRatio:1,this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null,this.tileCache=new ol.TileCache(a.cacheSize),this.tmpSize=[0,0],this.key_=""},ol.inherits(ol.source.Tile,ol.source.Source),ol.source.Tile.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},ol.source.Tile.prototype.expireCache=function(a,b){var c=this.getTileCacheForProjection(a);c&&c.expireCache(b)},ol.source.Tile.prototype.forEachLoadedTile=function(a,b,c,d){var e=this.getTileCacheForProjection(a);if(!e)return!1;for(var f,g,h,i=!0,j=c.minX;j<=c.maxX;++j)for(var k=c.minY;k<=c.maxY;++k)g=this.getKeyZXY(b,j,k),h=!1,e.containsKey(g)&&(f=e.get(g),(h=f.getState()===ol.TileState.LOADED)&&(h=!1!==d(f))),h||(i=!1);return i},ol.source.Tile.prototype.getGutter=function(a){return 0},ol.source.Tile.prototype.getKey=function(){return this.key_},ol.source.Tile.prototype.setKey=function(a){this.key_!==a&&(this.key_=a,this.changed())},ol.source.Tile.prototype.getKeyZXY=ol.tilecoord.getKeyZXY,ol.source.Tile.prototype.getOpaque=function(a){return this.opaque_},ol.source.Tile.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},ol.source.Tile.prototype.getTile=function(a,b,c,d,e){},ol.source.Tile.prototype.getTileGrid=function(){return this.tileGrid},ol.source.Tile.prototype.getTileGridForProjection=function(a){return this.tileGrid?this.tileGrid:ol.tilegrid.getForProjection(a)},ol.source.Tile.prototype.getTileCacheForProjection=function(a){var b=this.getProjection();return b&&!ol.proj.equivalent(b,a)?null:this.tileCache},ol.source.Tile.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_},ol.source.Tile.prototype.getTilePixelSize=function(a,b,c){var d=this.getTileGridForProjection(c),e=this.getTilePixelRatio(b),f=ol.size.toSize(d.getTileSize(a),this.tmpSize);return 1==e?f:ol.size.scale(f,e,this.tmpSize)},ol.source.Tile.prototype.getTileCoordForTileUrlFunction=function(a,b){var c=void 0!==b?b:this.getProjection(),d=this.getTileGridForProjection(c);return this.getWrapX()&&c.isGlobal()&&(a=ol.tilegrid.wrapX(d,a,c)),ol.tilecoord.withinExtentAndZ(a,d)?a:null},ol.source.Tile.prototype.refresh=function(){this.tileCache.clear(),this.changed()},ol.source.Tile.prototype.useTile=ol.nullFunction,ol.source.Tile.Event=function(a,b){ol.events.Event.call(this,a),this.tile=b},ol.inherits(ol.source.Tile.Event,ol.events.Event),goog.provide("ol.source.TileEventType"),ol.source.TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},goog.provide("ol.source.UrlTile"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.source.Tile"),goog.require("ol.source.TileEventType"),ol.source.UrlTile=function(a){ol.source.Tile.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX}),this.tileLoadFunction=a.tileLoadFunction,this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.nullTileUrlFunction,this.urls=null,a.urls?this.setUrls(a.urls):a.url&&this.setUrl(a.url),a.tileUrlFunction&&this.setTileUrlFunction(a.tileUrlFunction)},ol.inherits(ol.source.UrlTile,ol.source.Tile),ol.source.UrlTile.prototype.fixedTileUrlFunction,ol.source.UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},ol.source.UrlTile.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},ol.source.UrlTile.prototype.getUrls=function(){return this.urls},ol.source.UrlTile.prototype.handleTileChange=function(a){var b=a.target;switch(b.getState()){case ol.TileState.LOADING:this.dispatchEvent(new ol.source.Tile.Event(ol.source.TileEventType.TILELOADSTART,b));break;case ol.TileState.LOADED:this.dispatchEvent(new ol.source.Tile.Event(ol.source.TileEventType.TILELOADEND,b));break;case ol.TileState.ERROR:this.dispatchEvent(new ol.source.Tile.Event(ol.source.TileEventType.TILELOADERROR,b))}},ol.source.UrlTile.prototype.setTileLoadFunction=function(a){this.tileCache.clear(),this.tileLoadFunction=a,this.changed()},ol.source.UrlTile.prototype.setTileUrlFunction=function(a,b){this.tileUrlFunction=a,void 0!==b?this.setKey(b):this.changed()},ol.source.UrlTile.prototype.setUrl=function(a){var b=this.urls=ol.TileUrlFunction.expandUrl(a);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(b,this.tileGrid),a)},ol.source.UrlTile.prototype.setUrls=function(a){this.urls=a;var b=a.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(a,this.tileGrid),b)},ol.source.UrlTile.prototype.useTile=function(a,b,c){var d=this.getKeyZXY(a,b,c);this.tileCache.containsKey(d)&&this.tileCache.get(d)},goog.provide("ol.source.TileImage"),goog.require("ol"),goog.require("ol.ImageTile"),goog.require("ol.TileCache"),goog.require("ol.TileState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.proj"),goog.require("ol.reproj.Tile"),goog.require("ol.source.UrlTile");goog.require("ol.tilegrid"),ol.source.TileImage=function(a){ol.source.UrlTile.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ol.source.TileImage.defaultTileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX}),this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null,this.tileClass=void 0!==a.tileClass?a.tileClass:ol.ImageTile,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=a.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1},ol.inherits(ol.source.TileImage,ol.source.UrlTile),ol.source.TileImage.prototype.canExpireCache=function(){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var a in this.tileCacheForProjection)if(this.tileCacheForProjection[a].canExpireCache())return!0;return!1},ol.source.TileImage.prototype.expireCache=function(a,b){if(!ol.ENABLE_RASTER_REPROJECTION)return void ol.source.UrlTile.prototype.expireCache.call(this,a,b);var c=this.getTileCacheForProjection(a);this.tileCache.expireCache(this.tileCache==c?b:{});for(var d in this.tileCacheForProjection){var e=this.tileCacheForProjection[d];e.expireCache(e==c?b:{})}},ol.source.TileImage.prototype.getGutter=function(a){return ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&a&&!ol.proj.equivalent(this.getProjection(),a)?0:this.getGutterInternal()},ol.source.TileImage.prototype.getGutterInternal=function(){return 0},ol.source.TileImage.prototype.getOpaque=function(a){return!(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&a&&!ol.proj.equivalent(this.getProjection(),a))&&ol.source.UrlTile.prototype.getOpaque.call(this,a)},ol.source.TileImage.prototype.getTileGridForProjection=function(a){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.getTileGridForProjection.call(this,a);var b=this.getProjection();if(!this.tileGrid||b&&!ol.proj.equivalent(b,a)){var c=ol.getUid(a).toString();return c in this.tileGridForProjection||(this.tileGridForProjection[c]=ol.tilegrid.getForProjection(a)),this.tileGridForProjection[c]}return this.tileGrid},ol.source.TileImage.prototype.getTileCacheForProjection=function(a){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.getTileCacheForProjection.call(this,a);var b=this.getProjection();if(!b||ol.proj.equivalent(b,a))return this.tileCache;var c=ol.getUid(a).toString();return c in this.tileCacheForProjection||(this.tileCacheForProjection[c]=new ol.TileCache(this.tileCache.highWaterMark)),this.tileCacheForProjection[c]},ol.source.TileImage.prototype.createTile_=function(a,b,c,d,e,f){var g=[a,b,c],h=this.getTileCoordForTileUrlFunction(g,e),i=h?this.tileUrlFunction(h,d,e):void 0,j=new this.tileClass(g,void 0!==i?ol.TileState.IDLE:ol.TileState.EMPTY,void 0!==i?i:"",this.crossOrigin,this.tileLoadFunction);return j.key=f,ol.events.listen(j,ol.events.EventType.CHANGE,this.handleTileChange,this),j},ol.source.TileImage.prototype.getTile=function(a,b,c,d,e){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e)){var f,g=this.getTileCacheForProjection(e),h=[a,b,c],i=this.getKeyZXY.apply(this,h);g.containsKey(i)&&(f=g.get(i));var j=this.getKey();if(f&&f.key==j)return f;var k=this.getProjection(),l=this.getTileGridForProjection(k),m=this.getTileGridForProjection(e),n=this.getTileCoordForTileUrlFunction(h,e),o=new ol.reproj.Tile(k,l,e,m,h,n,this.getTilePixelRatio(d),this.getGutterInternal(),function(a,b,c,d){return this.getTileInternal(a,b,c,d,k)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return o.key=j,f?(o.interimTile=f,g.replace(i,o)):g.set(i,o),o}return this.getTileInternal(a,b,c,d,e)},ol.source.TileImage.prototype.getTileInternal=function(a,b,c,d,e){var f=null,g=this.getKeyZXY(a,b,c),h=this.getKey();if(this.tileCache.containsKey(g)){if(f=this.tileCache.get(g),f.key!=h){var i=f;f=this.createTile_(a,b,c,d,e,h),i.getState()==ol.TileState.IDLE?f.interimTile=i.interimTile:f.interimTile=i,f.refreshInterimChain(),this.tileCache.replace(g,f)}}else f=this.createTile_(a,b,c,d,e,h),this.tileCache.set(g,f);return f},ol.source.TileImage.prototype.setRenderReprojectionEdges=function(a){if(ol.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=a){this.renderReprojectionEdges_=a;for(var b in this.tileCacheForProjection)this.tileCacheForProjection[b].clear();this.changed()}},ol.source.TileImage.prototype.setTileGridForProjection=function(a,b){if(ol.ENABLE_RASTER_REPROJECTION){var c=ol.proj.get(a);if(c){var d=ol.getUid(c).toString();d in this.tileGridForProjection||(this.tileGridForProjection[d]=b)}}},ol.source.TileImage.defaultTileLoadFunction=function(a,b){a.getImage().src=b},goog.provide("ol.source.BingMaps"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.TileUrlFunction"),goog.require("ol.extent"),goog.require("ol.net"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.TileImage"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.BingMaps=function(a){this.hidpi_=void 0!==a.hidpi&&a.hidpi,ol.source.TileImage.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:this.hidpi_?2:1,wrapX:void 0===a.wrapX||a.wrapX}),this.culture_=void 0!==a.culture?a.culture:"en-us",this.maxZoom_=void 0!==a.maxZoom?a.maxZoom:-1,this.apiKey_=a.key,this.imagerySet_=a.imagerySet;var b="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_;ol.net.jsonp(b,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")},ol.inherits(ol.source.BingMaps,ol.source.TileImage),ol.source.BingMaps.TOS_ATTRIBUTION=new ol.Attribution({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'}),ol.source.BingMaps.prototype.getApiKey=function(){return this.apiKey_},ol.source.BingMaps.prototype.getImagerySet=function(){return this.imagerySet_},ol.source.BingMaps.prototype.handleImageryMetadataResponse=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)return void this.setState(ol.source.State.ERROR);var b=a.brandLogoUri;-1==b.indexOf("https")&&(b=b.replace("http","https"));var c=a.resourceSets[0].resources[0],d=-1==this.maxZoom_?c.zoomMax:this.maxZoom_,e=this.getProjection(),f=ol.tilegrid.extentFromProjection(e),g=c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight],h=ol.tilegrid.createXYZ({extent:f,minZoom:c.zoomMin,maxZoom:d,tileSize:g/this.getTilePixelRatio()});this.tileGrid=h;var i=this.culture_,j=this.hidpi_;if(this.tileUrlFunction=ol.TileUrlFunction.createFromTileUrlFunctions(c.imageUrlSubdomains.map(function(a){var b=[0,0,0],d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",i);return function(a,c,e){if(a){ol.tilecoord.createOrUpdate(a[0],a[1],-a[2]-1,b);var f=d;return j&&(f+="&dpi=d1&device=mobile"),f.replace("{quadkey}",ol.tilecoord.quadKey(b))}}})),c.imageryProviders){var k=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),this.getProjection()),l=c.imageryProviders.map(function(a){var b=a.attribution,c={};return a.coverageAreas.forEach(function(a){var b,e,f,g=a.zoomMin,i=Math.min(a.zoomMax,d),j=a.bbox,l=[j[1],j[0],j[3],j[2]],m=ol.extent.applyTransform(l,k);for(e=g;e<=i;++e)f=e.toString(),b=h.getTileRangeForExtentAndZ(m,e),f in c?c[f].push(b):c[f]=[b]}),new ol.Attribution({html:b,tileRanges:c})});l.push(ol.source.BingMaps.TOS_ATTRIBUTION),this.setAttributions(l)}this.setLogo(b),this.setState(ol.source.State.READY)},goog.provide("ol.source.XYZ"),goog.require("ol"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid"),ol.source.XYZ=function(a){var b=a||{},c=void 0!==b.projection?b.projection:"EPSG:3857",d=void 0!==b.tileGrid?b.tileGrid:ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(c),maxZoom:b.maxZoom,minZoom:b.minZoom,tileSize:b.tileSize});ol.source.TileImage.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,logo:b.logo,opaque:b.opaque,projection:c,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileGrid:d,tileLoadFunction:b.tileLoadFunction,tilePixelRatio:b.tilePixelRatio,tileUrlFunction:b.tileUrlFunction,url:b.url,urls:b.urls,wrapX:void 0===b.wrapX||b.wrapX})},ol.inherits(ol.source.XYZ,ol.source.TileImage),goog.provide("ol.source.CartoDB"),goog.require("ol"),goog.require("ol.obj"),goog.require("ol.source.State"),goog.require("ol.source.XYZ"),ol.source.CartoDB=function(a){this.account_=a.account,this.mapId_=a.map||"",this.config_=a.config||{},this.templateCache_={},ol.source.XYZ.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:void 0!==a.maxZoom?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:ol.source.State.LOADING,wrapX:a.wrapX}),this.initializeMap_()},ol.inherits(ol.source.CartoDB,ol.source.XYZ),ol.source.CartoDB.prototype.getConfig=function(){return this.config_},ol.source.CartoDB.prototype.updateConfig=function(a){ol.obj.assign(this.config_,a),this.initializeMap_()},ol.source.CartoDB.prototype.setConfig=function(a){this.config_=a||{},this.initializeMap_()},ol.source.CartoDB.prototype.initializeMap_=function(){var a=JSON.stringify(this.config_);if(this.templateCache_[a])return void this.applyTemplate_(this.templateCache_[a]);var b="https://"+this.account_+".cartodb.com/api/v1/map";this.mapId_&&(b+="/named/"+this.mapId_);var c=new XMLHttpRequest;c.addEventListener("load",this.handleInitResponse_.bind(this,a)),c.addEventListener("error",this.handleInitError_.bind(this)),c.open("POST",b),c.setRequestHeader("Content-type","application/json"),c.send(JSON.stringify(this.config_))},ol.source.CartoDB.prototype.handleInitResponse_=function(a,b){var c=b.target;if(!c.status||c.status>=200&&c.status<300){var d;try{d=JSON.parse(c.responseText)}catch(a){return void this.setState(ol.source.State.ERROR)}this.applyTemplate_(d),this.templateCache_[a]=d,this.setState(ol.source.State.READY)}else this.setState(ol.source.State.ERROR)},ol.source.CartoDB.prototype.handleInitError_=function(a){this.setState(ol.source.State.ERROR)},ol.source.CartoDB.prototype.applyTemplate_=function(a){var b="https://"+a.cdn_url.https+"/"+this.account_+"/api/v1/map/"+a.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(b)},goog.provide("ol.source.Cluster"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.Feature"),goog.require("ol.coordinate"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.geom.Point"),goog.require("ol.source.Vector"),ol.source.Cluster=function(a){ol.source.Vector.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX}),this.resolution_=void 0,this.distance_=void 0!==a.distance?a.distance:20,this.features_=[],this.geometryFunction_=a.geometryFunction||function(a){var b=a.getGeometry();return ol.asserts.assert(b instanceof ol.geom.Point,10),b},this.source_=a.source,this.source_.on(ol.events.EventType.CHANGE,ol.source.Cluster.prototype.refresh_,this)},ol.inherits(ol.source.Cluster,ol.source.Vector),ol.source.Cluster.prototype.getDistance=function(){return this.distance_},ol.source.Cluster.prototype.getSource=function(){return this.source_},ol.source.Cluster.prototype.loadFeatures=function(a,b,c){this.source_.loadFeatures(a,b,c),b!==this.resolution_&&(this.clear(),this.resolution_=b,this.cluster_(),this.addFeatures(this.features_))},ol.source.Cluster.prototype.setDistance=function(a){this.distance_=a,this.refresh_()},ol.source.Cluster.prototype.refresh_=function(){this.clear(),this.cluster_(),this.addFeatures(this.features_),this.changed()},ol.source.Cluster.prototype.cluster_=function(){if(void 0!==this.resolution_){this.features_.length=0;for(var a=ol.extent.createEmpty(),b=this.distance_*this.resolution_,c=this.source_.getFeatures(),d={},e=0,f=c.length;e<f;e++){var g=c[e];if(!(ol.getUid(g).toString()in d)){var h=this.geometryFunction_(g);if(h){var i=h.getCoordinates();ol.extent.createOrUpdateFromCoordinate(i,a),ol.extent.buffer(a,b,a);var j=this.source_.getFeaturesInExtent(a);j=j.filter(function(a){var b=ol.getUid(a).toString();return!(b in d)&&(d[b]=!0,!0)}),this.features_.push(this.createCluster_(j))}}}}},ol.source.Cluster.prototype.createCluster_=function(a){for(var b=[0,0],c=a.length-1;c>=0;--c){var d=this.geometryFunction_(a[c]);d?ol.coordinate.add(b,d.getCoordinates()):a.splice(c,1)}ol.coordinate.scale(b,1/a.length);var e=new ol.Feature(new ol.geom.Point(b));return e.set("features",a),e},goog.provide("ol.uri"),ol.uri.appendParams=function(a,b){var c=[];Object.keys(b).forEach(function(a){null!==b[a]&&void 0!==b[a]&&c.push(a+"="+encodeURIComponent(b[a]))});var d=c.join("&");return a=a.replace(/[?&]$/,""),(a=-1===a.indexOf("?")?a+"?":a+"&")+d},goog.provide("ol.source.ImageArcGISRest"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.source.Image"),goog.require("ol.uri"),ol.source.ImageArcGISRest=function(a){var b=a||{};ol.source.Image.call(this,{attributions:b.attributions,logo:b.logo,projection:b.projection,resolutions:b.resolutions}),this.crossOrigin_=void 0!==b.crossOrigin?b.crossOrigin:null,this.hidpi_=void 0===b.hidpi||b.hidpi,this.url_=b.url,this.imageLoadFunction_=void 0!==b.imageLoadFunction?b.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.params_=b.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,
this.ratio_=void 0!==b.ratio?b.ratio:1.5},ol.inherits(ol.source.ImageArcGISRest,ol.source.Image),ol.source.ImageArcGISRest.prototype.getParams=function(){return this.params_},ol.source.ImageArcGISRest.prototype.getImageInternal=function(a,b,c,d){if(void 0===this.url_)return null;b=this.findNearestResolution(b),c=this.hidpi_?c:1;var e=this.image_;if(e&&this.renderedRevision_==this.getRevision()&&e.getResolution()==b&&e.getPixelRatio()==c&&ol.extent.containsExtent(e.getExtent(),a))return e;var f={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};ol.obj.assign(f,this.params_),a=a.slice();var g=(a[0]+a[2])/2,h=(a[1]+a[3])/2;if(1!=this.ratio_){var i=this.ratio_*ol.extent.getWidth(a)/2,j=this.ratio_*ol.extent.getHeight(a)/2;a[0]=g-i,a[1]=h-j,a[2]=g+i,a[3]=h+j}var k=b/c,l=Math.ceil(ol.extent.getWidth(a)/k),m=Math.ceil(ol.extent.getHeight(a)/k);a[0]=g-k*l/2,a[2]=g+k*l/2,a[1]=h-k*m/2,a[3]=h+k*m/2,this.imageSize_[0]=l,this.imageSize_[1]=m;var n=this.getRequestUrl_(a,this.imageSize_,c,d,f);return this.image_=new ol.Image(a,b,c,this.getAttributions(),n,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this),this.image_},ol.source.ImageArcGISRest.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageArcGISRest.prototype.getRequestUrl_=function(a,b,c,d,e){var f=d.getCode().split(":").pop();e.SIZE=b[0]+","+b[1],e.BBOX=a.join(","),e.BBOXSR=f,e.IMAGESR=f,e.DPI=Math.round(90*c);var g=this.url_,h=g.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return h==g&&ol.asserts.assert(!1,50),ol.uri.appendParams(h,e)},ol.source.ImageArcGISRest.prototype.getUrl=function(){return this.url_},ol.source.ImageArcGISRest.prototype.setImageLoadFunction=function(a){this.image_=null,this.imageLoadFunction_=a,this.changed()},ol.source.ImageArcGISRest.prototype.setUrl=function(a){a!=this.url_&&(this.url_=a,this.image_=null,this.changed())},ol.source.ImageArcGISRest.prototype.updateParams=function(a){ol.obj.assign(this.params_,a),this.image_=null,this.changed()},goog.provide("ol.source.ImageMapGuide"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.source.Image"),goog.require("ol.uri"),ol.source.ImageMapGuide=function(a){ol.source.Image.call(this,{projection:a.projection,resolutions:a.resolutions}),this.crossOrigin_=void 0!==a.crossOrigin?a.crossOrigin:null,this.displayDpi_=void 0!==a.displayDpi?a.displayDpi:96,this.params_=a.params||{},this.url_=a.url,this.imageLoadFunction_=void 0!==a.imageLoadFunction?a.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.hidpi_=void 0===a.hidpi||a.hidpi,this.metersPerUnit_=void 0!==a.metersPerUnit?a.metersPerUnit:1,this.ratio_=void 0!==a.ratio?a.ratio:1,this.useOverlay_=void 0!==a.useOverlay&&a.useOverlay,this.image_=null,this.renderedRevision_=0},ol.inherits(ol.source.ImageMapGuide,ol.source.Image),ol.source.ImageMapGuide.prototype.getParams=function(){return this.params_},ol.source.ImageMapGuide.prototype.getImageInternal=function(a,b,c,d){b=this.findNearestResolution(b),c=this.hidpi_?c:1;var e=this.image_;if(e&&this.renderedRevision_==this.getRevision()&&e.getResolution()==b&&e.getPixelRatio()==c&&ol.extent.containsExtent(e.getExtent(),a))return e;1!=this.ratio_&&(a=a.slice(),ol.extent.scaleFromCenter(a,this.ratio_));var f=ol.extent.getWidth(a)/b,g=ol.extent.getHeight(a)/b,h=[f*c,g*c];if(void 0!==this.url_){var i=this.getUrl(this.url_,this.params_,a,h,d);e=new ol.Image(a,b,c,this.getAttributions(),i,this.crossOrigin_,this.imageLoadFunction_),ol.events.listen(e,ol.events.EventType.CHANGE,this.handleImageChange,this)}else e=null;return this.image_=e,this.renderedRevision_=this.getRevision(),e},ol.source.ImageMapGuide.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageMapGuide.getScale=function(a,b,c,d){var e=ol.extent.getWidth(a),f=ol.extent.getHeight(a),g=b[0],h=b[1],i=.0254/d;return h*e>g*f?e*c/(g*i):f*c/(h*i)},ol.source.ImageMapGuide.prototype.updateParams=function(a){ol.obj.assign(this.params_,a),this.changed()},ol.source.ImageMapGuide.prototype.getUrl=function(a,b,c,d,e){var f=ol.source.ImageMapGuide.getScale(c,d,this.metersPerUnit_,this.displayDpi_),g=ol.extent.getCenter(c),h={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(d[0]),SETDISPLAYHEIGHT:Math.round(d[1]),SETVIEWSCALE:f,SETVIEWCENTERX:g[0],SETVIEWCENTERY:g[1]};return ol.obj.assign(h,b),ol.uri.appendParams(a,h)},ol.source.ImageMapGuide.prototype.setImageLoadFunction=function(a){this.image_=null,this.imageLoadFunction_=a,this.changed()},goog.provide("ol.source.ImageStatic"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.ImageState"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.source.Image"),ol.source.ImageStatic=function(a){var b=a.imageExtent,c=void 0!==a.crossOrigin?a.crossOrigin:null,d=void 0!==a.imageLoadFunction?a.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;ol.source.Image.call(this,{attributions:a.attributions,logo:a.logo,projection:ol.proj.get(a.projection)}),this.image_=new ol.Image(b,void 0,1,this.getAttributions(),a.url,c,d),this.imageSize_=a.imageSize?a.imageSize:null,ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this)},ol.inherits(ol.source.ImageStatic,ol.source.Image),ol.source.ImageStatic.prototype.getImageInternal=function(a,b,c,d){return ol.extent.intersects(a,this.image_.getExtent())?this.image_:null},ol.source.ImageStatic.prototype.handleImageChange=function(a){if(this.image_.getState()==ol.ImageState.LOADED){var b,c,d=this.image_.getExtent(),e=this.image_.getImage();this.imageSize_?(b=this.imageSize_[0],c=this.imageSize_[1]):(b=e.width,c=e.height);var f=ol.extent.getHeight(d)/c,g=Math.ceil(ol.extent.getWidth(d)/f);if(g!=b){var h=ol.dom.createCanvasContext2D(g,c),i=h.canvas;h.drawImage(e,0,0,b,c,0,0,i.width,i.height),this.image_.setImage(i)}}ol.source.Image.prototype.handleImageChange.call(this,a)},goog.provide("ol.source.WMSServerType"),ol.source.WMSServerType={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},goog.provide("ol.source.ImageWMS"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.source.Image"),goog.require("ol.source.WMSServerType"),goog.require("ol.string"),goog.require("ol.uri"),ol.source.ImageWMS=function(a){var b=a||{};ol.source.Image.call(this,{attributions:b.attributions,logo:b.logo,projection:b.projection,resolutions:b.resolutions}),this.crossOrigin_=void 0!==b.crossOrigin?b.crossOrigin:null,this.url_=b.url,this.imageLoadFunction_=void 0!==b.imageLoadFunction?b.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.params_=b.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=b.serverType,this.hidpi_=void 0===b.hidpi||b.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==b.ratio?b.ratio:1.5},ol.inherits(ol.source.ImageWMS,ol.source.Image),ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_=[101,101],ol.source.ImageWMS.prototype.getGetFeatureInfoUrl=function(a,b,c,d){if(void 0!==this.url_){var e=ol.extent.getForViewAndSize(a,b,0,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_),f={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ol.obj.assign(f,this.params_,d);var g=Math.floor((a[0]-e[0])/b),h=Math.floor((e[3]-a[1])/b);return f[this.v13_?"I":"X"]=g,f[this.v13_?"J":"Y"]=h,this.getRequestUrl_(e,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_,1,ol.proj.get(c),f)}},ol.source.ImageWMS.prototype.getParams=function(){return this.params_},ol.source.ImageWMS.prototype.getImageInternal=function(a,b,c,d){if(void 0===this.url_)return null;b=this.findNearestResolution(b),1==c||this.hidpi_&&void 0!==this.serverType_||(c=1);var e=b/c,f=ol.extent.getCenter(a),g=Math.ceil(ol.extent.getWidth(a)/e),h=Math.ceil(ol.extent.getHeight(a)/e),i=ol.extent.getForViewAndSize(f,e,0,[g,h]),j=Math.ceil(this.ratio_*ol.extent.getWidth(a)/e),k=Math.ceil(this.ratio_*ol.extent.getHeight(a)/e),l=ol.extent.getForViewAndSize(f,e,0,[j,k]),m=this.image_;if(m&&this.renderedRevision_==this.getRevision()&&m.getResolution()==b&&m.getPixelRatio()==c&&ol.extent.containsExtent(m.getExtent(),i))return m;var n={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};ol.obj.assign(n,this.params_),this.imageSize_[0]=Math.round(ol.extent.getWidth(l)/e),this.imageSize_[1]=Math.round(ol.extent.getHeight(l)/e);var o=this.getRequestUrl_(l,this.imageSize_,c,d,n);return this.image_=new ol.Image(l,b,c,this.getAttributions(),o,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this),this.image_},ol.source.ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageWMS.prototype.getRequestUrl_=function(a,b,c,d,e){if(ol.asserts.assert(void 0!==this.url_,9),e[this.v13_?"CRS":"SRS"]=d.getCode(),"STYLES"in this.params_||(e.STYLES=""),1!=c)switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var f=90*c+.5|0;"FORMAT_OPTIONS"in e?e.FORMAT_OPTIONS+=";dpi:"+f:e.FORMAT_OPTIONS="dpi:"+f;break;case ol.source.WMSServerType.MAPSERVER:e.MAP_RESOLUTION=90*c;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:e.DPI=90*c;break;default:ol.asserts.assert(!1,8)}e.WIDTH=b[0],e.HEIGHT=b[1];var g,h=d.getAxisOrientation();return g=this.v13_&&"ne"==h.substr(0,2)?[a[1],a[0],a[3],a[2]]:a,e.BBOX=g.join(","),ol.uri.appendParams(this.url_,e)},ol.source.ImageWMS.prototype.getUrl=function(){return this.url_},ol.source.ImageWMS.prototype.setImageLoadFunction=function(a){this.image_=null,this.imageLoadFunction_=a,this.changed()},ol.source.ImageWMS.prototype.setUrl=function(a){a!=this.url_&&(this.url_=a,this.image_=null,this.changed())},ol.source.ImageWMS.prototype.updateParams=function(a){ol.obj.assign(this.params_,a),this.updateV13_(),this.image_=null,this.changed()},ol.source.ImageWMS.prototype.updateV13_=function(){var a=this.params_.VERSION||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(a,"1.3")>=0},goog.provide("ol.source.OSM"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.source.XYZ"),ol.source.OSM=function(a){var b,c=a||{};b=void 0!==c.attributions?c.attributions:[ol.source.OSM.ATTRIBUTION];var d=void 0!==c.crossOrigin?c.crossOrigin:"anonymous",e=void 0!==c.url?c.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";ol.source.XYZ.call(this,{attributions:b,cacheSize:c.cacheSize,crossOrigin:d,opaque:void 0===c.opaque||c.opaque,maxZoom:void 0!==c.maxZoom?c.maxZoom:19,reprojectionErrorThreshold:c.reprojectionErrorThreshold,tileLoadFunction:c.tileLoadFunction,url:e,wrapX:c.wrapX})},ol.inherits(ol.source.OSM,ol.source.XYZ),ol.source.OSM.ATTRIBUTION=new ol.Attribution({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'}),goog.provide("ol.ext.pixelworks"),ol.ext.pixelworks,function(){var a,b={},c={exports:b};!function(d){if("object"==typeof b&&void 0!==c)c.exports=d();else if("function"==typeof a&&a.amd)a([],d);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.pixelworks=d()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./processor");c.Processor=d},{"./processor":2}],2:[function(a,b,c){function d(a){function b(a,b,d){return c?new ImageData(a,b,d):{data:a,width:b,height:d}}var c=!0;try{new ImageData(10,10)}catch(a){c=!1}return function(c){var d,e,f=c.buffers,g=c.meta,h=c.imageOps,i=c.width,j=c.height,k=f.length,l=f[0].byteLength;if(h){var m=new Array(k);for(e=0;e<k;++e)m[e]=b(new Uint8ClampedArray(f[e]),i,j);d=a(m,g).data}else{d=new Uint8ClampedArray(l);var n=new Array(k),o=new Array(k);for(e=0;e<k;++e)n[e]=new Uint8ClampedArray(f[e]),o[e]=[0,0,0,0];for(var p=0;p<l;p+=4){for(var q=0;q<k;++q){var r=n[q];o[q][0]=r[p],o[q][1]=r[p+1],o[q][2]=r[p+2],o[q][3]=r[p+3]}var s=a(o,g);d[p]=s[0],d[p+1]=s[1],d[p+2]=s[2],d[p+3]=s[3]}}return d.buffer}}function e(a,b){var c=Object.keys(a.lib||{}).map(function(b){return"var "+b+" = "+a.lib[b].toString()+";"}),e=c.concat(["var __minion__ = ("+d.toString()+")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),f=new Blob(e,{type:"text/javascript"}),g=URL.createObjectURL(f),h=new Worker(g);return h.addEventListener("message",b),h}function f(a,b){var c=d(a.operation);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:c(a),meta:a.meta}})},0)}}}function g(a){this._imageOps=!!a.imageOps;var b;b=0===a.threads?0:this._imageOps?1:a.threads||1;var c=[];if(b)for(var d=0;d<b;++d)c[d]=e(a,this._onWorkerMessage.bind(this,d));else c[0]=f(a,this._onWorkerMessage.bind(this,0));this._workers=c,this._queue=[],this._maxQueueLength=a.queue||1/0,this._running=0,this._dataLookup={},this._job=null}var h=a("./util").newImageData;g.prototype.process=function(a,b,c){this._enqueue({inputs:a,meta:b,callback:c}),this._dispatch()},g.prototype.destroy=function(){for(var a in this)this[a]=null;this._destroyed=!0},g.prototype._enqueue=function(a){for(this._queue.push(a);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},g.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var a=this._job=this._queue.shift(),b=a.inputs[0].width,c=a.inputs[0].height,d=a.inputs.map(function(a){return a.data.buffer}),e=this._workers.length;if(this._running=e,1===e)this._workers[0].postMessage({buffers:d,meta:a.meta,imageOps:this._imageOps,width:b,height:c},d);else for(var f=a.inputs[0].data.length,g=4*Math.ceil(f/4/e),h=0;h<e;++h){for(var i=h*g,j=[],k=0,l=d.length;k<l;++k)j.push(d[h].slice(i,i+g));this._workers[h].postMessage({buffers:j,meta:a.meta,imageOps:this._imageOps,width:b,height:c},j)}}},g.prototype._onWorkerMessage=function(a,b){this._destroyed||(this._dataLookup[a]=b.data,0===--this._running&&this._resolveJob())},g.prototype._resolveJob=function(){var a,b,c=this._job,d=this._workers.length;if(1===d)a=new Uint8ClampedArray(this._dataLookup[0].buffer),b=this._dataLookup[0].meta;else{var e=c.inputs[0].data.length;a=new Uint8ClampedArray(e),b=new Array(e);for(var f=4*Math.ceil(e/4/d),g=0;g<d;++g){var i=this._dataLookup[g].buffer,j=g*f;a.set(new Uint8ClampedArray(i),j),b[g]=this._dataLookup[g].meta}}this._job=null,this._dataLookup={},c.callback(null,h(a,c.inputs[0].width,c.inputs[0].height),b),this._dispatch()},b.exports=g},{"./util":3}],3:[function(a,b,c){function d(a,b,c){if(e)return new ImageData(a,b,c);var d=f.createImageData(b,c);return d.data.set(a),d}var e=!0;try{new ImageData(10,10)}catch(a){e=!1}var f=document.createElement("canvas").getContext("2d");c.newImageData=d},{}]},{},[1])(1)}),ol.ext.pixelworks=c.exports}(),goog.provide("ol.source.RasterOperationType"),ol.source.RasterOperationType={PIXEL:"pixel",IMAGE:"image"},goog.provide("ol.source.Raster"),goog.require("ol"),goog.require("ol.ImageCanvas"),goog.require("ol.TileQueue"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.ext.pixelworks"),goog.require("ol.extent"),goog.require("ol.layer.Image"),goog.require("ol.layer.Tile"),goog.require("ol.obj"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.source.Image"),goog.require("ol.source.RasterOperationType"),goog.require("ol.source.State"),goog.require("ol.source.Tile"),goog.require("ol.transform"),ol.source.Raster=function(a){this.worker_=null,this.operationType_=void 0!==a.operationType?a.operationType:ol.source.RasterOperationType.PIXEL,this.threads_=void 0!==a.threads?a.threads:1,this.renderers_=ol.source.Raster.createRenderers_(a.sources);for(var b=0,c=this.renderers_.length;b<c;++b)ol.events.listen(this.renderers_[b],ol.events.EventType.CHANGE,this.changed,this);this.tileQueue_=new ol.TileQueue(function(){return 1},this.changed.bind(this));for(var d=ol.source.Raster.getLayerStatesArray_(this.renderers_),e={},f=0,g=d.length;f<g;++f)e[ol.getUid(d[f].layer)]=d[f];this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,attributions:{},coordinateToPixelTransform:ol.transform.create(),extent:null,focus:null,index:0,layerStates:e,layerStatesArray:d,logos:{},pixelRatio:1,pixelToCoordinateTransform:ol.transform.create(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},ol.source.Image.call(this,{}),void 0!==a.operation&&this.setOperation(a.operation,a.lib)},ol.inherits(ol.source.Raster,ol.source.Image),ol.source.Raster.prototype.setOperation=function(a,b){this.worker_=new ol.ext.pixelworks.Processor({operation:a,imageOps:this.operationType_===ol.source.RasterOperationType.IMAGE,queue:1,lib:b,threads:this.threads_}),this.changed()},ol.source.Raster.prototype.updateFrameState_=function(a,b,c){var d=ol.obj.assign({},this.frameState_);d.viewState=ol.obj.assign({},d.viewState);var e=ol.extent.getCenter(a);d.extent=a.slice(),d.focus=e,d.size[0]=Math.round(ol.extent.getWidth(a)/b),d.size[1]=Math.round(ol.extent.getHeight(a)/b);var f=d.viewState;return f.center=e,f.projection=c,f.resolution=b,d},ol.source.Raster.prototype.allSourcesReady_=function(){for(var a,b=!0,c=0,d=this.renderers_.length;c<d;++c)if(a=this.renderers_[c].getLayer().getSource(),a.getState()!==ol.source.State.READY){b=!1;break}return b},ol.source.Raster.prototype.getImage=function(a,b,c,d){if(!this.allSourcesReady_())return null;var e=this.updateFrameState_(a,b,d);if(this.requestedFrameState_=e,e.tileQueue.loadMoreTiles(16,16),this.renderedImageCanvas_){var f=this.renderedImageCanvas_.getResolution(),g=this.renderedImageCanvas_.getExtent();b===f&&ol.extent.equals(a,g)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),this.renderedImageCanvas_},ol.source.Raster.prototype.processSources_=function(){for(var a=this.requestedFrameState_,b=this.renderers_.length,c=new Array(b),d=0;d<b;++d){var e=ol.source.Raster.getImageData_(this.renderers_[d],a,a.layerStatesArray[d]);if(!e)return;c[d]=e}var f={};this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.BEFOREOPERATIONS,a,f)),this.worker_.process(c,f,this.onWorkerComplete_.bind(this,a))},ol.source.Raster.prototype.onWorkerComplete_=function(a,b,c,d){if(!b&&c){var e=a.extent,f=a.viewState.resolution;if(f===this.requestedFrameState_.viewState.resolution&&ol.extent.equals(e,this.requestedFrameState_.extent)){var g;if(this.renderedImageCanvas_)g=this.renderedImageCanvas_.getImage().getContext("2d");else{var h=Math.round(ol.extent.getWidth(e)/f),i=Math.round(ol.extent.getHeight(e)/f);g=ol.dom.createCanvasContext2D(h,i),this.renderedImageCanvas_=new ol.ImageCanvas(e,f,1,this.getAttributions(),g.canvas)}g.putImageData(c,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.AFTEROPERATIONS,a,d))}}},ol.source.Raster.getImageData_=function(a,b,c){if(!a.prepareFrame(b,c))return null;var d=b.size[0],e=b.size[1];if(ol.source.Raster.context_){var f=ol.source.Raster.context_.canvas;f.width!==d||f.height!==e?ol.source.Raster.context_=ol.dom.createCanvasContext2D(d,e):ol.source.Raster.context_.clearRect(0,0,d,e)}else ol.source.Raster.context_=ol.dom.createCanvasContext2D(d,e);return a.composeFrame(b,c,ol.source.Raster.context_),ol.source.Raster.context_.getImageData(0,0,d,e)},ol.source.Raster.context_=null,ol.source.Raster.getLayerStatesArray_=function(a){return a.map(function(a){return a.getLayer().getLayerState()})},ol.source.Raster.createRenderers_=function(a){for(var b=a.length,c=new Array(b),d=0;d<b;++d)c[d]=ol.source.Raster.createRenderer_(a[d]);return c},ol.source.Raster.createRenderer_=function(a){var b=null;return a instanceof ol.source.Tile?b=ol.source.Raster.createTileRenderer_(a):a instanceof ol.source.Image&&(b=ol.source.Raster.createImageRenderer_(a)),b},ol.source.Raster.createImageRenderer_=function(a){var b=new ol.layer.Image({source:a});return new ol.renderer.canvas.ImageLayer(b)},ol.source.Raster.createTileRenderer_=function(a){var b=new ol.layer.Tile({source:a});return new ol.renderer.canvas.TileLayer(b)};ol.source.Raster.Event=function(a,b,c){ol.events.Event.call(this,a),this.extent=b.extent,this.resolution=b.viewState.resolution/b.pixelRatio,this.data=c},ol.inherits(ol.source.Raster.Event,ol.events.Event),ol.source.Raster.prototype.getImageInternal=function(){return null},ol.source.Raster.EventType_={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"},goog.provide("ol.source.Stamen"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.source.OSM"),goog.require("ol.source.XYZ"),ol.source.Stamen=function(a){var b=a.layer.indexOf("-"),c=-1==b?a.layer:a.layer.slice(0,b),d=ol.source.Stamen.ProviderConfig[c],e=ol.source.Stamen.LayerConfig[a.layer],f=void 0!==a.url?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+e.extension;ol.source.XYZ.call(this,{attributions:ol.source.Stamen.ATTRIBUTIONS,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=a.maxZoom?a.maxZoom:d.maxZoom,minZoom:void 0!=a.minZoom?a.minZoom:d.minZoom,opaque:e.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:f})},ol.inherits(ol.source.Stamen,ol.source.XYZ),ol.source.Stamen.ATTRIBUTIONS=[new ol.Attribution({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),ol.source.OSM.ATTRIBUTION],ol.source.Stamen.LayerConfig={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},ol.source.Stamen.ProviderConfig={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}},goog.provide("ol.source.TileArcGISRest"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.obj"),goog.require("ol.size"),goog.require("ol.source.TileImage"),goog.require("ol.tilecoord"),goog.require("ol.uri"),ol.source.TileArcGISRest=function(a){var b=a||{};ol.source.TileImage.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,logo:b.logo,projection:b.projection,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileGrid:b.tileGrid,tileLoadFunction:b.tileLoadFunction,url:b.url,urls:b.urls,wrapX:void 0===b.wrapX||b.wrapX}),this.params_=b.params||{},this.tmpExtent_=ol.extent.createEmpty(),this.setKey(this.getKeyForParams_())},ol.inherits(ol.source.TileArcGISRest,ol.source.TileImage),ol.source.TileArcGISRest.prototype.getKeyForParams_=function(){var a=0,b=[];for(var c in this.params_)b[a++]=c+"-"+this.params_[c];return b.join("/")},ol.source.TileArcGISRest.prototype.getParams=function(){return this.params_},ol.source.TileArcGISRest.prototype.getRequestUrl_=function(a,b,c,d,e,f){var g=this.urls;if(g){var h=e.getCode().split(":").pop();f.SIZE=b[0]+","+b[1],f.BBOX=c.join(","),f.BBOXSR=h,f.IMAGESR=h,f.DPI=Math.round(f.DPI?f.DPI*d:90*d);var i;if(1==g.length)i=g[0];else{i=g[ol.math.modulo(ol.tilecoord.hash(a),g.length)]}var j=i.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return ol.uri.appendParams(j,f)}},ol.source.TileArcGISRest.prototype.getTilePixelRatio=function(a){return a},ol.source.TileArcGISRest.prototype.fixedTileUrlFunction=function(a,b,c){var d=this.getTileGrid();if(d||(d=this.getTileGridForProjection(c)),!(d.getResolutions().length<=a[0])){var e=d.getTileCoordExtent(a,this.tmpExtent_),f=ol.size.toSize(d.getTileSize(a[0]),this.tmpSize);1!=b&&(f=ol.size.scale(f,b,this.tmpSize));var g={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return ol.obj.assign(g,this.params_),this.getRequestUrl_(a,f,e,b,c,g)}},ol.source.TileArcGISRest.prototype.updateParams=function(a){ol.obj.assign(this.params_,a),this.setKey(this.getKeyForParams_())},goog.provide("ol.source.TileDebug"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.size"),goog.require("ol.source.Tile"),ol.source.TileDebug=function(a){ol.source.Tile.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:void 0===a.wrapX||a.wrapX})},ol.inherits(ol.source.TileDebug,ol.source.Tile),ol.source.TileDebug.prototype.getTile=function(a,b,c){var d=this.getKeyZXY(a,b,c);if(this.tileCache.containsKey(d))return this.tileCache.get(d);var e=ol.size.toSize(this.tileGrid.getTileSize(a)),f=[a,b,c],g=this.getTileCoordForTileUrlFunction(f),h=g?this.getTileCoordForTileUrlFunction(g).toString():"",i=new ol.source.TileDebug.Tile_(f,e,h);return this.tileCache.set(d,i),i},ol.source.TileDebug.Tile_=function(a,b,c){ol.Tile.call(this,a,ol.TileState.LOADED),this.tileSize_=b,this.text_=c,this.canvas_=null},ol.inherits(ol.source.TileDebug.Tile_,ol.Tile),ol.source.TileDebug.Tile_.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var a=this.tileSize_,b=ol.dom.createCanvasContext2D(a[0],a[1]);return b.strokeStyle="black",b.strokeRect(.5,.5,a[0]+.5,a[1]+.5),b.fillStyle="black",b.textAlign="center",b.textBaseline="middle",b.font="24px sans-serif",b.fillText(this.text_,a[0]/2,a[1]/2),this.canvas_=b.canvas,b.canvas},ol.source.TileDebug.Tile_.prototype.load=function(){},goog.provide("ol.source.TileJSON"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.TileUrlFunction"),goog.require("ol.extent"),goog.require("ol.net"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid"),ol.source.TileJSON=function(a){if(this.tileJSON_=null,ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:a.tileLoadFunction,wrapX:void 0===a.wrapX||a.wrapX}),a.jsonp)ol.net.jsonp(a.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.onXHRLoad_.bind(this)),b.addEventListener("error",this.onXHRError_.bind(this)),b.open("GET",a.url),b.send()}},ol.inherits(ol.source.TileJSON,ol.source.TileImage),ol.source.TileJSON.prototype.onXHRLoad_=function(a){var b=a.target;if(!b.status||b.status>=200&&b.status<300){var c;try{c=JSON.parse(b.responseText)}catch(a){return void this.handleTileJSONError()}this.handleTileJSONResponse(c)}else this.handleTileJSONError()},ol.source.TileJSON.prototype.onXHRError_=function(a){this.handleTileJSONError()},ol.source.TileJSON.prototype.getTileJSON=function(){return this.tileJSON_},ol.source.TileJSON.prototype.handleTileJSONResponse=function(a){var b,c=ol.proj.get("EPSG:4326"),d=this.getProjection();if(void 0!==a.bounds){var e=ol.proj.getTransformFromProjections(c,d);b=ol.extent.applyTransform(a.bounds,e)}var f=a.minzoom||0,g=a.maxzoom||22,h=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(d),maxZoom:g,minZoom:f});if(this.tileGrid=h,this.tileUrlFunction=ol.TileUrlFunction.createFromTemplates(a.tiles,h),void 0!==a.attribution&&!this.getAttributions()){var i,j,k=void 0!==b?b:c.getExtent(),l={};for(i=f;i<=g;++i)j=i.toString(),l[j]=[h.getTileRangeForExtentAndZ(k,i)];this.setAttributions([new ol.Attribution({html:a.attribution,tileRanges:l})])}this.tileJSON_=a,this.setState(ol.source.State.READY)},ol.source.TileJSON.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)},goog.provide("ol.source.TileUTFGrid"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.net"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.Tile"),goog.require("ol.tilegrid"),ol.source.TileUTFGrid=function(a){if(ol.source.Tile.call(this,{projection:ol.proj.get("EPSG:3857"),state:ol.source.State.LOADING}),this.preemptive_=void 0===a.preemptive||a.preemptive,this.tileUrlFunction_=ol.TileUrlFunction.nullTileUrlFunction,this.template_=void 0,this.jsonp_=a.jsonp||!1,a.url)if(this.jsonp_)ol.net.jsonp(a.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.onXHRLoad_.bind(this)),b.addEventListener("error",this.onXHRError_.bind(this)),b.open("GET",a.url),b.send()}else a.tileJSON?this.handleTileJSONResponse(a.tileJSON):ol.asserts.assert(!1,51)},ol.inherits(ol.source.TileUTFGrid,ol.source.Tile),ol.source.TileUTFGrid.prototype.onXHRLoad_=function(a){var b=a.target;if(!b.status||b.status>=200&&b.status<300){var c;try{c=JSON.parse(b.responseText)}catch(a){return void this.handleTileJSONError()}this.handleTileJSONResponse(c)}else this.handleTileJSONError()},ol.source.TileUTFGrid.prototype.onXHRError_=function(a){this.handleTileJSONError()},ol.source.TileUTFGrid.prototype.getTemplate=function(){return this.template_},ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution=function(a,b,c,d,e){if(this.tileGrid){var f=this.tileGrid.getTileCoordForCoordAndResolution(a,b);this.getTile(f[0],f[1],f[2],1,this.getProjection()).forDataAtCoordinate(a,c,d,e)}else!0===e?setTimeout(function(){c.call(d,null)},0):c.call(d,null)},ol.source.TileUTFGrid.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)},ol.source.TileUTFGrid.prototype.handleTileJSONResponse=function(a){var b,c=ol.proj.get("EPSG:4326"),d=this.getProjection();if(void 0!==a.bounds){var e=ol.proj.getTransformFromProjections(c,d);b=ol.extent.applyTransform(a.bounds,e)}var f=a.minzoom||0,g=a.maxzoom||22,h=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(d),maxZoom:g,minZoom:f});this.tileGrid=h,this.template_=a.template;var i=a.grids;if(!i)return void this.setState(ol.source.State.ERROR);if(this.tileUrlFunction_=ol.TileUrlFunction.createFromTemplates(i,h),void 0!==a.attribution){var j,k,l=void 0!==b?b:c.getExtent(),m={};for(j=f;j<=g;++j)k=j.toString(),m[k]=[h.getTileRangeForExtentAndZ(l,j)];this.setAttributions([new ol.Attribution({html:a.attribution,tileRanges:m})])}this.setState(ol.source.State.READY)},
ol.source.TileUTFGrid.prototype.getTile=function(a,b,c,d,e){var f=this.getKeyZXY(a,b,c);if(this.tileCache.containsKey(f))return this.tileCache.get(f);var g=[a,b,c],h=this.getTileCoordForTileUrlFunction(g,e),i=this.tileUrlFunction_(h,d,e),j=new ol.source.TileUTFGrid.Tile_(g,void 0!==i?ol.TileState.IDLE:ol.TileState.EMPTY,void 0!==i?i:"",this.tileGrid.getTileCoordExtent(g),this.preemptive_,this.jsonp_);return this.tileCache.set(f,j),j},ol.source.TileUTFGrid.prototype.useTile=function(a,b,c){var d=this.getKeyZXY(a,b,c);this.tileCache.containsKey(d)&&this.tileCache.get(d)},ol.source.TileUTFGrid.Tile_=function(a,b,c,d,e,f){ol.Tile.call(this,a,b),this.src_=c,this.extent_=d,this.preemptive_=e,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=f},ol.inherits(ol.source.TileUTFGrid.Tile_,ol.Tile),ol.source.TileUTFGrid.Tile_.prototype.getImage=function(){return null},ol.source.TileUTFGrid.Tile_.prototype.getData=function(a){if(!this.grid_||!this.keys_)return null;var b=(a[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),c=(a[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),d=this.grid_[Math.floor((1-c)*this.grid_.length)];if("string"!=typeof d)return null;var e=d.charCodeAt(Math.floor(b*d.length));e>=93&&e--,e>=35&&e--,e-=32;var f=null;if(e in this.keys_){var g=this.keys_[e];f=this.data_&&g in this.data_?this.data_[g]:g}return f},ol.source.TileUTFGrid.Tile_.prototype.forDataAtCoordinate=function(a,b,c,d){this.state==ol.TileState.IDLE&&!0===d?(ol.events.listenOnce(this,ol.events.EventType.CHANGE,function(d){b.call(c,this.getData(a))},this),this.loadInternal_()):!0===d?setTimeout(function(){b.call(c,this.getData(a))}.bind(this),0):b.call(c,this.getData(a))},ol.source.TileUTFGrid.Tile_.prototype.getKey=function(){return this.src_},ol.source.TileUTFGrid.Tile_.prototype.handleError_=function(){this.state=ol.TileState.ERROR,this.changed()},ol.source.TileUTFGrid.Tile_.prototype.handleLoad_=function(a){this.grid_=a.grid,this.keys_=a.keys,this.data_=a.data,this.state=ol.TileState.EMPTY,this.changed()},ol.source.TileUTFGrid.Tile_.prototype.loadInternal_=function(){if(this.state==ol.TileState.IDLE)if(this.state=ol.TileState.LOADING,this.jsonp_)ol.net.jsonp(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var a=new XMLHttpRequest;a.addEventListener("load",this.onXHRLoad_.bind(this)),a.addEventListener("error",this.onXHRError_.bind(this)),a.open("GET",this.src_),a.send()}},ol.source.TileUTFGrid.Tile_.prototype.onXHRLoad_=function(a){var b=a.target;if(!b.status||b.status>=200&&b.status<300){var c;try{c=JSON.parse(b.responseText)}catch(a){return void this.handleError_()}this.handleLoad_(c)}else this.handleError_()},ol.source.TileUTFGrid.Tile_.prototype.onXHRError_=function(a){this.handleError_()},ol.source.TileUTFGrid.Tile_.prototype.load=function(){this.preemptive_&&this.loadInternal_()},goog.provide("ol.source.TileWMS"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.size"),goog.require("ol.source.TileImage"),goog.require("ol.source.WMSServerType"),goog.require("ol.tilecoord"),goog.require("ol.string"),goog.require("ol.uri"),ol.source.TileWMS=function(a){var b=a||{},c=b.params||{},d=!("TRANSPARENT"in c)||c.TRANSPARENT;ol.source.TileImage.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,logo:b.logo,opaque:!d,projection:b.projection,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileGrid:b.tileGrid,tileLoadFunction:b.tileLoadFunction,url:b.url,urls:b.urls,wrapX:void 0===b.wrapX||b.wrapX}),this.gutter_=void 0!==b.gutter?b.gutter:0,this.params_=c,this.v13_=!0,this.serverType_=b.serverType,this.hidpi_=void 0===b.hidpi||b.hidpi,this.coordKeyPrefix_="",this.resetCoordKeyPrefix_(),this.tmpExtent_=ol.extent.createEmpty(),this.updateV13_(),this.setKey(this.getKeyForParams_())},ol.inherits(ol.source.TileWMS,ol.source.TileImage),ol.source.TileWMS.prototype.getGetFeatureInfoUrl=function(a,b,c,d){var e=ol.proj.get(c),f=this.getTileGrid();f||(f=this.getTileGridForProjection(e));var g=f.getTileCoordForCoordAndResolution(a,b);if(!(f.getResolutions().length<=g[0])){var h=f.getResolution(g[0]),i=f.getTileCoordExtent(g,this.tmpExtent_),j=ol.size.toSize(f.getTileSize(g[0]),this.tmpSize),k=this.gutter_;0!==k&&(j=ol.size.buffer(j,k,this.tmpSize),i=ol.extent.buffer(i,h*k,i));var l={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ol.obj.assign(l,this.params_,d);var m=Math.floor((a[0]-i[0])/h),n=Math.floor((i[3]-a[1])/h);return l[this.v13_?"I":"X"]=m,l[this.v13_?"J":"Y"]=n,this.getRequestUrl_(g,j,i,1,e,l)}},ol.source.TileWMS.prototype.getGutterInternal=function(){return this.gutter_},ol.source.TileWMS.prototype.getKeyZXY=function(a,b,c){return this.coordKeyPrefix_+ol.source.TileImage.prototype.getKeyZXY.call(this,a,b,c)},ol.source.TileWMS.prototype.getParams=function(){return this.params_},ol.source.TileWMS.prototype.getRequestUrl_=function(a,b,c,d,e,f){var g=this.urls;if(g){if(f.WIDTH=b[0],f.HEIGHT=b[1],f[this.v13_?"CRS":"SRS"]=e.getCode(),"STYLES"in this.params_||(f.STYLES=""),1!=d)switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var h=90*d+.5|0;"FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+=";dpi:"+h:f.FORMAT_OPTIONS="dpi:"+h;break;case ol.source.WMSServerType.MAPSERVER:f.MAP_RESOLUTION=90*d;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:f.DPI=90*d;break;default:ol.asserts.assert(!1,52)}var i=e.getAxisOrientation(),j=c;if(this.v13_&&"ne"==i.substr(0,2)){var k;k=c[0],j[0]=c[1],j[1]=k,k=c[2],j[2]=c[3],j[3]=k}f.BBOX=j.join(",");var l;if(1==g.length)l=g[0];else{l=g[ol.math.modulo(ol.tilecoord.hash(a),g.length)]}return ol.uri.appendParams(l,f)}},ol.source.TileWMS.prototype.getTilePixelRatio=function(a){return this.hidpi_&&void 0!==this.serverType_?a:1},ol.source.TileWMS.prototype.resetCoordKeyPrefix_=function(){var a=0,b=[];if(this.urls){var c,d;for(c=0,d=this.urls.length;c<d;++c)b[a++]=this.urls[c]}this.coordKeyPrefix_=b.join("#")},ol.source.TileWMS.prototype.getKeyForParams_=function(){var a=0,b=[];for(var c in this.params_)b[a++]=c+"-"+this.params_[c];return b.join("/")},ol.source.TileWMS.prototype.fixedTileUrlFunction=function(a,b,c){var d=this.getTileGrid();if(d||(d=this.getTileGridForProjection(c)),!(d.getResolutions().length<=a[0])){1==b||this.hidpi_&&void 0!==this.serverType_||(b=1);var e=d.getResolution(a[0]),f=d.getTileCoordExtent(a,this.tmpExtent_),g=ol.size.toSize(d.getTileSize(a[0]),this.tmpSize),h=this.gutter_;0!==h&&(g=ol.size.buffer(g,h,this.tmpSize),f=ol.extent.buffer(f,e*h,f)),1!=b&&(g=ol.size.scale(g,b,this.tmpSize));var i={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return ol.obj.assign(i,this.params_),this.getRequestUrl_(a,g,f,b,c,i)}},ol.source.TileWMS.prototype.setUrls=function(a){ol.source.TileImage.prototype.setUrls.call(this,a),this.resetCoordKeyPrefix_()},ol.source.TileWMS.prototype.updateParams=function(a){ol.obj.assign(this.params_,a),this.resetCoordKeyPrefix_(),this.updateV13_(),this.setKey(this.getKeyForParams_())},ol.source.TileWMS.prototype.updateV13_=function(){var a=this.params_.VERSION||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(a,"1.3")>=0},goog.provide("ol.VectorTile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.featureloader"),ol.VectorTile=function(a,b,c,d,e){ol.Tile.call(this,a,b),this.context_=null,this.format_=d,this.features_=null,this.loader_,this.projection_,this.replayState_={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1,replayGroup:null},this.tileLoadFunction_=e,this.url_=c},ol.inherits(ol.VectorTile,ol.Tile),ol.VectorTile.prototype.getContext=function(){return this.context_||(this.context_=ol.dom.createCanvasContext2D()),this.context_},ol.VectorTile.prototype.getImage=function(){return-1==this.replayState_.renderedTileRevision?null:this.context_.canvas},ol.VectorTile.prototype.getFormat=function(){return this.format_},ol.VectorTile.prototype.getFeatures=function(){return this.features_},ol.VectorTile.prototype.getReplayState=function(){return this.replayState_},ol.VectorTile.prototype.getKey=function(){return this.url_},ol.VectorTile.prototype.getProjection=function(){return this.projection_},ol.VectorTile.prototype.load=function(){this.state==ol.TileState.IDLE&&(this.setState(ol.TileState.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},ol.VectorTile.prototype.onLoad_=function(a,b){this.setProjection(b),this.setFeatures(a)},ol.VectorTile.prototype.onError_=function(){this.setState(ol.TileState.ERROR)},ol.VectorTile.prototype.setFeatures=function(a){this.features_=a,this.setState(ol.TileState.LOADED)},ol.VectorTile.prototype.setProjection=function(a){this.projection_=a},ol.VectorTile.prototype.setState=function(a){this.state=a,this.changed()},ol.VectorTile.prototype.setLoader=function(a){this.loader_=a},ol.VectorTile.defaultLoadFunction=function(a,b){var c=ol.featureloader.loadFeaturesXhr(b,a.getFormat(),a.onLoad_.bind(a),a.onError_.bind(a));a.setLoader(c)},goog.provide("ol.source.VectorTile"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.VectorTile"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.size"),goog.require("ol.source.UrlTile"),ol.source.VectorTile=function(a){ol.source.UrlTile.call(this,{attributions:a.attributions,cacheSize:void 0!==a.cacheSize?a.cacheSize:128,extent:a.extent,logo:a.logo,opaque:!1,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ol.VectorTile.defaultLoadFunction,tileUrlFunction:a.tileUrlFunction,tilePixelRatio:a.tilePixelRatio,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX}),this.format_=a.format?a.format:null,this.overlaps_=void 0==a.overlaps||a.overlaps,this.tileClass=a.tileClass?a.tileClass:ol.VectorTile},ol.inherits(ol.source.VectorTile,ol.source.UrlTile),ol.source.VectorTile.prototype.getOverlaps=function(){return this.overlaps_},ol.source.VectorTile.prototype.getTile=function(a,b,c,d,e){var f=this.getKeyZXY(a,b,c);if(this.tileCache.containsKey(f))return this.tileCache.get(f);var g=[a,b,c],h=this.getTileCoordForTileUrlFunction(g,e),i=h?this.tileUrlFunction(h,d,e):void 0,j=new this.tileClass(g,void 0!==i?ol.TileState.IDLE:ol.TileState.EMPTY,void 0!==i?i:"",this.format_,this.tileLoadFunction);return ol.events.listen(j,ol.events.EventType.CHANGE,this.handleTileChange,this),this.tileCache.set(f,j),j},ol.source.VectorTile.prototype.getTilePixelRatio=function(a){return void 0==a?ol.source.UrlTile.prototype.getTilePixelRatio.call(this,a):a},ol.source.VectorTile.prototype.getTilePixelSize=function(a,b,c){var d=ol.size.toSize(this.tileGrid.getTileSize(a));return[Math.round(d[0]*b),Math.round(d[1]*b)]},goog.provide("ol.source.WMTSRequestEncoding"),ol.source.WMTSRequestEncoding={KVP:"KVP",REST:"REST"},goog.provide("ol.tilegrid.WMTS"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.proj"),goog.require("ol.tilegrid.TileGrid"),ol.tilegrid.WMTS=function(a){this.matrixIds_=a.matrixIds,ol.tilegrid.TileGrid.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})},ol.inherits(ol.tilegrid.WMTS,ol.tilegrid.TileGrid),ol.tilegrid.WMTS.prototype.getMatrixId=function(a){return this.matrixIds_[a]},ol.tilegrid.WMTS.prototype.getMatrixIds=function(){return this.matrixIds_},ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet=function(a,b,c){var d,e=[],f=[],g=[],h=[],i=[],j=void 0!==c?c:[];d=ol.proj.get(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var k=d.getMetersPerUnit(),l="ne"==d.getAxisOrientation().substr(0,2);return a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator}),a.TileMatrix.forEach(function(a,b,c){if(!(j.length>0)||ol.array.find(j,function(b,c,d){return a.Identifier==b.TileMatrix})){f.push(a.Identifier);var d=28e-5*a.ScaleDenominator/k,m=a.TileWidth,n=a.TileHeight;l?g.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):g.push(a.TopLeftCorner),e.push(d),h.push(m==n?m:[m,n]),i.push([a.MatrixWidth,-a.MatrixHeight])}}),new ol.tilegrid.WMTS({extent:b,origins:g,resolutions:e,matrixIds:f,tileSizes:h,sizes:i})},goog.provide("ol.source.WMTS"),goog.require("ol"),goog.require("ol.TileUrlFunction"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.source.TileImage"),goog.require("ol.source.WMTSRequestEncoding"),goog.require("ol.tilegrid.WMTS"),goog.require("ol.uri"),ol.source.WMTS=function(a){function b(a){return a=d==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(a,f):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in f?f[b.toLowerCase()]:a}),function(b,c,f){if(b){var h={TileMatrix:e.getMatrixId(b[0]),TileCol:b[1],TileRow:-b[2]-1};ol.obj.assign(h,g);var i=a;return i=d==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(i,h):i.replace(/\{(\w+?)\}/g,function(a,b){return h[b]})}}}this.version_=void 0!==a.version?a.version:"1.0.0",this.format_=void 0!==a.format?a.format:"image/jpeg",this.dimensions_=void 0!==a.dimensions?a.dimensions:{},this.layer_=a.layer,this.matrixSet_=a.matrixSet,this.style_=a.style;var c=a.urls;void 0===c&&void 0!==a.url&&(c=ol.TileUrlFunction.expandUrl(a.url)),this.requestEncoding_=void 0!==a.requestEncoding?a.requestEncoding:ol.source.WMTSRequestEncoding.KVP;var d=this.requestEncoding_,e=a.tileGrid,f={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};d==ol.source.WMTSRequestEncoding.KVP&&ol.obj.assign(f,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});var g=this.dimensions_,h=c&&c.length>0?ol.TileUrlFunction.createFromTileUrlFunctions(c.map(b)):ol.TileUrlFunction.nullTileUrlFunction;ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,urls:c,wrapX:void 0!==a.wrapX&&a.wrapX}),this.setKey(this.getKeyForDimensions_())},ol.inherits(ol.source.WMTS,ol.source.TileImage),ol.source.WMTS.prototype.getDimensions=function(){return this.dimensions_},ol.source.WMTS.prototype.getFormat=function(){return this.format_},ol.source.WMTS.prototype.getLayer=function(){return this.layer_},ol.source.WMTS.prototype.getMatrixSet=function(){return this.matrixSet_},ol.source.WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_},ol.source.WMTS.prototype.getStyle=function(){return this.style_},ol.source.WMTS.prototype.getVersion=function(){return this.version_},ol.source.WMTS.prototype.getKeyForDimensions_=function(){var a=0,b=[];for(var c in this.dimensions_)b[a++]=c+"-"+this.dimensions_[c];return b.join("/")},ol.source.WMTS.prototype.updateDimensions=function(a){ol.obj.assign(this.dimensions_,a),this.setKey(this.getKeyForDimensions_())},ol.source.WMTS.optionsFromCapabilities=function(a,b){var c=a.Contents.Layer,d=ol.array.find(c,function(a,c,d){return a.Identifier==b.layer});if(null===d)return null;var e,f,g,h=a.Contents.TileMatrixSet;e=d.TileMatrixSetLink.length>1?"projection"in b?ol.array.findIndex(d.TileMatrixSetLink,function(a,c,d){var e=ol.array.find(h,function(b){return b.Identifier==a.TileMatrixSet}),f=e.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),g=ol.proj.get(f),i=ol.proj.get(b.projection);return g&&i?ol.proj.equivalent(g,i):f==b.projection}):ol.array.findIndex(d.TileMatrixSetLink,function(a,c,d){return a.TileMatrixSet==b.matrixSet}):0,e<0&&(e=0),f=d.TileMatrixSetLink[e].TileMatrixSet,g=d.TileMatrixSetLink[e].TileMatrixSetLimits;var i=d.Format[0];"format"in b&&(i=b.format),(e=ol.array.findIndex(d.Style,function(a,c,d){return"style"in b?a.Title==b.style:a.isDefault}))<0&&(e=0);var j=d.Style[e].Identifier,k={};"Dimension"in d&&d.Dimension.forEach(function(a,b,c){var d=a.Identifier,e=a.Default;void 0===e&&(e=a.Value[0]),k[d]=e});var l,m=a.Contents.TileMatrixSet,n=ol.array.find(m,function(a,b,c){return a.Identifier==f});l="projection"in b?ol.proj.get(b.projection):ol.proj.get(n.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var o,p,q=d.WGS84BoundingBox;if(void 0!==q){var r=ol.proj.get("EPSG:4326").getExtent();p=q[0]==r[0]&&q[2]==r[2],o=ol.proj.transformExtent(q,"EPSG:4326",l);var s=l.getExtent();s&&(ol.extent.containsExtent(s,o)||(o=void 0))}var t=ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet(n,o,g),u=[],v=b.requestEncoding;if(v=void 0!==v?v:"","OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata)for(var w=a.OperationsMetadata.GetTile.DCP.HTTP.Get,x=0,y=w.length;x<y;++x){var z=ol.array.find(w[x].Constraint,function(a){return"GetEncoding"==a.name}),A=z.AllowedValues.Value;if(""===v&&(v=A[0]),v!==ol.source.WMTSRequestEncoding.KVP)break;ol.array.includes(A,ol.source.WMTSRequestEncoding.KVP)&&u.push(w[x].href)}return 0===u.length&&(v=ol.source.WMTSRequestEncoding.REST,d.ResourceURL.forEach(function(a){"tile"===a.resourceType&&(i=a.format,u.push(a.template))})),{urls:u,layer:b.layer,matrixSet:f,format:i,projection:l,requestEncoding:v,tileGrid:t,style:j,dimensions:k,wrapX:p,crossOrigin:b.crossOrigin}},goog.provide("ol.source.Zoomify"),goog.require("ol");goog.require("ol.ImageTile"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid.TileGrid"),ol.source.Zoomify=function(a){function b(a){return function(b,c,d){if(b){var e=b[0],f=b[1],g=-b[2]-1,i=f+g*h[e][0]+o[e],j=i/ol.DEFAULT_TILE_SIZE|0,k={z:e,x:f,y:g,TileGroup:"TileGroup"+j};return a.replace(/\{(\w+?)\}/g,function(a,b){return k[b]})}}}var c=a||{},d=c.size,e=void 0!==c.tierSizeCalculation?c.tierSizeCalculation:ol.source.Zoomify.TierSizeCalculation_.DEFAULT,f=d[0],g=d[1],h=[],i=ol.DEFAULT_TILE_SIZE;switch(e){case ol.source.Zoomify.TierSizeCalculation_.DEFAULT:for(;f>i||g>i;)h.push([Math.ceil(f/i),Math.ceil(g/i)]),i+=i;break;case ol.source.Zoomify.TierSizeCalculation_.TRUNCATED:for(var j=f,k=g;j>i||k>i;)h.push([Math.ceil(j/i),Math.ceil(k/i)]),j>>=1,k>>=1;break;default:ol.asserts.assert(!1,53)}h.push([1,1]),h.reverse();var l,m,n=[1],o=[0];for(l=1,m=h.length;l<m;l++)n.push(1<<l),o.push(h[l-1][0]*h[l-1][1]+o[l-1]);n.reverse();var p=[0,-d[1],d[0],0],q=new ol.tilegrid.TileGrid({extent:p,origin:ol.extent.getTopLeft(p),resolutions:n}),r=c.url;r&&-1==r.indexOf("{TileGroup}")&&(r+="{TileGroup}/{z}-{x}-{y}.jpg");var s=ol.TileUrlFunction.expandUrl(r),t=ol.TileUrlFunction.createFromTileUrlFunctions(s.map(b));ol.source.TileImage.call(this,{attributions:c.attributions,cacheSize:c.cacheSize,crossOrigin:c.crossOrigin,logo:c.logo,projection:c.projection,reprojectionErrorThreshold:c.reprojectionErrorThreshold,tileClass:ol.source.Zoomify.Tile_,tileGrid:q,tileUrlFunction:t})},ol.inherits(ol.source.Zoomify,ol.source.TileImage),ol.source.Zoomify.Tile_=function(a,b,c,d,e){ol.ImageTile.call(this,a,b,c,d,e),this.zoomifyImage_=null},ol.inherits(ol.source.Zoomify.Tile_,ol.ImageTile),ol.source.Zoomify.Tile_.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var a=ol.DEFAULT_TILE_SIZE,b=ol.ImageTile.prototype.getImage.call(this);if(this.state==ol.TileState.LOADED){if(b.width==a&&b.height==a)return this.zoomifyImage_=b,b;var c=ol.dom.createCanvasContext2D(a,a);return c.drawImage(b,0,0),this.zoomifyImage_=c.canvas,c.canvas}return b},ol.source.Zoomify.TierSizeCalculation_={DEFAULT:"default",TRUNCATED:"truncated"},goog.provide("ol.style.Atlas"),goog.require("ol.dom"),ol.style.Atlas=function(a,b){this.space_=b,this.emptyBlocks_=[{x:0,y:0,width:a,height:a}],this.entries_={},this.context_=ol.dom.createCanvasContext2D(a,a),this.canvas_=this.context_.canvas},ol.style.Atlas.prototype.get=function(a){return this.entries_[a]||null},ol.style.Atlas.prototype.add=function(a,b,c,d,e){var f,g,h;for(g=0,h=this.emptyBlocks_.length;g<h;++g)if(f=this.emptyBlocks_[g],f.width>=b+this.space_&&f.height>=c+this.space_){var i={offsetX:f.x+this.space_,offsetY:f.y+this.space_,image:this.canvas_};return this.entries_[a]=i,d.call(e,this.context_,f.x+this.space_,f.y+this.space_),this.split_(g,f,b+this.space_,c+this.space_),i}return null},ol.style.Atlas.prototype.split_=function(a,b,c,d){var e,f,g=b.width-c,h=b.height-d;g>h?(e={x:b.x+c,y:b.y,width:b.width-c,height:b.height},f={x:b.x,y:b.y+d,width:c,height:b.height-d},this.updateBlocks_(a,e,f)):(e={x:b.x+c,y:b.y,width:b.width-c,height:d},f={x:b.x,y:b.y+d,width:b.width,height:b.height-d},this.updateBlocks_(a,e,f))},ol.style.Atlas.prototype.updateBlocks_=function(a,b,c){var d=[a,1];b.width>0&&b.height>0&&d.push(b),c.width>0&&c.height>0&&d.push(c),this.emptyBlocks_.splice.apply(this.emptyBlocks_,d)},goog.provide("ol.style.AtlasManager"),goog.require("ol"),goog.require("ol.style.Atlas"),ol.style.AtlasManager=function(a){var b=a||{};this.currentSize_=void 0!==b.initialSize?b.initialSize:ol.INITIAL_ATLAS_SIZE,this.maxSize_=void 0!==b.maxSize?b.maxSize:-1!=ol.MAX_ATLAS_SIZE?ol.MAX_ATLAS_SIZE:void 0!==ol.WEBGL_MAX_TEXTURE_SIZE?ol.WEBGL_MAX_TEXTURE_SIZE:2048,this.space_=void 0!==b.space?b.space:1,this.atlases_=[new ol.style.Atlas(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new ol.style.Atlas(this.currentHitSize_,this.space_)]},ol.style.AtlasManager.prototype.getInfo=function(a){var b=this.getInfo_(this.atlases_,a);if(!b)return null;var c=this.getInfo_(this.hitAtlases_,a);return this.mergeInfos_(b,c)},ol.style.AtlasManager.prototype.getInfo_=function(a,b){var c,d,e,f;for(e=0,f=a.length;e<f;++e)if(c=a[e],d=c.get(b))return d;return null},ol.style.AtlasManager.prototype.mergeInfos_=function(a,b){return{offsetX:a.offsetX,offsetY:a.offsetY,image:a.image,hitImage:b.image}},ol.style.AtlasManager.prototype.add=function(a,b,c,d,e,f){if(b+this.space_>this.maxSize_||c+this.space_>this.maxSize_)return null;var g=this.add_(!1,a,b,c,d,f);if(!g)return null;var h=void 0!==e?e:ol.nullFunction,i=this.add_(!0,a,b,c,h,f);return this.mergeInfos_(g,i)},ol.style.AtlasManager.prototype.add_=function(a,b,c,d,e,f){var g,h,i,j,k=a?this.hitAtlases_:this.atlases_;for(i=0,j=k.length;i<j;++i){if(g=k[i],h=g.add(b,c,d,e,f))return h;if(!h&&i===j-1){var l;a?(l=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=l):(l=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=l),g=new ol.style.Atlas(l,this.space_),k.push(g),++j}}return null},goog.addDependency("demos/editor/equationeditor.js",["goog.demos.editor.EquationEditor"],["goog.ui.equation.EquationEditorDialog"]),goog.addDependency("demos/editor/helloworld.js",["goog.demos.editor.HelloWorld"],["goog.dom","goog.dom.TagName","goog.editor.Plugin"]),goog.addDependency("demos/editor/helloworlddialog.js",["goog.demos.editor.HelloWorldDialog","goog.demos.editor.HelloWorldDialog.OkEvent"],["goog.dom.TagName","goog.events.Event","goog.string","goog.ui.editor.AbstractDialog","goog.ui.editor.AbstractDialog.Builder","goog.ui.editor.AbstractDialog.EventType"]),goog.addDependency("demos/editor/helloworlddialogplugin.js",["goog.demos.editor.HelloWorldDialogPlugin","goog.demos.editor.HelloWorldDialogPlugin.Command"],["goog.demos.editor.HelloWorldDialog","goog.dom.TagName","goog.editor.plugins.AbstractDialogPlugin","goog.editor.range","goog.functions","goog.ui.editor.AbstractDialog.EventType"]),goog.require("ol"),goog.require("ol.AssertionError"),goog.require("ol.Attribution"),goog.require("ol.Collection"),goog.require("ol.DeviceOrientation"),goog.require("ol.Feature"),goog.require("ol.Geolocation"),goog.require("ol.Graticule"),goog.require("ol.Image"),goog.require("ol.ImageTile"),goog.require("ol.Kinetic"),goog.require("ol.Map"),goog.require("ol.MapBrowserEvent"),goog.require("ol.MapEvent"),goog.require("ol.Object"),goog.require("ol.Observable"),goog.require("ol.Overlay"),goog.require("ol.Sphere"),goog.require("ol.Tile"),goog.require("ol.VectorTile"),goog.require("ol.View"),goog.require("ol.color"),goog.require("ol.colorlike"),goog.require("ol.control"),goog.require("ol.control.Attribution"),goog.require("ol.control.Control"),goog.require("ol.control.FullScreen"),goog.require("ol.control.MousePosition"),goog.require("ol.control.OverviewMap"),goog.require("ol.control.Rotate"),goog.require("ol.control.ScaleLine"),goog.require("ol.control.Zoom"),goog.require("ol.control.ZoomSlider"),goog.require("ol.control.ZoomToExtent"),goog.require("ol.coordinate"),goog.require("ol.easing"),goog.require("ol.events.Event"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.featureloader"),goog.require("ol.format.EsriJSON"),goog.require("ol.format.Feature"),goog.require("ol.format.GML"),goog.require("ol.format.GML2"),goog.require("ol.format.GML3"),goog.require("ol.format.GMLBase"),goog.require("ol.format.GPX"),goog.require("ol.format.GeoJSON"),goog.require("ol.format.IGC"),goog.require("ol.format.KML"),goog.require("ol.format.MVT"),goog.require("ol.format.OSMXML"),goog.require("ol.format.Polyline"),goog.require("ol.format.TopoJSON"),goog.require("ol.format.WFS"),goog.require("ol.format.WKT"),goog.require("ol.format.WMSCapabilities"),goog.require("ol.format.WMSGetFeatureInfo"),goog.require("ol.format.WMTSCapabilities"),goog.require("ol.format.filter"),goog.require("ol.format.filter.And"),goog.require("ol.format.filter.Bbox"),goog.require("ol.format.filter.Comparison"),goog.require("ol.format.filter.ComparisonBinary"),goog.require("ol.format.filter.EqualTo"),goog.require("ol.format.filter.Filter"),goog.require("ol.format.filter.GreaterThan"),goog.require("ol.format.filter.GreaterThanOrEqualTo"),goog.require("ol.format.filter.Intersects"),goog.require("ol.format.filter.IsBetween"),goog.require("ol.format.filter.IsLike"),goog.require("ol.format.filter.IsNull"),goog.require("ol.format.filter.LessThan"),goog.require("ol.format.filter.LessThanOrEqualTo"),goog.require("ol.format.filter.Not"),goog.require("ol.format.filter.NotEqualTo"),goog.require("ol.format.filter.Or"),goog.require("ol.format.filter.Spatial"),goog.require("ol.format.filter.Within"),goog.require("ol.geom.Circle"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.has"),goog.require("ol.interaction"),goog.require("ol.interaction.DoubleClickZoom"),goog.require("ol.interaction.DragAndDrop"),goog.require("ol.interaction.DragBox"),goog.require("ol.interaction.DragPan"),goog.require("ol.interaction.DragRotate"),goog.require("ol.interaction.DragRotateAndZoom"),goog.require("ol.interaction.DragZoom"),goog.require("ol.interaction.Draw"),goog.require("ol.interaction.Extent"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.KeyboardPan"),goog.require("ol.interaction.KeyboardZoom"),goog.require("ol.interaction.Modify"),goog.require("ol.interaction.MouseWheelZoom"),goog.require("ol.interaction.PinchRotate"),goog.require("ol.interaction.PinchZoom"),goog.require("ol.interaction.Pointer"),goog.require("ol.interaction.Select"),goog.require("ol.interaction.Snap"),goog.require("ol.interaction.Translate"),goog.require("ol.layer.Base"),goog.require("ol.layer.Group"),goog.require("ol.layer.Heatmap"),goog.require("ol.layer.Image"),goog.require("ol.layer.Layer"),goog.require("ol.layer.Tile"),goog.require("ol.layer.Vector"),goog.require("ol.layer.VectorTile"),goog.require("ol.loadingstrategy"),goog.require("ol.proj"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.proj.common"),goog.require("ol.render"),goog.require("ol.render.Event"),goog.require("ol.render.Feature"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.size"),goog.require("ol.source.BingMaps"),goog.require("ol.source.CartoDB"),goog.require("ol.source.Cluster"),goog.require("ol.source.Image"),goog.require("ol.source.ImageArcGISRest"),goog.require("ol.source.ImageCanvas"),goog.require("ol.source.ImageMapGuide"),goog.require("ol.source.ImageStatic"),goog.require("ol.source.ImageVector"),goog.require("ol.source.ImageWMS"),goog.require("ol.source.OSM"),goog.require("ol.source.Raster"),goog.require("ol.source.Source"),goog.require("ol.source.Stamen"),goog.require("ol.source.Tile"),goog.require("ol.source.TileArcGISRest"),goog.require("ol.source.TileDebug"),goog.require("ol.source.TileImage"),goog.require("ol.source.TileJSON"),goog.require("ol.source.TileUTFGrid"),goog.require("ol.source.TileWMS"),goog.require("ol.source.UrlTile"),goog.require("ol.source.Vector"),goog.require("ol.source.VectorTile"),goog.require("ol.source.WMTS"),goog.require("ol.source.XYZ"),goog.require("ol.source.Zoomify"),goog.require("ol.style.AtlasManager"),goog.require("ol.style.Circle"),goog.require("ol.style.Fill"),goog.require("ol.style.Icon"),goog.require("ol.style.Image"),goog.require("ol.style.RegularShape"),goog.require("ol.style.Stroke");goog.require("ol.style.Style"),goog.require("ol.style.Text"),goog.require("ol.tilegrid"),goog.require("ol.tilegrid.TileGrid"),goog.require("ol.tilegrid.WMTS"),goog.require("ol.webgl.Context"),goog.require("ol.xml"),goog.exportProperty(ol.AssertionError.prototype,"code",ol.AssertionError.prototype.code),goog.exportSymbol("ol.Attribution",ol.Attribution,OPENLAYERS),goog.exportProperty(ol.Attribution.prototype,"getHTML",ol.Attribution.prototype.getHTML),goog.exportSymbol("ol.Collection",ol.Collection,OPENLAYERS),goog.exportProperty(ol.Collection.prototype,"clear",ol.Collection.prototype.clear),goog.exportProperty(ol.Collection.prototype,"extend",ol.Collection.prototype.extend),goog.exportProperty(ol.Collection.prototype,"forEach",ol.Collection.prototype.forEach),goog.exportProperty(ol.Collection.prototype,"getArray",ol.Collection.prototype.getArray),goog.exportProperty(ol.Collection.prototype,"item",ol.Collection.prototype.item),goog.exportProperty(ol.Collection.prototype,"getLength",ol.Collection.prototype.getLength),goog.exportProperty(ol.Collection.prototype,"insertAt",ol.Collection.prototype.insertAt),goog.exportProperty(ol.Collection.prototype,"pop",ol.Collection.prototype.pop),goog.exportProperty(ol.Collection.prototype,"push",ol.Collection.prototype.push),goog.exportProperty(ol.Collection.prototype,"remove",ol.Collection.prototype.remove),goog.exportProperty(ol.Collection.prototype,"removeAt",ol.Collection.prototype.removeAt),goog.exportProperty(ol.Collection.prototype,"setAt",ol.Collection.prototype.setAt),goog.exportProperty(ol.Collection.Event.prototype,"element",ol.Collection.Event.prototype.element),goog.exportSymbol("ol.color.asArray",ol.color.asArray,OPENLAYERS),goog.exportSymbol("ol.color.asString",ol.color.asString,OPENLAYERS),goog.exportSymbol("ol.colorlike.asColorLike",ol.colorlike.asColorLike,OPENLAYERS),goog.exportSymbol("ol.control.defaults",ol.control.defaults,OPENLAYERS),goog.exportSymbol("ol.coordinate.add",ol.coordinate.add,OPENLAYERS),goog.exportSymbol("ol.coordinate.createStringXY",ol.coordinate.createStringXY,OPENLAYERS),goog.exportSymbol("ol.coordinate.format",ol.coordinate.format,OPENLAYERS),goog.exportSymbol("ol.coordinate.rotate",ol.coordinate.rotate,OPENLAYERS),goog.exportSymbol("ol.coordinate.toStringHDMS",ol.coordinate.toStringHDMS,OPENLAYERS),goog.exportSymbol("ol.coordinate.toStringXY",ol.coordinate.toStringXY,OPENLAYERS),goog.exportSymbol("ol.DeviceOrientation",ol.DeviceOrientation,OPENLAYERS),
goog.exportProperty(ol.DeviceOrientation.prototype,"getAlpha",ol.DeviceOrientation.prototype.getAlpha),goog.exportProperty(ol.DeviceOrientation.prototype,"getBeta",ol.DeviceOrientation.prototype.getBeta),goog.exportProperty(ol.DeviceOrientation.prototype,"getGamma",ol.DeviceOrientation.prototype.getGamma),goog.exportProperty(ol.DeviceOrientation.prototype,"getHeading",ol.DeviceOrientation.prototype.getHeading),goog.exportProperty(ol.DeviceOrientation.prototype,"getTracking",ol.DeviceOrientation.prototype.getTracking),goog.exportProperty(ol.DeviceOrientation.prototype,"setTracking",ol.DeviceOrientation.prototype.setTracking),goog.exportSymbol("ol.easing.easeIn",ol.easing.easeIn,OPENLAYERS),goog.exportSymbol("ol.easing.easeOut",ol.easing.easeOut,OPENLAYERS),goog.exportSymbol("ol.easing.inAndOut",ol.easing.inAndOut,OPENLAYERS),goog.exportSymbol("ol.easing.linear",ol.easing.linear,OPENLAYERS),goog.exportSymbol("ol.easing.upAndDown",ol.easing.upAndDown,OPENLAYERS),goog.exportSymbol("ol.extent.boundingExtent",ol.extent.boundingExtent,OPENLAYERS),goog.exportSymbol("ol.extent.buffer",ol.extent.buffer,OPENLAYERS),goog.exportSymbol("ol.extent.containsCoordinate",ol.extent.containsCoordinate,OPENLAYERS),goog.exportSymbol("ol.extent.containsExtent",ol.extent.containsExtent,OPENLAYERS),goog.exportSymbol("ol.extent.containsXY",ol.extent.containsXY,OPENLAYERS),goog.exportSymbol("ol.extent.createEmpty",ol.extent.createEmpty,OPENLAYERS),goog.exportSymbol("ol.extent.equals",ol.extent.equals,OPENLAYERS),goog.exportSymbol("ol.extent.extend",ol.extent.extend,OPENLAYERS),goog.exportSymbol("ol.extent.getBottomLeft",ol.extent.getBottomLeft,OPENLAYERS),goog.exportSymbol("ol.extent.getBottomRight",ol.extent.getBottomRight,OPENLAYERS),goog.exportSymbol("ol.extent.getCenter",ol.extent.getCenter,OPENLAYERS),goog.exportSymbol("ol.extent.getHeight",ol.extent.getHeight,OPENLAYERS),goog.exportSymbol("ol.extent.getIntersection",ol.extent.getIntersection,OPENLAYERS),goog.exportSymbol("ol.extent.getSize",ol.extent.getSize,OPENLAYERS),goog.exportSymbol("ol.extent.getTopLeft",ol.extent.getTopLeft,OPENLAYERS),goog.exportSymbol("ol.extent.getTopRight",ol.extent.getTopRight,OPENLAYERS),goog.exportSymbol("ol.extent.getWidth",ol.extent.getWidth,OPENLAYERS),goog.exportSymbol("ol.extent.intersects",ol.extent.intersects,OPENLAYERS),goog.exportSymbol("ol.extent.isEmpty",ol.extent.isEmpty,OPENLAYERS),goog.exportSymbol("ol.extent.applyTransform",ol.extent.applyTransform,OPENLAYERS),goog.exportSymbol("ol.Feature",ol.Feature,OPENLAYERS),goog.exportProperty(ol.Feature.prototype,"clone",ol.Feature.prototype.clone),goog.exportProperty(ol.Feature.prototype,"getGeometry",ol.Feature.prototype.getGeometry),goog.exportProperty(ol.Feature.prototype,"getId",ol.Feature.prototype.getId),goog.exportProperty(ol.Feature.prototype,"getGeometryName",ol.Feature.prototype.getGeometryName),goog.exportProperty(ol.Feature.prototype,"getStyle",ol.Feature.prototype.getStyle),goog.exportProperty(ol.Feature.prototype,"getStyleFunction",ol.Feature.prototype.getStyleFunction),goog.exportProperty(ol.Feature.prototype,"setGeometry",ol.Feature.prototype.setGeometry),goog.exportProperty(ol.Feature.prototype,"setStyle",ol.Feature.prototype.setStyle),goog.exportProperty(ol.Feature.prototype,"setId",ol.Feature.prototype.setId),goog.exportProperty(ol.Feature.prototype,"setGeometryName",ol.Feature.prototype.setGeometryName),goog.exportSymbol("ol.featureloader.xhr",ol.featureloader.xhr,OPENLAYERS),goog.exportSymbol("ol.Geolocation",ol.Geolocation,OPENLAYERS),goog.exportProperty(ol.Geolocation.prototype,"getAccuracy",ol.Geolocation.prototype.getAccuracy),goog.exportProperty(ol.Geolocation.prototype,"getAccuracyGeometry",ol.Geolocation.prototype.getAccuracyGeometry),goog.exportProperty(ol.Geolocation.prototype,"getAltitude",ol.Geolocation.prototype.getAltitude),goog.exportProperty(ol.Geolocation.prototype,"getAltitudeAccuracy",ol.Geolocation.prototype.getAltitudeAccuracy),goog.exportProperty(ol.Geolocation.prototype,"getHeading",ol.Geolocation.prototype.getHeading),goog.exportProperty(ol.Geolocation.prototype,"getPosition",ol.Geolocation.prototype.getPosition),goog.exportProperty(ol.Geolocation.prototype,"getProjection",ol.Geolocation.prototype.getProjection),goog.exportProperty(ol.Geolocation.prototype,"getSpeed",ol.Geolocation.prototype.getSpeed),goog.exportProperty(ol.Geolocation.prototype,"getTracking",ol.Geolocation.prototype.getTracking),goog.exportProperty(ol.Geolocation.prototype,"getTrackingOptions",ol.Geolocation.prototype.getTrackingOptions),goog.exportProperty(ol.Geolocation.prototype,"setProjection",ol.Geolocation.prototype.setProjection),goog.exportProperty(ol.Geolocation.prototype,"setTracking",ol.Geolocation.prototype.setTracking),goog.exportProperty(ol.Geolocation.prototype,"setTrackingOptions",ol.Geolocation.prototype.setTrackingOptions),goog.exportSymbol("ol.Graticule",ol.Graticule,OPENLAYERS),goog.exportProperty(ol.Graticule.prototype,"getMap",ol.Graticule.prototype.getMap),goog.exportProperty(ol.Graticule.prototype,"getMeridians",ol.Graticule.prototype.getMeridians),goog.exportProperty(ol.Graticule.prototype,"getParallels",ol.Graticule.prototype.getParallels),goog.exportProperty(ol.Graticule.prototype,"setMap",ol.Graticule.prototype.setMap),goog.exportSymbol("ol.has.DEVICE_PIXEL_RATIO",ol.has.DEVICE_PIXEL_RATIO,OPENLAYERS),goog.exportSymbol("ol.has.CANVAS",ol.has.CANVAS,OPENLAYERS),goog.exportSymbol("ol.has.DEVICE_ORIENTATION",ol.has.DEVICE_ORIENTATION,OPENLAYERS),goog.exportSymbol("ol.has.GEOLOCATION",ol.has.GEOLOCATION,OPENLAYERS),goog.exportSymbol("ol.has.TOUCH",ol.has.TOUCH,OPENLAYERS),goog.exportSymbol("ol.has.WEBGL",ol.has.WEBGL,OPENLAYERS),goog.exportProperty(ol.Image.prototype,"getImage",ol.Image.prototype.getImage),goog.exportProperty(ol.Image.prototype,"load",ol.Image.prototype.load),goog.exportProperty(ol.ImageTile.prototype,"getImage",ol.ImageTile.prototype.getImage),goog.exportSymbol("ol.inherits",ol.inherits,OPENLAYERS),goog.exportSymbol("ol.interaction.defaults",ol.interaction.defaults,OPENLAYERS),goog.exportSymbol("ol.Kinetic",ol.Kinetic,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.all",ol.loadingstrategy.all,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.bbox",ol.loadingstrategy.bbox,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.tile",ol.loadingstrategy.tile,OPENLAYERS),goog.exportSymbol("ol.Map",ol.Map,OPENLAYERS),goog.exportProperty(ol.Map.prototype,"addControl",ol.Map.prototype.addControl),goog.exportProperty(ol.Map.prototype,"addInteraction",ol.Map.prototype.addInteraction),goog.exportProperty(ol.Map.prototype,"addLayer",ol.Map.prototype.addLayer),goog.exportProperty(ol.Map.prototype,"addOverlay",ol.Map.prototype.addOverlay),goog.exportProperty(ol.Map.prototype,"forEachFeatureAtPixel",ol.Map.prototype.forEachFeatureAtPixel),goog.exportProperty(ol.Map.prototype,"forEachLayerAtPixel",ol.Map.prototype.forEachLayerAtPixel),goog.exportProperty(ol.Map.prototype,"hasFeatureAtPixel",ol.Map.prototype.hasFeatureAtPixel),goog.exportProperty(ol.Map.prototype,"getEventCoordinate",ol.Map.prototype.getEventCoordinate),goog.exportProperty(ol.Map.prototype,"getEventPixel",ol.Map.prototype.getEventPixel),goog.exportProperty(ol.Map.prototype,"getTarget",ol.Map.prototype.getTarget),goog.exportProperty(ol.Map.prototype,"getTargetElement",ol.Map.prototype.getTargetElement),goog.exportProperty(ol.Map.prototype,"getCoordinateFromPixel",ol.Map.prototype.getCoordinateFromPixel),goog.exportProperty(ol.Map.prototype,"getControls",ol.Map.prototype.getControls),goog.exportProperty(ol.Map.prototype,"getOverlays",ol.Map.prototype.getOverlays),goog.exportProperty(ol.Map.prototype,"getOverlayById",ol.Map.prototype.getOverlayById),goog.exportProperty(ol.Map.prototype,"getInteractions",ol.Map.prototype.getInteractions),goog.exportProperty(ol.Map.prototype,"getLayerGroup",ol.Map.prototype.getLayerGroup),goog.exportProperty(ol.Map.prototype,"getLayers",ol.Map.prototype.getLayers),goog.exportProperty(ol.Map.prototype,"getPixelFromCoordinate",ol.Map.prototype.getPixelFromCoordinate),goog.exportProperty(ol.Map.prototype,"getSize",ol.Map.prototype.getSize),goog.exportProperty(ol.Map.prototype,"getView",ol.Map.prototype.getView),goog.exportProperty(ol.Map.prototype,"getViewport",ol.Map.prototype.getViewport),goog.exportProperty(ol.Map.prototype,"renderSync",ol.Map.prototype.renderSync),goog.exportProperty(ol.Map.prototype,"render",ol.Map.prototype.render),goog.exportProperty(ol.Map.prototype,"removeControl",ol.Map.prototype.removeControl),goog.exportProperty(ol.Map.prototype,"removeInteraction",ol.Map.prototype.removeInteraction),goog.exportProperty(ol.Map.prototype,"removeLayer",ol.Map.prototype.removeLayer),goog.exportProperty(ol.Map.prototype,"removeOverlay",ol.Map.prototype.removeOverlay),goog.exportProperty(ol.Map.prototype,"setLayerGroup",ol.Map.prototype.setLayerGroup),goog.exportProperty(ol.Map.prototype,"setSize",ol.Map.prototype.setSize),goog.exportProperty(ol.Map.prototype,"setTarget",ol.Map.prototype.setTarget),goog.exportProperty(ol.Map.prototype,"setView",ol.Map.prototype.setView),goog.exportProperty(ol.Map.prototype,"updateSize",ol.Map.prototype.updateSize),goog.exportProperty(ol.MapBrowserEvent.prototype,"originalEvent",ol.MapBrowserEvent.prototype.originalEvent),goog.exportProperty(ol.MapBrowserEvent.prototype,"pixel",ol.MapBrowserEvent.prototype.pixel),goog.exportProperty(ol.MapBrowserEvent.prototype,"coordinate",ol.MapBrowserEvent.prototype.coordinate),goog.exportProperty(ol.MapBrowserEvent.prototype,"dragging",ol.MapBrowserEvent.prototype.dragging),goog.exportProperty(ol.MapEvent.prototype,"map",ol.MapEvent.prototype.map),goog.exportProperty(ol.MapEvent.prototype,"frameState",ol.MapEvent.prototype.frameState),goog.exportSymbol("ol.Object",ol.Object,OPENLAYERS),goog.exportProperty(ol.Object.prototype,"get",ol.Object.prototype.get),goog.exportProperty(ol.Object.prototype,"getKeys",ol.Object.prototype.getKeys),goog.exportProperty(ol.Object.prototype,"getProperties",ol.Object.prototype.getProperties),goog.exportProperty(ol.Object.prototype,"set",ol.Object.prototype.set),goog.exportProperty(ol.Object.prototype,"setProperties",ol.Object.prototype.setProperties),goog.exportProperty(ol.Object.prototype,"unset",ol.Object.prototype.unset),goog.exportProperty(ol.Object.Event.prototype,"key",ol.Object.Event.prototype.key),goog.exportProperty(ol.Object.Event.prototype,"oldValue",ol.Object.Event.prototype.oldValue),goog.exportSymbol("ol.Observable",ol.Observable,OPENLAYERS),goog.exportSymbol("ol.Observable.unByKey",ol.Observable.unByKey,OPENLAYERS),goog.exportProperty(ol.Observable.prototype,"changed",ol.Observable.prototype.changed),goog.exportProperty(ol.Observable.prototype,"dispatchEvent",ol.Observable.prototype.dispatchEvent),goog.exportProperty(ol.Observable.prototype,"getRevision",ol.Observable.prototype.getRevision),goog.exportProperty(ol.Observable.prototype,"on",ol.Observable.prototype.on),goog.exportProperty(ol.Observable.prototype,"once",ol.Observable.prototype.once),goog.exportProperty(ol.Observable.prototype,"un",ol.Observable.prototype.un),goog.exportSymbol("ol.Overlay",ol.Overlay,OPENLAYERS),goog.exportProperty(ol.Overlay.prototype,"getElement",ol.Overlay.prototype.getElement),goog.exportProperty(ol.Overlay.prototype,"getId",ol.Overlay.prototype.getId),goog.exportProperty(ol.Overlay.prototype,"getMap",ol.Overlay.prototype.getMap),goog.exportProperty(ol.Overlay.prototype,"getOffset",ol.Overlay.prototype.getOffset),goog.exportProperty(ol.Overlay.prototype,"getPosition",ol.Overlay.prototype.getPosition),goog.exportProperty(ol.Overlay.prototype,"getPositioning",ol.Overlay.prototype.getPositioning),goog.exportProperty(ol.Overlay.prototype,"setElement",ol.Overlay.prototype.setElement),goog.exportProperty(ol.Overlay.prototype,"setMap",ol.Overlay.prototype.setMap),goog.exportProperty(ol.Overlay.prototype,"setOffset",ol.Overlay.prototype.setOffset),goog.exportProperty(ol.Overlay.prototype,"setPosition",ol.Overlay.prototype.setPosition),goog.exportProperty(ol.Overlay.prototype,"setPositioning",ol.Overlay.prototype.setPositioning),goog.exportSymbol("ol.proj.METERS_PER_UNIT",ol.proj.METERS_PER_UNIT,OPENLAYERS),goog.exportSymbol("ol.proj.setProj4",ol.proj.setProj4,OPENLAYERS),goog.exportSymbol("ol.proj.getPointResolution",ol.proj.getPointResolution,OPENLAYERS),goog.exportSymbol("ol.proj.addEquivalentProjections",ol.proj.addEquivalentProjections,OPENLAYERS),goog.exportSymbol("ol.proj.addProjection",ol.proj.addProjection,OPENLAYERS),goog.exportSymbol("ol.proj.addCoordinateTransforms",ol.proj.addCoordinateTransforms,OPENLAYERS),goog.exportSymbol("ol.proj.fromLonLat",ol.proj.fromLonLat,OPENLAYERS),goog.exportSymbol("ol.proj.toLonLat",ol.proj.toLonLat,OPENLAYERS),goog.exportSymbol("ol.proj.get",ol.proj.get,OPENLAYERS),goog.exportSymbol("ol.proj.equivalent",ol.proj.equivalent,OPENLAYERS),goog.exportSymbol("ol.proj.getTransform",ol.proj.getTransform,OPENLAYERS),goog.exportSymbol("ol.proj.transform",ol.proj.transform,OPENLAYERS),goog.exportSymbol("ol.proj.transformExtent",ol.proj.transformExtent,OPENLAYERS),goog.exportSymbol("ol.render.toContext",ol.render.toContext,OPENLAYERS),goog.exportSymbol("ol.size.toSize",ol.size.toSize,OPENLAYERS),goog.exportSymbol("ol.Sphere",ol.Sphere,OPENLAYERS),goog.exportProperty(ol.Sphere.prototype,"geodesicArea",ol.Sphere.prototype.geodesicArea),goog.exportProperty(ol.Sphere.prototype,"haversineDistance",ol.Sphere.prototype.haversineDistance),goog.exportProperty(ol.Tile.prototype,"getTileCoord",ol.Tile.prototype.getTileCoord);goog.exportProperty(ol.Tile.prototype,"load",ol.Tile.prototype.load),goog.exportSymbol("ol.tilegrid.createXYZ",ol.tilegrid.createXYZ,OPENLAYERS),goog.exportProperty(ol.VectorTile.prototype,"getFormat",ol.VectorTile.prototype.getFormat),goog.exportProperty(ol.VectorTile.prototype,"setFeatures",ol.VectorTile.prototype.setFeatures),goog.exportProperty(ol.VectorTile.prototype,"setProjection",ol.VectorTile.prototype.setProjection),goog.exportProperty(ol.VectorTile.prototype,"setLoader",ol.VectorTile.prototype.setLoader),goog.exportSymbol("ol.View",ol.View,OPENLAYERS),goog.exportProperty(ol.View.prototype,"animate",ol.View.prototype.animate),goog.exportProperty(ol.View.prototype,"getAnimating",ol.View.prototype.getAnimating),goog.exportProperty(ol.View.prototype,"cancelAnimations",ol.View.prototype.cancelAnimations),goog.exportProperty(ol.View.prototype,"constrainCenter",ol.View.prototype.constrainCenter),goog.exportProperty(ol.View.prototype,"constrainResolution",ol.View.prototype.constrainResolution),goog.exportProperty(ol.View.prototype,"constrainRotation",ol.View.prototype.constrainRotation),goog.exportProperty(ol.View.prototype,"getCenter",ol.View.prototype.getCenter),goog.exportProperty(ol.View.prototype,"calculateExtent",ol.View.prototype.calculateExtent),goog.exportProperty(ol.View.prototype,"getMaxResolution",ol.View.prototype.getMaxResolution),goog.exportProperty(ol.View.prototype,"getMinResolution",ol.View.prototype.getMinResolution),goog.exportProperty(ol.View.prototype,"getMaxZoom",ol.View.prototype.getMaxZoom),goog.exportProperty(ol.View.prototype,"setMaxZoom",ol.View.prototype.setMaxZoom),goog.exportProperty(ol.View.prototype,"getMinZoom",ol.View.prototype.getMinZoom),goog.exportProperty(ol.View.prototype,"setMinZoom",ol.View.prototype.setMinZoom),goog.exportProperty(ol.View.prototype,"getProjection",ol.View.prototype.getProjection),goog.exportProperty(ol.View.prototype,"getResolution",ol.View.prototype.getResolution),goog.exportProperty(ol.View.prototype,"getResolutions",ol.View.prototype.getResolutions),goog.exportProperty(ol.View.prototype,"getRotation",ol.View.prototype.getRotation),goog.exportProperty(ol.View.prototype,"getZoom",ol.View.prototype.getZoom),goog.exportProperty(ol.View.prototype,"getZoomForResolution",ol.View.prototype.getZoomForResolution),goog.exportProperty(ol.View.prototype,"fit",ol.View.prototype.fit),goog.exportProperty(ol.View.prototype,"centerOn",ol.View.prototype.centerOn),goog.exportProperty(ol.View.prototype,"rotate",ol.View.prototype.rotate),goog.exportProperty(ol.View.prototype,"setCenter",ol.View.prototype.setCenter),goog.exportProperty(ol.View.prototype,"setResolution",ol.View.prototype.setResolution),goog.exportProperty(ol.View.prototype,"setRotation",ol.View.prototype.setRotation),goog.exportProperty(ol.View.prototype,"setZoom",ol.View.prototype.setZoom),goog.exportSymbol("ol.xml.getAllTextContent",ol.xml.getAllTextContent,OPENLAYERS),goog.exportSymbol("ol.xml.parse",ol.xml.parse,OPENLAYERS),goog.exportProperty(ol.webgl.Context.prototype,"getGL",ol.webgl.Context.prototype.getGL),goog.exportProperty(ol.webgl.Context.prototype,"useProgram",ol.webgl.Context.prototype.useProgram),goog.exportSymbol("ol.tilegrid.TileGrid",ol.tilegrid.TileGrid,OPENLAYERS),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"forEachTileCoord",ol.tilegrid.TileGrid.prototype.forEachTileCoord),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMaxZoom",ol.tilegrid.TileGrid.prototype.getMaxZoom),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMinZoom",ol.tilegrid.TileGrid.prototype.getMinZoom),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getOrigin",ol.tilegrid.TileGrid.prototype.getOrigin),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolution",ol.tilegrid.TileGrid.prototype.getResolution),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolutions",ol.tilegrid.TileGrid.prototype.getResolutions),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordExtent",ol.tilegrid.TileGrid.prototype.getTileCoordExtent),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileSize",ol.tilegrid.TileGrid.prototype.getTileSize),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getZForResolution",ol.tilegrid.TileGrid.prototype.getZForResolution),goog.exportSymbol("ol.tilegrid.WMTS",ol.tilegrid.WMTS,OPENLAYERS),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMatrixIds",ol.tilegrid.WMTS.prototype.getMatrixIds),goog.exportSymbol("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet,OPENLAYERS),goog.exportSymbol("ol.style.AtlasManager",ol.style.AtlasManager,OPENLAYERS),goog.exportSymbol("ol.style.Circle",ol.style.Circle,OPENLAYERS),goog.exportProperty(ol.style.Circle.prototype,"setRadius",ol.style.Circle.prototype.setRadius),goog.exportSymbol("ol.style.Fill",ol.style.Fill,OPENLAYERS),goog.exportProperty(ol.style.Fill.prototype,"clone",ol.style.Fill.prototype.clone),goog.exportProperty(ol.style.Fill.prototype,"getColor",ol.style.Fill.prototype.getColor),goog.exportProperty(ol.style.Fill.prototype,"setColor",ol.style.Fill.prototype.setColor),goog.exportSymbol("ol.style.Icon",ol.style.Icon,OPENLAYERS),goog.exportProperty(ol.style.Icon.prototype,"clone",ol.style.Icon.prototype.clone),goog.exportProperty(ol.style.Icon.prototype,"getAnchor",ol.style.Icon.prototype.getAnchor),goog.exportProperty(ol.style.Icon.prototype,"getColor",ol.style.Icon.prototype.getColor),goog.exportProperty(ol.style.Icon.prototype,"getImage",ol.style.Icon.prototype.getImage),goog.exportProperty(ol.style.Icon.prototype,"getOrigin",ol.style.Icon.prototype.getOrigin),goog.exportProperty(ol.style.Icon.prototype,"getSrc",ol.style.Icon.prototype.getSrc),goog.exportProperty(ol.style.Icon.prototype,"getSize",ol.style.Icon.prototype.getSize),goog.exportProperty(ol.style.Icon.prototype,"load",ol.style.Icon.prototype.load),goog.exportSymbol("ol.style.Image",ol.style.Image,OPENLAYERS),goog.exportProperty(ol.style.Image.prototype,"getOpacity",ol.style.Image.prototype.getOpacity),goog.exportProperty(ol.style.Image.prototype,"getRotateWithView",ol.style.Image.prototype.getRotateWithView),goog.exportProperty(ol.style.Image.prototype,"getRotation",ol.style.Image.prototype.getRotation),goog.exportProperty(ol.style.Image.prototype,"getScale",ol.style.Image.prototype.getScale),goog.exportProperty(ol.style.Image.prototype,"getSnapToPixel",ol.style.Image.prototype.getSnapToPixel),goog.exportProperty(ol.style.Image.prototype,"setOpacity",ol.style.Image.prototype.setOpacity),goog.exportProperty(ol.style.Image.prototype,"setRotation",ol.style.Image.prototype.setRotation),goog.exportProperty(ol.style.Image.prototype,"setScale",ol.style.Image.prototype.setScale),goog.exportSymbol("ol.style.RegularShape",ol.style.RegularShape,OPENLAYERS),goog.exportProperty(ol.style.RegularShape.prototype,"clone",ol.style.RegularShape.prototype.clone),goog.exportProperty(ol.style.RegularShape.prototype,"getAnchor",ol.style.RegularShape.prototype.getAnchor),goog.exportProperty(ol.style.RegularShape.prototype,"getAngle",ol.style.RegularShape.prototype.getAngle),goog.exportProperty(ol.style.RegularShape.prototype,"getFill",ol.style.RegularShape.prototype.getFill),goog.exportProperty(ol.style.RegularShape.prototype,"getImage",ol.style.RegularShape.prototype.getImage),goog.exportProperty(ol.style.RegularShape.prototype,"getOrigin",ol.style.RegularShape.prototype.getOrigin),goog.exportProperty(ol.style.RegularShape.prototype,"getPoints",ol.style.RegularShape.prototype.getPoints),goog.exportProperty(ol.style.RegularShape.prototype,"getRadius",ol.style.RegularShape.prototype.getRadius),goog.exportProperty(ol.style.RegularShape.prototype,"getRadius2",ol.style.RegularShape.prototype.getRadius2),goog.exportProperty(ol.style.RegularShape.prototype,"getSize",ol.style.RegularShape.prototype.getSize),goog.exportProperty(ol.style.RegularShape.prototype,"getStroke",ol.style.RegularShape.prototype.getStroke),goog.exportSymbol("ol.style.Stroke",ol.style.Stroke,OPENLAYERS),goog.exportProperty(ol.style.Stroke.prototype,"clone",ol.style.Stroke.prototype.clone),goog.exportProperty(ol.style.Stroke.prototype,"getColor",ol.style.Stroke.prototype.getColor),goog.exportProperty(ol.style.Stroke.prototype,"getLineCap",ol.style.Stroke.prototype.getLineCap),goog.exportProperty(ol.style.Stroke.prototype,"getLineDash",ol.style.Stroke.prototype.getLineDash),goog.exportProperty(ol.style.Stroke.prototype,"getLineDashOffset",ol.style.Stroke.prototype.getLineDashOffset),goog.exportProperty(ol.style.Stroke.prototype,"getLineJoin",ol.style.Stroke.prototype.getLineJoin),goog.exportProperty(ol.style.Stroke.prototype,"getMiterLimit",ol.style.Stroke.prototype.getMiterLimit),goog.exportProperty(ol.style.Stroke.prototype,"getWidth",ol.style.Stroke.prototype.getWidth),goog.exportProperty(ol.style.Stroke.prototype,"setColor",ol.style.Stroke.prototype.setColor),goog.exportProperty(ol.style.Stroke.prototype,"setLineCap",ol.style.Stroke.prototype.setLineCap),goog.exportProperty(ol.style.Stroke.prototype,"setLineDash",ol.style.Stroke.prototype.setLineDash),goog.exportProperty(ol.style.Stroke.prototype,"setLineDashOffset",ol.style.Stroke.prototype.setLineDashOffset),goog.exportProperty(ol.style.Stroke.prototype,"setLineJoin",ol.style.Stroke.prototype.setLineJoin),goog.exportProperty(ol.style.Stroke.prototype,"setMiterLimit",ol.style.Stroke.prototype.setMiterLimit),goog.exportProperty(ol.style.Stroke.prototype,"setWidth",ol.style.Stroke.prototype.setWidth),goog.exportSymbol("ol.style.Style",ol.style.Style,OPENLAYERS),goog.exportProperty(ol.style.Style.prototype,"clone",ol.style.Style.prototype.clone),goog.exportProperty(ol.style.Style.prototype,"getGeometry",ol.style.Style.prototype.getGeometry),goog.exportProperty(ol.style.Style.prototype,"getGeometryFunction",ol.style.Style.prototype.getGeometryFunction),goog.exportProperty(ol.style.Style.prototype,"getFill",ol.style.Style.prototype.getFill),goog.exportProperty(ol.style.Style.prototype,"setFill",ol.style.Style.prototype.setFill),goog.exportProperty(ol.style.Style.prototype,"getImage",ol.style.Style.prototype.getImage),goog.exportProperty(ol.style.Style.prototype,"setImage",ol.style.Style.prototype.setImage),goog.exportProperty(ol.style.Style.prototype,"getStroke",ol.style.Style.prototype.getStroke),goog.exportProperty(ol.style.Style.prototype,"setStroke",ol.style.Style.prototype.setStroke),goog.exportProperty(ol.style.Style.prototype,"getText",ol.style.Style.prototype.getText),goog.exportProperty(ol.style.Style.prototype,"setText",ol.style.Style.prototype.setText),goog.exportProperty(ol.style.Style.prototype,"getZIndex",ol.style.Style.prototype.getZIndex),goog.exportProperty(ol.style.Style.prototype,"setGeometry",ol.style.Style.prototype.setGeometry),goog.exportProperty(ol.style.Style.prototype,"setZIndex",ol.style.Style.prototype.setZIndex),goog.exportSymbol("ol.style.Text",ol.style.Text,OPENLAYERS),goog.exportProperty(ol.style.Text.prototype,"clone",ol.style.Text.prototype.clone),goog.exportProperty(ol.style.Text.prototype,"getFont",ol.style.Text.prototype.getFont),goog.exportProperty(ol.style.Text.prototype,"getOffsetX",ol.style.Text.prototype.getOffsetX),goog.exportProperty(ol.style.Text.prototype,"getOffsetY",ol.style.Text.prototype.getOffsetY),goog.exportProperty(ol.style.Text.prototype,"getFill",ol.style.Text.prototype.getFill),goog.exportProperty(ol.style.Text.prototype,"getRotateWithView",ol.style.Text.prototype.getRotateWithView),goog.exportProperty(ol.style.Text.prototype,"getRotation",ol.style.Text.prototype.getRotation),goog.exportProperty(ol.style.Text.prototype,"getScale",ol.style.Text.prototype.getScale),goog.exportProperty(ol.style.Text.prototype,"getStroke",ol.style.Text.prototype.getStroke),goog.exportProperty(ol.style.Text.prototype,"getText",ol.style.Text.prototype.getText),goog.exportProperty(ol.style.Text.prototype,"getTextAlign",ol.style.Text.prototype.getTextAlign),goog.exportProperty(ol.style.Text.prototype,"getTextBaseline",ol.style.Text.prototype.getTextBaseline),goog.exportProperty(ol.style.Text.prototype,"setFont",ol.style.Text.prototype.setFont),goog.exportProperty(ol.style.Text.prototype,"setOffsetX",ol.style.Text.prototype.setOffsetX),goog.exportProperty(ol.style.Text.prototype,"setOffsetY",ol.style.Text.prototype.setOffsetY),goog.exportProperty(ol.style.Text.prototype,"setFill",ol.style.Text.prototype.setFill),goog.exportProperty(ol.style.Text.prototype,"setRotation",ol.style.Text.prototype.setRotation),goog.exportProperty(ol.style.Text.prototype,"setScale",ol.style.Text.prototype.setScale),goog.exportProperty(ol.style.Text.prototype,"setStroke",ol.style.Text.prototype.setStroke),goog.exportProperty(ol.style.Text.prototype,"setText",ol.style.Text.prototype.setText),goog.exportProperty(ol.style.Text.prototype,"setTextAlign",ol.style.Text.prototype.setTextAlign),goog.exportProperty(ol.style.Text.prototype,"setTextBaseline",ol.style.Text.prototype.setTextBaseline),goog.exportSymbol("ol.source.BingMaps",ol.source.BingMaps,OPENLAYERS),goog.exportSymbol("ol.source.BingMaps.TOS_ATTRIBUTION",ol.source.BingMaps.TOS_ATTRIBUTION,OPENLAYERS),goog.exportProperty(ol.source.BingMaps.prototype,"getApiKey",ol.source.BingMaps.prototype.getApiKey),goog.exportProperty(ol.source.BingMaps.prototype,"getImagerySet",ol.source.BingMaps.prototype.getImagerySet),goog.exportSymbol("ol.source.CartoDB",ol.source.CartoDB,OPENLAYERS),goog.exportProperty(ol.source.CartoDB.prototype,"getConfig",ol.source.CartoDB.prototype.getConfig),goog.exportProperty(ol.source.CartoDB.prototype,"updateConfig",ol.source.CartoDB.prototype.updateConfig),goog.exportProperty(ol.source.CartoDB.prototype,"setConfig",ol.source.CartoDB.prototype.setConfig),goog.exportSymbol("ol.source.Cluster",ol.source.Cluster,OPENLAYERS),goog.exportProperty(ol.source.Cluster.prototype,"getDistance",ol.source.Cluster.prototype.getDistance),goog.exportProperty(ol.source.Cluster.prototype,"getSource",ol.source.Cluster.prototype.getSource),goog.exportProperty(ol.source.Cluster.prototype,"setDistance",ol.source.Cluster.prototype.setDistance),goog.exportSymbol("ol.source.Image",ol.source.Image,OPENLAYERS),goog.exportProperty(ol.source.Image.Event.prototype,"image",ol.source.Image.Event.prototype.image),goog.exportSymbol("ol.source.ImageArcGISRest",ol.source.ImageArcGISRest,OPENLAYERS),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getParams",ol.source.ImageArcGISRest.prototype.getParams),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getImageLoadFunction",ol.source.ImageArcGISRest.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getUrl",ol.source.ImageArcGISRest.prototype.getUrl),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setImageLoadFunction",ol.source.ImageArcGISRest.prototype.setImageLoadFunction),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setUrl",ol.source.ImageArcGISRest.prototype.setUrl),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"updateParams",ol.source.ImageArcGISRest.prototype.updateParams),goog.exportSymbol("ol.source.ImageCanvas",ol.source.ImageCanvas,OPENLAYERS),goog.exportSymbol("ol.source.ImageMapGuide",ol.source.ImageMapGuide,OPENLAYERS),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getParams",ol.source.ImageMapGuide.prototype.getParams),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getImageLoadFunction",ol.source.ImageMapGuide.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageMapGuide.prototype,"updateParams",ol.source.ImageMapGuide.prototype.updateParams),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setImageLoadFunction",ol.source.ImageMapGuide.prototype.setImageLoadFunction),goog.exportSymbol("ol.source.ImageStatic",ol.source.ImageStatic,OPENLAYERS),goog.exportSymbol("ol.source.ImageVector",ol.source.ImageVector,OPENLAYERS),goog.exportProperty(ol.source.ImageVector.prototype,"getSource",ol.source.ImageVector.prototype.getSource),goog.exportProperty(ol.source.ImageVector.prototype,"getStyle",ol.source.ImageVector.prototype.getStyle),goog.exportProperty(ol.source.ImageVector.prototype,"getStyleFunction",ol.source.ImageVector.prototype.getStyleFunction),goog.exportProperty(ol.source.ImageVector.prototype,"setStyle",ol.source.ImageVector.prototype.setStyle),goog.exportSymbol("ol.source.ImageWMS",ol.source.ImageWMS,OPENLAYERS),goog.exportProperty(ol.source.ImageWMS.prototype,"getGetFeatureInfoUrl",ol.source.ImageWMS.prototype.getGetFeatureInfoUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"getParams",ol.source.ImageWMS.prototype.getParams),goog.exportProperty(ol.source.ImageWMS.prototype,"getImageLoadFunction",ol.source.ImageWMS.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageWMS.prototype,"getUrl",ol.source.ImageWMS.prototype.getUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"setImageLoadFunction",ol.source.ImageWMS.prototype.setImageLoadFunction),goog.exportProperty(ol.source.ImageWMS.prototype,"setUrl",ol.source.ImageWMS.prototype.setUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"updateParams",ol.source.ImageWMS.prototype.updateParams),goog.exportSymbol("ol.source.OSM",ol.source.OSM,OPENLAYERS),goog.exportSymbol("ol.source.OSM.ATTRIBUTION",ol.source.OSM.ATTRIBUTION,OPENLAYERS),goog.exportSymbol("ol.source.Raster",ol.source.Raster,OPENLAYERS),goog.exportProperty(ol.source.Raster.prototype,"setOperation",ol.source.Raster.prototype.setOperation),goog.exportProperty(ol.source.Raster.Event.prototype,"extent",ol.source.Raster.Event.prototype.extent),goog.exportProperty(ol.source.Raster.Event.prototype,"resolution",ol.source.Raster.Event.prototype.resolution),goog.exportProperty(ol.source.Raster.Event.prototype,"data",ol.source.Raster.Event.prototype.data),goog.exportSymbol("ol.source.Source",ol.source.Source,OPENLAYERS),goog.exportProperty(ol.source.Source.prototype,"getAttributions",ol.source.Source.prototype.getAttributions),goog.exportProperty(ol.source.Source.prototype,"getLogo",ol.source.Source.prototype.getLogo),goog.exportProperty(ol.source.Source.prototype,"getProjection",ol.source.Source.prototype.getProjection),
goog.exportProperty(ol.source.Source.prototype,"getState",ol.source.Source.prototype.getState),goog.exportProperty(ol.source.Source.prototype,"refresh",ol.source.Source.prototype.refresh),goog.exportProperty(ol.source.Source.prototype,"setAttributions",ol.source.Source.prototype.setAttributions),goog.exportSymbol("ol.source.Stamen",ol.source.Stamen,OPENLAYERS);goog.exportSymbol("ol.source.Tile",ol.source.Tile,OPENLAYERS),goog.exportProperty(ol.source.Tile.prototype,"getTileGrid",ol.source.Tile.prototype.getTileGrid),goog.exportProperty(ol.source.Tile.Event.prototype,"tile",ol.source.Tile.Event.prototype.tile),goog.exportSymbol("ol.source.TileArcGISRest",ol.source.TileArcGISRest,OPENLAYERS),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getParams",ol.source.TileArcGISRest.prototype.getParams),goog.exportProperty(ol.source.TileArcGISRest.prototype,"updateParams",ol.source.TileArcGISRest.prototype.updateParams),goog.exportSymbol("ol.source.TileDebug",ol.source.TileDebug,OPENLAYERS),goog.exportSymbol("ol.source.TileImage",ol.source.TileImage,OPENLAYERS),goog.exportProperty(ol.source.TileImage.prototype,"setRenderReprojectionEdges",ol.source.TileImage.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileImage.prototype,"setTileGridForProjection",ol.source.TileImage.prototype.setTileGridForProjection),goog.exportSymbol("ol.source.TileJSON",ol.source.TileJSON,OPENLAYERS),goog.exportProperty(ol.source.TileJSON.prototype,"getTileJSON",ol.source.TileJSON.prototype.getTileJSON),goog.exportSymbol("ol.source.TileUTFGrid",ol.source.TileUTFGrid,OPENLAYERS),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTemplate",ol.source.TileUTFGrid.prototype.getTemplate),goog.exportProperty(ol.source.TileUTFGrid.prototype,"forDataAtCoordinateAndResolution",ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution),goog.exportSymbol("ol.source.TileWMS",ol.source.TileWMS,OPENLAYERS),goog.exportProperty(ol.source.TileWMS.prototype,"getGetFeatureInfoUrl",ol.source.TileWMS.prototype.getGetFeatureInfoUrl),goog.exportProperty(ol.source.TileWMS.prototype,"getParams",ol.source.TileWMS.prototype.getParams),goog.exportProperty(ol.source.TileWMS.prototype,"updateParams",ol.source.TileWMS.prototype.updateParams),goog.exportProperty(ol.source.UrlTile.prototype,"getTileLoadFunction",ol.source.UrlTile.prototype.getTileLoadFunction),goog.exportProperty(ol.source.UrlTile.prototype,"getTileUrlFunction",ol.source.UrlTile.prototype.getTileUrlFunction),goog.exportProperty(ol.source.UrlTile.prototype,"getUrls",ol.source.UrlTile.prototype.getUrls),goog.exportProperty(ol.source.UrlTile.prototype,"setTileLoadFunction",ol.source.UrlTile.prototype.setTileLoadFunction),goog.exportProperty(ol.source.UrlTile.prototype,"setTileUrlFunction",ol.source.UrlTile.prototype.setTileUrlFunction),goog.exportProperty(ol.source.UrlTile.prototype,"setUrl",ol.source.UrlTile.prototype.setUrl),goog.exportProperty(ol.source.UrlTile.prototype,"setUrls",ol.source.UrlTile.prototype.setUrls),goog.exportSymbol("ol.source.Vector",ol.source.Vector,OPENLAYERS),goog.exportProperty(ol.source.Vector.prototype,"addFeature",ol.source.Vector.prototype.addFeature),goog.exportProperty(ol.source.Vector.prototype,"addFeatures",ol.source.Vector.prototype.addFeatures),goog.exportProperty(ol.source.Vector.prototype,"clear",ol.source.Vector.prototype.clear),goog.exportProperty(ol.source.Vector.prototype,"forEachFeature",ol.source.Vector.prototype.forEachFeature),goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureInExtent",ol.source.Vector.prototype.forEachFeatureInExtent),goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureIntersectingExtent",ol.source.Vector.prototype.forEachFeatureIntersectingExtent),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesCollection",ol.source.Vector.prototype.getFeaturesCollection),goog.exportProperty(ol.source.Vector.prototype,"getFeatures",ol.source.Vector.prototype.getFeatures),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesAtCoordinate",ol.source.Vector.prototype.getFeaturesAtCoordinate),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesInExtent",ol.source.Vector.prototype.getFeaturesInExtent),goog.exportProperty(ol.source.Vector.prototype,"getClosestFeatureToCoordinate",ol.source.Vector.prototype.getClosestFeatureToCoordinate),goog.exportProperty(ol.source.Vector.prototype,"getExtent",ol.source.Vector.prototype.getExtent),goog.exportProperty(ol.source.Vector.prototype,"getFeatureById",ol.source.Vector.prototype.getFeatureById),goog.exportProperty(ol.source.Vector.prototype,"getFormat",ol.source.Vector.prototype.getFormat),goog.exportProperty(ol.source.Vector.prototype,"getUrl",ol.source.Vector.prototype.getUrl),goog.exportProperty(ol.source.Vector.prototype,"removeFeature",ol.source.Vector.prototype.removeFeature),goog.exportProperty(ol.source.Vector.Event.prototype,"feature",ol.source.Vector.Event.prototype.feature),goog.exportSymbol("ol.source.VectorTile",ol.source.VectorTile,OPENLAYERS),goog.exportSymbol("ol.source.WMTS",ol.source.WMTS,OPENLAYERS),goog.exportProperty(ol.source.WMTS.prototype,"getDimensions",ol.source.WMTS.prototype.getDimensions),goog.exportProperty(ol.source.WMTS.prototype,"getFormat",ol.source.WMTS.prototype.getFormat),goog.exportProperty(ol.source.WMTS.prototype,"getLayer",ol.source.WMTS.prototype.getLayer),goog.exportProperty(ol.source.WMTS.prototype,"getMatrixSet",ol.source.WMTS.prototype.getMatrixSet),goog.exportProperty(ol.source.WMTS.prototype,"getRequestEncoding",ol.source.WMTS.prototype.getRequestEncoding),goog.exportProperty(ol.source.WMTS.prototype,"getStyle",ol.source.WMTS.prototype.getStyle),goog.exportProperty(ol.source.WMTS.prototype,"getVersion",ol.source.WMTS.prototype.getVersion),goog.exportProperty(ol.source.WMTS.prototype,"updateDimensions",ol.source.WMTS.prototype.updateDimensions),goog.exportSymbol("ol.source.WMTS.optionsFromCapabilities",ol.source.WMTS.optionsFromCapabilities,OPENLAYERS),goog.exportSymbol("ol.source.XYZ",ol.source.XYZ,OPENLAYERS),goog.exportSymbol("ol.source.Zoomify",ol.source.Zoomify,OPENLAYERS),goog.exportProperty(ol.render.Event.prototype,"vectorContext",ol.render.Event.prototype.vectorContext),goog.exportProperty(ol.render.Event.prototype,"frameState",ol.render.Event.prototype.frameState),goog.exportProperty(ol.render.Event.prototype,"context",ol.render.Event.prototype.context),goog.exportProperty(ol.render.Event.prototype,"glContext",ol.render.Event.prototype.glContext),goog.exportProperty(ol.render.Feature.prototype,"get",ol.render.Feature.prototype.get),goog.exportProperty(ol.render.Feature.prototype,"getExtent",ol.render.Feature.prototype.getExtent),goog.exportProperty(ol.render.Feature.prototype,"getGeometry",ol.render.Feature.prototype.getGeometry),goog.exportProperty(ol.render.Feature.prototype,"getProperties",ol.render.Feature.prototype.getProperties),goog.exportProperty(ol.render.Feature.prototype,"getType",ol.render.Feature.prototype.getType),goog.exportSymbol("ol.render.VectorContext",ol.render.VectorContext,OPENLAYERS),goog.exportProperty(ol.render.webgl.Immediate.prototype,"setStyle",ol.render.webgl.Immediate.prototype.setStyle),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawGeometry",ol.render.webgl.Immediate.prototype.drawGeometry),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawFeature",ol.render.webgl.Immediate.prototype.drawFeature),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawCircle",ol.render.canvas.Immediate.prototype.drawCircle),goog.exportProperty(ol.render.canvas.Immediate.prototype,"setStyle",ol.render.canvas.Immediate.prototype.setStyle),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawGeometry",ol.render.canvas.Immediate.prototype.drawGeometry),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawFeature",ol.render.canvas.Immediate.prototype.drawFeature),goog.exportSymbol("ol.proj.common.add",ol.proj.common.add,OPENLAYERS),goog.exportSymbol("ol.proj.Projection",ol.proj.Projection,OPENLAYERS),goog.exportProperty(ol.proj.Projection.prototype,"getCode",ol.proj.Projection.prototype.getCode),goog.exportProperty(ol.proj.Projection.prototype,"getExtent",ol.proj.Projection.prototype.getExtent),goog.exportProperty(ol.proj.Projection.prototype,"getUnits",ol.proj.Projection.prototype.getUnits),goog.exportProperty(ol.proj.Projection.prototype,"getMetersPerUnit",ol.proj.Projection.prototype.getMetersPerUnit),goog.exportProperty(ol.proj.Projection.prototype,"getWorldExtent",ol.proj.Projection.prototype.getWorldExtent),goog.exportProperty(ol.proj.Projection.prototype,"isGlobal",ol.proj.Projection.prototype.isGlobal),goog.exportProperty(ol.proj.Projection.prototype,"setGlobal",ol.proj.Projection.prototype.setGlobal),goog.exportProperty(ol.proj.Projection.prototype,"setExtent",ol.proj.Projection.prototype.setExtent),goog.exportProperty(ol.proj.Projection.prototype,"setWorldExtent",ol.proj.Projection.prototype.setWorldExtent),goog.exportProperty(ol.proj.Projection.prototype,"setGetPointResolution",ol.proj.Projection.prototype.setGetPointResolution),goog.exportSymbol("ol.proj.Units.METERS_PER_UNIT",ol.proj.Units.METERS_PER_UNIT,OPENLAYERS),goog.exportSymbol("ol.layer.Base",ol.layer.Base,OPENLAYERS),goog.exportProperty(ol.layer.Base.prototype,"getExtent",ol.layer.Base.prototype.getExtent),goog.exportProperty(ol.layer.Base.prototype,"getMaxResolution",ol.layer.Base.prototype.getMaxResolution),goog.exportProperty(ol.layer.Base.prototype,"getMinResolution",ol.layer.Base.prototype.getMinResolution),goog.exportProperty(ol.layer.Base.prototype,"getOpacity",ol.layer.Base.prototype.getOpacity),goog.exportProperty(ol.layer.Base.prototype,"getVisible",ol.layer.Base.prototype.getVisible),goog.exportProperty(ol.layer.Base.prototype,"getZIndex",ol.layer.Base.prototype.getZIndex),goog.exportProperty(ol.layer.Base.prototype,"setExtent",ol.layer.Base.prototype.setExtent),goog.exportProperty(ol.layer.Base.prototype,"setMaxResolution",ol.layer.Base.prototype.setMaxResolution),goog.exportProperty(ol.layer.Base.prototype,"setMinResolution",ol.layer.Base.prototype.setMinResolution),goog.exportProperty(ol.layer.Base.prototype,"setOpacity",ol.layer.Base.prototype.setOpacity),goog.exportProperty(ol.layer.Base.prototype,"setVisible",ol.layer.Base.prototype.setVisible),goog.exportProperty(ol.layer.Base.prototype,"setZIndex",ol.layer.Base.prototype.setZIndex),goog.exportSymbol("ol.layer.Group",ol.layer.Group,OPENLAYERS),goog.exportProperty(ol.layer.Group.prototype,"getLayers",ol.layer.Group.prototype.getLayers),goog.exportProperty(ol.layer.Group.prototype,"setLayers",ol.layer.Group.prototype.setLayers),goog.exportSymbol("ol.layer.Heatmap",ol.layer.Heatmap,OPENLAYERS),goog.exportProperty(ol.layer.Heatmap.prototype,"getBlur",ol.layer.Heatmap.prototype.getBlur),goog.exportProperty(ol.layer.Heatmap.prototype,"getGradient",ol.layer.Heatmap.prototype.getGradient),goog.exportProperty(ol.layer.Heatmap.prototype,"getRadius",ol.layer.Heatmap.prototype.getRadius),goog.exportProperty(ol.layer.Heatmap.prototype,"setBlur",ol.layer.Heatmap.prototype.setBlur),goog.exportProperty(ol.layer.Heatmap.prototype,"setGradient",ol.layer.Heatmap.prototype.setGradient),goog.exportProperty(ol.layer.Heatmap.prototype,"setRadius",ol.layer.Heatmap.prototype.setRadius),goog.exportSymbol("ol.layer.Image",ol.layer.Image,OPENLAYERS),goog.exportProperty(ol.layer.Image.prototype,"getSource",ol.layer.Image.prototype.getSource),goog.exportSymbol("ol.layer.Layer",ol.layer.Layer,OPENLAYERS),goog.exportProperty(ol.layer.Layer.prototype,"getSource",ol.layer.Layer.prototype.getSource),goog.exportProperty(ol.layer.Layer.prototype,"setMap",ol.layer.Layer.prototype.setMap),goog.exportProperty(ol.layer.Layer.prototype,"setSource",ol.layer.Layer.prototype.setSource),goog.exportSymbol("ol.layer.Tile",ol.layer.Tile,OPENLAYERS),goog.exportProperty(ol.layer.Tile.prototype,"getPreload",ol.layer.Tile.prototype.getPreload),goog.exportProperty(ol.layer.Tile.prototype,"getSource",ol.layer.Tile.prototype.getSource),goog.exportProperty(ol.layer.Tile.prototype,"setPreload",ol.layer.Tile.prototype.setPreload),goog.exportProperty(ol.layer.Tile.prototype,"getUseInterimTilesOnError",ol.layer.Tile.prototype.getUseInterimTilesOnError),goog.exportProperty(ol.layer.Tile.prototype,"setUseInterimTilesOnError",ol.layer.Tile.prototype.setUseInterimTilesOnError),goog.exportSymbol("ol.layer.Vector",ol.layer.Vector,OPENLAYERS),goog.exportProperty(ol.layer.Vector.prototype,"getSource",ol.layer.Vector.prototype.getSource),goog.exportProperty(ol.layer.Vector.prototype,"getStyle",ol.layer.Vector.prototype.getStyle),goog.exportProperty(ol.layer.Vector.prototype,"getStyleFunction",ol.layer.Vector.prototype.getStyleFunction),goog.exportProperty(ol.layer.Vector.prototype,"setStyle",ol.layer.Vector.prototype.setStyle),goog.exportSymbol("ol.layer.VectorTile",ol.layer.VectorTile,OPENLAYERS),goog.exportProperty(ol.layer.VectorTile.prototype,"getPreload",ol.layer.VectorTile.prototype.getPreload),goog.exportProperty(ol.layer.VectorTile.prototype,"getUseInterimTilesOnError",ol.layer.VectorTile.prototype.getUseInterimTilesOnError),goog.exportProperty(ol.layer.VectorTile.prototype,"setPreload",ol.layer.VectorTile.prototype.setPreload),goog.exportProperty(ol.layer.VectorTile.prototype,"setUseInterimTilesOnError",ol.layer.VectorTile.prototype.setUseInterimTilesOnError),goog.exportSymbol("ol.interaction.DoubleClickZoom",ol.interaction.DoubleClickZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.DoubleClickZoom.handleEvent",ol.interaction.DoubleClickZoom.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.DragAndDrop",ol.interaction.DragAndDrop,OPENLAYERS),goog.exportSymbol("ol.interaction.DragAndDrop.handleEvent",ol.interaction.DragAndDrop.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"features",ol.interaction.DragAndDrop.Event.prototype.features),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"file",ol.interaction.DragAndDrop.Event.prototype.file),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"projection",ol.interaction.DragAndDrop.Event.prototype.projection),goog.exportSymbol("ol.interaction.DragBox",ol.interaction.DragBox,OPENLAYERS),goog.exportProperty(ol.interaction.DragBox.prototype,"getGeometry",ol.interaction.DragBox.prototype.getGeometry),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"coordinate",ol.interaction.DragBox.Event.prototype.coordinate),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"mapBrowserEvent",ol.interaction.DragBox.Event.prototype.mapBrowserEvent),goog.exportSymbol("ol.interaction.DragPan",ol.interaction.DragPan,OPENLAYERS),goog.exportSymbol("ol.interaction.DragRotate",ol.interaction.DragRotate,OPENLAYERS),goog.exportSymbol("ol.interaction.DragRotateAndZoom",ol.interaction.DragRotateAndZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.DragZoom",ol.interaction.DragZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.Draw",ol.interaction.Draw,OPENLAYERS),goog.exportSymbol("ol.interaction.Draw.handleEvent",ol.interaction.Draw.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Draw.prototype,"removeLastPoint",ol.interaction.Draw.prototype.removeLastPoint),goog.exportProperty(ol.interaction.Draw.prototype,"finishDrawing",ol.interaction.Draw.prototype.finishDrawing),goog.exportProperty(ol.interaction.Draw.prototype,"extend",ol.interaction.Draw.prototype.extend),goog.exportSymbol("ol.interaction.Draw.createRegularPolygon",ol.interaction.Draw.createRegularPolygon,OPENLAYERS),goog.exportSymbol("ol.interaction.Draw.createBox",ol.interaction.Draw.createBox,OPENLAYERS),goog.exportProperty(ol.interaction.Draw.Event.prototype,"feature",ol.interaction.Draw.Event.prototype.feature),goog.exportSymbol("ol.interaction.Extent",ol.interaction.Extent,OPENLAYERS),goog.exportProperty(ol.interaction.Extent.prototype,"getExtent",ol.interaction.Extent.prototype.getExtent),goog.exportProperty(ol.interaction.Extent.prototype,"setExtent",ol.interaction.Extent.prototype.setExtent),goog.exportProperty(ol.interaction.Extent.Event.prototype,"extent_",ol.interaction.Extent.Event.prototype.extent_),goog.exportSymbol("ol.interaction.Interaction",ol.interaction.Interaction,OPENLAYERS),goog.exportProperty(ol.interaction.Interaction.prototype,"getActive",ol.interaction.Interaction.prototype.getActive),goog.exportProperty(ol.interaction.Interaction.prototype,"getMap",ol.interaction.Interaction.prototype.getMap),goog.exportProperty(ol.interaction.Interaction.prototype,"setActive",ol.interaction.Interaction.prototype.setActive),goog.exportSymbol("ol.interaction.KeyboardPan",ol.interaction.KeyboardPan,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardPan.handleEvent",ol.interaction.KeyboardPan.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardZoom",ol.interaction.KeyboardZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardZoom.handleEvent",ol.interaction.KeyboardZoom.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.Modify",ol.interaction.Modify,OPENLAYERS),goog.exportSymbol("ol.interaction.Modify.handleEvent",ol.interaction.Modify.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Modify.prototype,"removePoint",ol.interaction.Modify.prototype.removePoint),goog.exportProperty(ol.interaction.Modify.Event.prototype,"features",ol.interaction.Modify.Event.prototype.features),goog.exportProperty(ol.interaction.Modify.Event.prototype,"mapBrowserEvent",ol.interaction.Modify.Event.prototype.mapBrowserEvent),goog.exportSymbol("ol.interaction.MouseWheelZoom",ol.interaction.MouseWheelZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.MouseWheelZoom.handleEvent",ol.interaction.MouseWheelZoom.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setMouseAnchor",ol.interaction.MouseWheelZoom.prototype.setMouseAnchor),goog.exportSymbol("ol.interaction.PinchRotate",ol.interaction.PinchRotate,OPENLAYERS),goog.exportSymbol("ol.interaction.PinchZoom",ol.interaction.PinchZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.Pointer",ol.interaction.Pointer,OPENLAYERS),goog.exportSymbol("ol.interaction.Pointer.handleEvent",ol.interaction.Pointer.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.Select",ol.interaction.Select,OPENLAYERS),goog.exportProperty(ol.interaction.Select.prototype,"getFeatures",ol.interaction.Select.prototype.getFeatures),goog.exportProperty(ol.interaction.Select.prototype,"getHitTolerance",ol.interaction.Select.prototype.getHitTolerance),goog.exportProperty(ol.interaction.Select.prototype,"getLayer",ol.interaction.Select.prototype.getLayer),goog.exportSymbol("ol.interaction.Select.handleEvent",ol.interaction.Select.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Select.prototype,"setHitTolerance",ol.interaction.Select.prototype.setHitTolerance),goog.exportProperty(ol.interaction.Select.prototype,"setMap",ol.interaction.Select.prototype.setMap),goog.exportProperty(ol.interaction.Select.Event.prototype,"selected",ol.interaction.Select.Event.prototype.selected),goog.exportProperty(ol.interaction.Select.Event.prototype,"deselected",ol.interaction.Select.Event.prototype.deselected),goog.exportProperty(ol.interaction.Select.Event.prototype,"mapBrowserEvent",ol.interaction.Select.Event.prototype.mapBrowserEvent),goog.exportSymbol("ol.interaction.Snap",ol.interaction.Snap,OPENLAYERS),goog.exportProperty(ol.interaction.Snap.prototype,"addFeature",ol.interaction.Snap.prototype.addFeature),goog.exportProperty(ol.interaction.Snap.prototype,"removeFeature",ol.interaction.Snap.prototype.removeFeature),goog.exportSymbol("ol.interaction.Translate",ol.interaction.Translate,OPENLAYERS),goog.exportProperty(ol.interaction.Translate.prototype,"getHitTolerance",ol.interaction.Translate.prototype.getHitTolerance),goog.exportProperty(ol.interaction.Translate.prototype,"setHitTolerance",ol.interaction.Translate.prototype.setHitTolerance),goog.exportProperty(ol.interaction.Translate.Event.prototype,"features",ol.interaction.Translate.Event.prototype.features),goog.exportProperty(ol.interaction.Translate.Event.prototype,"coordinate",ol.interaction.Translate.Event.prototype.coordinate),goog.exportSymbol("ol.geom.Circle",ol.geom.Circle,OPENLAYERS),goog.exportProperty(ol.geom.Circle.prototype,"clone",ol.geom.Circle.prototype.clone),goog.exportProperty(ol.geom.Circle.prototype,"getCenter",ol.geom.Circle.prototype.getCenter);return goog.exportProperty(ol.geom.Circle.prototype,"getRadius",ol.geom.Circle.prototype.getRadius),goog.exportProperty(ol.geom.Circle.prototype,"getType",ol.geom.Circle.prototype.getType),goog.exportProperty(ol.geom.Circle.prototype,"intersectsExtent",ol.geom.Circle.prototype.intersectsExtent),goog.exportProperty(ol.geom.Circle.prototype,"setCenter",ol.geom.Circle.prototype.setCenter),goog.exportProperty(ol.geom.Circle.prototype,"setCenterAndRadius",ol.geom.Circle.prototype.setCenterAndRadius),goog.exportProperty(ol.geom.Circle.prototype,"setRadius",ol.geom.Circle.prototype.setRadius),goog.exportProperty(ol.geom.Circle.prototype,"transform",ol.geom.Circle.prototype.transform),goog.exportSymbol("ol.geom.Geometry",ol.geom.Geometry,OPENLAYERS),goog.exportProperty(ol.geom.Geometry.prototype,"getClosestPoint",ol.geom.Geometry.prototype.getClosestPoint),goog.exportProperty(ol.geom.Geometry.prototype,"intersectsCoordinate",ol.geom.Geometry.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Geometry.prototype,"getExtent",ol.geom.Geometry.prototype.getExtent),goog.exportProperty(ol.geom.Geometry.prototype,"rotate",ol.geom.Geometry.prototype.rotate),goog.exportProperty(ol.geom.Geometry.prototype,"scale",ol.geom.Geometry.prototype.scale),goog.exportProperty(ol.geom.Geometry.prototype,"simplify",ol.geom.Geometry.prototype.simplify),goog.exportProperty(ol.geom.Geometry.prototype,"transform",ol.geom.Geometry.prototype.transform),goog.exportSymbol("ol.geom.GeometryCollection",ol.geom.GeometryCollection,OPENLAYERS),goog.exportProperty(ol.geom.GeometryCollection.prototype,"clone",ol.geom.GeometryCollection.prototype.clone),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getGeometries",ol.geom.GeometryCollection.prototype.getGeometries),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getType",ol.geom.GeometryCollection.prototype.getType),goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsExtent",ol.geom.GeometryCollection.prototype.intersectsExtent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"setGeometries",ol.geom.GeometryCollection.prototype.setGeometries),goog.exportProperty(ol.geom.GeometryCollection.prototype,"applyTransform",ol.geom.GeometryCollection.prototype.applyTransform),goog.exportProperty(ol.geom.GeometryCollection.prototype,"translate",ol.geom.GeometryCollection.prototype.translate),goog.exportSymbol("ol.geom.LinearRing",ol.geom.LinearRing,OPENLAYERS),goog.exportProperty(ol.geom.LinearRing.prototype,"clone",ol.geom.LinearRing.prototype.clone),goog.exportProperty(ol.geom.LinearRing.prototype,"getArea",ol.geom.LinearRing.prototype.getArea),goog.exportProperty(ol.geom.LinearRing.prototype,"getCoordinates",ol.geom.LinearRing.prototype.getCoordinates),goog.exportProperty(ol.geom.LinearRing.prototype,"getType",ol.geom.LinearRing.prototype.getType),goog.exportProperty(ol.geom.LinearRing.prototype,"setCoordinates",ol.geom.LinearRing.prototype.setCoordinates),goog.exportSymbol("ol.geom.LineString",ol.geom.LineString,OPENLAYERS),goog.exportProperty(ol.geom.LineString.prototype,"appendCoordinate",ol.geom.LineString.prototype.appendCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"clone",ol.geom.LineString.prototype.clone),goog.exportProperty(ol.geom.LineString.prototype,"forEachSegment",ol.geom.LineString.prototype.forEachSegment),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAtM",ol.geom.LineString.prototype.getCoordinateAtM),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinates",ol.geom.LineString.prototype.getCoordinates),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAt",ol.geom.LineString.prototype.getCoordinateAt),goog.exportProperty(ol.geom.LineString.prototype,"getLength",ol.geom.LineString.prototype.getLength),goog.exportProperty(ol.geom.LineString.prototype,"getType",ol.geom.LineString.prototype.getType),goog.exportProperty(ol.geom.LineString.prototype,"intersectsExtent",ol.geom.LineString.prototype.intersectsExtent),goog.exportProperty(ol.geom.LineString.prototype,"setCoordinates",ol.geom.LineString.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiLineString",ol.geom.MultiLineString,OPENLAYERS),goog.exportProperty(ol.geom.MultiLineString.prototype,"appendLineString",ol.geom.MultiLineString.prototype.appendLineString),goog.exportProperty(ol.geom.MultiLineString.prototype,"clone",ol.geom.MultiLineString.prototype.clone),goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinateAtM",ol.geom.MultiLineString.prototype.getCoordinateAtM),goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinates",ol.geom.MultiLineString.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineString",ol.geom.MultiLineString.prototype.getLineString),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineStrings",ol.geom.MultiLineString.prototype.getLineStrings),goog.exportProperty(ol.geom.MultiLineString.prototype,"getType",ol.geom.MultiLineString.prototype.getType),goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsExtent",ol.geom.MultiLineString.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiLineString.prototype,"setCoordinates",ol.geom.MultiLineString.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiPoint",ol.geom.MultiPoint,OPENLAYERS),goog.exportProperty(ol.geom.MultiPoint.prototype,"appendPoint",ol.geom.MultiPoint.prototype.appendPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"clone",ol.geom.MultiPoint.prototype.clone),goog.exportProperty(ol.geom.MultiPoint.prototype,"getCoordinates",ol.geom.MultiPoint.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoint",ol.geom.MultiPoint.prototype.getPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoints",ol.geom.MultiPoint.prototype.getPoints),goog.exportProperty(ol.geom.MultiPoint.prototype,"getType",ol.geom.MultiPoint.prototype.getType),goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsExtent",ol.geom.MultiPoint.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiPoint.prototype,"setCoordinates",ol.geom.MultiPoint.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiPolygon",ol.geom.MultiPolygon,OPENLAYERS),goog.exportProperty(ol.geom.MultiPolygon.prototype,"appendPolygon",ol.geom.MultiPolygon.prototype.appendPolygon),goog.exportProperty(ol.geom.MultiPolygon.prototype,"clone",ol.geom.MultiPolygon.prototype.clone),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getArea",ol.geom.MultiPolygon.prototype.getArea),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getCoordinates",ol.geom.MultiPolygon.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getInteriorPoints",ol.geom.MultiPolygon.prototype.getInteriorPoints),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygon",ol.geom.MultiPolygon.prototype.getPolygon),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygons",ol.geom.MultiPolygon.prototype.getPolygons),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getType",ol.geom.MultiPolygon.prototype.getType),goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsExtent",ol.geom.MultiPolygon.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"setCoordinates",ol.geom.MultiPolygon.prototype.setCoordinates),goog.exportSymbol("ol.geom.Point",ol.geom.Point,OPENLAYERS),goog.exportProperty(ol.geom.Point.prototype,"clone",ol.geom.Point.prototype.clone),goog.exportProperty(ol.geom.Point.prototype,"getCoordinates",ol.geom.Point.prototype.getCoordinates),goog.exportProperty(ol.geom.Point.prototype,"getType",ol.geom.Point.prototype.getType),goog.exportProperty(ol.geom.Point.prototype,"intersectsExtent",ol.geom.Point.prototype.intersectsExtent),goog.exportProperty(ol.geom.Point.prototype,"setCoordinates",ol.geom.Point.prototype.setCoordinates),goog.exportSymbol("ol.geom.Polygon",ol.geom.Polygon,OPENLAYERS),goog.exportProperty(ol.geom.Polygon.prototype,"appendLinearRing",ol.geom.Polygon.prototype.appendLinearRing),goog.exportProperty(ol.geom.Polygon.prototype,"clone",ol.geom.Polygon.prototype.clone),goog.exportProperty(ol.geom.Polygon.prototype,"getArea",ol.geom.Polygon.prototype.getArea),goog.exportProperty(ol.geom.Polygon.prototype,"getCoordinates",ol.geom.Polygon.prototype.getCoordinates),goog.exportProperty(ol.geom.Polygon.prototype,"getInteriorPoint",ol.geom.Polygon.prototype.getInteriorPoint),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRingCount",ol.geom.Polygon.prototype.getLinearRingCount),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRing",ol.geom.Polygon.prototype.getLinearRing),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRings",ol.geom.Polygon.prototype.getLinearRings),goog.exportProperty(ol.geom.Polygon.prototype,"getType",ol.geom.Polygon.prototype.getType),goog.exportProperty(ol.geom.Polygon.prototype,"intersectsExtent",ol.geom.Polygon.prototype.intersectsExtent),goog.exportProperty(ol.geom.Polygon.prototype,"setCoordinates",ol.geom.Polygon.prototype.setCoordinates),goog.exportSymbol("ol.geom.Polygon.circular",ol.geom.Polygon.circular,OPENLAYERS),goog.exportSymbol("ol.geom.Polygon.fromExtent",ol.geom.Polygon.fromExtent,OPENLAYERS),goog.exportSymbol("ol.geom.Polygon.fromCircle",ol.geom.Polygon.fromCircle,OPENLAYERS),goog.exportSymbol("ol.geom.SimpleGeometry",ol.geom.SimpleGeometry,OPENLAYERS),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getFirstCoordinate",ol.geom.SimpleGeometry.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLastCoordinate",ol.geom.SimpleGeometry.prototype.getLastCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLayout",ol.geom.SimpleGeometry.prototype.getLayout),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"applyTransform",ol.geom.SimpleGeometry.prototype.applyTransform),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"translate",ol.geom.SimpleGeometry.prototype.translate),goog.exportSymbol("ol.format.EsriJSON",ol.format.EsriJSON,OPENLAYERS),goog.exportProperty(ol.format.EsriJSON.prototype,"readFeature",ol.format.EsriJSON.prototype.readFeature),goog.exportProperty(ol.format.EsriJSON.prototype,"readFeatures",ol.format.EsriJSON.prototype.readFeatures),goog.exportProperty(ol.format.EsriJSON.prototype,"readGeometry",ol.format.EsriJSON.prototype.readGeometry),goog.exportProperty(ol.format.EsriJSON.prototype,"readProjection",ol.format.EsriJSON.prototype.readProjection),goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometry",ol.format.EsriJSON.prototype.writeGeometry),goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometryObject",ol.format.EsriJSON.prototype.writeGeometryObject),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeature",ol.format.EsriJSON.prototype.writeFeature),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatureObject",ol.format.EsriJSON.prototype.writeFeatureObject),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatures",ol.format.EsriJSON.prototype.writeFeatures),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeaturesObject",ol.format.EsriJSON.prototype.writeFeaturesObject),goog.exportSymbol("ol.format.Feature",ol.format.Feature,OPENLAYERS),goog.exportSymbol("ol.format.filter.and",ol.format.filter.and,OPENLAYERS),goog.exportSymbol("ol.format.filter.or",ol.format.filter.or,OPENLAYERS),goog.exportSymbol("ol.format.filter.not",ol.format.filter.not,OPENLAYERS),goog.exportSymbol("ol.format.filter.bbox",ol.format.filter.bbox,OPENLAYERS),
goog.exportSymbol("ol.format.filter.intersects",ol.format.filter.intersects,OPENLAYERS),goog.exportSymbol("ol.format.filter.within",ol.format.filter.within,OPENLAYERS),goog.exportSymbol("ol.format.filter.equalTo",ol.format.filter.equalTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.notEqualTo",ol.format.filter.notEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.lessThan",ol.format.filter.lessThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.lessThanOrEqualTo",ol.format.filter.lessThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.greaterThan",ol.format.filter.greaterThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.greaterThanOrEqualTo",ol.format.filter.greaterThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.isNull",ol.format.filter.isNull,OPENLAYERS),goog.exportSymbol("ol.format.filter.between",ol.format.filter.between,OPENLAYERS),goog.exportSymbol("ol.format.filter.like",ol.format.filter.like,OPENLAYERS),goog.exportSymbol("ol.format.GeoJSON",ol.format.GeoJSON,OPENLAYERS),goog.exportProperty(ol.format.GeoJSON.prototype,"readFeature",ol.format.GeoJSON.prototype.readFeature),goog.exportProperty(ol.format.GeoJSON.prototype,"readFeatures",ol.format.GeoJSON.prototype.readFeatures),goog.exportProperty(ol.format.GeoJSON.prototype,"readGeometry",ol.format.GeoJSON.prototype.readGeometry),goog.exportProperty(ol.format.GeoJSON.prototype,"readProjection",ol.format.GeoJSON.prototype.readProjection),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeature",ol.format.GeoJSON.prototype.writeFeature),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatureObject",ol.format.GeoJSON.prototype.writeFeatureObject),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatures",ol.format.GeoJSON.prototype.writeFeatures),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeaturesObject",ol.format.GeoJSON.prototype.writeFeaturesObject),goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometry",ol.format.GeoJSON.prototype.writeGeometry),goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometryObject",ol.format.GeoJSON.prototype.writeGeometryObject),goog.exportSymbol("ol.format.GML",ol.format.GML,OPENLAYERS),goog.exportProperty(ol.format.GML.prototype,"writeFeatures",ol.format.GML.prototype.writeFeatures),goog.exportProperty(ol.format.GML.prototype,"writeFeaturesNode",ol.format.GML.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.GML2",ol.format.GML2,OPENLAYERS),goog.exportSymbol("ol.format.GML3",ol.format.GML3,OPENLAYERS),goog.exportProperty(ol.format.GML3.prototype,"writeGeometryNode",ol.format.GML3.prototype.writeGeometryNode),goog.exportProperty(ol.format.GML3.prototype,"writeFeatures",ol.format.GML3.prototype.writeFeatures),goog.exportProperty(ol.format.GML3.prototype,"writeFeaturesNode",ol.format.GML3.prototype.writeFeaturesNode),goog.exportProperty(ol.format.GMLBase.prototype,"readFeatures",ol.format.GMLBase.prototype.readFeatures),goog.exportSymbol("ol.format.GPX",ol.format.GPX,OPENLAYERS),goog.exportProperty(ol.format.GPX.prototype,"readFeature",ol.format.GPX.prototype.readFeature),goog.exportProperty(ol.format.GPX.prototype,"readFeatures",ol.format.GPX.prototype.readFeatures),goog.exportProperty(ol.format.GPX.prototype,"readProjection",ol.format.GPX.prototype.readProjection),goog.exportProperty(ol.format.GPX.prototype,"writeFeatures",ol.format.GPX.prototype.writeFeatures),goog.exportProperty(ol.format.GPX.prototype,"writeFeaturesNode",ol.format.GPX.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.IGC",ol.format.IGC,OPENLAYERS),goog.exportProperty(ol.format.IGC.prototype,"readFeature",ol.format.IGC.prototype.readFeature),goog.exportProperty(ol.format.IGC.prototype,"readFeatures",ol.format.IGC.prototype.readFeatures),goog.exportProperty(ol.format.IGC.prototype,"readProjection",ol.format.IGC.prototype.readProjection),goog.exportSymbol("ol.format.KML",ol.format.KML,OPENLAYERS),goog.exportProperty(ol.format.KML.prototype,"readFeature",ol.format.KML.prototype.readFeature),goog.exportProperty(ol.format.KML.prototype,"readFeatures",ol.format.KML.prototype.readFeatures),goog.exportProperty(ol.format.KML.prototype,"readName",ol.format.KML.prototype.readName),goog.exportProperty(ol.format.KML.prototype,"readNetworkLinks",ol.format.KML.prototype.readNetworkLinks),goog.exportProperty(ol.format.KML.prototype,"readRegion",ol.format.KML.prototype.readRegion),goog.exportProperty(ol.format.KML.prototype,"readRegionFromNode",ol.format.KML.prototype.readRegionFromNode),goog.exportProperty(ol.format.KML.prototype,"readProjection",ol.format.KML.prototype.readProjection),goog.exportProperty(ol.format.KML.prototype,"writeFeatures",ol.format.KML.prototype.writeFeatures),goog.exportProperty(ol.format.KML.prototype,"writeFeaturesNode",ol.format.KML.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.MVT",ol.format.MVT,OPENLAYERS),goog.exportProperty(ol.format.MVT.prototype,"readFeatures",ol.format.MVT.prototype.readFeatures),goog.exportProperty(ol.format.MVT.prototype,"readProjection",ol.format.MVT.prototype.readProjection),goog.exportProperty(ol.format.MVT.prototype,"setLayers",ol.format.MVT.prototype.setLayers),goog.exportSymbol("ol.format.OSMXML",ol.format.OSMXML,OPENLAYERS),goog.exportProperty(ol.format.OSMXML.prototype,"readFeatures",ol.format.OSMXML.prototype.readFeatures),goog.exportProperty(ol.format.OSMXML.prototype,"readProjection",ol.format.OSMXML.prototype.readProjection),goog.exportSymbol("ol.format.Polyline",ol.format.Polyline,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.encodeDeltas",ol.format.Polyline.encodeDeltas,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.decodeDeltas",ol.format.Polyline.decodeDeltas,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.encodeFloats",ol.format.Polyline.encodeFloats,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.decodeFloats",ol.format.Polyline.decodeFloats,OPENLAYERS),goog.exportProperty(ol.format.Polyline.prototype,"readFeature",ol.format.Polyline.prototype.readFeature),goog.exportProperty(ol.format.Polyline.prototype,"readFeatures",ol.format.Polyline.prototype.readFeatures),goog.exportProperty(ol.format.Polyline.prototype,"readGeometry",ol.format.Polyline.prototype.readGeometry),goog.exportProperty(ol.format.Polyline.prototype,"readProjection",ol.format.Polyline.prototype.readProjection),goog.exportProperty(ol.format.Polyline.prototype,"writeGeometry",ol.format.Polyline.prototype.writeGeometry),goog.exportSymbol("ol.format.TopoJSON",ol.format.TopoJSON,OPENLAYERS),goog.exportProperty(ol.format.TopoJSON.prototype,"readFeatures",ol.format.TopoJSON.prototype.readFeatures),goog.exportProperty(ol.format.TopoJSON.prototype,"readProjection",ol.format.TopoJSON.prototype.readProjection),goog.exportSymbol("ol.format.WFS",ol.format.WFS,OPENLAYERS),goog.exportProperty(ol.format.WFS.prototype,"readFeatures",ol.format.WFS.prototype.readFeatures),goog.exportProperty(ol.format.WFS.prototype,"readTransactionResponse",ol.format.WFS.prototype.readTransactionResponse),goog.exportProperty(ol.format.WFS.prototype,"readFeatureCollectionMetadata",ol.format.WFS.prototype.readFeatureCollectionMetadata),goog.exportSymbol("ol.format.WFS.writeFilter",ol.format.WFS.writeFilter,OPENLAYERS),goog.exportProperty(ol.format.WFS.prototype,"writeGetFeature",ol.format.WFS.prototype.writeGetFeature),goog.exportProperty(ol.format.WFS.prototype,"writeTransaction",ol.format.WFS.prototype.writeTransaction),goog.exportProperty(ol.format.WFS.prototype,"readProjection",ol.format.WFS.prototype.readProjection),goog.exportSymbol("ol.format.WKT",ol.format.WKT,OPENLAYERS),goog.exportProperty(ol.format.WKT.prototype,"readFeature",ol.format.WKT.prototype.readFeature),goog.exportProperty(ol.format.WKT.prototype,"readFeatures",ol.format.WKT.prototype.readFeatures),goog.exportProperty(ol.format.WKT.prototype,"readGeometry",ol.format.WKT.prototype.readGeometry),goog.exportProperty(ol.format.WKT.prototype,"writeFeature",ol.format.WKT.prototype.writeFeature),goog.exportProperty(ol.format.WKT.prototype,"writeFeatures",ol.format.WKT.prototype.writeFeatures),goog.exportProperty(ol.format.WKT.prototype,"writeGeometry",ol.format.WKT.prototype.writeGeometry),goog.exportSymbol("ol.format.WMSCapabilities",ol.format.WMSCapabilities,OPENLAYERS),goog.exportProperty(ol.format.WMSCapabilities.prototype,"read",ol.format.WMSCapabilities.prototype.read),goog.exportSymbol("ol.format.WMSGetFeatureInfo",ol.format.WMSGetFeatureInfo,OPENLAYERS),goog.exportProperty(ol.format.WMSGetFeatureInfo.prototype,"readFeatures",ol.format.WMSGetFeatureInfo.prototype.readFeatures),goog.exportSymbol("ol.format.WMTSCapabilities",ol.format.WMTSCapabilities,OPENLAYERS),goog.exportProperty(ol.format.WMTSCapabilities.prototype,"read",ol.format.WMTSCapabilities.prototype.read),goog.exportSymbol("ol.format.filter.And",ol.format.filter.And,OPENLAYERS),goog.exportSymbol("ol.format.filter.Bbox",ol.format.filter.Bbox,OPENLAYERS),goog.exportSymbol("ol.format.filter.Comparison",ol.format.filter.Comparison,OPENLAYERS),goog.exportSymbol("ol.format.filter.ComparisonBinary",ol.format.filter.ComparisonBinary,OPENLAYERS),goog.exportSymbol("ol.format.filter.EqualTo",ol.format.filter.EqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Filter",ol.format.filter.Filter,OPENLAYERS),goog.exportSymbol("ol.format.filter.GreaterThan",ol.format.filter.GreaterThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.GreaterThanOrEqualTo",ol.format.filter.GreaterThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Intersects",ol.format.filter.Intersects,OPENLAYERS),goog.exportSymbol("ol.format.filter.IsBetween",ol.format.filter.IsBetween,OPENLAYERS),goog.exportSymbol("ol.format.filter.IsLike",ol.format.filter.IsLike,OPENLAYERS),goog.exportSymbol("ol.format.filter.IsNull",ol.format.filter.IsNull,OPENLAYERS),goog.exportSymbol("ol.format.filter.LessThan",ol.format.filter.LessThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.LessThanOrEqualTo",ol.format.filter.LessThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Not",ol.format.filter.Not,OPENLAYERS),goog.exportSymbol("ol.format.filter.NotEqualTo",ol.format.filter.NotEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Or",ol.format.filter.Or,OPENLAYERS),goog.exportSymbol("ol.format.filter.Spatial",ol.format.filter.Spatial,OPENLAYERS),goog.exportSymbol("ol.format.filter.Within",ol.format.filter.Within,OPENLAYERS),goog.exportSymbol("ol.events.condition.altKeyOnly",ol.events.condition.altKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.altShiftKeysOnly",ol.events.condition.altShiftKeysOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.always",ol.events.condition.always,OPENLAYERS),goog.exportSymbol("ol.events.condition.click",ol.events.condition.click,OPENLAYERS),goog.exportSymbol("ol.events.condition.never",ol.events.condition.never,OPENLAYERS),goog.exportSymbol("ol.events.condition.pointerMove",ol.events.condition.pointerMove,OPENLAYERS),goog.exportSymbol("ol.events.condition.singleClick",ol.events.condition.singleClick,OPENLAYERS),goog.exportSymbol("ol.events.condition.doubleClick",ol.events.condition.doubleClick,OPENLAYERS),goog.exportSymbol("ol.events.condition.noModifierKeys",ol.events.condition.noModifierKeys,OPENLAYERS),goog.exportSymbol("ol.events.condition.platformModifierKeyOnly",ol.events.condition.platformModifierKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.shiftKeyOnly",ol.events.condition.shiftKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.targetNotEditable",ol.events.condition.targetNotEditable,OPENLAYERS),goog.exportSymbol("ol.events.condition.mouseOnly",ol.events.condition.mouseOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.primaryAction",ol.events.condition.primaryAction,OPENLAYERS),goog.exportProperty(ol.events.Event.prototype,"type",ol.events.Event.prototype.type),goog.exportProperty(ol.events.Event.prototype,"target",ol.events.Event.prototype.target),goog.exportProperty(ol.events.Event.prototype,"preventDefault",ol.events.Event.prototype.preventDefault),goog.exportProperty(ol.events.Event.prototype,"stopPropagation",ol.events.Event.prototype.stopPropagation),goog.exportSymbol("ol.control.Attribution",ol.control.Attribution,OPENLAYERS),goog.exportSymbol("ol.control.Attribution.render",ol.control.Attribution.render,OPENLAYERS),goog.exportProperty(ol.control.Attribution.prototype,"getCollapsible",ol.control.Attribution.prototype.getCollapsible),goog.exportProperty(ol.control.Attribution.prototype,"setCollapsible",ol.control.Attribution.prototype.setCollapsible),goog.exportProperty(ol.control.Attribution.prototype,"setCollapsed",ol.control.Attribution.prototype.setCollapsed),goog.exportProperty(ol.control.Attribution.prototype,"getCollapsed",ol.control.Attribution.prototype.getCollapsed),goog.exportSymbol("ol.control.Control",ol.control.Control,OPENLAYERS),goog.exportProperty(ol.control.Control.prototype,"getMap",ol.control.Control.prototype.getMap),goog.exportProperty(ol.control.Control.prototype,"setMap",ol.control.Control.prototype.setMap),goog.exportProperty(ol.control.Control.prototype,"setTarget",ol.control.Control.prototype.setTarget),goog.exportSymbol("ol.control.FullScreen",ol.control.FullScreen,OPENLAYERS),goog.exportSymbol("ol.control.MousePosition",ol.control.MousePosition,OPENLAYERS),goog.exportSymbol("ol.control.MousePosition.render",ol.control.MousePosition.render,OPENLAYERS),goog.exportProperty(ol.control.MousePosition.prototype,"getCoordinateFormat",ol.control.MousePosition.prototype.getCoordinateFormat),goog.exportProperty(ol.control.MousePosition.prototype,"getProjection",ol.control.MousePosition.prototype.getProjection),goog.exportProperty(ol.control.MousePosition.prototype,"setCoordinateFormat",ol.control.MousePosition.prototype.setCoordinateFormat),goog.exportProperty(ol.control.MousePosition.prototype,"setProjection",ol.control.MousePosition.prototype.setProjection),goog.exportSymbol("ol.control.OverviewMap",ol.control.OverviewMap,OPENLAYERS),goog.exportSymbol("ol.control.OverviewMap.render",ol.control.OverviewMap.render,OPENLAYERS),goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsible",ol.control.OverviewMap.prototype.getCollapsible),goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsible",ol.control.OverviewMap.prototype.setCollapsible),goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsed",ol.control.OverviewMap.prototype.setCollapsed),goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsed",ol.control.OverviewMap.prototype.getCollapsed),goog.exportProperty(ol.control.OverviewMap.prototype,"getOverviewMap",ol.control.OverviewMap.prototype.getOverviewMap),goog.exportSymbol("ol.control.Rotate",ol.control.Rotate,OPENLAYERS),goog.exportSymbol("ol.control.Rotate.render",ol.control.Rotate.render,OPENLAYERS),goog.exportSymbol("ol.control.ScaleLine",ol.control.ScaleLine,OPENLAYERS),goog.exportProperty(ol.control.ScaleLine.prototype,"getUnits",ol.control.ScaleLine.prototype.getUnits),goog.exportSymbol("ol.control.ScaleLine.render",ol.control.ScaleLine.render,OPENLAYERS),goog.exportProperty(ol.control.ScaleLine.prototype,"setUnits",ol.control.ScaleLine.prototype.setUnits),goog.exportSymbol("ol.control.Zoom",ol.control.Zoom,OPENLAYERS),goog.exportSymbol("ol.control.ZoomSlider",ol.control.ZoomSlider,OPENLAYERS),goog.exportSymbol("ol.control.ZoomSlider.render",ol.control.ZoomSlider.render,OPENLAYERS),goog.exportSymbol("ol.control.ZoomToExtent",ol.control.ZoomToExtent,OPENLAYERS),goog.exportProperty(ol.Object.prototype,"changed",ol.Object.prototype.changed),goog.exportProperty(ol.Object.prototype,"dispatchEvent",ol.Object.prototype.dispatchEvent),goog.exportProperty(ol.Object.prototype,"getRevision",ol.Object.prototype.getRevision),goog.exportProperty(ol.Object.prototype,"on",ol.Object.prototype.on),goog.exportProperty(ol.Object.prototype,"once",ol.Object.prototype.once),goog.exportProperty(ol.Object.prototype,"un",ol.Object.prototype.un),goog.exportProperty(ol.Collection.prototype,"get",ol.Collection.prototype.get),goog.exportProperty(ol.Collection.prototype,"getKeys",ol.Collection.prototype.getKeys),goog.exportProperty(ol.Collection.prototype,"getProperties",ol.Collection.prototype.getProperties),goog.exportProperty(ol.Collection.prototype,"set",ol.Collection.prototype.set),goog.exportProperty(ol.Collection.prototype,"setProperties",ol.Collection.prototype.setProperties),goog.exportProperty(ol.Collection.prototype,"unset",ol.Collection.prototype.unset),goog.exportProperty(ol.Collection.prototype,"changed",ol.Collection.prototype.changed),goog.exportProperty(ol.Collection.prototype,"dispatchEvent",ol.Collection.prototype.dispatchEvent),goog.exportProperty(ol.Collection.prototype,"getRevision",ol.Collection.prototype.getRevision),goog.exportProperty(ol.Collection.prototype,"on",ol.Collection.prototype.on),goog.exportProperty(ol.Collection.prototype,"once",ol.Collection.prototype.once),goog.exportProperty(ol.Collection.prototype,"un",ol.Collection.prototype.un),goog.exportProperty(ol.Collection.Event.prototype,"type",ol.Collection.Event.prototype.type),goog.exportProperty(ol.Collection.Event.prototype,"target",ol.Collection.Event.prototype.target),goog.exportProperty(ol.Collection.Event.prototype,"preventDefault",ol.Collection.Event.prototype.preventDefault),goog.exportProperty(ol.Collection.Event.prototype,"stopPropagation",ol.Collection.Event.prototype.stopPropagation),goog.exportProperty(ol.DeviceOrientation.prototype,"get",ol.DeviceOrientation.prototype.get),goog.exportProperty(ol.DeviceOrientation.prototype,"getKeys",ol.DeviceOrientation.prototype.getKeys),goog.exportProperty(ol.DeviceOrientation.prototype,"getProperties",ol.DeviceOrientation.prototype.getProperties),goog.exportProperty(ol.DeviceOrientation.prototype,"set",ol.DeviceOrientation.prototype.set),goog.exportProperty(ol.DeviceOrientation.prototype,"setProperties",ol.DeviceOrientation.prototype.setProperties),goog.exportProperty(ol.DeviceOrientation.prototype,"unset",ol.DeviceOrientation.prototype.unset),goog.exportProperty(ol.DeviceOrientation.prototype,"changed",ol.DeviceOrientation.prototype.changed),goog.exportProperty(ol.DeviceOrientation.prototype,"dispatchEvent",ol.DeviceOrientation.prototype.dispatchEvent),goog.exportProperty(ol.DeviceOrientation.prototype,"getRevision",ol.DeviceOrientation.prototype.getRevision),goog.exportProperty(ol.DeviceOrientation.prototype,"on",ol.DeviceOrientation.prototype.on),goog.exportProperty(ol.DeviceOrientation.prototype,"once",ol.DeviceOrientation.prototype.once),goog.exportProperty(ol.DeviceOrientation.prototype,"un",ol.DeviceOrientation.prototype.un),goog.exportProperty(ol.Feature.prototype,"get",ol.Feature.prototype.get),goog.exportProperty(ol.Feature.prototype,"getKeys",ol.Feature.prototype.getKeys),goog.exportProperty(ol.Feature.prototype,"getProperties",ol.Feature.prototype.getProperties),goog.exportProperty(ol.Feature.prototype,"set",ol.Feature.prototype.set),goog.exportProperty(ol.Feature.prototype,"setProperties",ol.Feature.prototype.setProperties),goog.exportProperty(ol.Feature.prototype,"unset",ol.Feature.prototype.unset),goog.exportProperty(ol.Feature.prototype,"changed",ol.Feature.prototype.changed),goog.exportProperty(ol.Feature.prototype,"dispatchEvent",ol.Feature.prototype.dispatchEvent),goog.exportProperty(ol.Feature.prototype,"getRevision",ol.Feature.prototype.getRevision),goog.exportProperty(ol.Feature.prototype,"on",ol.Feature.prototype.on),goog.exportProperty(ol.Feature.prototype,"once",ol.Feature.prototype.once),goog.exportProperty(ol.Feature.prototype,"un",ol.Feature.prototype.un),goog.exportProperty(ol.Geolocation.prototype,"get",ol.Geolocation.prototype.get),goog.exportProperty(ol.Geolocation.prototype,"getKeys",ol.Geolocation.prototype.getKeys),goog.exportProperty(ol.Geolocation.prototype,"getProperties",ol.Geolocation.prototype.getProperties),goog.exportProperty(ol.Geolocation.prototype,"set",ol.Geolocation.prototype.set),goog.exportProperty(ol.Geolocation.prototype,"setProperties",ol.Geolocation.prototype.setProperties),goog.exportProperty(ol.Geolocation.prototype,"unset",ol.Geolocation.prototype.unset),goog.exportProperty(ol.Geolocation.prototype,"changed",ol.Geolocation.prototype.changed),goog.exportProperty(ol.Geolocation.prototype,"dispatchEvent",ol.Geolocation.prototype.dispatchEvent),goog.exportProperty(ol.Geolocation.prototype,"getRevision",ol.Geolocation.prototype.getRevision),goog.exportProperty(ol.Geolocation.prototype,"on",ol.Geolocation.prototype.on),goog.exportProperty(ol.Geolocation.prototype,"once",ol.Geolocation.prototype.once),goog.exportProperty(ol.Geolocation.prototype,"un",ol.Geolocation.prototype.un),goog.exportProperty(ol.ImageTile.prototype,"getTileCoord",ol.ImageTile.prototype.getTileCoord),goog.exportProperty(ol.ImageTile.prototype,"load",ol.ImageTile.prototype.load),goog.exportProperty(ol.Map.prototype,"get",ol.Map.prototype.get),goog.exportProperty(ol.Map.prototype,"getKeys",ol.Map.prototype.getKeys),goog.exportProperty(ol.Map.prototype,"getProperties",ol.Map.prototype.getProperties),goog.exportProperty(ol.Map.prototype,"set",ol.Map.prototype.set),goog.exportProperty(ol.Map.prototype,"setProperties",ol.Map.prototype.setProperties),goog.exportProperty(ol.Map.prototype,"unset",ol.Map.prototype.unset),goog.exportProperty(ol.Map.prototype,"changed",ol.Map.prototype.changed),goog.exportProperty(ol.Map.prototype,"dispatchEvent",ol.Map.prototype.dispatchEvent),goog.exportProperty(ol.Map.prototype,"getRevision",ol.Map.prototype.getRevision),goog.exportProperty(ol.Map.prototype,"on",ol.Map.prototype.on),goog.exportProperty(ol.Map.prototype,"once",ol.Map.prototype.once),goog.exportProperty(ol.Map.prototype,"un",ol.Map.prototype.un),goog.exportProperty(ol.MapEvent.prototype,"type",ol.MapEvent.prototype.type),goog.exportProperty(ol.MapEvent.prototype,"target",ol.MapEvent.prototype.target),goog.exportProperty(ol.MapEvent.prototype,"preventDefault",ol.MapEvent.prototype.preventDefault),goog.exportProperty(ol.MapEvent.prototype,"stopPropagation",ol.MapEvent.prototype.stopPropagation),goog.exportProperty(ol.MapBrowserEvent.prototype,"map",ol.MapBrowserEvent.prototype.map),goog.exportProperty(ol.MapBrowserEvent.prototype,"frameState",ol.MapBrowserEvent.prototype.frameState),goog.exportProperty(ol.MapBrowserEvent.prototype,"type",ol.MapBrowserEvent.prototype.type),goog.exportProperty(ol.MapBrowserEvent.prototype,"target",ol.MapBrowserEvent.prototype.target),goog.exportProperty(ol.MapBrowserEvent.prototype,"preventDefault",ol.MapBrowserEvent.prototype.preventDefault),goog.exportProperty(ol.MapBrowserEvent.prototype,"stopPropagation",ol.MapBrowserEvent.prototype.stopPropagation),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"originalEvent",ol.MapBrowserPointerEvent.prototype.originalEvent),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"pixel",ol.MapBrowserPointerEvent.prototype.pixel),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"coordinate",ol.MapBrowserPointerEvent.prototype.coordinate),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"dragging",ol.MapBrowserPointerEvent.prototype.dragging),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"preventDefault",ol.MapBrowserPointerEvent.prototype.preventDefault),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"stopPropagation",ol.MapBrowserPointerEvent.prototype.stopPropagation),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"map",ol.MapBrowserPointerEvent.prototype.map),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"frameState",ol.MapBrowserPointerEvent.prototype.frameState),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"type",ol.MapBrowserPointerEvent.prototype.type),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"target",ol.MapBrowserPointerEvent.prototype.target),goog.exportProperty(ol.Object.Event.prototype,"type",ol.Object.Event.prototype.type),goog.exportProperty(ol.Object.Event.prototype,"target",ol.Object.Event.prototype.target),goog.exportProperty(ol.Object.Event.prototype,"preventDefault",ol.Object.Event.prototype.preventDefault),goog.exportProperty(ol.Object.Event.prototype,"stopPropagation",ol.Object.Event.prototype.stopPropagation),goog.exportProperty(ol.Overlay.prototype,"get",ol.Overlay.prototype.get),goog.exportProperty(ol.Overlay.prototype,"getKeys",ol.Overlay.prototype.getKeys),goog.exportProperty(ol.Overlay.prototype,"getProperties",ol.Overlay.prototype.getProperties),goog.exportProperty(ol.Overlay.prototype,"set",ol.Overlay.prototype.set),goog.exportProperty(ol.Overlay.prototype,"setProperties",ol.Overlay.prototype.setProperties),goog.exportProperty(ol.Overlay.prototype,"unset",ol.Overlay.prototype.unset),goog.exportProperty(ol.Overlay.prototype,"changed",ol.Overlay.prototype.changed),goog.exportProperty(ol.Overlay.prototype,"dispatchEvent",ol.Overlay.prototype.dispatchEvent),goog.exportProperty(ol.Overlay.prototype,"getRevision",ol.Overlay.prototype.getRevision),goog.exportProperty(ol.Overlay.prototype,"on",ol.Overlay.prototype.on),goog.exportProperty(ol.Overlay.prototype,"once",ol.Overlay.prototype.once),goog.exportProperty(ol.Overlay.prototype,"un",ol.Overlay.prototype.un),goog.exportProperty(ol.VectorTile.prototype,"getTileCoord",ol.VectorTile.prototype.getTileCoord),goog.exportProperty(ol.VectorTile.prototype,"load",ol.VectorTile.prototype.load),goog.exportProperty(ol.View.prototype,"get",ol.View.prototype.get),goog.exportProperty(ol.View.prototype,"getKeys",ol.View.prototype.getKeys),goog.exportProperty(ol.View.prototype,"getProperties",ol.View.prototype.getProperties),goog.exportProperty(ol.View.prototype,"set",ol.View.prototype.set),goog.exportProperty(ol.View.prototype,"setProperties",ol.View.prototype.setProperties),goog.exportProperty(ol.View.prototype,"unset",ol.View.prototype.unset),goog.exportProperty(ol.View.prototype,"changed",ol.View.prototype.changed),goog.exportProperty(ol.View.prototype,"dispatchEvent",ol.View.prototype.dispatchEvent),goog.exportProperty(ol.View.prototype,"getRevision",ol.View.prototype.getRevision),goog.exportProperty(ol.View.prototype,"on",ol.View.prototype.on),goog.exportProperty(ol.View.prototype,"once",ol.View.prototype.once),goog.exportProperty(ol.View.prototype,"un",ol.View.prototype.un),goog.exportProperty(ol.tilegrid.WMTS.prototype,"forEachTileCoord",ol.tilegrid.WMTS.prototype.forEachTileCoord),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMaxZoom",ol.tilegrid.WMTS.prototype.getMaxZoom),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMinZoom",ol.tilegrid.WMTS.prototype.getMinZoom),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getOrigin",ol.tilegrid.WMTS.prototype.getOrigin),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolution",ol.tilegrid.WMTS.prototype.getResolution),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolutions",ol.tilegrid.WMTS.prototype.getResolutions),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordExtent",ol.tilegrid.WMTS.prototype.getTileCoordExtent),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndResolution),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndZ),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileSize",ol.tilegrid.WMTS.prototype.getTileSize),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getZForResolution",ol.tilegrid.WMTS.prototype.getZForResolution),goog.exportProperty(ol.style.RegularShape.prototype,"getOpacity",ol.style.RegularShape.prototype.getOpacity),goog.exportProperty(ol.style.RegularShape.prototype,"getRotateWithView",ol.style.RegularShape.prototype.getRotateWithView),goog.exportProperty(ol.style.RegularShape.prototype,"getRotation",ol.style.RegularShape.prototype.getRotation),goog.exportProperty(ol.style.RegularShape.prototype,"getScale",ol.style.RegularShape.prototype.getScale),goog.exportProperty(ol.style.RegularShape.prototype,"getSnapToPixel",ol.style.RegularShape.prototype.getSnapToPixel),goog.exportProperty(ol.style.RegularShape.prototype,"setOpacity",ol.style.RegularShape.prototype.setOpacity),goog.exportProperty(ol.style.RegularShape.prototype,"setRotation",ol.style.RegularShape.prototype.setRotation),goog.exportProperty(ol.style.RegularShape.prototype,"setScale",ol.style.RegularShape.prototype.setScale),goog.exportProperty(ol.style.Circle.prototype,"clone",ol.style.Circle.prototype.clone),goog.exportProperty(ol.style.Circle.prototype,"getAngle",ol.style.Circle.prototype.getAngle),goog.exportProperty(ol.style.Circle.prototype,"getFill",ol.style.Circle.prototype.getFill),goog.exportProperty(ol.style.Circle.prototype,"getPoints",ol.style.Circle.prototype.getPoints),goog.exportProperty(ol.style.Circle.prototype,"getRadius",ol.style.Circle.prototype.getRadius),goog.exportProperty(ol.style.Circle.prototype,"getRadius2",ol.style.Circle.prototype.getRadius2),goog.exportProperty(ol.style.Circle.prototype,"getStroke",ol.style.Circle.prototype.getStroke),goog.exportProperty(ol.style.Circle.prototype,"getOpacity",ol.style.Circle.prototype.getOpacity),goog.exportProperty(ol.style.Circle.prototype,"getRotateWithView",ol.style.Circle.prototype.getRotateWithView),goog.exportProperty(ol.style.Circle.prototype,"getRotation",ol.style.Circle.prototype.getRotation),goog.exportProperty(ol.style.Circle.prototype,"getScale",ol.style.Circle.prototype.getScale),goog.exportProperty(ol.style.Circle.prototype,"getSnapToPixel",ol.style.Circle.prototype.getSnapToPixel),goog.exportProperty(ol.style.Circle.prototype,"setOpacity",ol.style.Circle.prototype.setOpacity),goog.exportProperty(ol.style.Circle.prototype,"setRotation",ol.style.Circle.prototype.setRotation),goog.exportProperty(ol.style.Circle.prototype,"setScale",ol.style.Circle.prototype.setScale),goog.exportProperty(ol.style.Icon.prototype,"getOpacity",ol.style.Icon.prototype.getOpacity),goog.exportProperty(ol.style.Icon.prototype,"getRotateWithView",ol.style.Icon.prototype.getRotateWithView),goog.exportProperty(ol.style.Icon.prototype,"getRotation",ol.style.Icon.prototype.getRotation),goog.exportProperty(ol.style.Icon.prototype,"getScale",ol.style.Icon.prototype.getScale),goog.exportProperty(ol.style.Icon.prototype,"getSnapToPixel",ol.style.Icon.prototype.getSnapToPixel),goog.exportProperty(ol.style.Icon.prototype,"setOpacity",ol.style.Icon.prototype.setOpacity),goog.exportProperty(ol.style.Icon.prototype,"setRotation",ol.style.Icon.prototype.setRotation),goog.exportProperty(ol.style.Icon.prototype,"setScale",ol.style.Icon.prototype.setScale),goog.exportProperty(ol.source.Source.prototype,"get",ol.source.Source.prototype.get),goog.exportProperty(ol.source.Source.prototype,"getKeys",ol.source.Source.prototype.getKeys),goog.exportProperty(ol.source.Source.prototype,"getProperties",ol.source.Source.prototype.getProperties),goog.exportProperty(ol.source.Source.prototype,"set",ol.source.Source.prototype.set),goog.exportProperty(ol.source.Source.prototype,"setProperties",ol.source.Source.prototype.setProperties),goog.exportProperty(ol.source.Source.prototype,"unset",ol.source.Source.prototype.unset),goog.exportProperty(ol.source.Source.prototype,"changed",ol.source.Source.prototype.changed),goog.exportProperty(ol.source.Source.prototype,"dispatchEvent",ol.source.Source.prototype.dispatchEvent),goog.exportProperty(ol.source.Source.prototype,"getRevision",ol.source.Source.prototype.getRevision),goog.exportProperty(ol.source.Source.prototype,"on",ol.source.Source.prototype.on),goog.exportProperty(ol.source.Source.prototype,"once",ol.source.Source.prototype.once),goog.exportProperty(ol.source.Source.prototype,"un",ol.source.Source.prototype.un),goog.exportProperty(ol.source.Tile.prototype,"getAttributions",ol.source.Tile.prototype.getAttributions),goog.exportProperty(ol.source.Tile.prototype,"getLogo",ol.source.Tile.prototype.getLogo),goog.exportProperty(ol.source.Tile.prototype,"getProjection",ol.source.Tile.prototype.getProjection),
goog.exportProperty(ol.source.Tile.prototype,"getState",ol.source.Tile.prototype.getState),goog.exportProperty(ol.source.Tile.prototype,"refresh",ol.source.Tile.prototype.refresh),goog.exportProperty(ol.source.Tile.prototype,"setAttributions",ol.source.Tile.prototype.setAttributions),goog.exportProperty(ol.source.Tile.prototype,"get",ol.source.Tile.prototype.get),goog.exportProperty(ol.source.Tile.prototype,"getKeys",ol.source.Tile.prototype.getKeys),goog.exportProperty(ol.source.Tile.prototype,"getProperties",ol.source.Tile.prototype.getProperties),goog.exportProperty(ol.source.Tile.prototype,"set",ol.source.Tile.prototype.set),goog.exportProperty(ol.source.Tile.prototype,"setProperties",ol.source.Tile.prototype.setProperties),goog.exportProperty(ol.source.Tile.prototype,"unset",ol.source.Tile.prototype.unset),goog.exportProperty(ol.source.Tile.prototype,"changed",ol.source.Tile.prototype.changed),goog.exportProperty(ol.source.Tile.prototype,"dispatchEvent",ol.source.Tile.prototype.dispatchEvent),goog.exportProperty(ol.source.Tile.prototype,"getRevision",ol.source.Tile.prototype.getRevision),goog.exportProperty(ol.source.Tile.prototype,"on",ol.source.Tile.prototype.on),goog.exportProperty(ol.source.Tile.prototype,"once",ol.source.Tile.prototype.once),goog.exportProperty(ol.source.Tile.prototype,"un",ol.source.Tile.prototype.un),goog.exportProperty(ol.source.UrlTile.prototype,"getTileGrid",ol.source.UrlTile.prototype.getTileGrid),goog.exportProperty(ol.source.UrlTile.prototype,"refresh",ol.source.UrlTile.prototype.refresh),goog.exportProperty(ol.source.UrlTile.prototype,"getAttributions",ol.source.UrlTile.prototype.getAttributions),goog.exportProperty(ol.source.UrlTile.prototype,"getLogo",ol.source.UrlTile.prototype.getLogo),goog.exportProperty(ol.source.UrlTile.prototype,"getProjection",ol.source.UrlTile.prototype.getProjection),goog.exportProperty(ol.source.UrlTile.prototype,"getState",ol.source.UrlTile.prototype.getState),goog.exportProperty(ol.source.UrlTile.prototype,"setAttributions",ol.source.UrlTile.prototype.setAttributions),goog.exportProperty(ol.source.UrlTile.prototype,"get",ol.source.UrlTile.prototype.get),goog.exportProperty(ol.source.UrlTile.prototype,"getKeys",ol.source.UrlTile.prototype.getKeys),goog.exportProperty(ol.source.UrlTile.prototype,"getProperties",ol.source.UrlTile.prototype.getProperties),goog.exportProperty(ol.source.UrlTile.prototype,"set",ol.source.UrlTile.prototype.set),goog.exportProperty(ol.source.UrlTile.prototype,"setProperties",ol.source.UrlTile.prototype.setProperties),goog.exportProperty(ol.source.UrlTile.prototype,"unset",ol.source.UrlTile.prototype.unset),goog.exportProperty(ol.source.UrlTile.prototype,"changed",ol.source.UrlTile.prototype.changed),goog.exportProperty(ol.source.UrlTile.prototype,"dispatchEvent",ol.source.UrlTile.prototype.dispatchEvent),goog.exportProperty(ol.source.UrlTile.prototype,"getRevision",ol.source.UrlTile.prototype.getRevision),goog.exportProperty(ol.source.UrlTile.prototype,"on",ol.source.UrlTile.prototype.on),goog.exportProperty(ol.source.UrlTile.prototype,"once",ol.source.UrlTile.prototype.once),goog.exportProperty(ol.source.UrlTile.prototype,"un",ol.source.UrlTile.prototype.un),goog.exportProperty(ol.source.TileImage.prototype,"getTileLoadFunction",ol.source.TileImage.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileImage.prototype,"getTileUrlFunction",ol.source.TileImage.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileImage.prototype,"getUrls",ol.source.TileImage.prototype.getUrls),goog.exportProperty(ol.source.TileImage.prototype,"setTileLoadFunction",ol.source.TileImage.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileImage.prototype,"setTileUrlFunction",ol.source.TileImage.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileImage.prototype,"setUrl",ol.source.TileImage.prototype.setUrl),goog.exportProperty(ol.source.TileImage.prototype,"setUrls",ol.source.TileImage.prototype.setUrls),goog.exportProperty(ol.source.TileImage.prototype,"getTileGrid",ol.source.TileImage.prototype.getTileGrid),goog.exportProperty(ol.source.TileImage.prototype,"refresh",ol.source.TileImage.prototype.refresh),goog.exportProperty(ol.source.TileImage.prototype,"getAttributions",ol.source.TileImage.prototype.getAttributions),goog.exportProperty(ol.source.TileImage.prototype,"getLogo",ol.source.TileImage.prototype.getLogo),goog.exportProperty(ol.source.TileImage.prototype,"getProjection",ol.source.TileImage.prototype.getProjection),goog.exportProperty(ol.source.TileImage.prototype,"getState",ol.source.TileImage.prototype.getState),goog.exportProperty(ol.source.TileImage.prototype,"setAttributions",ol.source.TileImage.prototype.setAttributions),goog.exportProperty(ol.source.TileImage.prototype,"get",ol.source.TileImage.prototype.get),goog.exportProperty(ol.source.TileImage.prototype,"getKeys",ol.source.TileImage.prototype.getKeys),goog.exportProperty(ol.source.TileImage.prototype,"getProperties",ol.source.TileImage.prototype.getProperties),goog.exportProperty(ol.source.TileImage.prototype,"set",ol.source.TileImage.prototype.set),goog.exportProperty(ol.source.TileImage.prototype,"setProperties",ol.source.TileImage.prototype.setProperties),goog.exportProperty(ol.source.TileImage.prototype,"unset",ol.source.TileImage.prototype.unset),goog.exportProperty(ol.source.TileImage.prototype,"changed",ol.source.TileImage.prototype.changed),goog.exportProperty(ol.source.TileImage.prototype,"dispatchEvent",ol.source.TileImage.prototype.dispatchEvent),goog.exportProperty(ol.source.TileImage.prototype,"getRevision",ol.source.TileImage.prototype.getRevision),goog.exportProperty(ol.source.TileImage.prototype,"on",ol.source.TileImage.prototype.on),goog.exportProperty(ol.source.TileImage.prototype,"once",ol.source.TileImage.prototype.once),goog.exportProperty(ol.source.TileImage.prototype,"un",ol.source.TileImage.prototype.un),goog.exportProperty(ol.source.BingMaps.prototype,"setRenderReprojectionEdges",ol.source.BingMaps.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.BingMaps.prototype,"setTileGridForProjection",ol.source.BingMaps.prototype.setTileGridForProjection),goog.exportProperty(ol.source.BingMaps.prototype,"getTileLoadFunction",ol.source.BingMaps.prototype.getTileLoadFunction),goog.exportProperty(ol.source.BingMaps.prototype,"getTileUrlFunction",ol.source.BingMaps.prototype.getTileUrlFunction),goog.exportProperty(ol.source.BingMaps.prototype,"getUrls",ol.source.BingMaps.prototype.getUrls),goog.exportProperty(ol.source.BingMaps.prototype,"setTileLoadFunction",ol.source.BingMaps.prototype.setTileLoadFunction),goog.exportProperty(ol.source.BingMaps.prototype,"setTileUrlFunction",ol.source.BingMaps.prototype.setTileUrlFunction),goog.exportProperty(ol.source.BingMaps.prototype,"setUrl",ol.source.BingMaps.prototype.setUrl),goog.exportProperty(ol.source.BingMaps.prototype,"setUrls",ol.source.BingMaps.prototype.setUrls),goog.exportProperty(ol.source.BingMaps.prototype,"getTileGrid",ol.source.BingMaps.prototype.getTileGrid),goog.exportProperty(ol.source.BingMaps.prototype,"refresh",ol.source.BingMaps.prototype.refresh),goog.exportProperty(ol.source.BingMaps.prototype,"getAttributions",ol.source.BingMaps.prototype.getAttributions),goog.exportProperty(ol.source.BingMaps.prototype,"getLogo",ol.source.BingMaps.prototype.getLogo),goog.exportProperty(ol.source.BingMaps.prototype,"getProjection",ol.source.BingMaps.prototype.getProjection),goog.exportProperty(ol.source.BingMaps.prototype,"getState",ol.source.BingMaps.prototype.getState),goog.exportProperty(ol.source.BingMaps.prototype,"setAttributions",ol.source.BingMaps.prototype.setAttributions),goog.exportProperty(ol.source.BingMaps.prototype,"get",ol.source.BingMaps.prototype.get),goog.exportProperty(ol.source.BingMaps.prototype,"getKeys",ol.source.BingMaps.prototype.getKeys),goog.exportProperty(ol.source.BingMaps.prototype,"getProperties",ol.source.BingMaps.prototype.getProperties),goog.exportProperty(ol.source.BingMaps.prototype,"set",ol.source.BingMaps.prototype.set),goog.exportProperty(ol.source.BingMaps.prototype,"setProperties",ol.source.BingMaps.prototype.setProperties),goog.exportProperty(ol.source.BingMaps.prototype,"unset",ol.source.BingMaps.prototype.unset),goog.exportProperty(ol.source.BingMaps.prototype,"changed",ol.source.BingMaps.prototype.changed),goog.exportProperty(ol.source.BingMaps.prototype,"dispatchEvent",ol.source.BingMaps.prototype.dispatchEvent),goog.exportProperty(ol.source.BingMaps.prototype,"getRevision",ol.source.BingMaps.prototype.getRevision),goog.exportProperty(ol.source.BingMaps.prototype,"on",ol.source.BingMaps.prototype.on),goog.exportProperty(ol.source.BingMaps.prototype,"once",ol.source.BingMaps.prototype.once),goog.exportProperty(ol.source.BingMaps.prototype,"un",ol.source.BingMaps.prototype.un),goog.exportProperty(ol.source.XYZ.prototype,"setRenderReprojectionEdges",ol.source.XYZ.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.XYZ.prototype,"setTileGridForProjection",ol.source.XYZ.prototype.setTileGridForProjection),goog.exportProperty(ol.source.XYZ.prototype,"getTileLoadFunction",ol.source.XYZ.prototype.getTileLoadFunction),goog.exportProperty(ol.source.XYZ.prototype,"getTileUrlFunction",ol.source.XYZ.prototype.getTileUrlFunction),goog.exportProperty(ol.source.XYZ.prototype,"getUrls",ol.source.XYZ.prototype.getUrls),goog.exportProperty(ol.source.XYZ.prototype,"setTileLoadFunction",ol.source.XYZ.prototype.setTileLoadFunction),goog.exportProperty(ol.source.XYZ.prototype,"setTileUrlFunction",ol.source.XYZ.prototype.setTileUrlFunction),goog.exportProperty(ol.source.XYZ.prototype,"setUrl",ol.source.XYZ.prototype.setUrl),goog.exportProperty(ol.source.XYZ.prototype,"setUrls",ol.source.XYZ.prototype.setUrls),goog.exportProperty(ol.source.XYZ.prototype,"getTileGrid",ol.source.XYZ.prototype.getTileGrid),goog.exportProperty(ol.source.XYZ.prototype,"refresh",ol.source.XYZ.prototype.refresh),goog.exportProperty(ol.source.XYZ.prototype,"getAttributions",ol.source.XYZ.prototype.getAttributions),goog.exportProperty(ol.source.XYZ.prototype,"getLogo",ol.source.XYZ.prototype.getLogo),goog.exportProperty(ol.source.XYZ.prototype,"getProjection",ol.source.XYZ.prototype.getProjection),goog.exportProperty(ol.source.XYZ.prototype,"getState",ol.source.XYZ.prototype.getState),goog.exportProperty(ol.source.XYZ.prototype,"setAttributions",ol.source.XYZ.prototype.setAttributions),goog.exportProperty(ol.source.XYZ.prototype,"get",ol.source.XYZ.prototype.get),goog.exportProperty(ol.source.XYZ.prototype,"getKeys",ol.source.XYZ.prototype.getKeys),goog.exportProperty(ol.source.XYZ.prototype,"getProperties",ol.source.XYZ.prototype.getProperties),goog.exportProperty(ol.source.XYZ.prototype,"set",ol.source.XYZ.prototype.set),goog.exportProperty(ol.source.XYZ.prototype,"setProperties",ol.source.XYZ.prototype.setProperties),goog.exportProperty(ol.source.XYZ.prototype,"unset",ol.source.XYZ.prototype.unset),goog.exportProperty(ol.source.XYZ.prototype,"changed",ol.source.XYZ.prototype.changed),goog.exportProperty(ol.source.XYZ.prototype,"dispatchEvent",ol.source.XYZ.prototype.dispatchEvent),goog.exportProperty(ol.source.XYZ.prototype,"getRevision",ol.source.XYZ.prototype.getRevision),goog.exportProperty(ol.source.XYZ.prototype,"on",ol.source.XYZ.prototype.on),goog.exportProperty(ol.source.XYZ.prototype,"once",ol.source.XYZ.prototype.once),goog.exportProperty(ol.source.XYZ.prototype,"un",ol.source.XYZ.prototype.un),goog.exportProperty(ol.source.CartoDB.prototype,"setRenderReprojectionEdges",ol.source.CartoDB.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.CartoDB.prototype,"setTileGridForProjection",ol.source.CartoDB.prototype.setTileGridForProjection),goog.exportProperty(ol.source.CartoDB.prototype,"getTileLoadFunction",ol.source.CartoDB.prototype.getTileLoadFunction),goog.exportProperty(ol.source.CartoDB.prototype,"getTileUrlFunction",ol.source.CartoDB.prototype.getTileUrlFunction),goog.exportProperty(ol.source.CartoDB.prototype,"getUrls",ol.source.CartoDB.prototype.getUrls),goog.exportProperty(ol.source.CartoDB.prototype,"setTileLoadFunction",ol.source.CartoDB.prototype.setTileLoadFunction),goog.exportProperty(ol.source.CartoDB.prototype,"setTileUrlFunction",ol.source.CartoDB.prototype.setTileUrlFunction),goog.exportProperty(ol.source.CartoDB.prototype,"setUrl",ol.source.CartoDB.prototype.setUrl),goog.exportProperty(ol.source.CartoDB.prototype,"setUrls",ol.source.CartoDB.prototype.setUrls),goog.exportProperty(ol.source.CartoDB.prototype,"getTileGrid",ol.source.CartoDB.prototype.getTileGrid),goog.exportProperty(ol.source.CartoDB.prototype,"refresh",ol.source.CartoDB.prototype.refresh),goog.exportProperty(ol.source.CartoDB.prototype,"getAttributions",ol.source.CartoDB.prototype.getAttributions),goog.exportProperty(ol.source.CartoDB.prototype,"getLogo",ol.source.CartoDB.prototype.getLogo),goog.exportProperty(ol.source.CartoDB.prototype,"getProjection",ol.source.CartoDB.prototype.getProjection),goog.exportProperty(ol.source.CartoDB.prototype,"getState",ol.source.CartoDB.prototype.getState),goog.exportProperty(ol.source.CartoDB.prototype,"setAttributions",ol.source.CartoDB.prototype.setAttributions),goog.exportProperty(ol.source.CartoDB.prototype,"get",ol.source.CartoDB.prototype.get),goog.exportProperty(ol.source.CartoDB.prototype,"getKeys",ol.source.CartoDB.prototype.getKeys),goog.exportProperty(ol.source.CartoDB.prototype,"getProperties",ol.source.CartoDB.prototype.getProperties),goog.exportProperty(ol.source.CartoDB.prototype,"set",ol.source.CartoDB.prototype.set),goog.exportProperty(ol.source.CartoDB.prototype,"setProperties",ol.source.CartoDB.prototype.setProperties),goog.exportProperty(ol.source.CartoDB.prototype,"unset",ol.source.CartoDB.prototype.unset),goog.exportProperty(ol.source.CartoDB.prototype,"changed",ol.source.CartoDB.prototype.changed),goog.exportProperty(ol.source.CartoDB.prototype,"dispatchEvent",ol.source.CartoDB.prototype.dispatchEvent),goog.exportProperty(ol.source.CartoDB.prototype,"getRevision",ol.source.CartoDB.prototype.getRevision),goog.exportProperty(ol.source.CartoDB.prototype,"on",ol.source.CartoDB.prototype.on),goog.exportProperty(ol.source.CartoDB.prototype,"once",ol.source.CartoDB.prototype.once),goog.exportProperty(ol.source.CartoDB.prototype,"un",ol.source.CartoDB.prototype.un),goog.exportProperty(ol.source.Vector.prototype,"getAttributions",ol.source.Vector.prototype.getAttributions),goog.exportProperty(ol.source.Vector.prototype,"getLogo",ol.source.Vector.prototype.getLogo),goog.exportProperty(ol.source.Vector.prototype,"getProjection",ol.source.Vector.prototype.getProjection),goog.exportProperty(ol.source.Vector.prototype,"getState",ol.source.Vector.prototype.getState),goog.exportProperty(ol.source.Vector.prototype,"refresh",ol.source.Vector.prototype.refresh),goog.exportProperty(ol.source.Vector.prototype,"setAttributions",ol.source.Vector.prototype.setAttributions),goog.exportProperty(ol.source.Vector.prototype,"get",ol.source.Vector.prototype.get),goog.exportProperty(ol.source.Vector.prototype,"getKeys",ol.source.Vector.prototype.getKeys),goog.exportProperty(ol.source.Vector.prototype,"getProperties",ol.source.Vector.prototype.getProperties),goog.exportProperty(ol.source.Vector.prototype,"set",ol.source.Vector.prototype.set),goog.exportProperty(ol.source.Vector.prototype,"setProperties",ol.source.Vector.prototype.setProperties),goog.exportProperty(ol.source.Vector.prototype,"unset",ol.source.Vector.prototype.unset),goog.exportProperty(ol.source.Vector.prototype,"changed",ol.source.Vector.prototype.changed),goog.exportProperty(ol.source.Vector.prototype,"dispatchEvent",ol.source.Vector.prototype.dispatchEvent),goog.exportProperty(ol.source.Vector.prototype,"getRevision",ol.source.Vector.prototype.getRevision),goog.exportProperty(ol.source.Vector.prototype,"on",ol.source.Vector.prototype.on),goog.exportProperty(ol.source.Vector.prototype,"once",ol.source.Vector.prototype.once),goog.exportProperty(ol.source.Vector.prototype,"un",ol.source.Vector.prototype.un),goog.exportProperty(ol.source.Cluster.prototype,"addFeature",ol.source.Cluster.prototype.addFeature),goog.exportProperty(ol.source.Cluster.prototype,"addFeatures",ol.source.Cluster.prototype.addFeatures),goog.exportProperty(ol.source.Cluster.prototype,"clear",ol.source.Cluster.prototype.clear),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeature",ol.source.Cluster.prototype.forEachFeature),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureInExtent",ol.source.Cluster.prototype.forEachFeatureInExtent),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureIntersectingExtent",ol.source.Cluster.prototype.forEachFeatureIntersectingExtent),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesCollection",ol.source.Cluster.prototype.getFeaturesCollection),goog.exportProperty(ol.source.Cluster.prototype,"getFeatures",ol.source.Cluster.prototype.getFeatures),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesAtCoordinate",ol.source.Cluster.prototype.getFeaturesAtCoordinate),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesInExtent",ol.source.Cluster.prototype.getFeaturesInExtent),goog.exportProperty(ol.source.Cluster.prototype,"getClosestFeatureToCoordinate",ol.source.Cluster.prototype.getClosestFeatureToCoordinate),goog.exportProperty(ol.source.Cluster.prototype,"getExtent",ol.source.Cluster.prototype.getExtent),goog.exportProperty(ol.source.Cluster.prototype,"getFeatureById",ol.source.Cluster.prototype.getFeatureById),goog.exportProperty(ol.source.Cluster.prototype,"getFormat",ol.source.Cluster.prototype.getFormat),goog.exportProperty(ol.source.Cluster.prototype,"getUrl",ol.source.Cluster.prototype.getUrl),goog.exportProperty(ol.source.Cluster.prototype,"removeFeature",ol.source.Cluster.prototype.removeFeature),goog.exportProperty(ol.source.Cluster.prototype,"getAttributions",ol.source.Cluster.prototype.getAttributions),goog.exportProperty(ol.source.Cluster.prototype,"getLogo",ol.source.Cluster.prototype.getLogo),goog.exportProperty(ol.source.Cluster.prototype,"getProjection",ol.source.Cluster.prototype.getProjection),goog.exportProperty(ol.source.Cluster.prototype,"getState",ol.source.Cluster.prototype.getState),goog.exportProperty(ol.source.Cluster.prototype,"refresh",ol.source.Cluster.prototype.refresh),goog.exportProperty(ol.source.Cluster.prototype,"setAttributions",ol.source.Cluster.prototype.setAttributions),goog.exportProperty(ol.source.Cluster.prototype,"get",ol.source.Cluster.prototype.get),goog.exportProperty(ol.source.Cluster.prototype,"getKeys",ol.source.Cluster.prototype.getKeys),goog.exportProperty(ol.source.Cluster.prototype,"getProperties",ol.source.Cluster.prototype.getProperties),goog.exportProperty(ol.source.Cluster.prototype,"set",ol.source.Cluster.prototype.set),goog.exportProperty(ol.source.Cluster.prototype,"setProperties",ol.source.Cluster.prototype.setProperties),goog.exportProperty(ol.source.Cluster.prototype,"unset",ol.source.Cluster.prototype.unset),goog.exportProperty(ol.source.Cluster.prototype,"changed",ol.source.Cluster.prototype.changed),goog.exportProperty(ol.source.Cluster.prototype,"dispatchEvent",ol.source.Cluster.prototype.dispatchEvent),goog.exportProperty(ol.source.Cluster.prototype,"getRevision",ol.source.Cluster.prototype.getRevision),goog.exportProperty(ol.source.Cluster.prototype,"on",ol.source.Cluster.prototype.on),goog.exportProperty(ol.source.Cluster.prototype,"once",ol.source.Cluster.prototype.once),goog.exportProperty(ol.source.Cluster.prototype,"un",ol.source.Cluster.prototype.un),goog.exportProperty(ol.source.Image.prototype,"getAttributions",ol.source.Image.prototype.getAttributions),goog.exportProperty(ol.source.Image.prototype,"getLogo",ol.source.Image.prototype.getLogo),goog.exportProperty(ol.source.Image.prototype,"getProjection",ol.source.Image.prototype.getProjection),goog.exportProperty(ol.source.Image.prototype,"getState",ol.source.Image.prototype.getState),goog.exportProperty(ol.source.Image.prototype,"refresh",ol.source.Image.prototype.refresh),goog.exportProperty(ol.source.Image.prototype,"setAttributions",ol.source.Image.prototype.setAttributions),goog.exportProperty(ol.source.Image.prototype,"get",ol.source.Image.prototype.get),goog.exportProperty(ol.source.Image.prototype,"getKeys",ol.source.Image.prototype.getKeys),goog.exportProperty(ol.source.Image.prototype,"getProperties",ol.source.Image.prototype.getProperties),goog.exportProperty(ol.source.Image.prototype,"set",ol.source.Image.prototype.set),goog.exportProperty(ol.source.Image.prototype,"setProperties",ol.source.Image.prototype.setProperties),goog.exportProperty(ol.source.Image.prototype,"unset",ol.source.Image.prototype.unset),goog.exportProperty(ol.source.Image.prototype,"changed",ol.source.Image.prototype.changed),goog.exportProperty(ol.source.Image.prototype,"dispatchEvent",ol.source.Image.prototype.dispatchEvent),goog.exportProperty(ol.source.Image.prototype,"getRevision",ol.source.Image.prototype.getRevision),goog.exportProperty(ol.source.Image.prototype,"on",ol.source.Image.prototype.on),goog.exportProperty(ol.source.Image.prototype,"once",ol.source.Image.prototype.once),goog.exportProperty(ol.source.Image.prototype,"un",ol.source.Image.prototype.un),goog.exportProperty(ol.source.Image.Event.prototype,"type",ol.source.Image.Event.prototype.type),goog.exportProperty(ol.source.Image.Event.prototype,"target",ol.source.Image.Event.prototype.target),goog.exportProperty(ol.source.Image.Event.prototype,"preventDefault",ol.source.Image.Event.prototype.preventDefault),goog.exportProperty(ol.source.Image.Event.prototype,"stopPropagation",ol.source.Image.Event.prototype.stopPropagation),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getAttributions",ol.source.ImageArcGISRest.prototype.getAttributions),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getLogo",ol.source.ImageArcGISRest.prototype.getLogo),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProjection",ol.source.ImageArcGISRest.prototype.getProjection),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getState",ol.source.ImageArcGISRest.prototype.getState),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"refresh",ol.source.ImageArcGISRest.prototype.refresh),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setAttributions",ol.source.ImageArcGISRest.prototype.setAttributions),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"get",ol.source.ImageArcGISRest.prototype.get),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getKeys",ol.source.ImageArcGISRest.prototype.getKeys),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProperties",ol.source.ImageArcGISRest.prototype.getProperties),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"set",ol.source.ImageArcGISRest.prototype.set),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setProperties",ol.source.ImageArcGISRest.prototype.setProperties),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"unset",ol.source.ImageArcGISRest.prototype.unset),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"changed",ol.source.ImageArcGISRest.prototype.changed),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"dispatchEvent",ol.source.ImageArcGISRest.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getRevision",ol.source.ImageArcGISRest.prototype.getRevision),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"on",ol.source.ImageArcGISRest.prototype.on),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"once",ol.source.ImageArcGISRest.prototype.once),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"un",ol.source.ImageArcGISRest.prototype.un),goog.exportProperty(ol.source.ImageCanvas.prototype,"getAttributions",ol.source.ImageCanvas.prototype.getAttributions),goog.exportProperty(ol.source.ImageCanvas.prototype,"getLogo",ol.source.ImageCanvas.prototype.getLogo),goog.exportProperty(ol.source.ImageCanvas.prototype,"getProjection",ol.source.ImageCanvas.prototype.getProjection),goog.exportProperty(ol.source.ImageCanvas.prototype,"getState",ol.source.ImageCanvas.prototype.getState),goog.exportProperty(ol.source.ImageCanvas.prototype,"refresh",ol.source.ImageCanvas.prototype.refresh),goog.exportProperty(ol.source.ImageCanvas.prototype,"setAttributions",ol.source.ImageCanvas.prototype.setAttributions),goog.exportProperty(ol.source.ImageCanvas.prototype,"get",ol.source.ImageCanvas.prototype.get),goog.exportProperty(ol.source.ImageCanvas.prototype,"getKeys",ol.source.ImageCanvas.prototype.getKeys),goog.exportProperty(ol.source.ImageCanvas.prototype,"getProperties",ol.source.ImageCanvas.prototype.getProperties),goog.exportProperty(ol.source.ImageCanvas.prototype,"set",ol.source.ImageCanvas.prototype.set),goog.exportProperty(ol.source.ImageCanvas.prototype,"setProperties",ol.source.ImageCanvas.prototype.setProperties),goog.exportProperty(ol.source.ImageCanvas.prototype,"unset",ol.source.ImageCanvas.prototype.unset),goog.exportProperty(ol.source.ImageCanvas.prototype,"changed",ol.source.ImageCanvas.prototype.changed),goog.exportProperty(ol.source.ImageCanvas.prototype,"dispatchEvent",ol.source.ImageCanvas.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageCanvas.prototype,"getRevision",ol.source.ImageCanvas.prototype.getRevision),goog.exportProperty(ol.source.ImageCanvas.prototype,"on",ol.source.ImageCanvas.prototype.on),goog.exportProperty(ol.source.ImageCanvas.prototype,"once",ol.source.ImageCanvas.prototype.once),goog.exportProperty(ol.source.ImageCanvas.prototype,"un",ol.source.ImageCanvas.prototype.un),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getAttributions",ol.source.ImageMapGuide.prototype.getAttributions),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getLogo",ol.source.ImageMapGuide.prototype.getLogo),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProjection",ol.source.ImageMapGuide.prototype.getProjection),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getState",ol.source.ImageMapGuide.prototype.getState),goog.exportProperty(ol.source.ImageMapGuide.prototype,"refresh",ol.source.ImageMapGuide.prototype.refresh),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setAttributions",ol.source.ImageMapGuide.prototype.setAttributions),goog.exportProperty(ol.source.ImageMapGuide.prototype,"get",ol.source.ImageMapGuide.prototype.get),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getKeys",ol.source.ImageMapGuide.prototype.getKeys),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProperties",ol.source.ImageMapGuide.prototype.getProperties),goog.exportProperty(ol.source.ImageMapGuide.prototype,"set",ol.source.ImageMapGuide.prototype.set),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setProperties",ol.source.ImageMapGuide.prototype.setProperties),goog.exportProperty(ol.source.ImageMapGuide.prototype,"unset",ol.source.ImageMapGuide.prototype.unset),goog.exportProperty(ol.source.ImageMapGuide.prototype,"changed",ol.source.ImageMapGuide.prototype.changed),goog.exportProperty(ol.source.ImageMapGuide.prototype,"dispatchEvent",ol.source.ImageMapGuide.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getRevision",ol.source.ImageMapGuide.prototype.getRevision),goog.exportProperty(ol.source.ImageMapGuide.prototype,"on",ol.source.ImageMapGuide.prototype.on),goog.exportProperty(ol.source.ImageMapGuide.prototype,"once",ol.source.ImageMapGuide.prototype.once),goog.exportProperty(ol.source.ImageMapGuide.prototype,"un",ol.source.ImageMapGuide.prototype.un),goog.exportProperty(ol.source.ImageStatic.prototype,"getAttributions",ol.source.ImageStatic.prototype.getAttributions),goog.exportProperty(ol.source.ImageStatic.prototype,"getLogo",ol.source.ImageStatic.prototype.getLogo),goog.exportProperty(ol.source.ImageStatic.prototype,"getProjection",ol.source.ImageStatic.prototype.getProjection),goog.exportProperty(ol.source.ImageStatic.prototype,"getState",ol.source.ImageStatic.prototype.getState),goog.exportProperty(ol.source.ImageStatic.prototype,"refresh",ol.source.ImageStatic.prototype.refresh),goog.exportProperty(ol.source.ImageStatic.prototype,"setAttributions",ol.source.ImageStatic.prototype.setAttributions),goog.exportProperty(ol.source.ImageStatic.prototype,"get",ol.source.ImageStatic.prototype.get),goog.exportProperty(ol.source.ImageStatic.prototype,"getKeys",ol.source.ImageStatic.prototype.getKeys),goog.exportProperty(ol.source.ImageStatic.prototype,"getProperties",ol.source.ImageStatic.prototype.getProperties),goog.exportProperty(ol.source.ImageStatic.prototype,"set",ol.source.ImageStatic.prototype.set),goog.exportProperty(ol.source.ImageStatic.prototype,"setProperties",ol.source.ImageStatic.prototype.setProperties),goog.exportProperty(ol.source.ImageStatic.prototype,"unset",ol.source.ImageStatic.prototype.unset),goog.exportProperty(ol.source.ImageStatic.prototype,"changed",ol.source.ImageStatic.prototype.changed),goog.exportProperty(ol.source.ImageStatic.prototype,"dispatchEvent",ol.source.ImageStatic.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageStatic.prototype,"getRevision",ol.source.ImageStatic.prototype.getRevision),goog.exportProperty(ol.source.ImageStatic.prototype,"on",ol.source.ImageStatic.prototype.on),goog.exportProperty(ol.source.ImageStatic.prototype,"once",ol.source.ImageStatic.prototype.once),goog.exportProperty(ol.source.ImageStatic.prototype,"un",ol.source.ImageStatic.prototype.un),goog.exportProperty(ol.source.ImageVector.prototype,"getAttributions",ol.source.ImageVector.prototype.getAttributions),goog.exportProperty(ol.source.ImageVector.prototype,"getLogo",ol.source.ImageVector.prototype.getLogo),goog.exportProperty(ol.source.ImageVector.prototype,"getProjection",ol.source.ImageVector.prototype.getProjection),goog.exportProperty(ol.source.ImageVector.prototype,"getState",ol.source.ImageVector.prototype.getState),goog.exportProperty(ol.source.ImageVector.prototype,"refresh",ol.source.ImageVector.prototype.refresh),goog.exportProperty(ol.source.ImageVector.prototype,"setAttributions",ol.source.ImageVector.prototype.setAttributions),goog.exportProperty(ol.source.ImageVector.prototype,"get",ol.source.ImageVector.prototype.get),goog.exportProperty(ol.source.ImageVector.prototype,"getKeys",ol.source.ImageVector.prototype.getKeys),goog.exportProperty(ol.source.ImageVector.prototype,"getProperties",ol.source.ImageVector.prototype.getProperties),goog.exportProperty(ol.source.ImageVector.prototype,"set",ol.source.ImageVector.prototype.set),goog.exportProperty(ol.source.ImageVector.prototype,"setProperties",ol.source.ImageVector.prototype.setProperties),goog.exportProperty(ol.source.ImageVector.prototype,"unset",ol.source.ImageVector.prototype.unset),goog.exportProperty(ol.source.ImageVector.prototype,"changed",ol.source.ImageVector.prototype.changed),goog.exportProperty(ol.source.ImageVector.prototype,"dispatchEvent",ol.source.ImageVector.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageVector.prototype,"getRevision",ol.source.ImageVector.prototype.getRevision),goog.exportProperty(ol.source.ImageVector.prototype,"on",ol.source.ImageVector.prototype.on),goog.exportProperty(ol.source.ImageVector.prototype,"once",ol.source.ImageVector.prototype.once),goog.exportProperty(ol.source.ImageVector.prototype,"un",ol.source.ImageVector.prototype.un),goog.exportProperty(ol.source.ImageWMS.prototype,"getAttributions",ol.source.ImageWMS.prototype.getAttributions),goog.exportProperty(ol.source.ImageWMS.prototype,"getLogo",ol.source.ImageWMS.prototype.getLogo),goog.exportProperty(ol.source.ImageWMS.prototype,"getProjection",ol.source.ImageWMS.prototype.getProjection),goog.exportProperty(ol.source.ImageWMS.prototype,"getState",ol.source.ImageWMS.prototype.getState),goog.exportProperty(ol.source.ImageWMS.prototype,"refresh",ol.source.ImageWMS.prototype.refresh),
goog.exportProperty(ol.source.ImageWMS.prototype,"setAttributions",ol.source.ImageWMS.prototype.setAttributions),goog.exportProperty(ol.source.ImageWMS.prototype,"get",ol.source.ImageWMS.prototype.get),goog.exportProperty(ol.source.ImageWMS.prototype,"getKeys",ol.source.ImageWMS.prototype.getKeys),goog.exportProperty(ol.source.ImageWMS.prototype,"getProperties",ol.source.ImageWMS.prototype.getProperties),goog.exportProperty(ol.source.ImageWMS.prototype,"set",ol.source.ImageWMS.prototype.set),goog.exportProperty(ol.source.ImageWMS.prototype,"setProperties",ol.source.ImageWMS.prototype.setProperties),goog.exportProperty(ol.source.ImageWMS.prototype,"unset",ol.source.ImageWMS.prototype.unset),goog.exportProperty(ol.source.ImageWMS.prototype,"changed",ol.source.ImageWMS.prototype.changed),goog.exportProperty(ol.source.ImageWMS.prototype,"dispatchEvent",ol.source.ImageWMS.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageWMS.prototype,"getRevision",ol.source.ImageWMS.prototype.getRevision),goog.exportProperty(ol.source.ImageWMS.prototype,"on",ol.source.ImageWMS.prototype.on),goog.exportProperty(ol.source.ImageWMS.prototype,"once",ol.source.ImageWMS.prototype.once),goog.exportProperty(ol.source.ImageWMS.prototype,"un",ol.source.ImageWMS.prototype.un),goog.exportProperty(ol.source.OSM.prototype,"setRenderReprojectionEdges",ol.source.OSM.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.OSM.prototype,"setTileGridForProjection",ol.source.OSM.prototype.setTileGridForProjection),goog.exportProperty(ol.source.OSM.prototype,"getTileLoadFunction",ol.source.OSM.prototype.getTileLoadFunction),goog.exportProperty(ol.source.OSM.prototype,"getTileUrlFunction",ol.source.OSM.prototype.getTileUrlFunction),goog.exportProperty(ol.source.OSM.prototype,"getUrls",ol.source.OSM.prototype.getUrls),goog.exportProperty(ol.source.OSM.prototype,"setTileLoadFunction",ol.source.OSM.prototype.setTileLoadFunction),goog.exportProperty(ol.source.OSM.prototype,"setTileUrlFunction",ol.source.OSM.prototype.setTileUrlFunction),goog.exportProperty(ol.source.OSM.prototype,"setUrl",ol.source.OSM.prototype.setUrl),goog.exportProperty(ol.source.OSM.prototype,"setUrls",ol.source.OSM.prototype.setUrls),goog.exportProperty(ol.source.OSM.prototype,"getTileGrid",ol.source.OSM.prototype.getTileGrid),goog.exportProperty(ol.source.OSM.prototype,"refresh",ol.source.OSM.prototype.refresh),goog.exportProperty(ol.source.OSM.prototype,"getAttributions",ol.source.OSM.prototype.getAttributions),goog.exportProperty(ol.source.OSM.prototype,"getLogo",ol.source.OSM.prototype.getLogo),goog.exportProperty(ol.source.OSM.prototype,"getProjection",ol.source.OSM.prototype.getProjection),goog.exportProperty(ol.source.OSM.prototype,"getState",ol.source.OSM.prototype.getState),goog.exportProperty(ol.source.OSM.prototype,"setAttributions",ol.source.OSM.prototype.setAttributions),goog.exportProperty(ol.source.OSM.prototype,"get",ol.source.OSM.prototype.get),goog.exportProperty(ol.source.OSM.prototype,"getKeys",ol.source.OSM.prototype.getKeys),goog.exportProperty(ol.source.OSM.prototype,"getProperties",ol.source.OSM.prototype.getProperties),goog.exportProperty(ol.source.OSM.prototype,"set",ol.source.OSM.prototype.set),goog.exportProperty(ol.source.OSM.prototype,"setProperties",ol.source.OSM.prototype.setProperties),goog.exportProperty(ol.source.OSM.prototype,"unset",ol.source.OSM.prototype.unset),goog.exportProperty(ol.source.OSM.prototype,"changed",ol.source.OSM.prototype.changed),goog.exportProperty(ol.source.OSM.prototype,"dispatchEvent",ol.source.OSM.prototype.dispatchEvent),goog.exportProperty(ol.source.OSM.prototype,"getRevision",ol.source.OSM.prototype.getRevision),goog.exportProperty(ol.source.OSM.prototype,"on",ol.source.OSM.prototype.on),goog.exportProperty(ol.source.OSM.prototype,"once",ol.source.OSM.prototype.once),goog.exportProperty(ol.source.OSM.prototype,"un",ol.source.OSM.prototype.un),goog.exportProperty(ol.source.Raster.prototype,"getAttributions",ol.source.Raster.prototype.getAttributions),goog.exportProperty(ol.source.Raster.prototype,"getLogo",ol.source.Raster.prototype.getLogo),goog.exportProperty(ol.source.Raster.prototype,"getProjection",ol.source.Raster.prototype.getProjection),goog.exportProperty(ol.source.Raster.prototype,"getState",ol.source.Raster.prototype.getState),goog.exportProperty(ol.source.Raster.prototype,"refresh",ol.source.Raster.prototype.refresh),goog.exportProperty(ol.source.Raster.prototype,"setAttributions",ol.source.Raster.prototype.setAttributions),goog.exportProperty(ol.source.Raster.prototype,"get",ol.source.Raster.prototype.get),goog.exportProperty(ol.source.Raster.prototype,"getKeys",ol.source.Raster.prototype.getKeys),goog.exportProperty(ol.source.Raster.prototype,"getProperties",ol.source.Raster.prototype.getProperties),goog.exportProperty(ol.source.Raster.prototype,"set",ol.source.Raster.prototype.set),goog.exportProperty(ol.source.Raster.prototype,"setProperties",ol.source.Raster.prototype.setProperties),goog.exportProperty(ol.source.Raster.prototype,"unset",ol.source.Raster.prototype.unset),goog.exportProperty(ol.source.Raster.prototype,"changed",ol.source.Raster.prototype.changed),goog.exportProperty(ol.source.Raster.prototype,"dispatchEvent",ol.source.Raster.prototype.dispatchEvent),goog.exportProperty(ol.source.Raster.prototype,"getRevision",ol.source.Raster.prototype.getRevision),goog.exportProperty(ol.source.Raster.prototype,"on",ol.source.Raster.prototype.on),goog.exportProperty(ol.source.Raster.prototype,"once",ol.source.Raster.prototype.once),goog.exportProperty(ol.source.Raster.prototype,"un",ol.source.Raster.prototype.un),goog.exportProperty(ol.source.Raster.Event.prototype,"type",ol.source.Raster.Event.prototype.type),goog.exportProperty(ol.source.Raster.Event.prototype,"target",ol.source.Raster.Event.prototype.target),goog.exportProperty(ol.source.Raster.Event.prototype,"preventDefault",ol.source.Raster.Event.prototype.preventDefault),goog.exportProperty(ol.source.Raster.Event.prototype,"stopPropagation",ol.source.Raster.Event.prototype.stopPropagation),goog.exportProperty(ol.source.Stamen.prototype,"setRenderReprojectionEdges",ol.source.Stamen.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.Stamen.prototype,"setTileGridForProjection",ol.source.Stamen.prototype.setTileGridForProjection),goog.exportProperty(ol.source.Stamen.prototype,"getTileLoadFunction",ol.source.Stamen.prototype.getTileLoadFunction),goog.exportProperty(ol.source.Stamen.prototype,"getTileUrlFunction",ol.source.Stamen.prototype.getTileUrlFunction),goog.exportProperty(ol.source.Stamen.prototype,"getUrls",ol.source.Stamen.prototype.getUrls),goog.exportProperty(ol.source.Stamen.prototype,"setTileLoadFunction",ol.source.Stamen.prototype.setTileLoadFunction),goog.exportProperty(ol.source.Stamen.prototype,"setTileUrlFunction",ol.source.Stamen.prototype.setTileUrlFunction),goog.exportProperty(ol.source.Stamen.prototype,"setUrl",ol.source.Stamen.prototype.setUrl),goog.exportProperty(ol.source.Stamen.prototype,"setUrls",ol.source.Stamen.prototype.setUrls),goog.exportProperty(ol.source.Stamen.prototype,"getTileGrid",ol.source.Stamen.prototype.getTileGrid),goog.exportProperty(ol.source.Stamen.prototype,"refresh",ol.source.Stamen.prototype.refresh),goog.exportProperty(ol.source.Stamen.prototype,"getAttributions",ol.source.Stamen.prototype.getAttributions),goog.exportProperty(ol.source.Stamen.prototype,"getLogo",ol.source.Stamen.prototype.getLogo),goog.exportProperty(ol.source.Stamen.prototype,"getProjection",ol.source.Stamen.prototype.getProjection),goog.exportProperty(ol.source.Stamen.prototype,"getState",ol.source.Stamen.prototype.getState),goog.exportProperty(ol.source.Stamen.prototype,"setAttributions",ol.source.Stamen.prototype.setAttributions),goog.exportProperty(ol.source.Stamen.prototype,"get",ol.source.Stamen.prototype.get),goog.exportProperty(ol.source.Stamen.prototype,"getKeys",ol.source.Stamen.prototype.getKeys),goog.exportProperty(ol.source.Stamen.prototype,"getProperties",ol.source.Stamen.prototype.getProperties),goog.exportProperty(ol.source.Stamen.prototype,"set",ol.source.Stamen.prototype.set),goog.exportProperty(ol.source.Stamen.prototype,"setProperties",ol.source.Stamen.prototype.setProperties),goog.exportProperty(ol.source.Stamen.prototype,"unset",ol.source.Stamen.prototype.unset),goog.exportProperty(ol.source.Stamen.prototype,"changed",ol.source.Stamen.prototype.changed),goog.exportProperty(ol.source.Stamen.prototype,"dispatchEvent",ol.source.Stamen.prototype.dispatchEvent),goog.exportProperty(ol.source.Stamen.prototype,"getRevision",ol.source.Stamen.prototype.getRevision),goog.exportProperty(ol.source.Stamen.prototype,"on",ol.source.Stamen.prototype.on),goog.exportProperty(ol.source.Stamen.prototype,"once",ol.source.Stamen.prototype.once),goog.exportProperty(ol.source.Stamen.prototype,"un",ol.source.Stamen.prototype.un),goog.exportProperty(ol.source.Tile.Event.prototype,"type",ol.source.Tile.Event.prototype.type),goog.exportProperty(ol.source.Tile.Event.prototype,"target",ol.source.Tile.Event.prototype.target),goog.exportProperty(ol.source.Tile.Event.prototype,"preventDefault",ol.source.Tile.Event.prototype.preventDefault),goog.exportProperty(ol.source.Tile.Event.prototype,"stopPropagation",ol.source.Tile.Event.prototype.stopPropagation),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setRenderReprojectionEdges",ol.source.TileArcGISRest.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileGridForProjection",ol.source.TileArcGISRest.prototype.setTileGridForProjection),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileLoadFunction",ol.source.TileArcGISRest.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileUrlFunction",ol.source.TileArcGISRest.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getUrls",ol.source.TileArcGISRest.prototype.getUrls),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileLoadFunction",ol.source.TileArcGISRest.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileUrlFunction",ol.source.TileArcGISRest.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrl",ol.source.TileArcGISRest.prototype.setUrl),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrls",ol.source.TileArcGISRest.prototype.setUrls),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileGrid",ol.source.TileArcGISRest.prototype.getTileGrid),goog.exportProperty(ol.source.TileArcGISRest.prototype,"refresh",ol.source.TileArcGISRest.prototype.refresh),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getAttributions",ol.source.TileArcGISRest.prototype.getAttributions),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getLogo",ol.source.TileArcGISRest.prototype.getLogo),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProjection",ol.source.TileArcGISRest.prototype.getProjection),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getState",ol.source.TileArcGISRest.prototype.getState),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setAttributions",ol.source.TileArcGISRest.prototype.setAttributions),goog.exportProperty(ol.source.TileArcGISRest.prototype,"get",ol.source.TileArcGISRest.prototype.get),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getKeys",ol.source.TileArcGISRest.prototype.getKeys),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProperties",ol.source.TileArcGISRest.prototype.getProperties),goog.exportProperty(ol.source.TileArcGISRest.prototype,"set",ol.source.TileArcGISRest.prototype.set),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setProperties",ol.source.TileArcGISRest.prototype.setProperties),goog.exportProperty(ol.source.TileArcGISRest.prototype,"unset",ol.source.TileArcGISRest.prototype.unset),goog.exportProperty(ol.source.TileArcGISRest.prototype,"changed",ol.source.TileArcGISRest.prototype.changed),goog.exportProperty(ol.source.TileArcGISRest.prototype,"dispatchEvent",ol.source.TileArcGISRest.prototype.dispatchEvent),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getRevision",ol.source.TileArcGISRest.prototype.getRevision),goog.exportProperty(ol.source.TileArcGISRest.prototype,"on",ol.source.TileArcGISRest.prototype.on),goog.exportProperty(ol.source.TileArcGISRest.prototype,"once",ol.source.TileArcGISRest.prototype.once),goog.exportProperty(ol.source.TileArcGISRest.prototype,"un",ol.source.TileArcGISRest.prototype.un),goog.exportProperty(ol.source.TileDebug.prototype,"getTileGrid",ol.source.TileDebug.prototype.getTileGrid),goog.exportProperty(ol.source.TileDebug.prototype,"refresh",ol.source.TileDebug.prototype.refresh),goog.exportProperty(ol.source.TileDebug.prototype,"getAttributions",ol.source.TileDebug.prototype.getAttributions),goog.exportProperty(ol.source.TileDebug.prototype,"getLogo",ol.source.TileDebug.prototype.getLogo),goog.exportProperty(ol.source.TileDebug.prototype,"getProjection",ol.source.TileDebug.prototype.getProjection),goog.exportProperty(ol.source.TileDebug.prototype,"getState",ol.source.TileDebug.prototype.getState),goog.exportProperty(ol.source.TileDebug.prototype,"setAttributions",ol.source.TileDebug.prototype.setAttributions),goog.exportProperty(ol.source.TileDebug.prototype,"get",ol.source.TileDebug.prototype.get),goog.exportProperty(ol.source.TileDebug.prototype,"getKeys",ol.source.TileDebug.prototype.getKeys),goog.exportProperty(ol.source.TileDebug.prototype,"getProperties",ol.source.TileDebug.prototype.getProperties),goog.exportProperty(ol.source.TileDebug.prototype,"set",ol.source.TileDebug.prototype.set),goog.exportProperty(ol.source.TileDebug.prototype,"setProperties",ol.source.TileDebug.prototype.setProperties),goog.exportProperty(ol.source.TileDebug.prototype,"unset",ol.source.TileDebug.prototype.unset),goog.exportProperty(ol.source.TileDebug.prototype,"changed",ol.source.TileDebug.prototype.changed),goog.exportProperty(ol.source.TileDebug.prototype,"dispatchEvent",ol.source.TileDebug.prototype.dispatchEvent),goog.exportProperty(ol.source.TileDebug.prototype,"getRevision",ol.source.TileDebug.prototype.getRevision),goog.exportProperty(ol.source.TileDebug.prototype,"on",ol.source.TileDebug.prototype.on),goog.exportProperty(ol.source.TileDebug.prototype,"once",ol.source.TileDebug.prototype.once),goog.exportProperty(ol.source.TileDebug.prototype,"un",ol.source.TileDebug.prototype.un),goog.exportProperty(ol.source.TileJSON.prototype,"setRenderReprojectionEdges",ol.source.TileJSON.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileJSON.prototype,"setTileGridForProjection",ol.source.TileJSON.prototype.setTileGridForProjection),goog.exportProperty(ol.source.TileJSON.prototype,"getTileLoadFunction",ol.source.TileJSON.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileJSON.prototype,"getTileUrlFunction",ol.source.TileJSON.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileJSON.prototype,"getUrls",ol.source.TileJSON.prototype.getUrls),goog.exportProperty(ol.source.TileJSON.prototype,"setTileLoadFunction",ol.source.TileJSON.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileJSON.prototype,"setTileUrlFunction",ol.source.TileJSON.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileJSON.prototype,"setUrl",ol.source.TileJSON.prototype.setUrl),goog.exportProperty(ol.source.TileJSON.prototype,"setUrls",ol.source.TileJSON.prototype.setUrls),goog.exportProperty(ol.source.TileJSON.prototype,"getTileGrid",ol.source.TileJSON.prototype.getTileGrid),goog.exportProperty(ol.source.TileJSON.prototype,"refresh",ol.source.TileJSON.prototype.refresh),goog.exportProperty(ol.source.TileJSON.prototype,"getAttributions",ol.source.TileJSON.prototype.getAttributions),goog.exportProperty(ol.source.TileJSON.prototype,"getLogo",ol.source.TileJSON.prototype.getLogo),goog.exportProperty(ol.source.TileJSON.prototype,"getProjection",ol.source.TileJSON.prototype.getProjection),goog.exportProperty(ol.source.TileJSON.prototype,"getState",ol.source.TileJSON.prototype.getState),goog.exportProperty(ol.source.TileJSON.prototype,"setAttributions",ol.source.TileJSON.prototype.setAttributions),goog.exportProperty(ol.source.TileJSON.prototype,"get",ol.source.TileJSON.prototype.get),goog.exportProperty(ol.source.TileJSON.prototype,"getKeys",ol.source.TileJSON.prototype.getKeys),goog.exportProperty(ol.source.TileJSON.prototype,"getProperties",ol.source.TileJSON.prototype.getProperties),goog.exportProperty(ol.source.TileJSON.prototype,"set",ol.source.TileJSON.prototype.set),goog.exportProperty(ol.source.TileJSON.prototype,"setProperties",ol.source.TileJSON.prototype.setProperties),goog.exportProperty(ol.source.TileJSON.prototype,"unset",ol.source.TileJSON.prototype.unset),goog.exportProperty(ol.source.TileJSON.prototype,"changed",ol.source.TileJSON.prototype.changed),goog.exportProperty(ol.source.TileJSON.prototype,"dispatchEvent",ol.source.TileJSON.prototype.dispatchEvent),goog.exportProperty(ol.source.TileJSON.prototype,"getRevision",ol.source.TileJSON.prototype.getRevision),goog.exportProperty(ol.source.TileJSON.prototype,"on",ol.source.TileJSON.prototype.on),goog.exportProperty(ol.source.TileJSON.prototype,"once",ol.source.TileJSON.prototype.once),goog.exportProperty(ol.source.TileJSON.prototype,"un",ol.source.TileJSON.prototype.un),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTileGrid",ol.source.TileUTFGrid.prototype.getTileGrid),goog.exportProperty(ol.source.TileUTFGrid.prototype,"refresh",ol.source.TileUTFGrid.prototype.refresh),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getAttributions",ol.source.TileUTFGrid.prototype.getAttributions),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getLogo",ol.source.TileUTFGrid.prototype.getLogo),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProjection",ol.source.TileUTFGrid.prototype.getProjection),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getState",ol.source.TileUTFGrid.prototype.getState),goog.exportProperty(ol.source.TileUTFGrid.prototype,"setAttributions",ol.source.TileUTFGrid.prototype.setAttributions),goog.exportProperty(ol.source.TileUTFGrid.prototype,"get",ol.source.TileUTFGrid.prototype.get),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getKeys",ol.source.TileUTFGrid.prototype.getKeys),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProperties",ol.source.TileUTFGrid.prototype.getProperties),goog.exportProperty(ol.source.TileUTFGrid.prototype,"set",ol.source.TileUTFGrid.prototype.set),goog.exportProperty(ol.source.TileUTFGrid.prototype,"setProperties",ol.source.TileUTFGrid.prototype.setProperties),goog.exportProperty(ol.source.TileUTFGrid.prototype,"unset",ol.source.TileUTFGrid.prototype.unset),goog.exportProperty(ol.source.TileUTFGrid.prototype,"changed",ol.source.TileUTFGrid.prototype.changed),goog.exportProperty(ol.source.TileUTFGrid.prototype,"dispatchEvent",ol.source.TileUTFGrid.prototype.dispatchEvent),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getRevision",ol.source.TileUTFGrid.prototype.getRevision),goog.exportProperty(ol.source.TileUTFGrid.prototype,"on",ol.source.TileUTFGrid.prototype.on),goog.exportProperty(ol.source.TileUTFGrid.prototype,"once",ol.source.TileUTFGrid.prototype.once),goog.exportProperty(ol.source.TileUTFGrid.prototype,"un",ol.source.TileUTFGrid.prototype.un),goog.exportProperty(ol.source.TileWMS.prototype,"setRenderReprojectionEdges",ol.source.TileWMS.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileWMS.prototype,"setTileGridForProjection",ol.source.TileWMS.prototype.setTileGridForProjection),goog.exportProperty(ol.source.TileWMS.prototype,"getTileLoadFunction",ol.source.TileWMS.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileWMS.prototype,"getTileUrlFunction",ol.source.TileWMS.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileWMS.prototype,"getUrls",ol.source.TileWMS.prototype.getUrls),goog.exportProperty(ol.source.TileWMS.prototype,"setTileLoadFunction",ol.source.TileWMS.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileWMS.prototype,"setTileUrlFunction",ol.source.TileWMS.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileWMS.prototype,"setUrl",ol.source.TileWMS.prototype.setUrl),goog.exportProperty(ol.source.TileWMS.prototype,"setUrls",ol.source.TileWMS.prototype.setUrls),goog.exportProperty(ol.source.TileWMS.prototype,"getTileGrid",ol.source.TileWMS.prototype.getTileGrid),goog.exportProperty(ol.source.TileWMS.prototype,"refresh",ol.source.TileWMS.prototype.refresh),goog.exportProperty(ol.source.TileWMS.prototype,"getAttributions",ol.source.TileWMS.prototype.getAttributions),goog.exportProperty(ol.source.TileWMS.prototype,"getLogo",ol.source.TileWMS.prototype.getLogo),goog.exportProperty(ol.source.TileWMS.prototype,"getProjection",ol.source.TileWMS.prototype.getProjection),goog.exportProperty(ol.source.TileWMS.prototype,"getState",ol.source.TileWMS.prototype.getState),goog.exportProperty(ol.source.TileWMS.prototype,"setAttributions",ol.source.TileWMS.prototype.setAttributions),goog.exportProperty(ol.source.TileWMS.prototype,"get",ol.source.TileWMS.prototype.get),goog.exportProperty(ol.source.TileWMS.prototype,"getKeys",ol.source.TileWMS.prototype.getKeys),goog.exportProperty(ol.source.TileWMS.prototype,"getProperties",ol.source.TileWMS.prototype.getProperties),goog.exportProperty(ol.source.TileWMS.prototype,"set",ol.source.TileWMS.prototype.set),goog.exportProperty(ol.source.TileWMS.prototype,"setProperties",ol.source.TileWMS.prototype.setProperties),goog.exportProperty(ol.source.TileWMS.prototype,"unset",ol.source.TileWMS.prototype.unset),goog.exportProperty(ol.source.TileWMS.prototype,"changed",ol.source.TileWMS.prototype.changed),goog.exportProperty(ol.source.TileWMS.prototype,"dispatchEvent",ol.source.TileWMS.prototype.dispatchEvent),goog.exportProperty(ol.source.TileWMS.prototype,"getRevision",ol.source.TileWMS.prototype.getRevision),goog.exportProperty(ol.source.TileWMS.prototype,"on",ol.source.TileWMS.prototype.on),goog.exportProperty(ol.source.TileWMS.prototype,"once",ol.source.TileWMS.prototype.once),goog.exportProperty(ol.source.TileWMS.prototype,"un",ol.source.TileWMS.prototype.un),goog.exportProperty(ol.source.Vector.Event.prototype,"type",ol.source.Vector.Event.prototype.type),goog.exportProperty(ol.source.Vector.Event.prototype,"target",ol.source.Vector.Event.prototype.target),goog.exportProperty(ol.source.Vector.Event.prototype,"preventDefault",ol.source.Vector.Event.prototype.preventDefault),goog.exportProperty(ol.source.Vector.Event.prototype,"stopPropagation",ol.source.Vector.Event.prototype.stopPropagation),goog.exportProperty(ol.source.VectorTile.prototype,"getTileLoadFunction",ol.source.VectorTile.prototype.getTileLoadFunction),goog.exportProperty(ol.source.VectorTile.prototype,"getTileUrlFunction",ol.source.VectorTile.prototype.getTileUrlFunction),goog.exportProperty(ol.source.VectorTile.prototype,"getUrls",ol.source.VectorTile.prototype.getUrls),goog.exportProperty(ol.source.VectorTile.prototype,"setTileLoadFunction",ol.source.VectorTile.prototype.setTileLoadFunction),goog.exportProperty(ol.source.VectorTile.prototype,"setTileUrlFunction",ol.source.VectorTile.prototype.setTileUrlFunction),goog.exportProperty(ol.source.VectorTile.prototype,"setUrl",ol.source.VectorTile.prototype.setUrl),goog.exportProperty(ol.source.VectorTile.prototype,"setUrls",ol.source.VectorTile.prototype.setUrls),goog.exportProperty(ol.source.VectorTile.prototype,"getTileGrid",ol.source.VectorTile.prototype.getTileGrid),goog.exportProperty(ol.source.VectorTile.prototype,"refresh",ol.source.VectorTile.prototype.refresh),goog.exportProperty(ol.source.VectorTile.prototype,"getAttributions",ol.source.VectorTile.prototype.getAttributions),goog.exportProperty(ol.source.VectorTile.prototype,"getLogo",ol.source.VectorTile.prototype.getLogo),goog.exportProperty(ol.source.VectorTile.prototype,"getProjection",ol.source.VectorTile.prototype.getProjection),goog.exportProperty(ol.source.VectorTile.prototype,"getState",ol.source.VectorTile.prototype.getState),goog.exportProperty(ol.source.VectorTile.prototype,"setAttributions",ol.source.VectorTile.prototype.setAttributions),goog.exportProperty(ol.source.VectorTile.prototype,"get",ol.source.VectorTile.prototype.get),goog.exportProperty(ol.source.VectorTile.prototype,"getKeys",ol.source.VectorTile.prototype.getKeys),goog.exportProperty(ol.source.VectorTile.prototype,"getProperties",ol.source.VectorTile.prototype.getProperties),goog.exportProperty(ol.source.VectorTile.prototype,"set",ol.source.VectorTile.prototype.set),goog.exportProperty(ol.source.VectorTile.prototype,"setProperties",ol.source.VectorTile.prototype.setProperties),goog.exportProperty(ol.source.VectorTile.prototype,"unset",ol.source.VectorTile.prototype.unset),goog.exportProperty(ol.source.VectorTile.prototype,"changed",ol.source.VectorTile.prototype.changed),goog.exportProperty(ol.source.VectorTile.prototype,"dispatchEvent",ol.source.VectorTile.prototype.dispatchEvent),goog.exportProperty(ol.source.VectorTile.prototype,"getRevision",ol.source.VectorTile.prototype.getRevision),goog.exportProperty(ol.source.VectorTile.prototype,"on",ol.source.VectorTile.prototype.on),goog.exportProperty(ol.source.VectorTile.prototype,"once",ol.source.VectorTile.prototype.once),goog.exportProperty(ol.source.VectorTile.prototype,"un",ol.source.VectorTile.prototype.un),goog.exportProperty(ol.source.WMTS.prototype,"setRenderReprojectionEdges",ol.source.WMTS.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.WMTS.prototype,"setTileGridForProjection",ol.source.WMTS.prototype.setTileGridForProjection),goog.exportProperty(ol.source.WMTS.prototype,"getTileLoadFunction",ol.source.WMTS.prototype.getTileLoadFunction),goog.exportProperty(ol.source.WMTS.prototype,"getTileUrlFunction",ol.source.WMTS.prototype.getTileUrlFunction),goog.exportProperty(ol.source.WMTS.prototype,"getUrls",ol.source.WMTS.prototype.getUrls),goog.exportProperty(ol.source.WMTS.prototype,"setTileLoadFunction",ol.source.WMTS.prototype.setTileLoadFunction),goog.exportProperty(ol.source.WMTS.prototype,"setTileUrlFunction",ol.source.WMTS.prototype.setTileUrlFunction),goog.exportProperty(ol.source.WMTS.prototype,"setUrl",ol.source.WMTS.prototype.setUrl),goog.exportProperty(ol.source.WMTS.prototype,"setUrls",ol.source.WMTS.prototype.setUrls),goog.exportProperty(ol.source.WMTS.prototype,"getTileGrid",ol.source.WMTS.prototype.getTileGrid),goog.exportProperty(ol.source.WMTS.prototype,"refresh",ol.source.WMTS.prototype.refresh),goog.exportProperty(ol.source.WMTS.prototype,"getAttributions",ol.source.WMTS.prototype.getAttributions),goog.exportProperty(ol.source.WMTS.prototype,"getLogo",ol.source.WMTS.prototype.getLogo),goog.exportProperty(ol.source.WMTS.prototype,"getProjection",ol.source.WMTS.prototype.getProjection),goog.exportProperty(ol.source.WMTS.prototype,"getState",ol.source.WMTS.prototype.getState),goog.exportProperty(ol.source.WMTS.prototype,"setAttributions",ol.source.WMTS.prototype.setAttributions),goog.exportProperty(ol.source.WMTS.prototype,"get",ol.source.WMTS.prototype.get),goog.exportProperty(ol.source.WMTS.prototype,"getKeys",ol.source.WMTS.prototype.getKeys),goog.exportProperty(ol.source.WMTS.prototype,"getProperties",ol.source.WMTS.prototype.getProperties),goog.exportProperty(ol.source.WMTS.prototype,"set",ol.source.WMTS.prototype.set),goog.exportProperty(ol.source.WMTS.prototype,"setProperties",ol.source.WMTS.prototype.setProperties),goog.exportProperty(ol.source.WMTS.prototype,"unset",ol.source.WMTS.prototype.unset),goog.exportProperty(ol.source.WMTS.prototype,"changed",ol.source.WMTS.prototype.changed),goog.exportProperty(ol.source.WMTS.prototype,"dispatchEvent",ol.source.WMTS.prototype.dispatchEvent),goog.exportProperty(ol.source.WMTS.prototype,"getRevision",ol.source.WMTS.prototype.getRevision),goog.exportProperty(ol.source.WMTS.prototype,"on",ol.source.WMTS.prototype.on),goog.exportProperty(ol.source.WMTS.prototype,"once",ol.source.WMTS.prototype.once),goog.exportProperty(ol.source.WMTS.prototype,"un",ol.source.WMTS.prototype.un),goog.exportProperty(ol.source.Zoomify.prototype,"setRenderReprojectionEdges",ol.source.Zoomify.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.Zoomify.prototype,"setTileGridForProjection",ol.source.Zoomify.prototype.setTileGridForProjection),goog.exportProperty(ol.source.Zoomify.prototype,"getTileLoadFunction",ol.source.Zoomify.prototype.getTileLoadFunction),goog.exportProperty(ol.source.Zoomify.prototype,"getTileUrlFunction",ol.source.Zoomify.prototype.getTileUrlFunction),goog.exportProperty(ol.source.Zoomify.prototype,"getUrls",ol.source.Zoomify.prototype.getUrls),goog.exportProperty(ol.source.Zoomify.prototype,"setTileLoadFunction",ol.source.Zoomify.prototype.setTileLoadFunction),goog.exportProperty(ol.source.Zoomify.prototype,"setTileUrlFunction",ol.source.Zoomify.prototype.setTileUrlFunction),goog.exportProperty(ol.source.Zoomify.prototype,"setUrl",ol.source.Zoomify.prototype.setUrl),goog.exportProperty(ol.source.Zoomify.prototype,"setUrls",ol.source.Zoomify.prototype.setUrls),goog.exportProperty(ol.source.Zoomify.prototype,"getTileGrid",ol.source.Zoomify.prototype.getTileGrid),goog.exportProperty(ol.source.Zoomify.prototype,"refresh",ol.source.Zoomify.prototype.refresh),goog.exportProperty(ol.source.Zoomify.prototype,"getAttributions",ol.source.Zoomify.prototype.getAttributions),goog.exportProperty(ol.source.Zoomify.prototype,"getLogo",ol.source.Zoomify.prototype.getLogo),goog.exportProperty(ol.source.Zoomify.prototype,"getProjection",ol.source.Zoomify.prototype.getProjection),goog.exportProperty(ol.source.Zoomify.prototype,"getState",ol.source.Zoomify.prototype.getState),goog.exportProperty(ol.source.Zoomify.prototype,"setAttributions",ol.source.Zoomify.prototype.setAttributions),goog.exportProperty(ol.source.Zoomify.prototype,"get",ol.source.Zoomify.prototype.get),goog.exportProperty(ol.source.Zoomify.prototype,"getKeys",ol.source.Zoomify.prototype.getKeys),goog.exportProperty(ol.source.Zoomify.prototype,"getProperties",ol.source.Zoomify.prototype.getProperties),goog.exportProperty(ol.source.Zoomify.prototype,"set",ol.source.Zoomify.prototype.set),goog.exportProperty(ol.source.Zoomify.prototype,"setProperties",ol.source.Zoomify.prototype.setProperties),goog.exportProperty(ol.source.Zoomify.prototype,"unset",ol.source.Zoomify.prototype.unset),goog.exportProperty(ol.source.Zoomify.prototype,"changed",ol.source.Zoomify.prototype.changed),goog.exportProperty(ol.source.Zoomify.prototype,"dispatchEvent",ol.source.Zoomify.prototype.dispatchEvent),goog.exportProperty(ol.source.Zoomify.prototype,"getRevision",ol.source.Zoomify.prototype.getRevision),goog.exportProperty(ol.source.Zoomify.prototype,"on",ol.source.Zoomify.prototype.on),goog.exportProperty(ol.source.Zoomify.prototype,"once",ol.source.Zoomify.prototype.once),goog.exportProperty(ol.source.Zoomify.prototype,"un",ol.source.Zoomify.prototype.un),goog.exportProperty(ol.reproj.Tile.prototype,"getTileCoord",ol.reproj.Tile.prototype.getTileCoord),goog.exportProperty(ol.reproj.Tile.prototype,"load",ol.reproj.Tile.prototype.load),goog.exportProperty(ol.renderer.Layer.prototype,"changed",ol.renderer.Layer.prototype.changed),goog.exportProperty(ol.renderer.Layer.prototype,"dispatchEvent",ol.renderer.Layer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.Layer.prototype,"getRevision",ol.renderer.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.Layer.prototype,"on",ol.renderer.Layer.prototype.on),goog.exportProperty(ol.renderer.Layer.prototype,"once",ol.renderer.Layer.prototype.once),goog.exportProperty(ol.renderer.Layer.prototype,"un",ol.renderer.Layer.prototype.un),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"changed",ol.renderer.webgl.Layer.prototype.changed),
goog.exportProperty(ol.renderer.webgl.Layer.prototype,"dispatchEvent",ol.renderer.webgl.Layer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"getRevision",ol.renderer.webgl.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"on",ol.renderer.webgl.Layer.prototype.on),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"once",ol.renderer.webgl.Layer.prototype.once),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"un",ol.renderer.webgl.Layer.prototype.un),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"changed",ol.renderer.webgl.ImageLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"dispatchEvent",ol.renderer.webgl.ImageLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"getRevision",ol.renderer.webgl.ImageLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"on",ol.renderer.webgl.ImageLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"once",ol.renderer.webgl.ImageLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"un",ol.renderer.webgl.ImageLayer.prototype.un),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"changed",ol.renderer.webgl.TileLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"dispatchEvent",ol.renderer.webgl.TileLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"getRevision",ol.renderer.webgl.TileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"on",ol.renderer.webgl.TileLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"once",ol.renderer.webgl.TileLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"un",ol.renderer.webgl.TileLayer.prototype.un),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"changed",ol.renderer.webgl.VectorLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"dispatchEvent",ol.renderer.webgl.VectorLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"getRevision",ol.renderer.webgl.VectorLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"on",ol.renderer.webgl.VectorLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"once",ol.renderer.webgl.VectorLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"un",ol.renderer.webgl.VectorLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"changed",ol.renderer.canvas.Layer.prototype.changed),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"dispatchEvent",ol.renderer.canvas.Layer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"getRevision",ol.renderer.canvas.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"on",ol.renderer.canvas.Layer.prototype.on),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"once",ol.renderer.canvas.Layer.prototype.once),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"un",ol.renderer.canvas.Layer.prototype.un),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"changed",ol.renderer.canvas.IntermediateCanvas.prototype.changed),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"dispatchEvent",ol.renderer.canvas.IntermediateCanvas.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"getRevision",ol.renderer.canvas.IntermediateCanvas.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"on",ol.renderer.canvas.IntermediateCanvas.prototype.on),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"once",ol.renderer.canvas.IntermediateCanvas.prototype.once),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"un",ol.renderer.canvas.IntermediateCanvas.prototype.un),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"changed",ol.renderer.canvas.ImageLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"dispatchEvent",ol.renderer.canvas.ImageLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"getRevision",ol.renderer.canvas.ImageLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"on",ol.renderer.canvas.ImageLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"once",ol.renderer.canvas.ImageLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"un",ol.renderer.canvas.ImageLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"changed",ol.renderer.canvas.TileLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"dispatchEvent",ol.renderer.canvas.TileLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"getRevision",ol.renderer.canvas.TileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"on",ol.renderer.canvas.TileLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"once",ol.renderer.canvas.TileLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"un",ol.renderer.canvas.TileLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"changed",ol.renderer.canvas.VectorLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"getRevision",ol.renderer.canvas.VectorLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"on",ol.renderer.canvas.VectorLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"once",ol.renderer.canvas.VectorLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"un",ol.renderer.canvas.VectorLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"changed",ol.renderer.canvas.VectorTileLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorTileLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"getRevision",ol.renderer.canvas.VectorTileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"on",ol.renderer.canvas.VectorTileLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"once",ol.renderer.canvas.VectorTileLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"un",ol.renderer.canvas.VectorTileLayer.prototype.un),goog.exportProperty(ol.render.Event.prototype,"type",ol.render.Event.prototype.type),goog.exportProperty(ol.render.Event.prototype,"target",ol.render.Event.prototype.target),goog.exportProperty(ol.render.Event.prototype,"preventDefault",ol.render.Event.prototype.preventDefault),goog.exportProperty(ol.render.Event.prototype,"stopPropagation",ol.render.Event.prototype.stopPropagation),goog.exportProperty(ol.pointer.PointerEvent.prototype,"type",ol.pointer.PointerEvent.prototype.type),goog.exportProperty(ol.pointer.PointerEvent.prototype,"target",ol.pointer.PointerEvent.prototype.target),goog.exportProperty(ol.pointer.PointerEvent.prototype,"preventDefault",ol.pointer.PointerEvent.prototype.preventDefault),goog.exportProperty(ol.pointer.PointerEvent.prototype,"stopPropagation",ol.pointer.PointerEvent.prototype.stopPropagation),goog.exportProperty(ol.layer.Base.prototype,"get",ol.layer.Base.prototype.get),goog.exportProperty(ol.layer.Base.prototype,"getKeys",ol.layer.Base.prototype.getKeys),goog.exportProperty(ol.layer.Base.prototype,"getProperties",ol.layer.Base.prototype.getProperties),goog.exportProperty(ol.layer.Base.prototype,"set",ol.layer.Base.prototype.set),goog.exportProperty(ol.layer.Base.prototype,"setProperties",ol.layer.Base.prototype.setProperties),goog.exportProperty(ol.layer.Base.prototype,"unset",ol.layer.Base.prototype.unset),goog.exportProperty(ol.layer.Base.prototype,"changed",ol.layer.Base.prototype.changed),goog.exportProperty(ol.layer.Base.prototype,"dispatchEvent",ol.layer.Base.prototype.dispatchEvent),goog.exportProperty(ol.layer.Base.prototype,"getRevision",ol.layer.Base.prototype.getRevision),goog.exportProperty(ol.layer.Base.prototype,"on",ol.layer.Base.prototype.on),goog.exportProperty(ol.layer.Base.prototype,"once",ol.layer.Base.prototype.once),goog.exportProperty(ol.layer.Base.prototype,"un",ol.layer.Base.prototype.un),goog.exportProperty(ol.layer.Group.prototype,"getExtent",ol.layer.Group.prototype.getExtent),goog.exportProperty(ol.layer.Group.prototype,"getMaxResolution",ol.layer.Group.prototype.getMaxResolution),goog.exportProperty(ol.layer.Group.prototype,"getMinResolution",ol.layer.Group.prototype.getMinResolution),goog.exportProperty(ol.layer.Group.prototype,"getOpacity",ol.layer.Group.prototype.getOpacity),goog.exportProperty(ol.layer.Group.prototype,"getVisible",ol.layer.Group.prototype.getVisible),goog.exportProperty(ol.layer.Group.prototype,"getZIndex",ol.layer.Group.prototype.getZIndex),goog.exportProperty(ol.layer.Group.prototype,"setExtent",ol.layer.Group.prototype.setExtent),goog.exportProperty(ol.layer.Group.prototype,"setMaxResolution",ol.layer.Group.prototype.setMaxResolution),goog.exportProperty(ol.layer.Group.prototype,"setMinResolution",ol.layer.Group.prototype.setMinResolution),goog.exportProperty(ol.layer.Group.prototype,"setOpacity",ol.layer.Group.prototype.setOpacity),goog.exportProperty(ol.layer.Group.prototype,"setVisible",ol.layer.Group.prototype.setVisible),goog.exportProperty(ol.layer.Group.prototype,"setZIndex",ol.layer.Group.prototype.setZIndex),goog.exportProperty(ol.layer.Group.prototype,"get",ol.layer.Group.prototype.get),goog.exportProperty(ol.layer.Group.prototype,"getKeys",ol.layer.Group.prototype.getKeys),goog.exportProperty(ol.layer.Group.prototype,"getProperties",ol.layer.Group.prototype.getProperties),goog.exportProperty(ol.layer.Group.prototype,"set",ol.layer.Group.prototype.set),goog.exportProperty(ol.layer.Group.prototype,"setProperties",ol.layer.Group.prototype.setProperties),goog.exportProperty(ol.layer.Group.prototype,"unset",ol.layer.Group.prototype.unset),goog.exportProperty(ol.layer.Group.prototype,"changed",ol.layer.Group.prototype.changed),goog.exportProperty(ol.layer.Group.prototype,"dispatchEvent",ol.layer.Group.prototype.dispatchEvent),goog.exportProperty(ol.layer.Group.prototype,"getRevision",ol.layer.Group.prototype.getRevision),goog.exportProperty(ol.layer.Group.prototype,"on",ol.layer.Group.prototype.on),goog.exportProperty(ol.layer.Group.prototype,"once",ol.layer.Group.prototype.once),goog.exportProperty(ol.layer.Group.prototype,"un",ol.layer.Group.prototype.un),goog.exportProperty(ol.layer.Layer.prototype,"getExtent",ol.layer.Layer.prototype.getExtent),goog.exportProperty(ol.layer.Layer.prototype,"getMaxResolution",ol.layer.Layer.prototype.getMaxResolution),goog.exportProperty(ol.layer.Layer.prototype,"getMinResolution",ol.layer.Layer.prototype.getMinResolution),goog.exportProperty(ol.layer.Layer.prototype,"getOpacity",ol.layer.Layer.prototype.getOpacity),goog.exportProperty(ol.layer.Layer.prototype,"getVisible",ol.layer.Layer.prototype.getVisible),goog.exportProperty(ol.layer.Layer.prototype,"getZIndex",ol.layer.Layer.prototype.getZIndex),goog.exportProperty(ol.layer.Layer.prototype,"setExtent",ol.layer.Layer.prototype.setExtent),goog.exportProperty(ol.layer.Layer.prototype,"setMaxResolution",ol.layer.Layer.prototype.setMaxResolution),goog.exportProperty(ol.layer.Layer.prototype,"setMinResolution",ol.layer.Layer.prototype.setMinResolution),goog.exportProperty(ol.layer.Layer.prototype,"setOpacity",ol.layer.Layer.prototype.setOpacity),goog.exportProperty(ol.layer.Layer.prototype,"setVisible",ol.layer.Layer.prototype.setVisible),goog.exportProperty(ol.layer.Layer.prototype,"setZIndex",ol.layer.Layer.prototype.setZIndex),goog.exportProperty(ol.layer.Layer.prototype,"get",ol.layer.Layer.prototype.get),goog.exportProperty(ol.layer.Layer.prototype,"getKeys",ol.layer.Layer.prototype.getKeys),goog.exportProperty(ol.layer.Layer.prototype,"getProperties",ol.layer.Layer.prototype.getProperties),goog.exportProperty(ol.layer.Layer.prototype,"set",ol.layer.Layer.prototype.set),goog.exportProperty(ol.layer.Layer.prototype,"setProperties",ol.layer.Layer.prototype.setProperties),goog.exportProperty(ol.layer.Layer.prototype,"unset",ol.layer.Layer.prototype.unset),goog.exportProperty(ol.layer.Layer.prototype,"changed",ol.layer.Layer.prototype.changed),goog.exportProperty(ol.layer.Layer.prototype,"dispatchEvent",ol.layer.Layer.prototype.dispatchEvent),goog.exportProperty(ol.layer.Layer.prototype,"getRevision",ol.layer.Layer.prototype.getRevision),goog.exportProperty(ol.layer.Layer.prototype,"on",ol.layer.Layer.prototype.on),goog.exportProperty(ol.layer.Layer.prototype,"once",ol.layer.Layer.prototype.once),goog.exportProperty(ol.layer.Layer.prototype,"un",ol.layer.Layer.prototype.un),goog.exportProperty(ol.layer.Vector.prototype,"setMap",ol.layer.Vector.prototype.setMap),goog.exportProperty(ol.layer.Vector.prototype,"setSource",ol.layer.Vector.prototype.setSource),goog.exportProperty(ol.layer.Vector.prototype,"getExtent",ol.layer.Vector.prototype.getExtent),goog.exportProperty(ol.layer.Vector.prototype,"getMaxResolution",ol.layer.Vector.prototype.getMaxResolution),goog.exportProperty(ol.layer.Vector.prototype,"getMinResolution",ol.layer.Vector.prototype.getMinResolution),goog.exportProperty(ol.layer.Vector.prototype,"getOpacity",ol.layer.Vector.prototype.getOpacity),goog.exportProperty(ol.layer.Vector.prototype,"getVisible",ol.layer.Vector.prototype.getVisible),goog.exportProperty(ol.layer.Vector.prototype,"getZIndex",ol.layer.Vector.prototype.getZIndex),goog.exportProperty(ol.layer.Vector.prototype,"setExtent",ol.layer.Vector.prototype.setExtent),goog.exportProperty(ol.layer.Vector.prototype,"setMaxResolution",ol.layer.Vector.prototype.setMaxResolution),goog.exportProperty(ol.layer.Vector.prototype,"setMinResolution",ol.layer.Vector.prototype.setMinResolution),goog.exportProperty(ol.layer.Vector.prototype,"setOpacity",ol.layer.Vector.prototype.setOpacity),goog.exportProperty(ol.layer.Vector.prototype,"setVisible",ol.layer.Vector.prototype.setVisible),goog.exportProperty(ol.layer.Vector.prototype,"setZIndex",ol.layer.Vector.prototype.setZIndex),goog.exportProperty(ol.layer.Vector.prototype,"get",ol.layer.Vector.prototype.get),goog.exportProperty(ol.layer.Vector.prototype,"getKeys",ol.layer.Vector.prototype.getKeys),goog.exportProperty(ol.layer.Vector.prototype,"getProperties",ol.layer.Vector.prototype.getProperties),goog.exportProperty(ol.layer.Vector.prototype,"set",ol.layer.Vector.prototype.set),goog.exportProperty(ol.layer.Vector.prototype,"setProperties",ol.layer.Vector.prototype.setProperties),goog.exportProperty(ol.layer.Vector.prototype,"unset",ol.layer.Vector.prototype.unset),goog.exportProperty(ol.layer.Vector.prototype,"changed",ol.layer.Vector.prototype.changed),goog.exportProperty(ol.layer.Vector.prototype,"dispatchEvent",ol.layer.Vector.prototype.dispatchEvent),goog.exportProperty(ol.layer.Vector.prototype,"getRevision",ol.layer.Vector.prototype.getRevision),goog.exportProperty(ol.layer.Vector.prototype,"on",ol.layer.Vector.prototype.on),goog.exportProperty(ol.layer.Vector.prototype,"once",ol.layer.Vector.prototype.once),goog.exportProperty(ol.layer.Vector.prototype,"un",ol.layer.Vector.prototype.un),goog.exportProperty(ol.layer.Heatmap.prototype,"getSource",ol.layer.Heatmap.prototype.getSource),goog.exportProperty(ol.layer.Heatmap.prototype,"getStyle",ol.layer.Heatmap.prototype.getStyle),goog.exportProperty(ol.layer.Heatmap.prototype,"getStyleFunction",ol.layer.Heatmap.prototype.getStyleFunction),goog.exportProperty(ol.layer.Heatmap.prototype,"setStyle",ol.layer.Heatmap.prototype.setStyle),goog.exportProperty(ol.layer.Heatmap.prototype,"setMap",ol.layer.Heatmap.prototype.setMap),goog.exportProperty(ol.layer.Heatmap.prototype,"setSource",ol.layer.Heatmap.prototype.setSource),goog.exportProperty(ol.layer.Heatmap.prototype,"getExtent",ol.layer.Heatmap.prototype.getExtent),goog.exportProperty(ol.layer.Heatmap.prototype,"getMaxResolution",ol.layer.Heatmap.prototype.getMaxResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"getMinResolution",ol.layer.Heatmap.prototype.getMinResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"getOpacity",ol.layer.Heatmap.prototype.getOpacity),goog.exportProperty(ol.layer.Heatmap.prototype,"getVisible",ol.layer.Heatmap.prototype.getVisible),goog.exportProperty(ol.layer.Heatmap.prototype,"getZIndex",ol.layer.Heatmap.prototype.getZIndex),goog.exportProperty(ol.layer.Heatmap.prototype,"setExtent",ol.layer.Heatmap.prototype.setExtent),goog.exportProperty(ol.layer.Heatmap.prototype,"setMaxResolution",ol.layer.Heatmap.prototype.setMaxResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"setMinResolution",ol.layer.Heatmap.prototype.setMinResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"setOpacity",ol.layer.Heatmap.prototype.setOpacity),goog.exportProperty(ol.layer.Heatmap.prototype,"setVisible",ol.layer.Heatmap.prototype.setVisible),goog.exportProperty(ol.layer.Heatmap.prototype,"setZIndex",ol.layer.Heatmap.prototype.setZIndex),goog.exportProperty(ol.layer.Heatmap.prototype,"get",ol.layer.Heatmap.prototype.get),goog.exportProperty(ol.layer.Heatmap.prototype,"getKeys",ol.layer.Heatmap.prototype.getKeys),goog.exportProperty(ol.layer.Heatmap.prototype,"getProperties",ol.layer.Heatmap.prototype.getProperties),goog.exportProperty(ol.layer.Heatmap.prototype,"set",ol.layer.Heatmap.prototype.set),goog.exportProperty(ol.layer.Heatmap.prototype,"setProperties",ol.layer.Heatmap.prototype.setProperties),goog.exportProperty(ol.layer.Heatmap.prototype,"unset",ol.layer.Heatmap.prototype.unset),goog.exportProperty(ol.layer.Heatmap.prototype,"changed",ol.layer.Heatmap.prototype.changed),goog.exportProperty(ol.layer.Heatmap.prototype,"dispatchEvent",ol.layer.Heatmap.prototype.dispatchEvent),goog.exportProperty(ol.layer.Heatmap.prototype,"getRevision",ol.layer.Heatmap.prototype.getRevision),goog.exportProperty(ol.layer.Heatmap.prototype,"on",ol.layer.Heatmap.prototype.on),goog.exportProperty(ol.layer.Heatmap.prototype,"once",ol.layer.Heatmap.prototype.once),goog.exportProperty(ol.layer.Heatmap.prototype,"un",ol.layer.Heatmap.prototype.un),goog.exportProperty(ol.layer.Image.prototype,"setMap",ol.layer.Image.prototype.setMap),goog.exportProperty(ol.layer.Image.prototype,"setSource",ol.layer.Image.prototype.setSource),goog.exportProperty(ol.layer.Image.prototype,"getExtent",ol.layer.Image.prototype.getExtent),goog.exportProperty(ol.layer.Image.prototype,"getMaxResolution",ol.layer.Image.prototype.getMaxResolution),goog.exportProperty(ol.layer.Image.prototype,"getMinResolution",ol.layer.Image.prototype.getMinResolution),goog.exportProperty(ol.layer.Image.prototype,"getOpacity",ol.layer.Image.prototype.getOpacity),goog.exportProperty(ol.layer.Image.prototype,"getVisible",ol.layer.Image.prototype.getVisible),goog.exportProperty(ol.layer.Image.prototype,"getZIndex",ol.layer.Image.prototype.getZIndex),goog.exportProperty(ol.layer.Image.prototype,"setExtent",ol.layer.Image.prototype.setExtent),goog.exportProperty(ol.layer.Image.prototype,"setMaxResolution",ol.layer.Image.prototype.setMaxResolution),goog.exportProperty(ol.layer.Image.prototype,"setMinResolution",ol.layer.Image.prototype.setMinResolution),goog.exportProperty(ol.layer.Image.prototype,"setOpacity",ol.layer.Image.prototype.setOpacity),goog.exportProperty(ol.layer.Image.prototype,"setVisible",ol.layer.Image.prototype.setVisible),goog.exportProperty(ol.layer.Image.prototype,"setZIndex",ol.layer.Image.prototype.setZIndex),goog.exportProperty(ol.layer.Image.prototype,"get",ol.layer.Image.prototype.get),goog.exportProperty(ol.layer.Image.prototype,"getKeys",ol.layer.Image.prototype.getKeys),goog.exportProperty(ol.layer.Image.prototype,"getProperties",ol.layer.Image.prototype.getProperties),goog.exportProperty(ol.layer.Image.prototype,"set",ol.layer.Image.prototype.set),goog.exportProperty(ol.layer.Image.prototype,"setProperties",ol.layer.Image.prototype.setProperties),goog.exportProperty(ol.layer.Image.prototype,"unset",ol.layer.Image.prototype.unset),goog.exportProperty(ol.layer.Image.prototype,"changed",ol.layer.Image.prototype.changed),goog.exportProperty(ol.layer.Image.prototype,"dispatchEvent",ol.layer.Image.prototype.dispatchEvent),goog.exportProperty(ol.layer.Image.prototype,"getRevision",ol.layer.Image.prototype.getRevision),goog.exportProperty(ol.layer.Image.prototype,"on",ol.layer.Image.prototype.on),goog.exportProperty(ol.layer.Image.prototype,"once",ol.layer.Image.prototype.once),goog.exportProperty(ol.layer.Image.prototype,"un",ol.layer.Image.prototype.un),goog.exportProperty(ol.layer.Tile.prototype,"setMap",ol.layer.Tile.prototype.setMap),goog.exportProperty(ol.layer.Tile.prototype,"setSource",ol.layer.Tile.prototype.setSource),goog.exportProperty(ol.layer.Tile.prototype,"getExtent",ol.layer.Tile.prototype.getExtent),goog.exportProperty(ol.layer.Tile.prototype,"getMaxResolution",ol.layer.Tile.prototype.getMaxResolution),goog.exportProperty(ol.layer.Tile.prototype,"getMinResolution",ol.layer.Tile.prototype.getMinResolution),goog.exportProperty(ol.layer.Tile.prototype,"getOpacity",ol.layer.Tile.prototype.getOpacity),goog.exportProperty(ol.layer.Tile.prototype,"getVisible",ol.layer.Tile.prototype.getVisible),goog.exportProperty(ol.layer.Tile.prototype,"getZIndex",ol.layer.Tile.prototype.getZIndex),goog.exportProperty(ol.layer.Tile.prototype,"setExtent",ol.layer.Tile.prototype.setExtent),goog.exportProperty(ol.layer.Tile.prototype,"setMaxResolution",ol.layer.Tile.prototype.setMaxResolution),goog.exportProperty(ol.layer.Tile.prototype,"setMinResolution",ol.layer.Tile.prototype.setMinResolution),goog.exportProperty(ol.layer.Tile.prototype,"setOpacity",ol.layer.Tile.prototype.setOpacity),goog.exportProperty(ol.layer.Tile.prototype,"setVisible",ol.layer.Tile.prototype.setVisible),goog.exportProperty(ol.layer.Tile.prototype,"setZIndex",ol.layer.Tile.prototype.setZIndex),goog.exportProperty(ol.layer.Tile.prototype,"get",ol.layer.Tile.prototype.get),goog.exportProperty(ol.layer.Tile.prototype,"getKeys",ol.layer.Tile.prototype.getKeys),goog.exportProperty(ol.layer.Tile.prototype,"getProperties",ol.layer.Tile.prototype.getProperties),goog.exportProperty(ol.layer.Tile.prototype,"set",ol.layer.Tile.prototype.set),goog.exportProperty(ol.layer.Tile.prototype,"setProperties",ol.layer.Tile.prototype.setProperties),goog.exportProperty(ol.layer.Tile.prototype,"unset",ol.layer.Tile.prototype.unset),goog.exportProperty(ol.layer.Tile.prototype,"changed",ol.layer.Tile.prototype.changed),goog.exportProperty(ol.layer.Tile.prototype,"dispatchEvent",ol.layer.Tile.prototype.dispatchEvent),goog.exportProperty(ol.layer.Tile.prototype,"getRevision",ol.layer.Tile.prototype.getRevision),goog.exportProperty(ol.layer.Tile.prototype,"on",ol.layer.Tile.prototype.on),goog.exportProperty(ol.layer.Tile.prototype,"once",ol.layer.Tile.prototype.once),goog.exportProperty(ol.layer.Tile.prototype,"un",ol.layer.Tile.prototype.un),goog.exportProperty(ol.layer.VectorTile.prototype,"getSource",ol.layer.VectorTile.prototype.getSource),goog.exportProperty(ol.layer.VectorTile.prototype,"getStyle",ol.layer.VectorTile.prototype.getStyle),goog.exportProperty(ol.layer.VectorTile.prototype,"getStyleFunction",ol.layer.VectorTile.prototype.getStyleFunction),goog.exportProperty(ol.layer.VectorTile.prototype,"setStyle",ol.layer.VectorTile.prototype.setStyle),goog.exportProperty(ol.layer.VectorTile.prototype,"setMap",ol.layer.VectorTile.prototype.setMap),goog.exportProperty(ol.layer.VectorTile.prototype,"setSource",ol.layer.VectorTile.prototype.setSource),goog.exportProperty(ol.layer.VectorTile.prototype,"getExtent",ol.layer.VectorTile.prototype.getExtent),goog.exportProperty(ol.layer.VectorTile.prototype,"getMaxResolution",ol.layer.VectorTile.prototype.getMaxResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"getMinResolution",ol.layer.VectorTile.prototype.getMinResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"getOpacity",ol.layer.VectorTile.prototype.getOpacity),goog.exportProperty(ol.layer.VectorTile.prototype,"getVisible",ol.layer.VectorTile.prototype.getVisible),goog.exportProperty(ol.layer.VectorTile.prototype,"getZIndex",ol.layer.VectorTile.prototype.getZIndex),goog.exportProperty(ol.layer.VectorTile.prototype,"setExtent",ol.layer.VectorTile.prototype.setExtent),goog.exportProperty(ol.layer.VectorTile.prototype,"setMaxResolution",ol.layer.VectorTile.prototype.setMaxResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"setMinResolution",ol.layer.VectorTile.prototype.setMinResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"setOpacity",ol.layer.VectorTile.prototype.setOpacity),goog.exportProperty(ol.layer.VectorTile.prototype,"setVisible",ol.layer.VectorTile.prototype.setVisible),goog.exportProperty(ol.layer.VectorTile.prototype,"setZIndex",ol.layer.VectorTile.prototype.setZIndex),goog.exportProperty(ol.layer.VectorTile.prototype,"get",ol.layer.VectorTile.prototype.get),goog.exportProperty(ol.layer.VectorTile.prototype,"getKeys",ol.layer.VectorTile.prototype.getKeys),goog.exportProperty(ol.layer.VectorTile.prototype,"getProperties",ol.layer.VectorTile.prototype.getProperties),goog.exportProperty(ol.layer.VectorTile.prototype,"set",ol.layer.VectorTile.prototype.set),goog.exportProperty(ol.layer.VectorTile.prototype,"setProperties",ol.layer.VectorTile.prototype.setProperties),goog.exportProperty(ol.layer.VectorTile.prototype,"unset",ol.layer.VectorTile.prototype.unset),goog.exportProperty(ol.layer.VectorTile.prototype,"changed",ol.layer.VectorTile.prototype.changed),goog.exportProperty(ol.layer.VectorTile.prototype,"dispatchEvent",ol.layer.VectorTile.prototype.dispatchEvent),goog.exportProperty(ol.layer.VectorTile.prototype,"getRevision",ol.layer.VectorTile.prototype.getRevision),goog.exportProperty(ol.layer.VectorTile.prototype,"on",ol.layer.VectorTile.prototype.on),goog.exportProperty(ol.layer.VectorTile.prototype,"once",ol.layer.VectorTile.prototype.once),goog.exportProperty(ol.layer.VectorTile.prototype,"un",ol.layer.VectorTile.prototype.un),goog.exportProperty(ol.interaction.Interaction.prototype,"get",ol.interaction.Interaction.prototype.get),goog.exportProperty(ol.interaction.Interaction.prototype,"getKeys",ol.interaction.Interaction.prototype.getKeys),goog.exportProperty(ol.interaction.Interaction.prototype,"getProperties",ol.interaction.Interaction.prototype.getProperties),goog.exportProperty(ol.interaction.Interaction.prototype,"set",ol.interaction.Interaction.prototype.set),goog.exportProperty(ol.interaction.Interaction.prototype,"setProperties",ol.interaction.Interaction.prototype.setProperties),goog.exportProperty(ol.interaction.Interaction.prototype,"unset",ol.interaction.Interaction.prototype.unset),goog.exportProperty(ol.interaction.Interaction.prototype,"changed",ol.interaction.Interaction.prototype.changed),goog.exportProperty(ol.interaction.Interaction.prototype,"dispatchEvent",ol.interaction.Interaction.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Interaction.prototype,"getRevision",ol.interaction.Interaction.prototype.getRevision),goog.exportProperty(ol.interaction.Interaction.prototype,"on",ol.interaction.Interaction.prototype.on),goog.exportProperty(ol.interaction.Interaction.prototype,"once",ol.interaction.Interaction.prototype.once),goog.exportProperty(ol.interaction.Interaction.prototype,"un",ol.interaction.Interaction.prototype.un),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getActive",ol.interaction.DoubleClickZoom.prototype.getActive),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getMap",ol.interaction.DoubleClickZoom.prototype.getMap),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setActive",ol.interaction.DoubleClickZoom.prototype.setActive),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"get",ol.interaction.DoubleClickZoom.prototype.get),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getKeys",ol.interaction.DoubleClickZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getProperties",ol.interaction.DoubleClickZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"set",ol.interaction.DoubleClickZoom.prototype.set),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setProperties",ol.interaction.DoubleClickZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"unset",ol.interaction.DoubleClickZoom.prototype.unset),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"changed",ol.interaction.DoubleClickZoom.prototype.changed),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"dispatchEvent",ol.interaction.DoubleClickZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getRevision",ol.interaction.DoubleClickZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"on",ol.interaction.DoubleClickZoom.prototype.on),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"once",ol.interaction.DoubleClickZoom.prototype.once),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"un",ol.interaction.DoubleClickZoom.prototype.un),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getActive",ol.interaction.DragAndDrop.prototype.getActive),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getMap",ol.interaction.DragAndDrop.prototype.getMap),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setActive",ol.interaction.DragAndDrop.prototype.setActive),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"get",ol.interaction.DragAndDrop.prototype.get),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getKeys",ol.interaction.DragAndDrop.prototype.getKeys),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getProperties",ol.interaction.DragAndDrop.prototype.getProperties),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"set",ol.interaction.DragAndDrop.prototype.set),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setProperties",ol.interaction.DragAndDrop.prototype.setProperties),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"unset",ol.interaction.DragAndDrop.prototype.unset),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"changed",ol.interaction.DragAndDrop.prototype.changed),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"dispatchEvent",ol.interaction.DragAndDrop.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getRevision",ol.interaction.DragAndDrop.prototype.getRevision),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"on",ol.interaction.DragAndDrop.prototype.on),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"once",ol.interaction.DragAndDrop.prototype.once),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"un",ol.interaction.DragAndDrop.prototype.un),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"type",ol.interaction.DragAndDrop.Event.prototype.type),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"target",ol.interaction.DragAndDrop.Event.prototype.target),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"preventDefault",ol.interaction.DragAndDrop.Event.prototype.preventDefault),
goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"stopPropagation",ol.interaction.DragAndDrop.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.Pointer.prototype,"getActive",ol.interaction.Pointer.prototype.getActive),goog.exportProperty(ol.interaction.Pointer.prototype,"getMap",ol.interaction.Pointer.prototype.getMap),goog.exportProperty(ol.interaction.Pointer.prototype,"setActive",ol.interaction.Pointer.prototype.setActive),goog.exportProperty(ol.interaction.Pointer.prototype,"get",ol.interaction.Pointer.prototype.get),goog.exportProperty(ol.interaction.Pointer.prototype,"getKeys",ol.interaction.Pointer.prototype.getKeys),goog.exportProperty(ol.interaction.Pointer.prototype,"getProperties",ol.interaction.Pointer.prototype.getProperties),goog.exportProperty(ol.interaction.Pointer.prototype,"set",ol.interaction.Pointer.prototype.set),goog.exportProperty(ol.interaction.Pointer.prototype,"setProperties",ol.interaction.Pointer.prototype.setProperties),goog.exportProperty(ol.interaction.Pointer.prototype,"unset",ol.interaction.Pointer.prototype.unset),goog.exportProperty(ol.interaction.Pointer.prototype,"changed",ol.interaction.Pointer.prototype.changed),goog.exportProperty(ol.interaction.Pointer.prototype,"dispatchEvent",ol.interaction.Pointer.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Pointer.prototype,"getRevision",ol.interaction.Pointer.prototype.getRevision),goog.exportProperty(ol.interaction.Pointer.prototype,"on",ol.interaction.Pointer.prototype.on),goog.exportProperty(ol.interaction.Pointer.prototype,"once",ol.interaction.Pointer.prototype.once),goog.exportProperty(ol.interaction.Pointer.prototype,"un",ol.interaction.Pointer.prototype.un),goog.exportProperty(ol.interaction.DragBox.prototype,"getActive",ol.interaction.DragBox.prototype.getActive),goog.exportProperty(ol.interaction.DragBox.prototype,"getMap",ol.interaction.DragBox.prototype.getMap),goog.exportProperty(ol.interaction.DragBox.prototype,"setActive",ol.interaction.DragBox.prototype.setActive),goog.exportProperty(ol.interaction.DragBox.prototype,"get",ol.interaction.DragBox.prototype.get),goog.exportProperty(ol.interaction.DragBox.prototype,"getKeys",ol.interaction.DragBox.prototype.getKeys),goog.exportProperty(ol.interaction.DragBox.prototype,"getProperties",ol.interaction.DragBox.prototype.getProperties),goog.exportProperty(ol.interaction.DragBox.prototype,"set",ol.interaction.DragBox.prototype.set),goog.exportProperty(ol.interaction.DragBox.prototype,"setProperties",ol.interaction.DragBox.prototype.setProperties),goog.exportProperty(ol.interaction.DragBox.prototype,"unset",ol.interaction.DragBox.prototype.unset),goog.exportProperty(ol.interaction.DragBox.prototype,"changed",ol.interaction.DragBox.prototype.changed),goog.exportProperty(ol.interaction.DragBox.prototype,"dispatchEvent",ol.interaction.DragBox.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragBox.prototype,"getRevision",ol.interaction.DragBox.prototype.getRevision),goog.exportProperty(ol.interaction.DragBox.prototype,"on",ol.interaction.DragBox.prototype.on),goog.exportProperty(ol.interaction.DragBox.prototype,"once",ol.interaction.DragBox.prototype.once),goog.exportProperty(ol.interaction.DragBox.prototype,"un",ol.interaction.DragBox.prototype.un),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"type",ol.interaction.DragBox.Event.prototype.type),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"target",ol.interaction.DragBox.Event.prototype.target),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"preventDefault",ol.interaction.DragBox.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"stopPropagation",ol.interaction.DragBox.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.DragPan.prototype,"getActive",ol.interaction.DragPan.prototype.getActive),goog.exportProperty(ol.interaction.DragPan.prototype,"getMap",ol.interaction.DragPan.prototype.getMap),goog.exportProperty(ol.interaction.DragPan.prototype,"setActive",ol.interaction.DragPan.prototype.setActive),goog.exportProperty(ol.interaction.DragPan.prototype,"get",ol.interaction.DragPan.prototype.get),goog.exportProperty(ol.interaction.DragPan.prototype,"getKeys",ol.interaction.DragPan.prototype.getKeys),goog.exportProperty(ol.interaction.DragPan.prototype,"getProperties",ol.interaction.DragPan.prototype.getProperties),goog.exportProperty(ol.interaction.DragPan.prototype,"set",ol.interaction.DragPan.prototype.set),goog.exportProperty(ol.interaction.DragPan.prototype,"setProperties",ol.interaction.DragPan.prototype.setProperties),goog.exportProperty(ol.interaction.DragPan.prototype,"unset",ol.interaction.DragPan.prototype.unset),goog.exportProperty(ol.interaction.DragPan.prototype,"changed",ol.interaction.DragPan.prototype.changed),goog.exportProperty(ol.interaction.DragPan.prototype,"dispatchEvent",ol.interaction.DragPan.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragPan.prototype,"getRevision",ol.interaction.DragPan.prototype.getRevision),goog.exportProperty(ol.interaction.DragPan.prototype,"on",ol.interaction.DragPan.prototype.on),goog.exportProperty(ol.interaction.DragPan.prototype,"once",ol.interaction.DragPan.prototype.once),goog.exportProperty(ol.interaction.DragPan.prototype,"un",ol.interaction.DragPan.prototype.un),goog.exportProperty(ol.interaction.DragRotate.prototype,"getActive",ol.interaction.DragRotate.prototype.getActive),goog.exportProperty(ol.interaction.DragRotate.prototype,"getMap",ol.interaction.DragRotate.prototype.getMap),goog.exportProperty(ol.interaction.DragRotate.prototype,"setActive",ol.interaction.DragRotate.prototype.setActive),goog.exportProperty(ol.interaction.DragRotate.prototype,"get",ol.interaction.DragRotate.prototype.get),goog.exportProperty(ol.interaction.DragRotate.prototype,"getKeys",ol.interaction.DragRotate.prototype.getKeys),goog.exportProperty(ol.interaction.DragRotate.prototype,"getProperties",ol.interaction.DragRotate.prototype.getProperties),goog.exportProperty(ol.interaction.DragRotate.prototype,"set",ol.interaction.DragRotate.prototype.set),goog.exportProperty(ol.interaction.DragRotate.prototype,"setProperties",ol.interaction.DragRotate.prototype.setProperties),goog.exportProperty(ol.interaction.DragRotate.prototype,"unset",ol.interaction.DragRotate.prototype.unset),goog.exportProperty(ol.interaction.DragRotate.prototype,"changed",ol.interaction.DragRotate.prototype.changed),goog.exportProperty(ol.interaction.DragRotate.prototype,"dispatchEvent",ol.interaction.DragRotate.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragRotate.prototype,"getRevision",ol.interaction.DragRotate.prototype.getRevision),goog.exportProperty(ol.interaction.DragRotate.prototype,"on",ol.interaction.DragRotate.prototype.on),goog.exportProperty(ol.interaction.DragRotate.prototype,"once",ol.interaction.DragRotate.prototype.once),goog.exportProperty(ol.interaction.DragRotate.prototype,"un",ol.interaction.DragRotate.prototype.un),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getActive",ol.interaction.DragRotateAndZoom.prototype.getActive),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getMap",ol.interaction.DragRotateAndZoom.prototype.getMap),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setActive",ol.interaction.DragRotateAndZoom.prototype.setActive),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"get",ol.interaction.DragRotateAndZoom.prototype.get),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getKeys",ol.interaction.DragRotateAndZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getProperties",ol.interaction.DragRotateAndZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"set",ol.interaction.DragRotateAndZoom.prototype.set),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setProperties",ol.interaction.DragRotateAndZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"unset",ol.interaction.DragRotateAndZoom.prototype.unset),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"changed",ol.interaction.DragRotateAndZoom.prototype.changed),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"dispatchEvent",ol.interaction.DragRotateAndZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getRevision",ol.interaction.DragRotateAndZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"on",ol.interaction.DragRotateAndZoom.prototype.on),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"once",ol.interaction.DragRotateAndZoom.prototype.once),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"un",ol.interaction.DragRotateAndZoom.prototype.un),goog.exportProperty(ol.interaction.DragZoom.prototype,"getGeometry",ol.interaction.DragZoom.prototype.getGeometry),goog.exportProperty(ol.interaction.DragZoom.prototype,"getActive",ol.interaction.DragZoom.prototype.getActive),goog.exportProperty(ol.interaction.DragZoom.prototype,"getMap",ol.interaction.DragZoom.prototype.getMap),goog.exportProperty(ol.interaction.DragZoom.prototype,"setActive",ol.interaction.DragZoom.prototype.setActive),goog.exportProperty(ol.interaction.DragZoom.prototype,"get",ol.interaction.DragZoom.prototype.get),goog.exportProperty(ol.interaction.DragZoom.prototype,"getKeys",ol.interaction.DragZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DragZoom.prototype,"getProperties",ol.interaction.DragZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DragZoom.prototype,"set",ol.interaction.DragZoom.prototype.set),goog.exportProperty(ol.interaction.DragZoom.prototype,"setProperties",ol.interaction.DragZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DragZoom.prototype,"unset",ol.interaction.DragZoom.prototype.unset),goog.exportProperty(ol.interaction.DragZoom.prototype,"changed",ol.interaction.DragZoom.prototype.changed),goog.exportProperty(ol.interaction.DragZoom.prototype,"dispatchEvent",ol.interaction.DragZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragZoom.prototype,"getRevision",ol.interaction.DragZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DragZoom.prototype,"on",ol.interaction.DragZoom.prototype.on),goog.exportProperty(ol.interaction.DragZoom.prototype,"once",ol.interaction.DragZoom.prototype.once),goog.exportProperty(ol.interaction.DragZoom.prototype,"un",ol.interaction.DragZoom.prototype.un),goog.exportProperty(ol.interaction.Draw.prototype,"getActive",ol.interaction.Draw.prototype.getActive),goog.exportProperty(ol.interaction.Draw.prototype,"getMap",ol.interaction.Draw.prototype.getMap),goog.exportProperty(ol.interaction.Draw.prototype,"setActive",ol.interaction.Draw.prototype.setActive),goog.exportProperty(ol.interaction.Draw.prototype,"get",ol.interaction.Draw.prototype.get),goog.exportProperty(ol.interaction.Draw.prototype,"getKeys",ol.interaction.Draw.prototype.getKeys),goog.exportProperty(ol.interaction.Draw.prototype,"getProperties",ol.interaction.Draw.prototype.getProperties),goog.exportProperty(ol.interaction.Draw.prototype,"set",ol.interaction.Draw.prototype.set),goog.exportProperty(ol.interaction.Draw.prototype,"setProperties",ol.interaction.Draw.prototype.setProperties),goog.exportProperty(ol.interaction.Draw.prototype,"unset",ol.interaction.Draw.prototype.unset),goog.exportProperty(ol.interaction.Draw.prototype,"changed",ol.interaction.Draw.prototype.changed),goog.exportProperty(ol.interaction.Draw.prototype,"dispatchEvent",ol.interaction.Draw.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Draw.prototype,"getRevision",ol.interaction.Draw.prototype.getRevision),goog.exportProperty(ol.interaction.Draw.prototype,"on",ol.interaction.Draw.prototype.on),goog.exportProperty(ol.interaction.Draw.prototype,"once",ol.interaction.Draw.prototype.once),goog.exportProperty(ol.interaction.Draw.prototype,"un",ol.interaction.Draw.prototype.un),goog.exportProperty(ol.interaction.Draw.Event.prototype,"type",ol.interaction.Draw.Event.prototype.type),goog.exportProperty(ol.interaction.Draw.Event.prototype,"target",ol.interaction.Draw.Event.prototype.target),goog.exportProperty(ol.interaction.Draw.Event.prototype,"preventDefault",ol.interaction.Draw.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Draw.Event.prototype,"stopPropagation",ol.interaction.Draw.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.Extent.prototype,"getActive",ol.interaction.Extent.prototype.getActive),goog.exportProperty(ol.interaction.Extent.prototype,"getMap",ol.interaction.Extent.prototype.getMap),goog.exportProperty(ol.interaction.Extent.prototype,"setActive",ol.interaction.Extent.prototype.setActive),goog.exportProperty(ol.interaction.Extent.prototype,"get",ol.interaction.Extent.prototype.get),goog.exportProperty(ol.interaction.Extent.prototype,"getKeys",ol.interaction.Extent.prototype.getKeys),goog.exportProperty(ol.interaction.Extent.prototype,"getProperties",ol.interaction.Extent.prototype.getProperties),goog.exportProperty(ol.interaction.Extent.prototype,"set",ol.interaction.Extent.prototype.set),goog.exportProperty(ol.interaction.Extent.prototype,"setProperties",ol.interaction.Extent.prototype.setProperties),goog.exportProperty(ol.interaction.Extent.prototype,"unset",ol.interaction.Extent.prototype.unset),goog.exportProperty(ol.interaction.Extent.prototype,"changed",ol.interaction.Extent.prototype.changed),goog.exportProperty(ol.interaction.Extent.prototype,"dispatchEvent",ol.interaction.Extent.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Extent.prototype,"getRevision",ol.interaction.Extent.prototype.getRevision),goog.exportProperty(ol.interaction.Extent.prototype,"on",ol.interaction.Extent.prototype.on),goog.exportProperty(ol.interaction.Extent.prototype,"once",ol.interaction.Extent.prototype.once),goog.exportProperty(ol.interaction.Extent.prototype,"un",ol.interaction.Extent.prototype.un),goog.exportProperty(ol.interaction.Extent.Event.prototype,"type",ol.interaction.Extent.Event.prototype.type),goog.exportProperty(ol.interaction.Extent.Event.prototype,"target",ol.interaction.Extent.Event.prototype.target),goog.exportProperty(ol.interaction.Extent.Event.prototype,"preventDefault",ol.interaction.Extent.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Extent.Event.prototype,"stopPropagation",ol.interaction.Extent.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getActive",ol.interaction.KeyboardPan.prototype.getActive),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getMap",ol.interaction.KeyboardPan.prototype.getMap),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setActive",ol.interaction.KeyboardPan.prototype.setActive),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"get",ol.interaction.KeyboardPan.prototype.get),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getKeys",ol.interaction.KeyboardPan.prototype.getKeys),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getProperties",ol.interaction.KeyboardPan.prototype.getProperties),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"set",ol.interaction.KeyboardPan.prototype.set),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setProperties",ol.interaction.KeyboardPan.prototype.setProperties),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"unset",ol.interaction.KeyboardPan.prototype.unset),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"changed",ol.interaction.KeyboardPan.prototype.changed),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"dispatchEvent",ol.interaction.KeyboardPan.prototype.dispatchEvent),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getRevision",ol.interaction.KeyboardPan.prototype.getRevision),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"on",ol.interaction.KeyboardPan.prototype.on),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"once",ol.interaction.KeyboardPan.prototype.once),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"un",ol.interaction.KeyboardPan.prototype.un),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getActive",ol.interaction.KeyboardZoom.prototype.getActive),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getMap",ol.interaction.KeyboardZoom.prototype.getMap),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setActive",ol.interaction.KeyboardZoom.prototype.setActive),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"get",ol.interaction.KeyboardZoom.prototype.get),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getKeys",ol.interaction.KeyboardZoom.prototype.getKeys),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getProperties",ol.interaction.KeyboardZoom.prototype.getProperties),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"set",ol.interaction.KeyboardZoom.prototype.set),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setProperties",ol.interaction.KeyboardZoom.prototype.setProperties),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"unset",ol.interaction.KeyboardZoom.prototype.unset),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"changed",ol.interaction.KeyboardZoom.prototype.changed),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"dispatchEvent",ol.interaction.KeyboardZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getRevision",ol.interaction.KeyboardZoom.prototype.getRevision),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"on",ol.interaction.KeyboardZoom.prototype.on),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"once",ol.interaction.KeyboardZoom.prototype.once),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"un",ol.interaction.KeyboardZoom.prototype.un),goog.exportProperty(ol.interaction.Modify.prototype,"getActive",ol.interaction.Modify.prototype.getActive),goog.exportProperty(ol.interaction.Modify.prototype,"getMap",ol.interaction.Modify.prototype.getMap),goog.exportProperty(ol.interaction.Modify.prototype,"setActive",ol.interaction.Modify.prototype.setActive),goog.exportProperty(ol.interaction.Modify.prototype,"get",ol.interaction.Modify.prototype.get),goog.exportProperty(ol.interaction.Modify.prototype,"getKeys",ol.interaction.Modify.prototype.getKeys),goog.exportProperty(ol.interaction.Modify.prototype,"getProperties",ol.interaction.Modify.prototype.getProperties),goog.exportProperty(ol.interaction.Modify.prototype,"set",ol.interaction.Modify.prototype.set),goog.exportProperty(ol.interaction.Modify.prototype,"setProperties",ol.interaction.Modify.prototype.setProperties),goog.exportProperty(ol.interaction.Modify.prototype,"unset",ol.interaction.Modify.prototype.unset),goog.exportProperty(ol.interaction.Modify.prototype,"changed",ol.interaction.Modify.prototype.changed),goog.exportProperty(ol.interaction.Modify.prototype,"dispatchEvent",ol.interaction.Modify.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Modify.prototype,"getRevision",ol.interaction.Modify.prototype.getRevision),goog.exportProperty(ol.interaction.Modify.prototype,"on",ol.interaction.Modify.prototype.on),goog.exportProperty(ol.interaction.Modify.prototype,"once",ol.interaction.Modify.prototype.once),goog.exportProperty(ol.interaction.Modify.prototype,"un",ol.interaction.Modify.prototype.un),goog.exportProperty(ol.interaction.Modify.Event.prototype,"type",ol.interaction.Modify.Event.prototype.type),goog.exportProperty(ol.interaction.Modify.Event.prototype,"target",ol.interaction.Modify.Event.prototype.target),goog.exportProperty(ol.interaction.Modify.Event.prototype,"preventDefault",ol.interaction.Modify.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Modify.Event.prototype,"stopPropagation",ol.interaction.Modify.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getActive",ol.interaction.MouseWheelZoom.prototype.getActive),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getMap",ol.interaction.MouseWheelZoom.prototype.getMap),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setActive",ol.interaction.MouseWheelZoom.prototype.setActive),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"get",ol.interaction.MouseWheelZoom.prototype.get),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getKeys",ol.interaction.MouseWheelZoom.prototype.getKeys),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getProperties",ol.interaction.MouseWheelZoom.prototype.getProperties),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"set",ol.interaction.MouseWheelZoom.prototype.set),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setProperties",ol.interaction.MouseWheelZoom.prototype.setProperties),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"unset",ol.interaction.MouseWheelZoom.prototype.unset),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"changed",ol.interaction.MouseWheelZoom.prototype.changed),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"dispatchEvent",ol.interaction.MouseWheelZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getRevision",ol.interaction.MouseWheelZoom.prototype.getRevision),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"on",ol.interaction.MouseWheelZoom.prototype.on),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"once",ol.interaction.MouseWheelZoom.prototype.once),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"un",ol.interaction.MouseWheelZoom.prototype.un),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getActive",ol.interaction.PinchRotate.prototype.getActive),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getMap",ol.interaction.PinchRotate.prototype.getMap),goog.exportProperty(ol.interaction.PinchRotate.prototype,"setActive",ol.interaction.PinchRotate.prototype.setActive),goog.exportProperty(ol.interaction.PinchRotate.prototype,"get",ol.interaction.PinchRotate.prototype.get),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getKeys",ol.interaction.PinchRotate.prototype.getKeys),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getProperties",ol.interaction.PinchRotate.prototype.getProperties),goog.exportProperty(ol.interaction.PinchRotate.prototype,"set",ol.interaction.PinchRotate.prototype.set),goog.exportProperty(ol.interaction.PinchRotate.prototype,"setProperties",ol.interaction.PinchRotate.prototype.setProperties),goog.exportProperty(ol.interaction.PinchRotate.prototype,"unset",ol.interaction.PinchRotate.prototype.unset),goog.exportProperty(ol.interaction.PinchRotate.prototype,"changed",ol.interaction.PinchRotate.prototype.changed),goog.exportProperty(ol.interaction.PinchRotate.prototype,"dispatchEvent",ol.interaction.PinchRotate.prototype.dispatchEvent),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getRevision",ol.interaction.PinchRotate.prototype.getRevision),goog.exportProperty(ol.interaction.PinchRotate.prototype,"on",ol.interaction.PinchRotate.prototype.on),goog.exportProperty(ol.interaction.PinchRotate.prototype,"once",ol.interaction.PinchRotate.prototype.once),goog.exportProperty(ol.interaction.PinchRotate.prototype,"un",ol.interaction.PinchRotate.prototype.un),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getActive",ol.interaction.PinchZoom.prototype.getActive),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getMap",ol.interaction.PinchZoom.prototype.getMap),goog.exportProperty(ol.interaction.PinchZoom.prototype,"setActive",ol.interaction.PinchZoom.prototype.setActive),goog.exportProperty(ol.interaction.PinchZoom.prototype,"get",ol.interaction.PinchZoom.prototype.get),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getKeys",ol.interaction.PinchZoom.prototype.getKeys),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getProperties",ol.interaction.PinchZoom.prototype.getProperties),goog.exportProperty(ol.interaction.PinchZoom.prototype,"set",ol.interaction.PinchZoom.prototype.set),goog.exportProperty(ol.interaction.PinchZoom.prototype,"setProperties",ol.interaction.PinchZoom.prototype.setProperties),goog.exportProperty(ol.interaction.PinchZoom.prototype,"unset",ol.interaction.PinchZoom.prototype.unset),goog.exportProperty(ol.interaction.PinchZoom.prototype,"changed",ol.interaction.PinchZoom.prototype.changed),goog.exportProperty(ol.interaction.PinchZoom.prototype,"dispatchEvent",ol.interaction.PinchZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getRevision",ol.interaction.PinchZoom.prototype.getRevision),goog.exportProperty(ol.interaction.PinchZoom.prototype,"on",ol.interaction.PinchZoom.prototype.on),goog.exportProperty(ol.interaction.PinchZoom.prototype,"once",ol.interaction.PinchZoom.prototype.once),goog.exportProperty(ol.interaction.PinchZoom.prototype,"un",ol.interaction.PinchZoom.prototype.un),goog.exportProperty(ol.interaction.Select.prototype,"getActive",ol.interaction.Select.prototype.getActive),goog.exportProperty(ol.interaction.Select.prototype,"getMap",ol.interaction.Select.prototype.getMap),goog.exportProperty(ol.interaction.Select.prototype,"setActive",ol.interaction.Select.prototype.setActive),goog.exportProperty(ol.interaction.Select.prototype,"get",ol.interaction.Select.prototype.get),goog.exportProperty(ol.interaction.Select.prototype,"getKeys",ol.interaction.Select.prototype.getKeys),goog.exportProperty(ol.interaction.Select.prototype,"getProperties",ol.interaction.Select.prototype.getProperties),goog.exportProperty(ol.interaction.Select.prototype,"set",ol.interaction.Select.prototype.set),goog.exportProperty(ol.interaction.Select.prototype,"setProperties",ol.interaction.Select.prototype.setProperties),goog.exportProperty(ol.interaction.Select.prototype,"unset",ol.interaction.Select.prototype.unset),goog.exportProperty(ol.interaction.Select.prototype,"changed",ol.interaction.Select.prototype.changed),goog.exportProperty(ol.interaction.Select.prototype,"dispatchEvent",ol.interaction.Select.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Select.prototype,"getRevision",ol.interaction.Select.prototype.getRevision),goog.exportProperty(ol.interaction.Select.prototype,"on",ol.interaction.Select.prototype.on),goog.exportProperty(ol.interaction.Select.prototype,"once",ol.interaction.Select.prototype.once),goog.exportProperty(ol.interaction.Select.prototype,"un",ol.interaction.Select.prototype.un),goog.exportProperty(ol.interaction.Select.Event.prototype,"type",ol.interaction.Select.Event.prototype.type),goog.exportProperty(ol.interaction.Select.Event.prototype,"target",ol.interaction.Select.Event.prototype.target),goog.exportProperty(ol.interaction.Select.Event.prototype,"preventDefault",ol.interaction.Select.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Select.Event.prototype,"stopPropagation",ol.interaction.Select.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.Snap.prototype,"getActive",ol.interaction.Snap.prototype.getActive),goog.exportProperty(ol.interaction.Snap.prototype,"getMap",ol.interaction.Snap.prototype.getMap),goog.exportProperty(ol.interaction.Snap.prototype,"setActive",ol.interaction.Snap.prototype.setActive),goog.exportProperty(ol.interaction.Snap.prototype,"get",ol.interaction.Snap.prototype.get),goog.exportProperty(ol.interaction.Snap.prototype,"getKeys",ol.interaction.Snap.prototype.getKeys),goog.exportProperty(ol.interaction.Snap.prototype,"getProperties",ol.interaction.Snap.prototype.getProperties),goog.exportProperty(ol.interaction.Snap.prototype,"set",ol.interaction.Snap.prototype.set),goog.exportProperty(ol.interaction.Snap.prototype,"setProperties",ol.interaction.Snap.prototype.setProperties),goog.exportProperty(ol.interaction.Snap.prototype,"unset",ol.interaction.Snap.prototype.unset),goog.exportProperty(ol.interaction.Snap.prototype,"changed",ol.interaction.Snap.prototype.changed),goog.exportProperty(ol.interaction.Snap.prototype,"dispatchEvent",ol.interaction.Snap.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Snap.prototype,"getRevision",ol.interaction.Snap.prototype.getRevision),goog.exportProperty(ol.interaction.Snap.prototype,"on",ol.interaction.Snap.prototype.on),goog.exportProperty(ol.interaction.Snap.prototype,"once",ol.interaction.Snap.prototype.once),goog.exportProperty(ol.interaction.Snap.prototype,"un",ol.interaction.Snap.prototype.un),goog.exportProperty(ol.interaction.Translate.prototype,"getActive",ol.interaction.Translate.prototype.getActive),goog.exportProperty(ol.interaction.Translate.prototype,"getMap",ol.interaction.Translate.prototype.getMap),goog.exportProperty(ol.interaction.Translate.prototype,"setActive",ol.interaction.Translate.prototype.setActive),goog.exportProperty(ol.interaction.Translate.prototype,"get",ol.interaction.Translate.prototype.get),goog.exportProperty(ol.interaction.Translate.prototype,"getKeys",ol.interaction.Translate.prototype.getKeys),goog.exportProperty(ol.interaction.Translate.prototype,"getProperties",ol.interaction.Translate.prototype.getProperties),goog.exportProperty(ol.interaction.Translate.prototype,"set",ol.interaction.Translate.prototype.set),goog.exportProperty(ol.interaction.Translate.prototype,"setProperties",ol.interaction.Translate.prototype.setProperties),goog.exportProperty(ol.interaction.Translate.prototype,"unset",ol.interaction.Translate.prototype.unset),goog.exportProperty(ol.interaction.Translate.prototype,"changed",ol.interaction.Translate.prototype.changed),goog.exportProperty(ol.interaction.Translate.prototype,"dispatchEvent",ol.interaction.Translate.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Translate.prototype,"getRevision",ol.interaction.Translate.prototype.getRevision),goog.exportProperty(ol.interaction.Translate.prototype,"on",ol.interaction.Translate.prototype.on),goog.exportProperty(ol.interaction.Translate.prototype,"once",ol.interaction.Translate.prototype.once),goog.exportProperty(ol.interaction.Translate.prototype,"un",ol.interaction.Translate.prototype.un),goog.exportProperty(ol.interaction.Translate.Event.prototype,"type",ol.interaction.Translate.Event.prototype.type),goog.exportProperty(ol.interaction.Translate.Event.prototype,"target",ol.interaction.Translate.Event.prototype.target),goog.exportProperty(ol.interaction.Translate.Event.prototype,"preventDefault",ol.interaction.Translate.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Translate.Event.prototype,"stopPropagation",ol.interaction.Translate.Event.prototype.stopPropagation),goog.exportProperty(ol.geom.Geometry.prototype,"get",ol.geom.Geometry.prototype.get),goog.exportProperty(ol.geom.Geometry.prototype,"getKeys",ol.geom.Geometry.prototype.getKeys),goog.exportProperty(ol.geom.Geometry.prototype,"getProperties",ol.geom.Geometry.prototype.getProperties),goog.exportProperty(ol.geom.Geometry.prototype,"set",ol.geom.Geometry.prototype.set),goog.exportProperty(ol.geom.Geometry.prototype,"setProperties",ol.geom.Geometry.prototype.setProperties),goog.exportProperty(ol.geom.Geometry.prototype,"unset",ol.geom.Geometry.prototype.unset),goog.exportProperty(ol.geom.Geometry.prototype,"changed",ol.geom.Geometry.prototype.changed),goog.exportProperty(ol.geom.Geometry.prototype,"dispatchEvent",ol.geom.Geometry.prototype.dispatchEvent),goog.exportProperty(ol.geom.Geometry.prototype,"getRevision",ol.geom.Geometry.prototype.getRevision),goog.exportProperty(ol.geom.Geometry.prototype,"on",ol.geom.Geometry.prototype.on),goog.exportProperty(ol.geom.Geometry.prototype,"once",ol.geom.Geometry.prototype.once),goog.exportProperty(ol.geom.Geometry.prototype,"un",ol.geom.Geometry.prototype.un),
goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getClosestPoint",ol.geom.SimpleGeometry.prototype.getClosestPoint),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"intersectsCoordinate",ol.geom.SimpleGeometry.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getExtent",ol.geom.SimpleGeometry.prototype.getExtent),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"rotate",ol.geom.SimpleGeometry.prototype.rotate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"scale",ol.geom.SimpleGeometry.prototype.scale),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"simplify",ol.geom.SimpleGeometry.prototype.simplify),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"transform",ol.geom.SimpleGeometry.prototype.transform),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"get",ol.geom.SimpleGeometry.prototype.get),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getKeys",ol.geom.SimpleGeometry.prototype.getKeys),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getProperties",ol.geom.SimpleGeometry.prototype.getProperties),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"set",ol.geom.SimpleGeometry.prototype.set),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"setProperties",ol.geom.SimpleGeometry.prototype.setProperties),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"unset",ol.geom.SimpleGeometry.prototype.unset),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"changed",ol.geom.SimpleGeometry.prototype.changed),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"dispatchEvent",ol.geom.SimpleGeometry.prototype.dispatchEvent),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getRevision",ol.geom.SimpleGeometry.prototype.getRevision),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"on",ol.geom.SimpleGeometry.prototype.on),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"once",ol.geom.SimpleGeometry.prototype.once),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"un",ol.geom.SimpleGeometry.prototype.un),goog.exportProperty(ol.geom.Circle.prototype,"getFirstCoordinate",ol.geom.Circle.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getLastCoordinate",ol.geom.Circle.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getLayout",ol.geom.Circle.prototype.getLayout),goog.exportProperty(ol.geom.Circle.prototype,"rotate",ol.geom.Circle.prototype.rotate),goog.exportProperty(ol.geom.Circle.prototype,"scale",ol.geom.Circle.prototype.scale),goog.exportProperty(ol.geom.Circle.prototype,"getClosestPoint",ol.geom.Circle.prototype.getClosestPoint),goog.exportProperty(ol.geom.Circle.prototype,"intersectsCoordinate",ol.geom.Circle.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getExtent",ol.geom.Circle.prototype.getExtent),goog.exportProperty(ol.geom.Circle.prototype,"simplify",ol.geom.Circle.prototype.simplify),goog.exportProperty(ol.geom.Circle.prototype,"get",ol.geom.Circle.prototype.get),goog.exportProperty(ol.geom.Circle.prototype,"getKeys",ol.geom.Circle.prototype.getKeys),goog.exportProperty(ol.geom.Circle.prototype,"getProperties",ol.geom.Circle.prototype.getProperties),goog.exportProperty(ol.geom.Circle.prototype,"set",ol.geom.Circle.prototype.set),goog.exportProperty(ol.geom.Circle.prototype,"setProperties",ol.geom.Circle.prototype.setProperties),goog.exportProperty(ol.geom.Circle.prototype,"unset",ol.geom.Circle.prototype.unset),goog.exportProperty(ol.geom.Circle.prototype,"changed",ol.geom.Circle.prototype.changed),goog.exportProperty(ol.geom.Circle.prototype,"dispatchEvent",ol.geom.Circle.prototype.dispatchEvent),goog.exportProperty(ol.geom.Circle.prototype,"getRevision",ol.geom.Circle.prototype.getRevision),goog.exportProperty(ol.geom.Circle.prototype,"on",ol.geom.Circle.prototype.on),goog.exportProperty(ol.geom.Circle.prototype,"once",ol.geom.Circle.prototype.once),goog.exportProperty(ol.geom.Circle.prototype,"un",ol.geom.Circle.prototype.un),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getClosestPoint",ol.geom.GeometryCollection.prototype.getClosestPoint),goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsCoordinate",ol.geom.GeometryCollection.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getExtent",ol.geom.GeometryCollection.prototype.getExtent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"rotate",ol.geom.GeometryCollection.prototype.rotate),goog.exportProperty(ol.geom.GeometryCollection.prototype,"scale",ol.geom.GeometryCollection.prototype.scale),goog.exportProperty(ol.geom.GeometryCollection.prototype,"simplify",ol.geom.GeometryCollection.prototype.simplify),goog.exportProperty(ol.geom.GeometryCollection.prototype,"transform",ol.geom.GeometryCollection.prototype.transform),goog.exportProperty(ol.geom.GeometryCollection.prototype,"get",ol.geom.GeometryCollection.prototype.get),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getKeys",ol.geom.GeometryCollection.prototype.getKeys),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getProperties",ol.geom.GeometryCollection.prototype.getProperties),goog.exportProperty(ol.geom.GeometryCollection.prototype,"set",ol.geom.GeometryCollection.prototype.set),goog.exportProperty(ol.geom.GeometryCollection.prototype,"setProperties",ol.geom.GeometryCollection.prototype.setProperties),goog.exportProperty(ol.geom.GeometryCollection.prototype,"unset",ol.geom.GeometryCollection.prototype.unset),goog.exportProperty(ol.geom.GeometryCollection.prototype,"changed",ol.geom.GeometryCollection.prototype.changed),goog.exportProperty(ol.geom.GeometryCollection.prototype,"dispatchEvent",ol.geom.GeometryCollection.prototype.dispatchEvent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getRevision",ol.geom.GeometryCollection.prototype.getRevision),goog.exportProperty(ol.geom.GeometryCollection.prototype,"on",ol.geom.GeometryCollection.prototype.on),goog.exportProperty(ol.geom.GeometryCollection.prototype,"once",ol.geom.GeometryCollection.prototype.once),goog.exportProperty(ol.geom.GeometryCollection.prototype,"un",ol.geom.GeometryCollection.prototype.un),goog.exportProperty(ol.geom.LinearRing.prototype,"getFirstCoordinate",ol.geom.LinearRing.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getLastCoordinate",ol.geom.LinearRing.prototype.getLastCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getLayout",ol.geom.LinearRing.prototype.getLayout),goog.exportProperty(ol.geom.LinearRing.prototype,"rotate",ol.geom.LinearRing.prototype.rotate),goog.exportProperty(ol.geom.LinearRing.prototype,"scale",ol.geom.LinearRing.prototype.scale),goog.exportProperty(ol.geom.LinearRing.prototype,"getClosestPoint",ol.geom.LinearRing.prototype.getClosestPoint),goog.exportProperty(ol.geom.LinearRing.prototype,"intersectsCoordinate",ol.geom.LinearRing.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getExtent",ol.geom.LinearRing.prototype.getExtent),goog.exportProperty(ol.geom.LinearRing.prototype,"simplify",ol.geom.LinearRing.prototype.simplify),goog.exportProperty(ol.geom.LinearRing.prototype,"transform",ol.geom.LinearRing.prototype.transform),goog.exportProperty(ol.geom.LinearRing.prototype,"get",ol.geom.LinearRing.prototype.get),goog.exportProperty(ol.geom.LinearRing.prototype,"getKeys",ol.geom.LinearRing.prototype.getKeys),goog.exportProperty(ol.geom.LinearRing.prototype,"getProperties",ol.geom.LinearRing.prototype.getProperties),goog.exportProperty(ol.geom.LinearRing.prototype,"set",ol.geom.LinearRing.prototype.set),goog.exportProperty(ol.geom.LinearRing.prototype,"setProperties",ol.geom.LinearRing.prototype.setProperties),goog.exportProperty(ol.geom.LinearRing.prototype,"unset",ol.geom.LinearRing.prototype.unset),goog.exportProperty(ol.geom.LinearRing.prototype,"changed",ol.geom.LinearRing.prototype.changed),goog.exportProperty(ol.geom.LinearRing.prototype,"dispatchEvent",ol.geom.LinearRing.prototype.dispatchEvent),goog.exportProperty(ol.geom.LinearRing.prototype,"getRevision",ol.geom.LinearRing.prototype.getRevision),goog.exportProperty(ol.geom.LinearRing.prototype,"on",ol.geom.LinearRing.prototype.on),goog.exportProperty(ol.geom.LinearRing.prototype,"once",ol.geom.LinearRing.prototype.once),goog.exportProperty(ol.geom.LinearRing.prototype,"un",ol.geom.LinearRing.prototype.un),goog.exportProperty(ol.geom.LineString.prototype,"getFirstCoordinate",ol.geom.LineString.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getLastCoordinate",ol.geom.LineString.prototype.getLastCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getLayout",ol.geom.LineString.prototype.getLayout),goog.exportProperty(ol.geom.LineString.prototype,"rotate",ol.geom.LineString.prototype.rotate),goog.exportProperty(ol.geom.LineString.prototype,"scale",ol.geom.LineString.prototype.scale),goog.exportProperty(ol.geom.LineString.prototype,"getClosestPoint",ol.geom.LineString.prototype.getClosestPoint),goog.exportProperty(ol.geom.LineString.prototype,"intersectsCoordinate",ol.geom.LineString.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getExtent",ol.geom.LineString.prototype.getExtent),goog.exportProperty(ol.geom.LineString.prototype,"simplify",ol.geom.LineString.prototype.simplify),goog.exportProperty(ol.geom.LineString.prototype,"transform",ol.geom.LineString.prototype.transform),goog.exportProperty(ol.geom.LineString.prototype,"get",ol.geom.LineString.prototype.get),goog.exportProperty(ol.geom.LineString.prototype,"getKeys",ol.geom.LineString.prototype.getKeys),goog.exportProperty(ol.geom.LineString.prototype,"getProperties",ol.geom.LineString.prototype.getProperties),goog.exportProperty(ol.geom.LineString.prototype,"set",ol.geom.LineString.prototype.set),goog.exportProperty(ol.geom.LineString.prototype,"setProperties",ol.geom.LineString.prototype.setProperties),goog.exportProperty(ol.geom.LineString.prototype,"unset",ol.geom.LineString.prototype.unset),goog.exportProperty(ol.geom.LineString.prototype,"changed",ol.geom.LineString.prototype.changed),goog.exportProperty(ol.geom.LineString.prototype,"dispatchEvent",ol.geom.LineString.prototype.dispatchEvent),goog.exportProperty(ol.geom.LineString.prototype,"getRevision",ol.geom.LineString.prototype.getRevision),goog.exportProperty(ol.geom.LineString.prototype,"on",ol.geom.LineString.prototype.on),goog.exportProperty(ol.geom.LineString.prototype,"once",ol.geom.LineString.prototype.once),goog.exportProperty(ol.geom.LineString.prototype,"un",ol.geom.LineString.prototype.un),goog.exportProperty(ol.geom.MultiLineString.prototype,"getFirstCoordinate",ol.geom.MultiLineString.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLastCoordinate",ol.geom.MultiLineString.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLayout",ol.geom.MultiLineString.prototype.getLayout),goog.exportProperty(ol.geom.MultiLineString.prototype,"rotate",ol.geom.MultiLineString.prototype.rotate),goog.exportProperty(ol.geom.MultiLineString.prototype,"scale",ol.geom.MultiLineString.prototype.scale),goog.exportProperty(ol.geom.MultiLineString.prototype,"getClosestPoint",ol.geom.MultiLineString.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsCoordinate",ol.geom.MultiLineString.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getExtent",ol.geom.MultiLineString.prototype.getExtent),goog.exportProperty(ol.geom.MultiLineString.prototype,"simplify",ol.geom.MultiLineString.prototype.simplify),goog.exportProperty(ol.geom.MultiLineString.prototype,"transform",ol.geom.MultiLineString.prototype.transform),goog.exportProperty(ol.geom.MultiLineString.prototype,"get",ol.geom.MultiLineString.prototype.get),goog.exportProperty(ol.geom.MultiLineString.prototype,"getKeys",ol.geom.MultiLineString.prototype.getKeys),goog.exportProperty(ol.geom.MultiLineString.prototype,"getProperties",ol.geom.MultiLineString.prototype.getProperties),goog.exportProperty(ol.geom.MultiLineString.prototype,"set",ol.geom.MultiLineString.prototype.set),goog.exportProperty(ol.geom.MultiLineString.prototype,"setProperties",ol.geom.MultiLineString.prototype.setProperties),goog.exportProperty(ol.geom.MultiLineString.prototype,"unset",ol.geom.MultiLineString.prototype.unset),goog.exportProperty(ol.geom.MultiLineString.prototype,"changed",ol.geom.MultiLineString.prototype.changed),goog.exportProperty(ol.geom.MultiLineString.prototype,"dispatchEvent",ol.geom.MultiLineString.prototype.dispatchEvent),goog.exportProperty(ol.geom.MultiLineString.prototype,"getRevision",ol.geom.MultiLineString.prototype.getRevision),goog.exportProperty(ol.geom.MultiLineString.prototype,"on",ol.geom.MultiLineString.prototype.on),goog.exportProperty(ol.geom.MultiLineString.prototype,"once",ol.geom.MultiLineString.prototype.once),goog.exportProperty(ol.geom.MultiLineString.prototype,"un",ol.geom.MultiLineString.prototype.un),goog.exportProperty(ol.geom.MultiPoint.prototype,"getFirstCoordinate",ol.geom.MultiPoint.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getLastCoordinate",ol.geom.MultiPoint.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getLayout",ol.geom.MultiPoint.prototype.getLayout),goog.exportProperty(ol.geom.MultiPoint.prototype,"rotate",ol.geom.MultiPoint.prototype.rotate),goog.exportProperty(ol.geom.MultiPoint.prototype,"scale",ol.geom.MultiPoint.prototype.scale),goog.exportProperty(ol.geom.MultiPoint.prototype,"getClosestPoint",ol.geom.MultiPoint.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsCoordinate",ol.geom.MultiPoint.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getExtent",ol.geom.MultiPoint.prototype.getExtent),goog.exportProperty(ol.geom.MultiPoint.prototype,"simplify",ol.geom.MultiPoint.prototype.simplify),goog.exportProperty(ol.geom.MultiPoint.prototype,"transform",ol.geom.MultiPoint.prototype.transform),goog.exportProperty(ol.geom.MultiPoint.prototype,"get",ol.geom.MultiPoint.prototype.get),goog.exportProperty(ol.geom.MultiPoint.prototype,"getKeys",ol.geom.MultiPoint.prototype.getKeys),goog.exportProperty(ol.geom.MultiPoint.prototype,"getProperties",ol.geom.MultiPoint.prototype.getProperties),goog.exportProperty(ol.geom.MultiPoint.prototype,"set",ol.geom.MultiPoint.prototype.set),goog.exportProperty(ol.geom.MultiPoint.prototype,"setProperties",ol.geom.MultiPoint.prototype.setProperties),goog.exportProperty(ol.geom.MultiPoint.prototype,"unset",ol.geom.MultiPoint.prototype.unset),goog.exportProperty(ol.geom.MultiPoint.prototype,"changed",ol.geom.MultiPoint.prototype.changed),goog.exportProperty(ol.geom.MultiPoint.prototype,"dispatchEvent",ol.geom.MultiPoint.prototype.dispatchEvent),goog.exportProperty(ol.geom.MultiPoint.prototype,"getRevision",ol.geom.MultiPoint.prototype.getRevision),goog.exportProperty(ol.geom.MultiPoint.prototype,"on",ol.geom.MultiPoint.prototype.on),goog.exportProperty(ol.geom.MultiPoint.prototype,"once",ol.geom.MultiPoint.prototype.once),goog.exportProperty(ol.geom.MultiPoint.prototype,"un",ol.geom.MultiPoint.prototype.un),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getFirstCoordinate",ol.geom.MultiPolygon.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLastCoordinate",ol.geom.MultiPolygon.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLayout",ol.geom.MultiPolygon.prototype.getLayout),goog.exportProperty(ol.geom.MultiPolygon.prototype,"rotate",ol.geom.MultiPolygon.prototype.rotate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"scale",ol.geom.MultiPolygon.prototype.scale),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getClosestPoint",ol.geom.MultiPolygon.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsCoordinate",ol.geom.MultiPolygon.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getExtent",ol.geom.MultiPolygon.prototype.getExtent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"simplify",ol.geom.MultiPolygon.prototype.simplify),goog.exportProperty(ol.geom.MultiPolygon.prototype,"transform",ol.geom.MultiPolygon.prototype.transform),goog.exportProperty(ol.geom.MultiPolygon.prototype,"get",ol.geom.MultiPolygon.prototype.get),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getKeys",ol.geom.MultiPolygon.prototype.getKeys),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getProperties",ol.geom.MultiPolygon.prototype.getProperties),goog.exportProperty(ol.geom.MultiPolygon.prototype,"set",ol.geom.MultiPolygon.prototype.set),goog.exportProperty(ol.geom.MultiPolygon.prototype,"setProperties",ol.geom.MultiPolygon.prototype.setProperties),goog.exportProperty(ol.geom.MultiPolygon.prototype,"unset",ol.geom.MultiPolygon.prototype.unset),goog.exportProperty(ol.geom.MultiPolygon.prototype,"changed",ol.geom.MultiPolygon.prototype.changed),goog.exportProperty(ol.geom.MultiPolygon.prototype,"dispatchEvent",ol.geom.MultiPolygon.prototype.dispatchEvent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getRevision",ol.geom.MultiPolygon.prototype.getRevision),goog.exportProperty(ol.geom.MultiPolygon.prototype,"on",ol.geom.MultiPolygon.prototype.on),goog.exportProperty(ol.geom.MultiPolygon.prototype,"once",ol.geom.MultiPolygon.prototype.once),goog.exportProperty(ol.geom.MultiPolygon.prototype,"un",ol.geom.MultiPolygon.prototype.un),goog.exportProperty(ol.geom.Point.prototype,"getFirstCoordinate",ol.geom.Point.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getLastCoordinate",ol.geom.Point.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getLayout",ol.geom.Point.prototype.getLayout),goog.exportProperty(ol.geom.Point.prototype,"rotate",ol.geom.Point.prototype.rotate),goog.exportProperty(ol.geom.Point.prototype,"scale",ol.geom.Point.prototype.scale),goog.exportProperty(ol.geom.Point.prototype,"getClosestPoint",ol.geom.Point.prototype.getClosestPoint),goog.exportProperty(ol.geom.Point.prototype,"intersectsCoordinate",ol.geom.Point.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getExtent",ol.geom.Point.prototype.getExtent),goog.exportProperty(ol.geom.Point.prototype,"simplify",ol.geom.Point.prototype.simplify),goog.exportProperty(ol.geom.Point.prototype,"transform",ol.geom.Point.prototype.transform),goog.exportProperty(ol.geom.Point.prototype,"get",ol.geom.Point.prototype.get),goog.exportProperty(ol.geom.Point.prototype,"getKeys",ol.geom.Point.prototype.getKeys),goog.exportProperty(ol.geom.Point.prototype,"getProperties",ol.geom.Point.prototype.getProperties),goog.exportProperty(ol.geom.Point.prototype,"set",ol.geom.Point.prototype.set),goog.exportProperty(ol.geom.Point.prototype,"setProperties",ol.geom.Point.prototype.setProperties),goog.exportProperty(ol.geom.Point.prototype,"unset",ol.geom.Point.prototype.unset),goog.exportProperty(ol.geom.Point.prototype,"changed",ol.geom.Point.prototype.changed),goog.exportProperty(ol.geom.Point.prototype,"dispatchEvent",ol.geom.Point.prototype.dispatchEvent),goog.exportProperty(ol.geom.Point.prototype,"getRevision",ol.geom.Point.prototype.getRevision),goog.exportProperty(ol.geom.Point.prototype,"on",ol.geom.Point.prototype.on),goog.exportProperty(ol.geom.Point.prototype,"once",ol.geom.Point.prototype.once),goog.exportProperty(ol.geom.Point.prototype,"un",ol.geom.Point.prototype.un),goog.exportProperty(ol.geom.Polygon.prototype,"getFirstCoordinate",ol.geom.Polygon.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getLastCoordinate",ol.geom.Polygon.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getLayout",ol.geom.Polygon.prototype.getLayout),goog.exportProperty(ol.geom.Polygon.prototype,"rotate",ol.geom.Polygon.prototype.rotate),goog.exportProperty(ol.geom.Polygon.prototype,"scale",ol.geom.Polygon.prototype.scale),goog.exportProperty(ol.geom.Polygon.prototype,"getClosestPoint",ol.geom.Polygon.prototype.getClosestPoint),goog.exportProperty(ol.geom.Polygon.prototype,"intersectsCoordinate",ol.geom.Polygon.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getExtent",ol.geom.Polygon.prototype.getExtent),goog.exportProperty(ol.geom.Polygon.prototype,"simplify",ol.geom.Polygon.prototype.simplify),goog.exportProperty(ol.geom.Polygon.prototype,"transform",ol.geom.Polygon.prototype.transform),goog.exportProperty(ol.geom.Polygon.prototype,"get",ol.geom.Polygon.prototype.get),goog.exportProperty(ol.geom.Polygon.prototype,"getKeys",ol.geom.Polygon.prototype.getKeys),goog.exportProperty(ol.geom.Polygon.prototype,"getProperties",ol.geom.Polygon.prototype.getProperties),goog.exportProperty(ol.geom.Polygon.prototype,"set",ol.geom.Polygon.prototype.set),goog.exportProperty(ol.geom.Polygon.prototype,"setProperties",ol.geom.Polygon.prototype.setProperties),goog.exportProperty(ol.geom.Polygon.prototype,"unset",ol.geom.Polygon.prototype.unset),goog.exportProperty(ol.geom.Polygon.prototype,"changed",ol.geom.Polygon.prototype.changed),goog.exportProperty(ol.geom.Polygon.prototype,"dispatchEvent",ol.geom.Polygon.prototype.dispatchEvent),goog.exportProperty(ol.geom.Polygon.prototype,"getRevision",ol.geom.Polygon.prototype.getRevision),goog.exportProperty(ol.geom.Polygon.prototype,"on",ol.geom.Polygon.prototype.on),goog.exportProperty(ol.geom.Polygon.prototype,"once",ol.geom.Polygon.prototype.once),goog.exportProperty(ol.geom.Polygon.prototype,"un",ol.geom.Polygon.prototype.un),goog.exportProperty(ol.format.GML.prototype,"readFeatures",ol.format.GML.prototype.readFeatures),goog.exportProperty(ol.format.GML2.prototype,"readFeatures",ol.format.GML2.prototype.readFeatures),goog.exportProperty(ol.format.GML3.prototype,"readFeatures",ol.format.GML3.prototype.readFeatures),goog.exportProperty(ol.control.Control.prototype,"get",ol.control.Control.prototype.get),goog.exportProperty(ol.control.Control.prototype,"getKeys",ol.control.Control.prototype.getKeys),goog.exportProperty(ol.control.Control.prototype,"getProperties",ol.control.Control.prototype.getProperties),goog.exportProperty(ol.control.Control.prototype,"set",ol.control.Control.prototype.set),goog.exportProperty(ol.control.Control.prototype,"setProperties",ol.control.Control.prototype.setProperties),goog.exportProperty(ol.control.Control.prototype,"unset",ol.control.Control.prototype.unset),goog.exportProperty(ol.control.Control.prototype,"changed",ol.control.Control.prototype.changed),goog.exportProperty(ol.control.Control.prototype,"dispatchEvent",ol.control.Control.prototype.dispatchEvent),goog.exportProperty(ol.control.Control.prototype,"getRevision",ol.control.Control.prototype.getRevision),goog.exportProperty(ol.control.Control.prototype,"on",ol.control.Control.prototype.on),goog.exportProperty(ol.control.Control.prototype,"once",ol.control.Control.prototype.once),goog.exportProperty(ol.control.Control.prototype,"un",ol.control.Control.prototype.un),goog.exportProperty(ol.control.Attribution.prototype,"getMap",ol.control.Attribution.prototype.getMap),goog.exportProperty(ol.control.Attribution.prototype,"setMap",ol.control.Attribution.prototype.setMap),goog.exportProperty(ol.control.Attribution.prototype,"setTarget",ol.control.Attribution.prototype.setTarget),goog.exportProperty(ol.control.Attribution.prototype,"get",ol.control.Attribution.prototype.get),goog.exportProperty(ol.control.Attribution.prototype,"getKeys",ol.control.Attribution.prototype.getKeys),goog.exportProperty(ol.control.Attribution.prototype,"getProperties",ol.control.Attribution.prototype.getProperties),goog.exportProperty(ol.control.Attribution.prototype,"set",ol.control.Attribution.prototype.set),goog.exportProperty(ol.control.Attribution.prototype,"setProperties",ol.control.Attribution.prototype.setProperties),goog.exportProperty(ol.control.Attribution.prototype,"unset",ol.control.Attribution.prototype.unset),goog.exportProperty(ol.control.Attribution.prototype,"changed",ol.control.Attribution.prototype.changed),goog.exportProperty(ol.control.Attribution.prototype,"dispatchEvent",ol.control.Attribution.prototype.dispatchEvent),goog.exportProperty(ol.control.Attribution.prototype,"getRevision",ol.control.Attribution.prototype.getRevision),goog.exportProperty(ol.control.Attribution.prototype,"on",ol.control.Attribution.prototype.on),goog.exportProperty(ol.control.Attribution.prototype,"once",ol.control.Attribution.prototype.once),goog.exportProperty(ol.control.Attribution.prototype,"un",ol.control.Attribution.prototype.un),goog.exportProperty(ol.control.FullScreen.prototype,"getMap",ol.control.FullScreen.prototype.getMap),goog.exportProperty(ol.control.FullScreen.prototype,"setMap",ol.control.FullScreen.prototype.setMap),goog.exportProperty(ol.control.FullScreen.prototype,"setTarget",ol.control.FullScreen.prototype.setTarget),goog.exportProperty(ol.control.FullScreen.prototype,"get",ol.control.FullScreen.prototype.get),goog.exportProperty(ol.control.FullScreen.prototype,"getKeys",ol.control.FullScreen.prototype.getKeys),goog.exportProperty(ol.control.FullScreen.prototype,"getProperties",ol.control.FullScreen.prototype.getProperties),goog.exportProperty(ol.control.FullScreen.prototype,"set",ol.control.FullScreen.prototype.set),goog.exportProperty(ol.control.FullScreen.prototype,"setProperties",ol.control.FullScreen.prototype.setProperties),goog.exportProperty(ol.control.FullScreen.prototype,"unset",ol.control.FullScreen.prototype.unset),goog.exportProperty(ol.control.FullScreen.prototype,"changed",ol.control.FullScreen.prototype.changed),goog.exportProperty(ol.control.FullScreen.prototype,"dispatchEvent",ol.control.FullScreen.prototype.dispatchEvent),goog.exportProperty(ol.control.FullScreen.prototype,"getRevision",ol.control.FullScreen.prototype.getRevision),goog.exportProperty(ol.control.FullScreen.prototype,"on",ol.control.FullScreen.prototype.on),goog.exportProperty(ol.control.FullScreen.prototype,"once",ol.control.FullScreen.prototype.once),goog.exportProperty(ol.control.FullScreen.prototype,"un",ol.control.FullScreen.prototype.un),goog.exportProperty(ol.control.MousePosition.prototype,"getMap",ol.control.MousePosition.prototype.getMap),goog.exportProperty(ol.control.MousePosition.prototype,"setMap",ol.control.MousePosition.prototype.setMap),goog.exportProperty(ol.control.MousePosition.prototype,"setTarget",ol.control.MousePosition.prototype.setTarget),goog.exportProperty(ol.control.MousePosition.prototype,"get",ol.control.MousePosition.prototype.get),goog.exportProperty(ol.control.MousePosition.prototype,"getKeys",ol.control.MousePosition.prototype.getKeys),goog.exportProperty(ol.control.MousePosition.prototype,"getProperties",ol.control.MousePosition.prototype.getProperties),goog.exportProperty(ol.control.MousePosition.prototype,"set",ol.control.MousePosition.prototype.set),goog.exportProperty(ol.control.MousePosition.prototype,"setProperties",ol.control.MousePosition.prototype.setProperties),goog.exportProperty(ol.control.MousePosition.prototype,"unset",ol.control.MousePosition.prototype.unset),goog.exportProperty(ol.control.MousePosition.prototype,"changed",ol.control.MousePosition.prototype.changed),goog.exportProperty(ol.control.MousePosition.prototype,"dispatchEvent",ol.control.MousePosition.prototype.dispatchEvent),goog.exportProperty(ol.control.MousePosition.prototype,"getRevision",ol.control.MousePosition.prototype.getRevision),goog.exportProperty(ol.control.MousePosition.prototype,"on",ol.control.MousePosition.prototype.on),goog.exportProperty(ol.control.MousePosition.prototype,"once",ol.control.MousePosition.prototype.once),goog.exportProperty(ol.control.MousePosition.prototype,"un",ol.control.MousePosition.prototype.un),goog.exportProperty(ol.control.OverviewMap.prototype,"getMap",ol.control.OverviewMap.prototype.getMap),goog.exportProperty(ol.control.OverviewMap.prototype,"setMap",ol.control.OverviewMap.prototype.setMap),goog.exportProperty(ol.control.OverviewMap.prototype,"setTarget",ol.control.OverviewMap.prototype.setTarget),goog.exportProperty(ol.control.OverviewMap.prototype,"get",ol.control.OverviewMap.prototype.get),goog.exportProperty(ol.control.OverviewMap.prototype,"getKeys",ol.control.OverviewMap.prototype.getKeys),goog.exportProperty(ol.control.OverviewMap.prototype,"getProperties",ol.control.OverviewMap.prototype.getProperties),goog.exportProperty(ol.control.OverviewMap.prototype,"set",ol.control.OverviewMap.prototype.set),goog.exportProperty(ol.control.OverviewMap.prototype,"setProperties",ol.control.OverviewMap.prototype.setProperties),goog.exportProperty(ol.control.OverviewMap.prototype,"unset",ol.control.OverviewMap.prototype.unset),goog.exportProperty(ol.control.OverviewMap.prototype,"changed",ol.control.OverviewMap.prototype.changed),goog.exportProperty(ol.control.OverviewMap.prototype,"dispatchEvent",ol.control.OverviewMap.prototype.dispatchEvent),goog.exportProperty(ol.control.OverviewMap.prototype,"getRevision",ol.control.OverviewMap.prototype.getRevision),goog.exportProperty(ol.control.OverviewMap.prototype,"on",ol.control.OverviewMap.prototype.on),goog.exportProperty(ol.control.OverviewMap.prototype,"once",ol.control.OverviewMap.prototype.once),goog.exportProperty(ol.control.OverviewMap.prototype,"un",ol.control.OverviewMap.prototype.un),goog.exportProperty(ol.control.Rotate.prototype,"getMap",ol.control.Rotate.prototype.getMap),goog.exportProperty(ol.control.Rotate.prototype,"setMap",ol.control.Rotate.prototype.setMap),goog.exportProperty(ol.control.Rotate.prototype,"setTarget",ol.control.Rotate.prototype.setTarget),goog.exportProperty(ol.control.Rotate.prototype,"get",ol.control.Rotate.prototype.get),goog.exportProperty(ol.control.Rotate.prototype,"getKeys",ol.control.Rotate.prototype.getKeys),goog.exportProperty(ol.control.Rotate.prototype,"getProperties",ol.control.Rotate.prototype.getProperties),goog.exportProperty(ol.control.Rotate.prototype,"set",ol.control.Rotate.prototype.set),goog.exportProperty(ol.control.Rotate.prototype,"setProperties",ol.control.Rotate.prototype.setProperties),goog.exportProperty(ol.control.Rotate.prototype,"unset",ol.control.Rotate.prototype.unset),goog.exportProperty(ol.control.Rotate.prototype,"changed",ol.control.Rotate.prototype.changed),goog.exportProperty(ol.control.Rotate.prototype,"dispatchEvent",ol.control.Rotate.prototype.dispatchEvent),goog.exportProperty(ol.control.Rotate.prototype,"getRevision",ol.control.Rotate.prototype.getRevision),goog.exportProperty(ol.control.Rotate.prototype,"on",ol.control.Rotate.prototype.on),goog.exportProperty(ol.control.Rotate.prototype,"once",ol.control.Rotate.prototype.once),goog.exportProperty(ol.control.Rotate.prototype,"un",ol.control.Rotate.prototype.un),goog.exportProperty(ol.control.ScaleLine.prototype,"getMap",ol.control.ScaleLine.prototype.getMap),goog.exportProperty(ol.control.ScaleLine.prototype,"setMap",ol.control.ScaleLine.prototype.setMap),goog.exportProperty(ol.control.ScaleLine.prototype,"setTarget",ol.control.ScaleLine.prototype.setTarget),goog.exportProperty(ol.control.ScaleLine.prototype,"get",ol.control.ScaleLine.prototype.get),goog.exportProperty(ol.control.ScaleLine.prototype,"getKeys",ol.control.ScaleLine.prototype.getKeys),goog.exportProperty(ol.control.ScaleLine.prototype,"getProperties",ol.control.ScaleLine.prototype.getProperties),goog.exportProperty(ol.control.ScaleLine.prototype,"set",ol.control.ScaleLine.prototype.set),goog.exportProperty(ol.control.ScaleLine.prototype,"setProperties",ol.control.ScaleLine.prototype.setProperties),goog.exportProperty(ol.control.ScaleLine.prototype,"unset",ol.control.ScaleLine.prototype.unset),goog.exportProperty(ol.control.ScaleLine.prototype,"changed",ol.control.ScaleLine.prototype.changed),
goog.exportProperty(ol.control.ScaleLine.prototype,"dispatchEvent",ol.control.ScaleLine.prototype.dispatchEvent),goog.exportProperty(ol.control.ScaleLine.prototype,"getRevision",ol.control.ScaleLine.prototype.getRevision),goog.exportProperty(ol.control.ScaleLine.prototype,"on",ol.control.ScaleLine.prototype.on),goog.exportProperty(ol.control.ScaleLine.prototype,"once",ol.control.ScaleLine.prototype.once),goog.exportProperty(ol.control.ScaleLine.prototype,"un",ol.control.ScaleLine.prototype.un),goog.exportProperty(ol.control.Zoom.prototype,"getMap",ol.control.Zoom.prototype.getMap),goog.exportProperty(ol.control.Zoom.prototype,"setMap",ol.control.Zoom.prototype.setMap),goog.exportProperty(ol.control.Zoom.prototype,"setTarget",ol.control.Zoom.prototype.setTarget),goog.exportProperty(ol.control.Zoom.prototype,"get",ol.control.Zoom.prototype.get),goog.exportProperty(ol.control.Zoom.prototype,"getKeys",ol.control.Zoom.prototype.getKeys),goog.exportProperty(ol.control.Zoom.prototype,"getProperties",ol.control.Zoom.prototype.getProperties),goog.exportProperty(ol.control.Zoom.prototype,"set",ol.control.Zoom.prototype.set),goog.exportProperty(ol.control.Zoom.prototype,"setProperties",ol.control.Zoom.prototype.setProperties),goog.exportProperty(ol.control.Zoom.prototype,"unset",ol.control.Zoom.prototype.unset),goog.exportProperty(ol.control.Zoom.prototype,"changed",ol.control.Zoom.prototype.changed),goog.exportProperty(ol.control.Zoom.prototype,"dispatchEvent",ol.control.Zoom.prototype.dispatchEvent),goog.exportProperty(ol.control.Zoom.prototype,"getRevision",ol.control.Zoom.prototype.getRevision),goog.exportProperty(ol.control.Zoom.prototype,"on",ol.control.Zoom.prototype.on),goog.exportProperty(ol.control.Zoom.prototype,"once",ol.control.Zoom.prototype.once),goog.exportProperty(ol.control.Zoom.prototype,"un",ol.control.Zoom.prototype.un),goog.exportProperty(ol.control.ZoomSlider.prototype,"getMap",ol.control.ZoomSlider.prototype.getMap),goog.exportProperty(ol.control.ZoomSlider.prototype,"setMap",ol.control.ZoomSlider.prototype.setMap),goog.exportProperty(ol.control.ZoomSlider.prototype,"setTarget",ol.control.ZoomSlider.prototype.setTarget),goog.exportProperty(ol.control.ZoomSlider.prototype,"get",ol.control.ZoomSlider.prototype.get),goog.exportProperty(ol.control.ZoomSlider.prototype,"getKeys",ol.control.ZoomSlider.prototype.getKeys),goog.exportProperty(ol.control.ZoomSlider.prototype,"getProperties",ol.control.ZoomSlider.prototype.getProperties),goog.exportProperty(ol.control.ZoomSlider.prototype,"set",ol.control.ZoomSlider.prototype.set),goog.exportProperty(ol.control.ZoomSlider.prototype,"setProperties",ol.control.ZoomSlider.prototype.setProperties),goog.exportProperty(ol.control.ZoomSlider.prototype,"unset",ol.control.ZoomSlider.prototype.unset),goog.exportProperty(ol.control.ZoomSlider.prototype,"changed",ol.control.ZoomSlider.prototype.changed),goog.exportProperty(ol.control.ZoomSlider.prototype,"dispatchEvent",ol.control.ZoomSlider.prototype.dispatchEvent),goog.exportProperty(ol.control.ZoomSlider.prototype,"getRevision",ol.control.ZoomSlider.prototype.getRevision),goog.exportProperty(ol.control.ZoomSlider.prototype,"on",ol.control.ZoomSlider.prototype.on),goog.exportProperty(ol.control.ZoomSlider.prototype,"once",ol.control.ZoomSlider.prototype.once),goog.exportProperty(ol.control.ZoomSlider.prototype,"un",ol.control.ZoomSlider.prototype.un),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getMap",ol.control.ZoomToExtent.prototype.getMap),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setMap",ol.control.ZoomToExtent.prototype.setMap),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setTarget",ol.control.ZoomToExtent.prototype.setTarget),goog.exportProperty(ol.control.ZoomToExtent.prototype,"get",ol.control.ZoomToExtent.prototype.get),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getKeys",ol.control.ZoomToExtent.prototype.getKeys),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getProperties",ol.control.ZoomToExtent.prototype.getProperties),goog.exportProperty(ol.control.ZoomToExtent.prototype,"set",ol.control.ZoomToExtent.prototype.set),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setProperties",ol.control.ZoomToExtent.prototype.setProperties),goog.exportProperty(ol.control.ZoomToExtent.prototype,"unset",ol.control.ZoomToExtent.prototype.unset),goog.exportProperty(ol.control.ZoomToExtent.prototype,"changed",ol.control.ZoomToExtent.prototype.changed),goog.exportProperty(ol.control.ZoomToExtent.prototype,"dispatchEvent",ol.control.ZoomToExtent.prototype.dispatchEvent),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getRevision",ol.control.ZoomToExtent.prototype.getRevision),goog.exportProperty(ol.control.ZoomToExtent.prototype,"on",ol.control.ZoomToExtent.prototype.on),goog.exportProperty(ol.control.ZoomToExtent.prototype,"once",ol.control.ZoomToExtent.prototype.once),goog.exportProperty(ol.control.ZoomToExtent.prototype,"un",ol.control.ZoomToExtent.prototype.un),ol.VERSION="v4.1.0",OPENLAYERS.ol=ol,OPENLAYERS.ol}),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=[].slice;va=function(){var a,b,c,d,e;for(a={},e="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),d=0,b=e.length;d<b;d++)c=e[d],a["[object "+c+"]"]=c.toLowerCase();return function(b){var c;return c=Object.prototype.toString.call(b),a[c]||"object"}}(),S=function(a,b,c){return null==b&&(b=0),null==c&&(c=1),a<b&&(a=b),a>c&&(a=c),a},wa=function(a){return a.length>=3?[].slice.call(a):a[0]},t=function(a){var b,c;for(a._clipped=!1,a._unclipped=a.slice(0),b=c=0;c<3;b=++c)b<3?((a[b]<0||a[b]>255)&&(a._clipped=!0),a[b]<0&&(a[b]=0),a[b]>255&&(a[b]=255)):3===b&&(a[b]<0&&(a[b]=0),a[b]>1&&(a[b]=1));return a._clipped||delete a._unclipped,a},d=Math.PI,qa=Math.round,v=Math.cos,A=Math.floor,_=Math.pow,T=Math.log,sa=Math.sin,ta=Math.sqrt,m=Math.atan2,W=Math.max,l=Math.abs,g=2*d,e=d/3,b=d/180,f=180/d,s=function(){return arguments[0]instanceof a?arguments[0]:function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,arguments,function(){})},k=[],"undefined"!=typeof module&&null!==module&&null!=module.exports&&(module.exports=s),"function"==typeof define&&define.amd?define([],function(){return s}):(pa="undefined"!=typeof exports&&null!==exports?exports:this,pa.chroma=s),s.version="1.3.3",j={},h=[],i=!1,a=function(){function a(){var a,b,c,d,e,f,g,k,l;for(f=this,b=[],k=0,d=arguments.length;k<d;k++)null!=(a=arguments[k])&&b.push(a);if(g=b[b.length-1],null!=j[g])f._rgb=t(j[g](wa(b.slice(0,-1))));else{for(i||(h=h.sort(function(a,b){return b.p-a.p}),i=!0),l=0,e=h.length;l<e&&(c=h[l],!(g=c.test.apply(c,b)));l++);g&&(f._rgb=t(j[g].apply(j,b)))}null==f._rgb&&console.warn("unknown format: "+b),null==f._rgb&&(f._rgb=[0,0,0]),3===f._rgb.length&&f._rgb.push(1)}return a.prototype.toString=function(){return this.hex()},a}(),s._input=j,s.brewer=q={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var a,b;b=[];for(a in q)b.push(q[a.toLowerCase()]=q[a])}(),xa={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},s.colors=xa,N=function(){var a,b,d,e,f,g,h,i,j;return b=wa(arguments),f=b[0],a=b[1],d=b[2],i=(f+16)/116,h=isNaN(a)?i:i+a/500,j=isNaN(d)?i:i-d/200,i=c.Yn*O(i),h=c.Xn*O(h),j=c.Zn*O(j),g=za(3.2404542*h-1.5371385*i-.4985314*j),e=za(-.969266*h+1.8760108*i+.041556*j),d=za(.0556434*h-.2040259*i+1.0572252*j),[g,e,d,b.length>3?b[3]:1]},za=function(a){return 255*(a<=.00304?12.92*a:1.055*_(a,1/2.4)-.055)},O=function(a){return a>c.t1?a*a*a:c.t2*(a-c.t0)},c={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ha=function(){var a,b,c,d,e,f,g,h;return d=wa(arguments),c=d[0],b=d[1],a=d[2],e=ma(c,b,a),f=e[0],g=e[1],h=e[2],[116*g-16,500*(f-g),200*(g-h)]},na=function(a){return(a/=255)<=.04045?a/12.92:_((a+.055)/1.055,2.4)},ya=function(a){return a>c.t3?_(a,1/3):a/c.t2+c.t0},ma=function(){var a,b,d,e,f,g,h;return e=wa(arguments),d=e[0],b=e[1],a=e[2],d=na(d),b=na(b),a=na(a),f=ya((.4124564*d+.3575761*b+.1804375*a)/c.Xn),g=ya((.2126729*d+.7151522*b+.072175*a)/c.Yn),h=ya((.0193339*d+.119192*b+.9503041*a)/c.Zn),[f,g,h]},s.lab=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["lab"]),function(){})},j.lab=N,a.prototype.lab=function(){return ha(this._rgb)},n=function(a){var b,c,d,e,f,g,h,i,j,k,l;return a=function(){var b,c,d;for(d=[],c=0,b=a.length;c<b;c++)e=a[c],d.push(s(e));return d}(),2===a.length?(j=function(){var b,c,d;for(d=[],c=0,b=a.length;c<b;c++)e=a[c],d.push(e.lab());return d}(),f=j[0],g=j[1],b=function(a){var b,c;return c=function(){var c,d;for(d=[],b=c=0;c<=2;b=++c)d.push(f[b]+a*(g[b]-f[b]));return d}(),s.lab.apply(s,c)}):3===a.length?(k=function(){var b,c,d;for(d=[],c=0,b=a.length;c<b;c++)e=a[c],d.push(e.lab());return d}(),f=k[0],g=k[1],h=k[2],b=function(a){var b,c;return c=function(){var c,d;for(d=[],b=c=0;c<=2;b=++c)d.push((1-a)*(1-a)*f[b]+2*(1-a)*a*g[b]+a*a*h[b]);return d}(),s.lab.apply(s,c)}):4===a.length?(l=function(){var b,c,d;for(d=[],c=0,b=a.length;c<b;c++)e=a[c],d.push(e.lab());return d}(),f=l[0],g=l[1],h=l[2],i=l[3],b=function(a){var b,c;return c=function(){var c,d;for(d=[],b=c=0;c<=2;b=++c)d.push((1-a)*(1-a)*(1-a)*f[b]+3*(1-a)*(1-a)*a*g[b]+3*(1-a)*a*a*h[b]+a*a*a*i[b]);return d}(),s.lab.apply(s,c)}):5===a.length&&(c=n(a.slice(0,3)),d=n(a.slice(2,5)),b=function(a){return a<.5?c(2*a):d(2*(a-.5))}),b},s.bezier=function(a){var b;return b=n(a),b.scale=function(){return s.scale(b)},b},s.cubehelix=function(a,b,c,d,e){var f,h,i;return null==a&&(a=300),null==b&&(b=-1.5),null==c&&(c=1),null==d&&(d=1),null==e&&(e=[0,1]),f=0,"array"===va(e)?h=e[1]-e[0]:(h=0,e=[e,e]),i=function(i){var j,k,l,m,n,o,p,q,r;return j=g*((a+120)/360+b*i),p=_(e[0]+h*i,d),o=0!==f?c[0]+i*f:c,k=o*p*(1-p)/2,m=v(j),r=sa(j),q=p+k*(-.14861*m+1.78277*r),n=p+k*(-.29227*m-.90649*r),l=p+k*(1.97294*m),s(t([255*q,255*n,255*l]))},i.start=function(b){return null==b?a:(a=b,i)},i.rotations=function(a){return null==a?b:(b=a,i)},i.gamma=function(a){return null==a?d:(d=a,i)},i.hue=function(a){return null==a?c:(c=a,"array"===va(c)?0==(f=c[1]-c[0])&&(c=c[1]):f=0,i)},i.lightness=function(a){return null==a?e:("array"===va(a)?(e=a,h=a[1]-a[0]):(e=[a,a],h=0),i)},i.scale=function(){return s.scale(i)},i.hue(c),i},s.random=function(){var b,c,d;for(c="0123456789abcdef",b="#",d=0;d<6;++d)b+=c.charAt(A(16*Math.random()));return new a(b)},s.average=function(a,b){var c,e,f,g,h,i,j,k,l,n,o,p,q;null==b&&(b="rgb"),l=a.length,a=a.map(function(a){return s(a)}),j=a.splice(0,1)[0],p=j.get(b),g=[],h=0,i=0;for(k in p)p[k]=p[k]||0,g.push(isNaN(p[k])?0:1),"h"!==b.charAt(k)||isNaN(p[k])||(c=p[k]/180*d,h+=v(c),i+=sa(c));for(e=j.alpha(),o=0,n=a.length;o<n;o++){f=a[o],q=f.get(b),e+=f.alpha();for(k in p)isNaN(q[k])||(p[k]+=q[k],g[k]+=1,"h"===b.charAt(k)&&(c=p[k]/180*d,h+=v(c),i+=sa(c)))}for(k in p)if(p[k]=p[k]/g[k],"h"===b.charAt(k)){for(c=m(i/g[k],h/g[k])/d*180;c<0;)c+=360;for(;c>=360;)c-=360;p[k]=c}return s(p,b).alpha(e/l)},j.rgb=function(){var a,b,c,d;b=wa(arguments),c=[];for(a in b)d=b[a],c.push(d);return c},s.rgb=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["rgb"]),function(){})},a.prototype.rgb=function(a){return null==a&&(a=!0),a?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},a.prototype.rgba=function(a){return null==a&&(a=!0),a?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},h.push({p:3,test:function(a){var b;return b=wa(arguments),"array"===va(b)&&3===b.length?"rgb":4===b.length&&"number"===va(b[3])&&b[3]>=0&&b[3]<=1?"rgb":void 0}}),C=function(a){var b,c,d,e,f,g;if(a.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==a.length&&7!==a.length||(a=a.substr(1)),3===a.length&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),g=parseInt(a,16),e=g>>16,d=g>>8&255,c=255&g,[e,d,c,1];if(a.match(/^#?([A-Fa-f0-9]{8})$/))return 9===a.length&&(a=a.substr(1)),g=parseInt(a,16),e=g>>24&255,d=g>>16&255,c=g>>8&255,b=qa((255&g)/255*100)/100,[e,d,c,b];if(null!=j.css&&(f=j.css(a)))return f;throw"unknown color: "+a},da=function(a,b){var c,d,e,f,g,h,i;return null==b&&(b="rgb"),g=a[0],e=a[1],d=a[2],c=a[3],g=Math.round(g),e=Math.round(e),d=Math.round(d),i=g<<16|e<<8|d,h="000000"+i.toString(16),h=h.substr(h.length-6),f="0"+qa(255*c).toString(16),f=f.substr(f.length-2),"#"+function(){switch(b.toLowerCase()){case"rgba":return h+f;case"argb":return f+h;default:return h}}()},j.hex=function(a){return C(a)},s.hex=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["hex"]),function(){})},a.prototype.hex=function(a){return null==a&&(a="rgb"),da(this._rgb,a)},h.push({p:4,test:function(a){if(1===arguments.length&&"string"===va(a))return"hex"}}),F=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;if(a=wa(arguments),e=a[0],k=a[1],g=a[2],0===k)i=d=b=255*g;else{for(n=[0,0,0],c=[0,0,0],m=g<.5?g*(1+k):g+k-g*k,l=2*g-m,e/=360,n[0]=e+1/3,n[1]=e,n[2]=e-1/3,f=h=0;h<=2;f=++h)n[f]<0&&(n[f]+=1),n[f]>1&&(n[f]-=1),6*n[f]<1?c[f]=l+6*(m-l)*n[f]:2*n[f]<1?c[f]=m:3*n[f]<2?c[f]=l+(m-l)*(2/3-n[f])*6:c[f]=l;j=[qa(255*c[0]),qa(255*c[1]),qa(255*c[2])],i=j[0],d=j[1],b=j[2]}return a.length>3?[i,d,b,a[3]]:[i,d,b]},fa=function(a,b,c){var d,e,f,g,h;return void 0!==a&&a.length>=3&&(g=a,a=g[0],b=g[1],c=g[2]),a/=255,b/=255,c/=255,f=Math.min(a,b,c),W=Math.max(a,b,c),e=(W+f)/2,W===f?(h=0,d=Number.NaN):h=e<.5?(W-f)/(W+f):(W-f)/(2-W-f),a===W?d=(b-c)/(W-f):b===W?d=2+(c-a)/(W-f):c===W&&(d=4+(a-b)/(W-f)),d*=60,d<0&&(d+=360),[d,h,e]},s.hsl=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["hsl"]),function(){})},j.hsl=F,a.prototype.hsl=function(){return fa(this._rgb)},G=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(a=wa(arguments),e=a[0],p=a[1],r=a[2],r*=255,0===p)i=d=b=r;else switch(360===e&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60,f=A(e),c=e-f,g=r*(1-p),h=r*(1-p*c),q=r*(1-p*(1-c)),f){case 0:j=[r,q,g],i=j[0],d=j[1],b=j[2];break;case 1:k=[h,r,g],i=k[0],d=k[1],b=k[2];break;case 2:l=[g,r,q],i=l[0],d=l[1],b=l[2];break;case 3:m=[g,h,r],i=m[0],d=m[1],b=m[2];break;case 4:n=[q,g,r],i=n[0],d=n[1],b=n[2];break;case 5:o=[r,g,h],i=o[0],d=o[1],b=o[2]}return[i,d,b,a.length>3?a[3]:1]},ga=function(){var a,b,c,d,e,f,g,h,i;return g=wa(arguments),f=g[0],c=g[1],a=g[2],e=Math.min(f,c,a),W=Math.max(f,c,a),b=W-e,i=W/255,0===W?(d=Number.NaN,h=0):(h=b/W,f===W&&(d=(c-a)/b),c===W&&(d=2+(a-f)/b),a===W&&(d=4+(f-c)/b),(d*=60)<0&&(d+=360)),[d,h,i]},s.hsv=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["hsv"]),function(){})},j.hsv=G,a.prototype.hsv=function(){return ga(this._rgb)},Z=function(a){var b,c,d;return"number"===va(a)&&a>=0&&a<=16777215?(d=a>>16,c=a>>8&255,b=255&a,[d,c,b,1]):(console.warn("unknown num color: "+a),[0,0,0,1])},ka=function(){var a,b,c,d;return d=wa(arguments),c=d[0],b=d[1],a=d[2],(c<<16)+(b<<8)+a},s.num=function(b){return new a(b,"num")},a.prototype.num=function(a){return null==a&&(a="rgb"),ka(this._rgb,a)},j.num=Z,h.push({p:1,test:function(a){if(1===arguments.length&&"number"===va(a)&&a>=0&&a<=16777215)return"num"}}),B=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(c=wa(arguments),h=c[0],e=c[1],b=c[2],e/=100,g=g/100*255,a=255*e,0===e)l=g=d=b;else switch(360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60,i=A(h),f=h-i,j=b*(1-e),k=j+a*(1-f),s=j+a*f,t=j+a,i){case 0:m=[t,s,j],l=m[0],g=m[1],d=m[2];break;case 1:n=[k,t,j],l=n[0],g=n[1],d=n[2];break;case 2:o=[j,t,s],l=o[0],g=o[1],d=o[2];break;case 3:p=[j,k,t],l=p[0],g=p[1],d=p[2];break;case 4:q=[s,j,t],l=q[0],g=q[1],d=q[2];break;case 5:r=[t,j,k],l=r[0],g=r[1],d=r[2]}return[l,g,d,c.length>3?c[3]:1]},ca=function(){var a,b,c,d,e,f,g,h,i;return i=wa(arguments),h=i[0],e=i[1],b=i[2],g=Math.min(h,e,b),W=Math.max(h,e,b),d=W-g,c=100*d/255,a=g/(255-d)*100,0===d?f=Number.NaN:(h===W&&(f=(e-b)/d),e===W&&(f=2+(b-h)/d),b===W&&(f=4+(h-e)/d),(f*=60)<0&&(f+=360)),[f,c,a]},s.hcg=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["hcg"]),function(){})},j.hcg=B,a.prototype.hcg=function(){return ca(this._rgb)},w=function(a){var b,c,d,e,f,g,h,i;if(a=a.toLowerCase(),null!=s.colors&&s.colors[a])return C(s.colors[a]);if(f=a.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(h=f.slice(1,4),e=g=0;g<=2;e=++g)h[e]=+h[e];h[3]=1}else if(f=a.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(h=f.slice(1,5),e=i=0;i<=3;e=++i)h[e]=+h[e];else if(f=a.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(h=f.slice(1,4),e=b=0;b<=2;e=++b)h[e]=qa(2.55*h[e]);h[3]=1}else if(f=a.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(h=f.slice(1,5),e=c=0;c<=2;e=++c)h[e]=qa(2.55*h[e]);h[3]=+h[3]}else(f=a.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(d=f.slice(1,4),d[1]*=.01,d[2]*=.01,h=F(d),h[3]=1):(f=a.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(d=f.slice(1,4),d[1]*=.01,d[2]*=.01,h=F(d),h[3]=+f[4]);return h},ba=function(a){var b;return b=a[3]<1?"rgba":"rgb","rgb"===b?b+"("+a.slice(0,3).map(qa).join(",")+")":"rgba"===b?b+"("+a.slice(0,3).map(qa).join(",")+","+a[3]+")":void 0},oa=function(a){return qa(100*a)/100},E=function(a,b){var c;return c=b<1?"hsla":"hsl",a[0]=oa(a[0]||0),a[1]=oa(100*a[1])+"%",a[2]=oa(100*a[2])+"%","hsla"===c&&(a[3]=b),c+"("+a.join(",")+")"},j.css=function(a){return w(a)},s.css=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["css"]),function(){})},a.prototype.css=function(a){return null==a&&(a="rgb"),"rgb"===a.slice(0,3)?ba(this._rgb):"hsl"===a.slice(0,3)?E(this.hsl(),this.alpha()):void 0},j.named=function(a){return C(xa[a])},h.push({p:5,test:function(a){if(1===arguments.length&&null!=xa[a])return"named"}}),a.prototype.name=function(a){var b,c;arguments.length&&(xa[a]&&(this._rgb=C(xa[a])),this._rgb[3]=1),b=this.hex();for(c in xa)if(b===xa[c])return c;return b},P=function(){var a,c,d,e;return e=wa(arguments),d=e[0],a=e[1],c=e[2],c*=b,[d,v(c)*a,sa(c)*a]},Q=function(){var a,b,c,d,e,f,g,h,i,j,k;return c=wa(arguments),h=c[0],e=c[1],g=c[2],j=P(h,e,g),a=j[0],b=j[1],d=j[2],k=N(a,b,d),i=k[0],f=k[1],d=k[2],[i,f,d,c.length>3?c[3]:1]},M=function(){var a,b,c,d,e,g;return g=wa(arguments),e=g[0],a=g[1],b=g[2],c=ta(a*a+b*b),d=(m(b,a)*f+360)%360,0===qa(1e4*c)&&(d=Number.NaN),[e,c,d]},ia=function(){var a,b,c,d,e,f,g;return f=wa(arguments),e=f[0],c=f[1],b=f[2],g=ha(e,c,b),d=g[0],a=g[1],b=g[2],M(d,a,b)},s.lch=function(){var b;return b=wa(arguments),new a(b,"lch")},s.hcl=function(){var b;return b=wa(arguments),new a(b,"hcl")},j.lch=Q,j.hcl=function(){var a,b,c,d;return d=wa(arguments),b=d[0],a=d[1],c=d[2],Q([c,a,b])},a.prototype.lch=function(){return ia(this._rgb)},a.prototype.hcl=function(){return ia(this._rgb).reverse()},aa=function(a){var b,c,d,e,f,g,h,i,j;return null==a&&(a="rgb"),i=wa(arguments),h=i[0],e=i[1],b=i[2],h/=255,e/=255,b/=255,f=1-Math.max(h,Math.max(e,b)),d=f<1?1/(1-f):0,c=(1-h-f)*d,g=(1-e-f)*d,j=(1-b-f)*d,[c,g,j,f]},u=function(){var a,b,c,d,e,f,g,h,i;return b=wa(arguments),d=b[0],g=b[1],i=b[2],f=b[3],a=b.length>4?b[4]:1,1===f?[0,0,0,a]:(h=d>=1?0:255*(1-d)*(1-f),e=g>=1?0:255*(1-g)*(1-f),c=i>=1?0:255*(1-i)*(1-f),[h,e,c,a])},j.cmyk=function(){return u(wa(arguments))},s.cmyk=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["cmyk"]),function(){})},a.prototype.cmyk=function(){return aa(this._rgb)},j.gl=function(){var a,b,c,d,e;for(d=function(){var a,c;a=wa(arguments),c=[];for(b in a)e=a[b],c.push(e);return c}.apply(this,arguments),a=c=0;c<=2;a=++c)d[a]*=255;return d},s.gl=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["gl"]),function(){})},a.prototype.gl=function(){var a;return a=this._rgb,[a[0]/255,a[1]/255,a[2]/255,a[3]]},ja=function(a,b,c){var d;return d=wa(arguments),a=d[0],b=d[1],c=d[2],a=U(a),b=U(b),c=U(c),.2126*a+.7152*b+.0722*c},U=function(a){return a/=255,a<=.03928?a/12.92:_((a+.055)/1.055,2.4)},k=[],H=function(a,b,c,d){var e,f,g,h;for(null==c&&(c=.5),null==d&&(d="rgb"),"object"!==va(a)&&(a=s(a)),"object"!==va(b)&&(b=s(b)),g=0,f=k.length;g<f;g++)if(e=k[g],d===e[0]){h=e[1](a,b,c,d);break}if(null==h)throw"color mode "+d+" is not supported";return h.alpha(a.alpha()+c*(b.alpha()-a.alpha()))},s.interpolate=H,a.prototype.interpolate=function(a,b,c){return H(this,a,b,c)},s.mix=H,a.prototype.mix=a.prototype.interpolate,L=function(b,c,d,e){var f,g;return f=b._rgb,g=c._rgb,new a(f[0]+d*(g[0]-f[0]),f[1]+d*(g[1]-f[1]),f[2]+d*(g[2]-f[2]),e)},k.push(["rgb",L]),a.prototype.luminance=function(a,b){var c,d,e,f;return null==b&&(b="rgb"),arguments.length?(0===a?this._rgb=[0,0,0,this._rgb[3]]:1===a?this._rgb=[255,255,255,this._rgb[3]]:(d=1e-7,e=20,f=function(c,g){var h,i;return i=c.interpolate(g,.5,b),h=i.luminance(),Math.abs(a-h)<d||!e--?i:h>a?f(c,i):f(i,g)},c=ja(this._rgb),this._rgb=(c>a?f(s("black"),this):f(this,s("white"))).rgba()),this):ja(this._rgb)},ua=function(a){var b,c,d,e;return e=a/100,e<66?(d=255,c=-155.25485562709179-.44596950469579133*(c=e-2)+104.49216199393888*T(c),b=e<20?0:.8274096064007395*(b=e-10)-254.76935184120902+115.67994401066147*T(b)):(d=351.97690566805693+.114206453784165*(d=e-55)-40.25366309332127*T(d),c=325.4494125711974+.07943456536662342*(c=e-50)-28.0852963507957*T(c),b=255),[d,c,b]},la=function(){var a,b,c,d,e,f,g,h;for(f=wa(arguments),e=f[0],f[1],a=f[2],d=1e3,c=4e4,b=.4;c-d>b;)h=.5*(c+d),g=ua(h),g[2]/g[0]>=a/e?c=h:d=h;return qa(h)},s.temperature=s.kelvin=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["temperature"]),function(){})},j.temperature=j.kelvin=j.K=ua,a.prototype.temperature=function(){return la(this._rgb)},a.prototype.kelvin=a.prototype.temperature,s.contrast=function(b,c){var d,e,f,g;return"string"!==(f=va(b))&&"number"!==f||(b=new a(b)),"string"!==(g=va(c))&&"number"!==g||(c=new a(c)),d=b.luminance(),e=c.luminance(),d>e?(d+.05)/(e+.05):(e+.05)/(d+.05)},s.distance=function(b,c,d){var e,f,g,h,i,j,k;null==d&&(d="lab"),"string"!==(i=va(b))&&"number"!==i||(b=new a(b)),"string"!==(j=va(c))&&"number"!==j||(c=new a(c)),g=b.get(d),h=c.get(d),k=0;for(f in g)e=(g[f]||0)-(h[f]||0),k+=e*e;return Math.sqrt(k)},s.deltaE=function(b,c,e,f){var g,h,i,j,k,n,o,p,q,r,s,t,u,w,x,y,z,A,B,C,D,E,F,G,H,I,J;for(null==e&&(e=1),null==f&&(f=1),"string"!==(z=va(b))&&"number"!==z||(b=new a(b)),"string"!==(A=va(c))&&"number"!==A||(c=new a(c)),B=b.lab(),g=B[0],i=B[1],k=B[2],C=c.lab(),h=C[0],j=C[1],n=C[2],o=ta(i*i+k*k),p=ta(j*j+n*n),F=g<16?.511:.040975*g/(1+.01765*g),D=.0638*o/(1+.0131*o)+.638,y=o<1e-6?0:180*m(k,i)/d;y<0;)y+=360;for(;y>=360;)y-=360;return G=y>=164&&y<=345?.56+l(.2*v(d*(y+168)/180)):.36+l(.4*v(d*(y+35)/180)),q=o*o*o*o,x=ta(q/(q+1900)),E=D*(x*G+1-x),w=g-h,u=o-p,s=i-j,t=k-n,r=s*s+t*t-u*u,H=w/(e*F),I=u/(f*D),J=E,ta(H*H+I*I+r/(J*J))},a.prototype.get=function(a){var b,c,d,e,f,g;return d=this,f=a.split("."),e=f[0],b=f[1],g=d[e](),b?(c=e.indexOf(b),c>-1?g[c]:console.warn("unknown channel "+b+" in mode "+e)):g},a.prototype.set=function(a,b){var c,d,e,f,g,h;if(e=this,g=a.split("."),f=g[0],c=g[1])if(h=e[f](),(d=f.indexOf(c))>-1)if("string"===va(b))switch(b.charAt(0)){case"+":case"-":h[d]+=+b;break;case"*":h[d]*=+b.substr(1);break;case"/":h[d]/=+b.substr(1);break;default:h[d]=+b}else h[d]=b;else console.warn("unknown channel "+c+" in mode "+f);else h=b;return s(h,f).alpha(e.alpha())},a.prototype.clipped=function(){return this._rgb._clipped||!1},a.prototype.alpha=function(a){return arguments.length?s.rgb([this._rgb[0],this._rgb[1],this._rgb[2],a]):this._rgb[3]},a.prototype.darken=function(a){var b,d;return null==a&&(a=1),d=this,b=d.lab(),b[0]-=c.Kn*a,s.lab(b).alpha(d.alpha())},a.prototype.brighten=function(a){return null==a&&(a=1),this.darken(-a)},a.prototype.darker=a.prototype.darken,a.prototype.brighter=a.prototype.brighten,a.prototype.saturate=function(a){var b,d;return null==a&&(a=1),d=this,b=d.lch(),b[1]+=a*c.Kn,b[1]<0&&(b[1]=0),s.lch(b).alpha(d.alpha())},a.prototype.desaturate=function(a){return null==a&&(a=1),this.saturate(-a)},a.prototype.premultiply=function(){var a,b;return b=this.rgb(),a=this.alpha(),s(b[0]*a,b[1]*a,b[2]*a,a)},o=function(a,b,c){if(!o[c])throw"unknown blend mode "+c;return o[c](a,b)},p=function(a){return function(b,c){var d,e;return d=s(c).rgb(),e=s(b).rgb(),s(a(d,e),"rgb")}},z=function(a){return function(b,c){var d,e,f;for(f=[],d=e=0;e<=3;d=++e)f[d]=a(b[d],c[d]);return f}},Y=function(a,b){return a},X=function(a,b){return a*b/255},
x=function(a,b){return a>b?b:a},R=function(a,b){return a>b?a:b},ra=function(a,b){return 255*(1-(1-a/255)*(1-b/255))},$=function(a,b){return b<128?2*a*b/255:255*(1-2*(1-a/255)*(1-b/255))},r=function(a,b){return 255*(1-(1-b/255)/(a/255))},y=function(a,b){return 255===a?255:(a=b/255*255/(1-a/255),a>255?255:a)},o.normal=p(z(Y)),o.multiply=p(z(X)),o.screen=p(z(ra)),o.overlay=p(z($)),o.darken=p(z(x)),o.lighten=p(z(R)),o.dodge=p(z(y)),o.burn=p(z(r)),s.blend=o,s.analyze=function(a){var b,c,d,e;for(d={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},c=0,b=a.length;c<b;c++)null==(e=a[c])||isNaN(e)||(d.values.push(e),d.sum+=e,e<d.min&&(d.min=e),e>d.max&&(d.max=e),d.count+=1);return d.domain=[d.min,d.max],d.limits=function(a,b){return s.limits(d,a,b)},d},s.scale=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,w;return j="rgb",k=s("#ccc"),o=0,g=[0,1],n=[],m=[0,0],c=!1,e=[],l=!1,i=0,h=1,f=!1,d={},p=!0,v=function(a){var b,c,d,f,g,h;if(null==a&&(a=["#fff","#000"]),null!=a&&"string"===va(a)&&null!=s.brewer&&(a=s.brewer[a]||s.brewer[a.toLowerCase()]||a),"array"===va(a)){for(a=a.slice(0),b=d=0,f=a.length-1;0<=f?d<=f:d>=f;b=0<=f?++d:--d)c=a[b],"string"===va(c)&&(a[b]=s(c));for(n.length=0,b=h=0,g=a.length-1;0<=g?h<=g:h>=g;b=0<=g?++h:--h)n.push(b/(a.length-1))}return u(),e=a},r=function(a){var b,d;if(null!=c){for(d=c.length-1,b=0;b<d&&a>=c[b];)b++;return b-1}return 0},w=function(a){return a},t=function(a,b){var f,g,l,o,q,t,u,v;if(null==b&&(b=!1),isNaN(a))return k;if(b?v=a:c&&c.length>2?(f=r(a),v=f/(c.length-2),v=m[0]+v*(1-m[0]-m[1])):h!==i?(v=(a-i)/(h-i),v=m[0]+v*(1-m[0]-m[1]),v=Math.min(1,Math.max(0,v))):v=1,b||(v=w(v)),o=Math.floor(1e4*v),p&&d[o])g=d[o];else{if("array"===va(e))for(l=q=0,u=n.length-1;0<=u?q<=u:q>=u;l=0<=u?++q:--q){if(t=n[l],v<=t){g=e[l];break}if(v>=t&&l===n.length-1){g=e[l];break}if(v>t&&v<n[l+1]){v=(v-t)/(n[l+1]-t),g=s.interpolate(e[l],e[l+1],v,j);break}}else"function"===va(e)&&(g=e(v));p&&(d[o]=g)}return g},u=function(){return d={}},v(a),q=function(a){var b;return b=s(t(a)),l&&b[l]?b[l]():b},q.classes=function(a){var b;return null!=a?("array"===va(a)?(c=a,g=[a[0],a[a.length-1]]):(b=s.analyze(g),c=0===a?[b.min,b.max]:s.limits(b,"e",a)),q):c},q.domain=function(a){var b,c,d,f,j,k,l;if(!arguments.length)return g;if(i=a[0],h=a[a.length-1],n=[],d=e.length,a.length===d&&i!==h)for(j=0,f=a.length;j<f;j++)c=a[j],n.push((c-i)/(h-i));else for(b=l=0,k=d-1;0<=k?l<=k:l>=k;b=0<=k?++l:--l)n.push(b/(d-1));return g=[i,h],q},q.mode=function(a){return arguments.length?(j=a,u(),q):j},q.range=function(a,b){return v(a,b),q},q.out=function(a){return l=a,q},q.spread=function(a){return arguments.length?(o=a,q):o},q.correctLightness=function(a){return null==a&&(a=!0),f=a,u(),w=f?function(a){var b,c,d,e,f,g,h,i,j;for(b=t(0,!0).lab()[0],c=t(1,!0).lab()[0],h=b>c,d=t(a,!0).lab()[0],f=b+(c-b)*a,e=d-f,i=0,j=1,g=20;Math.abs(e)>.01&&g-- >0;)!function(){h&&(e*=-1),e<0?(i=a,a+=.5*(j-a)):(j=a,a+=.5*(i-a)),d=t(a,!0).lab()[0],e=d-f}();return a}:function(a){return a},q},q.padding=function(a){return null!=a?("number"===va(a)&&(a=[a,a]),m=a,q):m},q.colors=function(b,d){var f,h,i,j,k,l,m;if(null==d&&(d="hex"),0===arguments.length)return e.map(function(a){return a[d]()});if(b)return 1===b?[q(.5)[d]()]:(h=g[0],f=g[1]-h,function(){k=[];for(var a=0;0<=b?a<b:a>b;0<=b?a++:a--)k.push(a);return k}.apply(this).map(function(a){return q(h+a/(b-1)*f)[d]()}));if(a=[],l=[],c&&c.length>2)for(i=m=1,j=c.length;1<=j?m<j:m>j;i=1<=j?++m:--m)l.push(.5*(c[i-1]+c[i]));else l=g;return l.map(function(a){return q(a)[d]()})},q.cache=function(a){return null!=a?p=a:p},q},null==s.scales&&(s.scales={}),s.scales.cool=function(){return s.scale([s.hsl(180,1,.9),s.hsl(250,.7,.4)])},s.scales.hot=function(){return s.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},s.analyze=function(a,b,c){var d,e,f,g,h,i,j;if(h={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==c&&(c=function(){return!0}),d=function(a){null==a||isNaN(a)||(h.values.push(a),h.sum+=a,a<h.min&&(h.min=a),a>h.max&&(h.max=a),h.count+=1)},j=function(a,e){if(c(a,e))return d(null!=b&&"function"===va(b)?b(a):null!=b&&"string"===va(b)||"number"===va(b)?a[b]:a)},"array"===va(a))for(g=0,f=a.length;g<f;g++)i=a[g],j(i);else for(e in a)i=a[e],j(i,e);return h.domain=[h.min,h.max],h.limits=function(a,b){return s.limits(h,a,b)},h},s.limits=function(a,b,c){var d,e,f,g,h,i,j,k,m,n,o,p,q,r,t,u,v,w,x,y,z,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,U,V,X,Y,Z,$,aa,ba,ca,da,ea,fa,ga,ha,ia,ja;if(null==b&&(b="equal"),null==c&&(c=7),"array"===va(a)&&(a=s.analyze(a)),E=a.min,W=a.max,a.sum,ia=a.values.sort(function(a,b){return a-b}),1===c)return[E,W];if(C=[],"c"===b.substr(0,1)&&(C.push(E),C.push(W)),"e"===b.substr(0,1)){for(C.push(E),y=K=1,O=c-1;1<=O?K<=O:K>=O;y=1<=O?++K:--K)C.push(E+y/c*(W-E));C.push(W)}else if("l"===b.substr(0,1)){if(E<=0)throw"Logarithmic scales are only possible for values > 0";for(F=Math.LOG10E*T(E),D=Math.LOG10E*T(W),C.push(E),y=ja=1,P=c-1;1<=P?ja<=P:ja>=P;y=1<=P?++ja:--ja)C.push(_(10,F+y/c*(D-F)));C.push(W)}else if("q"===b.substr(0,1)){for(C.push(E),y=d=1,X=c-1;1<=X?d<=X:d>=X;y=1<=X?++d:--d)L=(ia.length-1)*y/c,M=A(L),M===L?C.push(ia[M]):(N=L-M,C.push(ia[M]*(1-N)+ia[M+1]*N));C.push(W)}else if("k"===b.substr(0,1)){for(H=ia.length,r=new Array(H),w=new Array(c),ea=!0,I=0,u=null,u=[],u.push(E),y=e=1,Y=c-1;1<=Y?e<=Y:e>=Y;y=1<=Y?++e:--e)u.push(E+y/c*(W-E));for(u.push(W);ea;){for(z=f=0,Z=c-1;0<=Z?f<=Z:f>=Z;z=0<=Z?++f:--f)w[z]=0;for(y=g=0,$=H-1;0<=$?g<=$:g>=$;y=0<=$?++g:--g){for(ha=ia[y],G=Number.MAX_VALUE,z=h=0,aa=c-1;0<=aa?h<=aa:h>=aa;z=0<=aa?++h:--h)(x=l(u[z]-ha))<G&&(G=x,t=z);w[t]++,r[y]=t}for(J=new Array(c),z=i=0,ba=c-1;0<=ba?i<=ba:i>=ba;z=0<=ba?++i:--i)J[z]=null;for(y=j=0,ca=H-1;0<=ca?j<=ca:j>=ca;y=0<=ca?++j:--j)v=r[y],null===J[v]?J[v]=ia[y]:J[v]+=ia[y];for(z=k=0,da=c-1;0<=da?k<=da:k>=da;z=0<=da?++k:--k)J[z]*=1/w[z];for(ea=!1,z=m=0,Q=c-1;0<=Q?m<=Q:m>=Q;z=0<=Q?++m:--m)if(J[z]!==u[y]){ea=!0;break}u=J,++I>200&&(ea=!1)}for(B={},z=n=0,R=c-1;0<=R?n<=R:n>=R;z=0<=R?++n:--n)B[z]=[];for(y=o=0,S=H-1;0<=S?o<=S:o>=S;y=0<=S?++o:--o)v=r[y],B[v].push(ia[y]);for(fa=[],z=p=0,U=c-1;0<=U?p<=U:p>=U;z=0<=U?++p:--p)fa.push(B[z][0]),fa.push(B[z][B[z].length-1]);for(fa=fa.sort(function(a,b){return a-b}),C.push(fa[0]),y=q=1,V=fa.length-1;q<=V;y=q+=2)ga=fa[y],isNaN(ga)||-1!==C.indexOf(ga)||C.push(ga)}return C},D=function(a,b,c){var d,f,h,i;return d=wa(arguments),a=d[0],b=d[1],c=d[2],isNaN(a)&&(a=0),a/=360,a<1/3?(f=(1-b)/3,i=(1+b*v(g*a)/v(e-g*a))/3,h=1-(f+i)):a<2/3?(a-=1/3,i=(1-b)/3,h=(1+b*v(g*a)/v(e-g*a))/3,f=1-(i+h)):(a-=2/3,h=(1-b)/3,f=(1+b*v(g*a)/v(e-g*a))/3,i=1-(h+f)),i=S(c*i*3),h=S(c*h*3),f=S(c*f*3),[255*i,255*h,255*f,d.length>3?d[3]:1]},ea=function(){var a,b,c,d,e,f,h,i;return h=wa(arguments),f=h[0],b=h[1],a=h[2],g=2*Math.PI,f/=255,b/=255,a/=255,e=Math.min(f,b,a),d=(f+b+a)/3,i=1-e/d,0===i?c=0:(c=(f-b+(f-a))/2,c/=Math.sqrt((f-b)*(f-b)+(f-a)*(b-a)),c=Math.acos(c),a>b&&(c=g-c),c/=g),[360*c,i,d]},s.hsi=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Aa.call(arguments).concat(["hsi"]),function(){})},j.hsi=D,a.prototype.hsi=function(){return ea(this._rgb)},I=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p;return"hsl"===d?(o=a.hsl(),p=b.hsl()):"hsv"===d?(o=a.hsv(),p=b.hsv()):"hcg"===d?(o=a.hcg(),p=b.hcg()):"hsi"===d?(o=a.hsi(),p=b.hsi()):"lch"!==d&&"hcl"!==d||(d="hcl",o=a.hcl(),p=b.hcl()),"h"===d.substr(0,1)&&(g=o[0],m=o[1],j=o[2],h=p[0],n=p[1],k=p[2]),isNaN(g)||isNaN(h)?isNaN(g)?isNaN(h)?f=Number.NaN:(f=h,1!==j&&0!==j||"hsv"===d||(l=n)):(f=g,1!==k&&0!==k||"hsv"===d||(l=m)):(e=h>g&&h-g>180?h-(g+360):h<g&&g-h>180?h+360-g:h-g,f=g+c*e),null==l&&(l=m+c*(n-m)),i=j+c*(k-j),s[d](f,l,i)},k=k.concat(function(){var a,b,c,d;for(c=["hsv","hsl","hsi","hcl","lch","hcg"],d=[],b=0,a=c.length;b<a;b++)V=c[b],d.push([V,I]);return d}()),K=function(a,b,c,d){var e,f;return e=a.num(),f=b.num(),s.num(e+(f-e)*c,"num")},k.push(["num",K]),J=function(b,c,d,e){var f,g;return f=b.lab(),g=c.lab(),new a(f[0]+d*(g[0]-f[0]),f[1]+d*(g[1]-f[1]),f[2]+d*(g[2]-f[2]),e)},k.push(["lab",J])}.call(this),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.d3=a.d3||{})}(this,function(a){"use strict";function b(a){return function(b,c){return vj(a(b),c)}}function c(a,b,c){var d=Math.abs(b-a)/Math.max(0,c),e=Math.pow(10,Math.floor(Math.log(d)/Math.LN10)),f=d/e;return f>=Lj?e*=10:f>=Mj?e*=5:f>=Nj&&(e*=2),b<a?-e:e}function d(a){return a.length}function e(){}function f(a,b){var c=new e;if(a instanceof e)a.each(function(a,b){c.set(b,a)});else if(Array.isArray(a)){var d,f=-1,g=a.length;if(null==b)for(;++f<g;)c.set(f,a[f]);else for(;++f<g;)c.set(b(d=a[f],f,a),d)}else if(a)for(var h in a)c.set(h,a[h]);return c}function g(){return{}}function h(a,b,c){a[b]=c}function i(){return f()}function j(a,b,c){a.set(b,c)}function k(){}function l(a,b){var c=new k;if(a instanceof k)a.each(function(a){c.add(a)});else if(a){var d=-1,e=a.length;if(null==b)for(;++d<e;)c.add(a[d]);else for(;++d<e;)c.add(b(a[d],d,a))}return c}function m(a){return+a}function n(a){return a*a}function o(a){return a*(2-a)}function p(a){return((a*=2)<=1?a*a:--a*(2-a)+1)/2}function q(a){return a*a*a}function r(a){return--a*a*a+1}function s(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}function t(a){return 1-Math.cos(a*uk)}function u(a){return Math.sin(a*uk)}function v(a){return(1-Math.cos(tk*a))/2}function w(a){return Math.pow(2,10*a-10)}function x(a){return 1-Math.pow(2,-10*a)}function y(a){return((a*=2)<=1?Math.pow(2,10*a-10):2-Math.pow(2,10-10*a))/2}function z(a){return 1-Math.sqrt(1-a*a)}function A(a){return Math.sqrt(1- --a*a)}function B(a){return((a*=2)<=1?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}function C(a){return 1-D(1-a)}function D(a){return(a=+a)<vk?Ek*a*a:a<xk?Ek*(a-=wk)*a+yk:a<Ak?Ek*(a-=zk)*a+Bk:Ek*(a-=Ck)*a+Dk}function E(a){return((a*=2)<=1?1-D(1-a):D(a-1)+1)/2}function F(a,b){return a[0]-b[0]||a[1]-b[1]}function G(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;++e){for(;d>1&&Pk(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function H(){this._x0=this._y0=this._x1=this._y1=null,this._=[]}function I(){return new H}function J(a,b,c,d){if(isNaN(b)||isNaN(c))return a;var e,f,g,h,i,j,k,l,m,n=a._root,o={data:d},p=a._x0,q=a._y0,r=a._x1,s=a._y1;if(!n)return a._root=o,a;for(;n.length;)if((j=b>=(f=(p+r)/2))?p=f:r=f,(k=c>=(g=(q+s)/2))?q=g:s=g,e=n,!(n=n[l=k<<1|j]))return e[l]=o,a;if(h=+a._x.call(null,n.data),i=+a._y.call(null,n.data),b===h&&c===i)return o.next=n,e?e[l]=o:a._root=o,a;do{e=e?e[l]=new Array(4):a._root=new Array(4),(j=b>=(f=(p+r)/2))?p=f:r=f,(k=c>=(g=(q+s)/2))?q=g:s=g}while((l=k<<1|j)==(m=(i>=g)<<1|h>=f));return e[m]=n,e[l]=o,a}function K(a){var b,c,d,e,f=a.length,g=new Array(f),h=new Array(f),i=1/0,j=1/0,k=-1/0,l=-1/0;for(c=0;c<f;++c)isNaN(d=+this._x.call(null,b=a[c]))||isNaN(e=+this._y.call(null,b))||(g[c]=d,h[c]=e,d<i&&(i=d),d>k&&(k=d),e<j&&(j=e),e>l&&(l=e));for(k<i&&(i=this._x0,k=this._x1),l<j&&(j=this._y0,l=this._y1),this.cover(i,j).cover(k,l),c=0;c<f;++c)J(this,g[c],h[c],a[c]);return this}function L(a){for(var b=0,c=a.length;b<c;++b)this.remove(a[b]);return this}function M(a){return a[0]}function N(a){return a[1]}function O(a,b,c){var d=new P(null==b?M:b,null==c?N:c,NaN,NaN,NaN,NaN);return null==a?d:d.addAll(a)}function P(a,b,c,d,e,f){this._x=a,this._y=b,this._x0=c,this._y0=d,this._x1=e,this._y1=f,this._root=void 0}function Q(a){for(var b={data:a.data},c=b;a=a.next;)c=c.next={data:a.data};return b}function R(a){if(!(a>=1))throw new Error;this._size=a,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function S(a){if(!a._start)try{T(a)}catch(b){if(a._tasks[a._ended+a._active-1])V(a,b);else if(!a._data)throw b}}function T(a){for(;a._start=a._waiting&&a._active<a._size;){var b=a._ended+a._active,c=a._tasks[b],d=c.length-1,e=c[d];c[d]=U(a,b),--a._waiting,++a._active,c=e.apply(null,c),a._tasks[b]&&(a._tasks[b]=c||kl)}}function U(a,b){return function(c,d){a._tasks[b]&&(--a._active,++a._ended,a._tasks[b]=null,null==a._error&&(null!=c?V(a,c):(a._data[b]=d,a._waiting?S(a):W(a))))}}function V(a,b){var c,d=a._tasks.length;for(a._error=b,a._data=void 0,a._waiting=NaN;--d>=0;)if((c=a._tasks[d])&&(a._tasks[d]=null,c.abort))try{c.abort()}catch(a){}a._active=NaN,W(a)}function W(a){if(!a._active&&a._call){var b=a._data;a._data=void 0,a._call(a._error,b)}}function X(a){return new R(arguments.length?+a:1/0)}function Y(a){return a.innerRadius}function Z(a){return a.outerRadius}function $(a){return a.startAngle}function _(a){return a.endAngle}function aa(a){return a&&a.padAngle}function ba(a){return a>=1?ol:a<=-1?-ol:Math.asin(a)}function ca(a,b,c,d,e,f,g,h){var i=c-a,j=d-b,k=g-e,l=h-f,m=(k*(b-f)-l*(a-e))/(l*i-k*j);return[a+m*i,b+m*j]}function da(a,b,c,d,e,f,g){var h=a-c,i=b-d,j=(g?f:-f)/Math.sqrt(h*h+i*i),k=j*i,l=-j*h,m=a+k,n=b+l,o=c+k,p=d+l,q=(m+o)/2,r=(n+p)/2,s=o-m,t=p-n,u=s*s+t*t,v=e-f,w=m*p-o*n,x=(t<0?-1:1)*Math.sqrt(Math.max(0,v*v*u-w*w)),y=(w*t-s*x)/u,z=(-w*s-t*x)/u,A=(w*t+s*x)/u,B=(-w*s+t*x)/u,C=y-q,D=z-r,E=A-q,F=B-r;return C*C+D*D>E*E+F*F&&(y=A,z=B),{cx:y,cy:z,x01:-k,y01:-l,x11:y*(e/v-1),y11:z*(e/v-1)}}function ea(a){this._context=a}function fa(a){return a[0]}function ga(a){return a[1]}function ha(a){this._curve=a}function ia(a){function b(b){return new ha(a(b))}return b._curve=a,b}function ja(a){var b=a.curve;return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a.curve=function(a){return arguments.length?b(ia(a)):b()._curve},a}function ka(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function la(a){this._context=a}function ma(a){this._context=a}function na(a){this._context=a}function oa(a,b){this._basis=new la(a),this._beta=b}function pa(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function qa(a,b){this._context=a,this._k=(1-b)/6}function ra(a,b){this._context=a,this._k=(1-b)/6}function sa(a,b){this._context=a,this._k=(1-b)/6}function ta(a,b,c){var d=a._x1,e=a._y1,f=a._x2,g=a._y2;if(a._l01_a>ml){var h=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,i=3*a._l01_a*(a._l01_a+a._l12_a);d=(d*h-a._x0*a._l12_2a+a._x2*a._l01_2a)/i,e=(e*h-a._y0*a._l12_2a+a._y2*a._l01_2a)/i}if(a._l23_a>ml){var j=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,k=3*a._l23_a*(a._l23_a+a._l12_a);f=(f*j+a._x1*a._l23_2a-b*a._l12_2a)/k,g=(g*j+a._y1*a._l23_2a-c*a._l12_2a)/k}a._context.bezierCurveTo(d,e,f,g,a._x2,a._y2)}function ua(a,b){this._context=a,this._alpha=b}function va(a,b){this._context=a,this._alpha=b}function wa(a,b){this._context=a,this._alpha=b}function xa(a){this._context=a}function ya(a){return a<0?-1:1}function za(a,b,c){var d=a._x1-a._x0,e=b-a._x1,f=(a._y1-a._y0)/(d||e<0&&-0),g=(c-a._y1)/(e||d<0&&-0),h=(f*e+g*d)/(d+e);return(ya(f)+ya(g))*Math.min(Math.abs(f),Math.abs(g),.5*Math.abs(h))||0}function Aa(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function Ba(a,b,c){var d=a._x0,e=a._y0,f=a._x1,g=a._y1,h=(f-d)/3;a._context.bezierCurveTo(d+h,e+h*b,f-h,g-h*c,f,g)}function Ca(a){this._context=a}function Da(a){this._context=new Ea(a)}function Ea(a){this._context=a}function Fa(a){return new Ca(a)}function Ga(a){return new Da(a)}function Ha(a){this._context=a}function Ia(a){var b,c,d=a.length-1,e=new Array(d),f=new Array(d),g=new Array(d);for(e[0]=0,f[0]=2,g[0]=a[0]+2*a[1],b=1;b<d-1;++b)e[b]=1,f[b]=4,g[b]=4*a[b]+2*a[b+1];for(e[d-1]=2,f[d-1]=7,g[d-1]=8*a[d-1]+a[d],b=1;b<d;++b)c=e[b]/f[b-1],f[b]-=c,g[b]-=c*g[b-1];for(e[d-1]=g[d-1]/f[d-1],b=d-2;b>=0;--b)e[b]=(g[b]-e[b+1])/f[b];for(f[d-1]=(a[d]+e[d-1])/2,b=0;b<d-1;++b)f[b]=2*a[b+1]-e[b+1];return[e,f]}function Ja(a,b){this._context=a,this._t=b}function Ka(a){return new Ja(a,0)}function La(a){return new Ja(a,1)}function Ma(a,b){return a[b]}function Na(a){for(var b,c=0,d=-1,e=a.length;++d<e;)(b=+a[d][1])&&(c+=b);return c}function Oa(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function Pa(){}function Qa(a){var b;return a=(a+"").trim().toLowerCase(),(b=sm.exec(a))?(b=parseInt(b[1],16),new Va(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1)):(b=tm.exec(a))?Ra(parseInt(b[1],16)):(b=um.exec(a))?new Va(b[1],b[2],b[3],1):(b=vm.exec(a))?new Va(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=wm.exec(a))?Sa(b[1],b[2],b[3],b[4]):(b=xm.exec(a))?Sa(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=ym.exec(a))?Wa(b[1],b[2]/100,b[3]/100,1):(b=zm.exec(a))?Wa(b[1],b[2]/100,b[3]/100,b[4]):Am.hasOwnProperty(a)?Ra(Am[a]):"transparent"===a?new Va(NaN,NaN,NaN,0):null}function Ra(a){return new Va(a>>16&255,a>>8&255,255&a,1)}function Sa(a,b,c,d){return d<=0&&(a=b=c=NaN),new Va(a,b,c,d)}function Ta(a){return a instanceof Pa||(a=Qa(a)),a?(a=a.rgb(),new Va(a.r,a.g,a.b,a.opacity)):new Va}function Ua(a,b,c,d){return 1===arguments.length?Ta(a):new Va(a,b,c,null==d?1:d)}function Va(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function Wa(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new Za(a,b,c,d)}function Xa(a){if(a instanceof Za)return new Za(a.h,a.s,a.l,a.opacity);if(a instanceof Pa||(a=Qa(a)),!a)return new Za;if(a instanceof Za)return a;a=a.rgb();var b=a.r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+6*(c<d):c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new Za(g,h,i,a.opacity)}function Ya(a,b,c,d){return 1===arguments.length?Xa(a):new Za(a,b,c,null==d?1:d)}function Za(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function $a(a,b,c){return 255*(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)}function _a(a){if(a instanceof bb)return new bb(a.l,a.a,a.b,a.opacity);if(a instanceof ib){var b=a.h*Bm;return new bb(a.l,Math.cos(b)*a.c,Math.sin(b)*a.c,a.opacity)}a instanceof Va||(a=Ta(a));var c=fb(a.r),d=fb(a.g),e=fb(a.b),f=cb((.4124564*c+.3575761*d+.1804375*e)/Dm),g=cb((.2126729*c+.7151522*d+.072175*e)/Em);return new bb(116*g-16,500*(f-g),200*(g-cb((.0193339*c+.119192*d+.9503041*e)/Fm)),a.opacity)}function ab(a,b,c,d){return 1===arguments.length?_a(a):new bb(a,b,c,null==d?1:d)}function bb(a,b,c,d){this.l=+a,this.a=+b,this.b=+c,this.opacity=+d}function cb(a){return a>Jm?Math.pow(a,1/3):a/Im+Gm}function db(a){return a>Hm?a*a*a:Im*(a-Gm)}function eb(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function fb(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function gb(a){if(a instanceof ib)return new ib(a.h,a.c,a.l,a.opacity);a instanceof bb||(a=_a(a));var b=Math.atan2(a.b,a.a)*Cm;return new ib(b<0?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function hb(a,b,c,d){return 1===arguments.length?gb(a):new ib(a,b,c,null==d?1:d)}function ib(a,b,c,d){this.h=+a,this.c=+b,this.l=+c,this.opacity=+d}function jb(a){if(a instanceof lb)return new lb(a.h,a.s,a.l,a.opacity);a instanceof Va||(a=Ta(a));var b=a.r/255,c=a.g/255,d=a.b/255,e=(Qm*d+Om*b-Pm*c)/(Qm+Om-Pm),f=d-e,g=(Nm*(c-e)-Lm*f)/Mm,h=Math.sqrt(g*g+f*f)/(Nm*e*(1-e)),i=h?Math.atan2(g,f)*Cm-120:NaN;return new lb(i<0?i+360:i,h,e,a.opacity)}function kb(a,b,c,d){return 1===arguments.length?jb(a):new lb(a,b,c,null==d?1:d)}function lb(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function mb(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}function nb(a,b){return function(c){return a+c*b}}function ob(a,b,c){return a=Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(d){return Math.pow(a+d*b,c)}}function pb(a,b){var c=b-a;return c?nb(a,c>180||c<-180?c-360*Math.round(c/360):c):Xm(isNaN(a)?b:a)}function qb(a){return 1==(a=+a)?rb:function(b,c){return c-b?ob(b,c,a):Xm(isNaN(b)?c:b)}}function rb(a,b){var c=b-a;return c?nb(a,c):Xm(isNaN(a)?b:a)}function sb(a){return function(b){var c,d,e=b.length,f=new Array(e),g=new Array(e),h=new Array(e);for(c=0;c<e;++c)d=Ua(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}function tb(a){return function(){return a}}function ub(a){return function(b){return a(b)+""}}function vb(a){return"none"===a?kn:(Rm||(Rm=document.createElement("DIV"),Sm=document.documentElement,Tm=document.defaultView),Rm.style.transform=a,a=Tm.getComputedStyle(Sm.appendChild(Rm),null).getPropertyValue("transform"),Sm.removeChild(Rm),a=a.slice(7,-1).split(","),ln(+a[0],+a[1],+a[2],+a[3],+a[4],+a[5]))}function wb(a){return null==a?kn:(Um||(Um=document.createElementNS("http://www.w3.org/2000/svg","g")),Um.setAttribute("transform",a),(a=Um.transform.baseVal.consolidate())?(a=a.matrix,ln(a.a,a.b,a.c,a.d,a.e,a.f)):kn)}function xb(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}function f(a,d,e,f,g,h){if(a!==e||d!==f){var i=g.push("translate(",null,b,null,c);h.push({i:i-4,x:bn(a,e)},{i:i-2,x:bn(d,f)})}else(e||f)&&g.push("translate("+e+b+f+c)}function g(a,b,c,f){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),f.push({i:c.push(e(c)+"rotate(",null,d)-2,x:bn(a,b)})):b&&c.push(e(c)+"rotate("+b+d)}function h(a,b,c,f){a!==b?f.push({i:c.push(e(c)+"skewX(",null,d)-2,x:bn(a,b)}):b&&c.push(e(c)+"skewX("+b+d)}function i(a,b,c,d,f,g){if(a!==c||b!==d){var h=f.push(e(f)+"scale(",null,",",null,")");g.push({i:h-4,x:bn(a,c)},{i:h-2,x:bn(b,d)})}else 1===c&&1===d||f.push(e(f)+"scale("+c+","+d+")")}return function(b,c){var d=[],e=[];return b=a(b),c=a(c),f(b.translateX,b.translateY,c.translateX,c.translateY,d,e),g(b.rotate,c.rotate,d,e),h(b.skewX,c.skewX,d,e),i(b.scaleX,b.scaleY,c.scaleX,c.scaleY,d,e),b=c=null,function(a){for(var b,c=-1,f=e.length;++c<f;)d[(b=e[c]).i]=b.x(a);return d.join("")}}}function yb(a){return((a=Math.exp(a))+1/a)/2}function zb(a){return((a=Math.exp(a))-1/a)/2}function Ab(a){return((a=Math.exp(2*a))-1)/(a+1)}function Bb(a){return function(b,c){var d=a((b=Ya(b)).h,(c=Ya(c)).h),e=rb(b.s,c.s),f=rb(b.l,c.l),g=rb(b.opacity,c.opacity);return function(a){return b.h=d(a),b.s=e(a),b.l=f(a),b.opacity=g(a),b+""}}}function Cb(a,b){var c=rb((a=ab(a)).l,(b=ab(b)).l),d=rb(a.a,b.a),e=rb(a.b,b.b),f=rb(a.opacity,b.opacity);return function(b){return a.l=c(b),a.a=d(b),a.b=e(b),a.opacity=f(b),a+""}}function Db(a){return function(b,c){var d=a((b=hb(b)).h,(c=hb(c)).h),e=rb(b.c,c.c),f=rb(b.l,c.l),g=rb(b.opacity,c.opacity);return function(a){return b.h=d(a),b.c=e(a),b.l=f(a),b.opacity=g(a),b+""}}}function Eb(a){return function b(c){function d(b,d){var e=a((b=kb(b)).h,(d=kb(d)).h),f=rb(b.s,d.s),g=rb(b.l,d.l),h=rb(b.opacity,d.opacity);return function(a){return b.h=e(a),b.s=f(a),b.l=g(Math.pow(a,c)),b.opacity=h(a),b+""}}return c=+c,d.gamma=b,d}(1)}function Fb(){for(var a,b=0,c=arguments.length,d={};b<c;++b){if(!(a=arguments[b]+"")||a in d)throw new Error("illegal type: "+a);d[a]=[]}return new Gb(d)}function Gb(a){this._=a}function Hb(a,b){return a.trim().split(/^|\s+/).map(function(a){var c="",d=a.indexOf(".");if(d>=0&&(c=a.slice(d+1),a=a.slice(0,d)),a&&!b.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:c}})}function Ib(a,b){for(var c,d=0,e=a.length;d<e;++d)if((c=a[d]).name===b)return c.value}function Jb(a,b,c){for(var d=0,e=a.length;d<e;++d)if(a[d].name===b){a[d]=xn,a=a.slice(0,d).concat(a.slice(d+1));break}return null!=c&&a.push({name:b,value:c}),a}function Kb(a){return new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function Lb(a,b){var c=Kb(a);return function(d,e){return b(c(d),e,a)}}function Mb(a){var b=Object.create(null),c=[];return a.forEach(function(a){for(var d in a)d in b||c.push(b[d]=d)}),c}function Nb(a){return function(b,c){a(null==b?c:null)}}function Ob(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Pb(a,b){return function(c){return a(c.responseText,b)}}function Qb(){return Zn||(ao(Rb),Zn=_n.now()+$n)}function Rb(){Zn=0}function Sb(){this._call=this._time=this._next=null}function Tb(a,b,c){var d=new Sb;return d.restart(a,b,c),d}function Ub(){Qb(),++Un;for(var a,b=yn;b;)(a=Zn-b._time)>=0&&b._call.call(null,a),b=b._next;--Un}function Vb(){Zn=(Yn=_n.now())+$n,Un=Vn=0;try{Ub()}finally{Un=0,Xb(),Zn=0}}function Wb(){var a=_n.now(),b=a-Yn;b>Xn&&($n-=b,Yn=a)}function Xb(){for(var a,b,c=yn,d=1/0;c;)c._call?(d>c._time&&(d=c._time),a=c,c=c._next):(b=c._next,c._next=null,c=a?a._next=b:yn=b);zn=a,Yb(d)}function Yb(a){if(!Un){Vn&&(Vn=clearTimeout(Vn));var b=a-Zn;b>24?(a<1/0&&(Vn=setTimeout(Vb,b)),Wn&&(Wn=clearInterval(Wn))):(Wn||(Wn=setInterval(Wb,Xn)),Un=1,ao(Vb))}}function Zb(a,b,c,d){function e(b){return a(b=new Date(+b)),b}return e.floor=e,e.ceil=function(c){return a(c=new Date(c-1)),b(c,1),a(c),c},e.round=function(a){var b=e(a),c=e.ceil(a);return a-b<c-a?b:c},e.offset=function(a,c){return b(a=new Date(+a),null==c?1:Math.floor(c)),a},e.range=function(c,d,f){var g=[];if(c=e.ceil(c),f=null==f?1:Math.floor(f),!(c<d&&f>0))return g;do{g.push(new Date(+c))}while(b(c,f),a(c),c<d);return g},e.filter=function(c){return Zb(function(b){if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},function(a,d){if(a>=a)for(;--d>=0;)for(;b(a,1),!c(a););})},c&&(e.count=function(b,d){return eo.setTime(+b),fo.setTime(+d),a(eo),a(fo),Math.floor(c(eo,fo))},e.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?e.filter(d?function(b){return d(b)%a==0}:function(b){return e.count(0,b)%a==0}):e:null}),e}function $b(a){return Zb(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7),b.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+7*b)},function(a,b){return(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*io)/ko})}function _b(a){return Zb(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+7*b)},function(a,b){return(b-a)/ko})}function ac(a){if(!(b=pp.exec(a)))throw new Error("invalid format: "+a);var b,c=b[1]||" ",d=b[2]||">",e=b[3]||"-",f=b[4]||"",g=!!b[5],h=b[6]&&+b[6],i=!!b[7],j=b[8]&&+b[8].slice(1),k=b[9]||"";"n"===k?(i=!0,k="g"):op[k]||(k=""),(g||"0"===c&&"="===d)&&(g=!0,c="0",d="="),this.fill=c,this.align=d,this.sign=e,this.symbol=f,this.zero=g,this.width=h,this.comma=i,this.precision=j,this.type=k}function bc(a){return a}function cc(b){return rp=tp(b),a.format=rp.format,a.formatPrefix=rp.formatPrefix,rp}function dc(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function ec(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function fc(a){return{y:a,m:0,d:1,H:0,M:0,S:0,L:0}}function gc(a){function b(a,b){return function(c){var d,e,f,g=[],h=-1,i=0,j=a.length;for(c instanceof Date||(c=new Date(+c));++h<j;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=yp[d=a.charAt(++h)])?d=a.charAt(++h):e="e"===d?" ":"0",(f=b[d])&&(d=f(c,e)),g.push(d),i=h+1);return g.push(a.slice(i,h)),g.join("")}}function c(a,b){return function(c){var e=fc(1900);if(d(e,a,c+="",0)!=c.length)return null;if("p"in e&&(e.H=e.H%12+12*e.p),"W"in e||"U"in e){"w"in e||(e.w="W"in e?1:0);var f="Z"in e?ec(fc(e.y)).getUTCDay():b(fc(e.y)).getDay();e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(f+5)%7:e.w+7*e.U-(f+6)%7}return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,ec(e)):b(e)}}function d(a,b,c,d){for(var e,f,g=0,h=b.length,i=c.length;g<h;){if(d>=i)return-1;if(37===(e=b.charCodeAt(g++))){if(e=b.charAt(g++),!(f=Q[e in yp?b.charAt(g++):e])||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function e(a,b,c){var d=E.exec(b.slice(c));return d?(a.p=F[d[0].toLowerCase()],c+d[0].length):-1}function f(a,b,c){var d=I.exec(b.slice(c));return d?(a.w=J[d[0].toLowerCase()],c+d[0].length):-1}function g(a,b,c){var d=G.exec(b.slice(c));return d?(a.w=H[d[0].toLowerCase()],c+d[0].length):-1}function h(a,b,c){var d=M.exec(b.slice(c));return d?(a.m=N[d[0].toLowerCase()],c+d[0].length):-1}function i(a,b,c){var d=K.exec(b.slice(c));return d?(a.m=L[d[0].toLowerCase()],c+d[0].length):-1}function j(a,b,c){return d(a,w,b,c)}function k(a,b,c){return d(a,x,b,c)}function l(a,b,c){return d(a,y,b,c)}function m(a){return B[a.getDay()]}function n(a){return A[a.getDay()]}function o(a){return D[a.getMonth()]}function p(a){return C[a.getMonth()]}function q(a){return z[+(a.getHours()>=12)]}function r(a){return B[a.getUTCDay()]}function s(a){return A[a.getUTCDay()]}function t(a){return D[a.getUTCMonth()]}function u(a){return C[a.getUTCMonth()]}function v(a){return z[+(a.getUTCHours()>=12)]}var w=a.dateTime,x=a.date,y=a.time,z=a.periods,A=a.days,B=a.shortDays,C=a.months,D=a.shortMonths,E=jc(z),F=kc(z),G=jc(A),H=kc(A),I=jc(B),J=kc(B),K=jc(C),L=kc(C),M=jc(D),N=kc(D),O={a:m,A:n,b:o,B:p,c:null,d:zc,e:zc,H:Ac,I:Bc,j:Cc,L:Dc,m:Ec,M:Fc,p:q,S:Gc,U:Hc,w:Ic,W:Jc,x:null,X:null,y:Kc,Y:Lc,Z:Mc,"%":_c},P={a:r,A:s,b:t,B:u,c:null,d:Nc,e:Nc,H:Oc,I:Pc,j:Qc,L:Rc,m:Sc,M:Tc,p:v,S:Uc,U:Vc,w:Wc,W:Xc,x:null,X:null,y:Yc,Y:Zc,Z:$c,"%":_c},Q={a:f,A:g,b:h,B:i,c:j,d:sc,e:sc,H:uc,I:uc,j:tc,L:xc,m:rc,M:vc,p:e,S:wc,U:mc,w:lc,W:nc,x:k,X:l,y:pc,Y:oc,Z:qc,"%":yc};return O.x=b(x,O),O.X=b(y,O),O.c=b(w,O),P.x=b(x,P),P.X=b(y,P),P.c=b(w,P),{format:function(a){var c=b(a+="",O);return c.toString=function(){return a},c},parse:function(a){var b=c(a+="",dc);return b.toString=function(){return a},b},utcFormat:function(a){var c=b(a+="",P);return c.toString=function(){return a},c},utcParse:function(a){var b=c(a,ec);return b.toString=function(){return a},b}}}function hc(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?new Array(c-f+1).join(b)+e:e)}function ic(a){return a.replace(Bp,"\\$&")}function jc(a){return new RegExp("^(?:"+a.map(ic).join("|")+")","i")}function kc(a){for(var b={},c=-1,d=a.length;++c<d;)b[a[c].toLowerCase()]=c;return b}function lc(a,b,c){var d=zp.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function mc(a,b,c){var d=zp.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function nc(a,b,c){var d=zp.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function oc(a,b,c){var d=zp.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function pc(a,b,c){var d=zp.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(+d[0]>68?1900:2e3),c+d[0].length):-1}function qc(a,b,c){var d=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")),c+d[0].length):-1}function rc(a,b,c){var d=zp.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function sc(a,b,c){var d=zp.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function tc(a,b,c){var d=zp.exec(b.slice(c,c+3));return d?(a.m=0,a.d=+d[0],c+d[0].length):-1}function uc(a,b,c){var d=zp.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function vc(a,b,c){var d=zp.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function wc(a,b,c){var d=zp.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function xc(a,b,c){var d=zp.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function yc(a,b,c){var d=Ap.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function zc(a,b){return hc(a.getDate(),b,2)}function Ac(a,b){return hc(a.getHours(),b,2)}function Bc(a,b){return hc(a.getHours()%12||12,b,2)}function Cc(a,b){return hc(1+ro.count(Jo(a),a),b,3)}function Dc(a,b){return hc(a.getMilliseconds(),b,3)}function Ec(a,b){return hc(a.getMonth()+1,b,2)}function Fc(a,b){return hc(a.getMinutes(),b,2)}function Gc(a,b){return hc(a.getSeconds(),b,2)}function Hc(a,b){return hc(to.count(Jo(a),a),b,2)}function Ic(a){return a.getDay()}function Jc(a,b){return hc(uo.count(Jo(a),a),b,2)}function Kc(a,b){return hc(a.getFullYear()%100,b,2)}function Lc(a,b){return hc(a.getFullYear()%1e4,b,4)}function Mc(a){var b=a.getTimezoneOffset();return(b>0?"-":(b*=-1,"+"))+hc(b/60|0,"0",2)+hc(b%60,"0",2)}function Nc(a,b){return hc(a.getUTCDate(),b,2)}function Oc(a,b){return hc(a.getUTCHours(),b,2)}function Pc(a,b){return hc(a.getUTCHours()%12||12,b,2)}function Qc(a,b){return hc(1+Po.count(fp(a),a),b,3)}function Rc(a,b){return hc(a.getUTCMilliseconds(),b,3)}function Sc(a,b){
return hc(a.getUTCMonth()+1,b,2)}function Tc(a,b){return hc(a.getUTCMinutes(),b,2)}function Uc(a,b){return hc(a.getUTCSeconds(),b,2)}function Vc(a,b){return hc(Ro.count(fp(a),a),b,2)}function Wc(a){return a.getUTCDay()}function Xc(a,b){return hc(So.count(fp(a),a),b,2)}function Yc(a,b){return hc(a.getUTCFullYear()%100,b,2)}function Zc(a,b){return hc(a.getUTCFullYear()%1e4,b,4)}function $c(){return"+0000"}function _c(){return"%"}function ad(b){return up=gc(b),a.timeFormat=up.format,a.timeParse=up.parse,a.utcFormat=up.utcFormat,a.utcParse=up.utcParse,up}function bd(a){return a.toISOString()}function cd(a){var b=new Date(a);return isNaN(b)?null:b}function dd(a){function b(b){var f=b+"",g=c.get(f);if(!g){if(e!==Ip)return e;c.set(f,g=d.push(b))}return a[(g-1)%a.length]}var c=f(),d=[],e=Ip;return a=null==a?[]:Hp.call(a),b.domain=function(a){if(!arguments.length)return d.slice();d=[],c=f();for(var e,g,h=-1,i=a.length;++h<i;)c.has(g=(e=a[h])+"")||c.set(g,d.push(e));return b},b.range=function(c){return arguments.length?(a=Hp.call(c),b):a.slice()},b.unknown=function(a){return arguments.length?(e=a,b):e},b.copy=function(){return dd().domain(d).range(a).unknown(e)},b}function ed(){function a(){var a=e().length,d=g[1]<g[0],l=g[d-0],m=g[1-d];b=(m-l)/Math.max(1,a-i+2*j),h&&(b=Math.floor(b)),l+=(m-l-b*(a-i))*k,c=b*(1-i),h&&(l=Math.round(l),c=Math.round(c));var n=Kj(a).map(function(a){return l+b*a});return f(d?n.reverse():n)}var b,c,d=dd().unknown(void 0),e=d.domain,f=d.range,g=[0,1],h=!1,i=0,j=0,k=.5;return delete d.unknown,d.domain=function(b){return arguments.length?(e(b),a()):e()},d.range=function(b){return arguments.length?(g=[+b[0],+b[1]],a()):g.slice()},d.rangeRound=function(b){return g=[+b[0],+b[1]],h=!0,a()},d.bandwidth=function(){return c},d.step=function(){return b},d.round=function(b){return arguments.length?(h=!!b,a()):h},d.padding=function(b){return arguments.length?(i=j=Math.max(0,Math.min(1,b)),a()):i},d.paddingInner=function(b){return arguments.length?(i=Math.max(0,Math.min(1,b)),a()):i},d.paddingOuter=function(b){return arguments.length?(j=Math.max(0,Math.min(1,b)),a()):j},d.align=function(b){return arguments.length?(k=Math.max(0,Math.min(1,b)),a()):k},d.copy=function(){return ed().domain(e()).range(g).round(h).paddingInner(i).paddingOuter(j).align(k)},a()}function fd(a){var b=a.copy;return a.padding=a.paddingOuter,delete a.paddingInner,delete a.paddingOuter,a.copy=function(){return fd(b())},a}function gd(){return fd(ed().paddingInner(1))}function hd(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:Jp(b)}function id(a){return function(b,c){var d=a(b=+b,c=+c);return function(a){return a<=b?0:a>=c?1:d(a)}}}function jd(a){return function(b,c){var d=a(b=+b,c=+c);return function(a){return a<=0?b:a>=1?c:d(a)}}}function kd(a,b,c,d){var e=a[0],f=a[1],g=b[0],h=b[1];return f<e?(e=c(f,e),g=d(h,g)):(e=c(e,f),g=d(g,h)),function(a){return g(e(a))}}function ld(a,b,c,d){var e=Math.min(a.length,b.length)-1,f=new Array(e),g=new Array(e),h=-1;for(a[e]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++h<e;)f[h]=c(a[h],a[h+1]),g[h]=d(b[h],b[h+1]);return function(b){var c=yj(a,b,1,e)-1;return g[c](f[c](b))}}function md(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp())}function nd(a,b){function c(){return e=Math.min(h.length,i.length)>2?ld:kd,f=g=null,d}function d(b){return(f||(f=e(h,i,k?id(a):a,j)))(+b)}var e,f,g,h=Lp,i=Lp,j=gn,k=!1;return d.invert=function(a){return(g||(g=e(i,h,hd,k?jd(b):b)))(+a)},d.domain=function(a){return arguments.length?(h=Gp.call(a,Kp),c()):h.slice()},d.range=function(a){return arguments.length?(i=Hp.call(a),c()):i.slice()},d.rangeRound=function(a){return i=Hp.call(a),j=hn,c()},d.clamp=function(a){return arguments.length?(k=!!a,c()):k},d.interpolate=function(a){return arguments.length?(j=a,c()):j},c()}function od(a){var b=a.domain;return a.ticks=function(a){var c=b();return Oj(c[0],c[c.length-1],null==a?10:a)},a.tickFormat=function(a,c){return Mp(b(),a,c)},a.nice=function(d){var e=b(),f=e.length-1,g=null==d?10:d,h=e[0],i=e[f],j=c(h,i,g);return j&&(j=c(Math.floor(h/j)*j,Math.ceil(i/j)*j,g),e[0]=Math.floor(h/j)*j,e[f]=Math.ceil(i/j)*j,b(e)),a},a}function pd(){var a=nd(hd,bn);return a.copy=function(){return md(a,pd())},od(a)}function qd(){function a(a){return+a}var b=[0,1];return a.invert=a,a.domain=a.range=function(c){return arguments.length?(b=Gp.call(c,Kp),a):b.slice()},a.copy=function(){return qd().domain(b)},od(a)}function rd(a,b){return(b=Math.log(b/a))?function(c){return Math.log(c/a)/b}:Jp(b)}function sd(a,b){return a<0?function(c){return-Math.pow(-b,c)*Math.pow(-a,1-c)}:function(c){return Math.pow(b,c)*Math.pow(a,1-c)}}function td(a){return isFinite(a)?+("1e"+a):a<0?0:a}function ud(a){return 10===a?td:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function vd(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function wd(a){return function(b){return-a(-b)}}function xd(){function b(){return f=vd(e),g=ud(e),d()[0]<0&&(f=wd(f),g=wd(g)),c}var c=nd(rd,sd).domain([1,10]),d=c.domain,e=10,f=vd(10),g=ud(10);return c.base=function(a){return arguments.length?(e=+a,b()):e},c.domain=function(a){return arguments.length?(d(a),b()):d()},c.ticks=function(a){var b,c=d(),h=c[0],i=c[c.length-1];(b=i<h)&&(m=h,h=i,i=m);var j,k,l,m=f(h),n=f(i),o=null==a?10:+a,p=[];if(!(e%1)&&n-m<o){if(m=Math.round(m)-1,n=Math.round(n)+1,h>0){for(;m<n;++m)for(k=1,j=g(m);k<e;++k)if(!((l=j*k)<h)){if(l>i)break;p.push(l)}}else for(;m<n;++m)for(k=e-1,j=g(m);k>=1;--k)if(!((l=j*k)<h)){if(l>i)break;p.push(l)}}else p=Oj(m,n,Math.min(n-m,o)).map(g);return b?p.reverse():p},c.tickFormat=function(b,d){if(null==d&&(d=10===e?".0e":","),"function"!=typeof d&&(d=a.format(d)),b===1/0)return d;null==b&&(b=10);var h=Math.max(1,e*b/c.ticks().length);return function(a){var b=a/g(Math.round(f(a)));return b*e<e-.5&&(b*=e),b<=h?d(a):""}},c.nice=function(){return d(Np(d(),{floor:function(a){return g(Math.floor(f(a)))},ceil:function(a){return g(Math.ceil(f(a)))}}))},c.copy=function(){return md(c,xd().base(e))},c}function yd(a,b){return a<0?-Math.pow(-a,b):Math.pow(a,b)}function zd(){function a(a,b){return(b=yd(b,c)-(a=yd(a,c)))?function(d){return(yd(d,c)-a)/b}:Jp(b)}function b(a,b){return b=yd(b,c)-(a=yd(a,c)),function(d){return yd(a+b*d,1/c)}}var c=1,d=nd(a,b),e=d.domain;return d.exponent=function(a){return arguments.length?(c=+a,e(e())):c},d.copy=function(){return md(d,zd().exponent(c))},od(d)}function Ad(){return zd().exponent(.5)}function Bd(){function a(){var a=0,f=Math.max(1,d.length);for(e=new Array(f-1);++a<f;)e[a-1]=Rj(c,a/f);return b}function b(a){if(!isNaN(a=+a))return d[yj(e,a)]}var c=[],d=[],e=[];return b.invertExtent=function(a){var b=d.indexOf(a);return b<0?[NaN,NaN]:[b>0?e[b-1]:c[0],b<e.length?e[b]:c[c.length-1]]},b.domain=function(b){if(!arguments.length)return c.slice();c=[];for(var d,e=0,f=b.length;e<f;++e)null==(d=b[e])||isNaN(d=+d)||c.push(d);return c.sort(vj),a()},b.range=function(b){return arguments.length?(d=Hp.call(b),a()):d.slice()},b.quantiles=function(){return e.slice()},b.copy=function(){return Bd().domain(c).range(d)},b}function Cd(){function a(a){if(a<=a)return g[yj(f,a,0,e)]}function b(){var b=-1;for(f=new Array(e);++b<e;)f[b]=((b+1)*d-(b-e)*c)/(e+1);return a}var c=0,d=1,e=1,f=[.5],g=[0,1];return a.domain=function(a){return arguments.length?(c=+a[0],d=+a[1],b()):[c,d]},a.range=function(a){return arguments.length?(e=(g=Hp.call(a)).length-1,b()):g.slice()},a.invertExtent=function(a){var b=g.indexOf(a);return b<0?[NaN,NaN]:b<1?[c,f[0]]:b>=e?[f[e-1],d]:[f[b-1],f[b]]},a.copy=function(){return Cd().domain([c,d]).range(g)},od(a)}function Dd(){function a(a){if(a<=a)return c[yj(b,a,0,d)]}var b=[.5],c=[0,1],d=1;return a.domain=function(e){return arguments.length?(b=Hp.call(e),d=Math.min(b.length,c.length-1),a):b.slice()},a.range=function(e){return arguments.length?(c=Hp.call(e),d=Math.min(b.length,c.length-1),a):c.slice()},a.invertExtent=function(a){var d=c.indexOf(a);return[b[d-1],b[d]]},a.copy=function(){return Dd().domain(b).range(c)},a}function Ed(a){return new Date(a)}function Fd(a){return a instanceof Date?+a:+new Date(+a)}function Gd(a,b,d,e,f,g,h,i,j){function k(c){return(h(c)<c?p:g(c)<c?q:f(c)<c?r:e(c)<c?s:b(c)<c?d(c)<c?t:u:a(c)<c?v:w)(c)}function l(b,d,e,f){if(null==b&&(b=10),"number"==typeof b){var g=Math.abs(e-d)/b,h=wj(function(a){return a[2]}).right(x,g);h===x.length?(f=c(d/Up,e/Up,b),b=a):h?(h=x[g/x[h-1][2]<x[h][2]/g?h-1:h],f=h[1],b=h[0]):(f=c(d,e,b),b=i)}return null==f?b:b.every(f)}var m=nd(hd,bn),n=m.invert,o=m.domain,p=j(".%L"),q=j(":%S"),r=j("%I:%M"),s=j("%I %p"),t=j("%a %d"),u=j("%b %d"),v=j("%B"),w=j("%Y"),x=[[h,1,Op],[h,5,5*Op],[h,15,15*Op],[h,30,30*Op],[g,1,Pp],[g,5,5*Pp],[g,15,15*Pp],[g,30,30*Pp],[f,1,Qp],[f,3,3*Qp],[f,6,6*Qp],[f,12,12*Qp],[e,1,Rp],[e,2,2*Rp],[d,1,Sp],[b,1,Tp],[b,3,3*Tp],[a,1,Up]];return m.invert=function(a){return new Date(n(a))},m.domain=function(a){return arguments.length?o(Gp.call(a,Fd)):o().map(Ed)},m.ticks=function(a,b){var c,d=o(),e=d[0],f=d[d.length-1],g=f<e;return g&&(c=e,e=f,f=c),c=l(a,e,f,b),c=c?c.range(e,f+1):[],g?c.reverse():c},m.tickFormat=function(a,b){return null==b?k:j(b)},m.nice=function(a,b){var c=o();return(a=l(a,c[0],c[c.length-1],b))?o(Np(c,a)):m},m.copy=function(){return md(m,Gd(a,b,d,e,f,g,h,i,j))},m}function Hd(a){var b=a.length;return function(c){return a[Math.max(0,Math.min(b-1,Math.floor(c*b)))]}}function Id(a){function b(b){var f=(b-c)/(d-c);return a(e?Math.max(0,Math.min(1,f)):f)}var c=0,d=1,e=!1;return b.domain=function(a){return arguments.length?(c=+a[0],d=+a[1],b):[c,d]},b.clamp=function(a){return arguments.length?(e=!!a,b):e},b.interpolator=function(c){return arguments.length?(a=c,b):a},b.copy=function(){return Id(a).domain([c,d]).clamp(e)},od(b)}function Jd(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===jq&&b.documentElement.namespaceURI===jq?b.createElement(a):b.createElementNS(c,a)}}function Kd(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function Ld(){return new Md}function Md(){this._="@"+(++nq).toString(36)}function Nd(a,b,c){return a=Od(a,b,c),function(b){var c=b.relatedTarget;c&&(c===this||8&c.compareDocumentPosition(this))||a.call(this,b)}}function Od(b,c,d){return function(e){var f=a.event;a.event=e;try{b.call(this,this.__data__,c,d)}finally{a.event=f}}}function Pd(a){return a.trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}})}function Qd(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;d<f;++d)c=b[d],a.type&&c.type!==a.type||c.name!==a.name?b[++e]=c:this.removeEventListener(c.type,c.listener,c.capture);++e?b.length=e:delete this.__on}}}function Rd(a,b,c){var d=sq.hasOwnProperty(a.type)?Nd:Od;return function(e,f,g){var h,i=this.__on,j=d(b,f,g);if(i)for(var k=0,l=i.length;k<l;++k)if((h=i[k]).type===a.type&&h.name===a.name)return this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=j,h.capture=c),void(h.value=b);this.addEventListener(a.type,j,c),h={type:a.type,name:a.name,value:b,listener:j,capture:c},i?i.push(h):this.__on=[h]}}function Sd(b,c,d,e){var f=a.event;b.sourceEvent=a.event,a.event=b;try{return c.apply(d,e)}finally{a.event=f}}function Td(){}function Ud(){return[]}function Vd(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function Wd(a,b,c,d,e,f){for(var g,h=0,i=b.length,j=f.length;h<j;++h)(g=b[h])?(g.__data__=f[h],d[h]=g):c[h]=new Vd(a,f[h]);for(;h<i;++h)(g=b[h])&&(e[h]=g)}function Xd(a,b,c,d,e,f,g){var h,i,j,k={},l=b.length,m=f.length,n=new Array(l);for(h=0;h<l;++h)(i=b[h])&&(n[h]=j=Fq+g.call(i,i.__data__,h,b),j in k?e[h]=i:k[j]=i);for(h=0;h<m;++h)j=Fq+g.call(a,f[h],h,f),(i=k[j])?(d[h]=i,i.__data__=f[h],k[j]=null):c[h]=new Vd(a,f[h]);for(h=0;h<l;++h)(i=b[h])&&k[n[h]]===i&&(e[h]=i)}function Yd(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function Zd(a){return function(){this.removeAttribute(a)}}function $d(a){return function(){this.removeAttributeNS(a.space,a.local)}}function _d(a,b){return function(){this.setAttribute(a,b)}}function ae(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function be(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function ce(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function de(a){return function(){this.style.removeProperty(a)}}function ee(a,b,c){return function(){this.style.setProperty(a,b,c)}}function fe(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}function ge(a){return function(){delete this[a]}}function he(a,b){return function(){this[a]=b}}function ie(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function je(a){return a.trim().split(/^|\s+/)}function ke(a){return a.classList||new le(a)}function le(a){this._node=a,this._names=je(a.getAttribute("class")||"")}function me(a,b){for(var c=ke(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function ne(a,b){for(var c=ke(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function oe(a){return function(){me(this,a)}}function pe(a){return function(){ne(this,a)}}function qe(a,b){return function(){(b.apply(this,arguments)?me:ne)(this,a)}}function re(){this.textContent=""}function se(a){return function(){this.textContent=a}}function te(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function ue(){this.innerHTML=""}function ve(a){return function(){this.innerHTML=a}}function we(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function xe(){this.nextSibling&&this.parentNode.appendChild(this)}function ye(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ze(){return null}function Ae(){var a=this.parentNode;a&&a.removeChild(this)}function Be(a,b,c){var d=Sq(a),e=d.CustomEvent;e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}function Ce(a,b){return function(){return Be(this,a,b)}}function De(a,b){return function(){return Be(this,a,b.apply(this,arguments))}}function Ee(a,b){this._groups=a,this._parents=b}function Fe(){return new Ee([[document.documentElement]],dr)}function Ge(a,b){var c=a.__transition;if(!c||!(c=c[b])||c.state>kr)throw new Error("too late");return c}function He(a,b){var c=a.__transition;if(!c||!(c=c[b])||c.state>mr)throw new Error("too late");return c}function Ie(a,b){var c=a.__transition;if(!c||!(c=c[b]))throw new Error("too late");return c}function Je(a,b,c){function d(a){c.state=lr,c.timer.restart(e,c.delay,c.time),c.delay<=a&&e(a-c.delay)}function e(d){var j,k,l,m;if(c.state!==lr)return g();for(j in i)if(m=i[j],m.name===c.name){if(m.state===nr)return bo(e);m.state===or?(m.state=qr,m.timer.stop(),m.on.call("interrupt",a,a.__data__,m.index,m.group),delete i[j]):+j<b&&(m.state=qr,m.timer.stop(),delete i[j])}if(bo(function(){c.state===nr&&(c.state=or,c.timer.restart(f,c.delay,c.time),f(d))}),c.state=mr,c.on.call("start",a,a.__data__,c.index,c.group),c.state===mr){for(c.state=nr,h=new Array(l=c.tween.length),j=0,k=-1;j<l;++j)(m=c.tween[j].value.call(a,a.__data__,c.index,c.group))&&(h[++k]=m);h.length=k+1}}function f(b){for(var d=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(g),c.state=pr,1),e=-1,f=h.length;++e<f;)h[e].call(null,d);c.state===pr&&(c.on.call("end",a,a.__data__,c.index,c.group),g())}function g(){c.state=qr,c.timer.stop(),delete i[b];for(var d in i)return;delete a.__transition}var h,i=a.__transition;i[b]=c,c.timer=Tb(d,0,c.time)}function Ke(a,b){var c,d;return function(){var e=He(this,a),f=e.tween;if(f!==c){d=c=f;for(var g=0,h=d.length;g<h;++g)if(d[g].name===b){d=d.slice(),d.splice(g,1);break}}e.tween=d}}function Le(a,b,c){var d,e;if("function"!=typeof c)throw new Error;return function(){var f=He(this,a),g=f.tween;if(g!==d){e=(d=g).slice();for(var h={name:b,value:c},i=0,j=e.length;i<j;++i)if(e[i].name===b){e[i]=h;break}i===j&&e.push(h)}f.tween=e}}function Me(a,b,c){var d=a._id;return a.each(function(){var a=He(this,d);(a.value||(a.value={}))[b]=c.apply(this,arguments)}),function(a){return Ie(a,d).value[b]}}function Ne(a){return function(){this.removeAttribute(a)}}function Oe(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Pe(a,b,c){var d,e;return function(){var f=this.getAttribute(a);return f===c?null:f===d?e:e=b(d=f,c)}}function Qe(a,b,c){var d,e;return function(){var f=this.getAttributeNS(a.space,a.local);return f===c?null:f===d?e:e=b(d=f,c)}}function Re(a,b,c){var d,e,f;return function(){var g,h=c(this);return null==h?void this.removeAttribute(a):(g=this.getAttribute(a),g===h?null:g===d&&h===e?f:f=b(d=g,e=h))}}function Se(a,b,c){var d,e,f;return function(){var g,h=c(this);return null==h?void this.removeAttributeNS(a.space,a.local):(g=this.getAttributeNS(a.space,a.local),g===h?null:g===d&&h===e?f:f=b(d=g,e=h))}}function Te(a,b){function c(){var c=this,d=b.apply(c,arguments);return d&&function(b){c.setAttributeNS(a.space,a.local,d(b))}}return c._value=b,c}function Ue(a,b){function c(){var c=this,d=b.apply(c,arguments);return d&&function(b){c.setAttribute(a,d(b))}}return c._value=b,c}function Ve(a,b){return function(){Ge(this,a).delay=+b.apply(this,arguments)}}function We(a,b){return b=+b,function(){Ge(this,a).delay=b}}function Xe(a,b){return function(){He(this,a).duration=+b.apply(this,arguments)}}function Ye(a,b){return b=+b,function(){He(this,a).duration=b}}function Ze(a,b){if("function"!=typeof b)throw new Error;return function(){He(this,a).ease=b}}function $e(a){return(a+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})}function _e(a,b,c){var d,e,f=$e(b)?Ge:He;return function(){var g=f(this,a),h=g.on;h!==d&&(e=(d=h).copy()).on(b,c),g.on=e}}function af(a){return function(){var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}}function bf(a,b){var c,d,e;return function(){var f=Sq(this).getComputedStyle(this,null),g=f.getPropertyValue(a),h=(this.style.removeProperty(a),f.getPropertyValue(a));return g===h?null:g===c&&h===d?e:e=b(c=g,d=h)}}function cf(a){return function(){this.style.removeProperty(a)}}function df(a,b,c){var d,e;return function(){var f=Sq(this).getComputedStyle(this,null).getPropertyValue(a);return f===c?null:f===d?e:e=b(d=f,c)}}function ef(a,b,c){var d,e,f;return function(){var g=Sq(this).getComputedStyle(this,null),h=g.getPropertyValue(a),i=c(this);return null==i&&(this.style.removeProperty(a),i=g.getPropertyValue(a)),h===i?null:h===d&&i===e?f:f=b(d=h,e=i)}}function ff(a,b,c){function d(){var d=this,e=b.apply(d,arguments);return e&&function(b){d.style.setProperty(a,e(b),c)}}return d._value=b,d}function gf(a){return function(){this.textContent=a}}function hf(a){return function(){var b=a(this);this.textContent=null==b?"":b}}function jf(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}function kf(a){return Fe().transition(a)}function lf(){return++Nr}function mf(a,b){for(var c;!(c=a.__transition)||!(c=c[b]);)if(!(a=a.parentNode))return Pr.time=Qb(),Pr;return c}function nf(a,b,c){var d=a(c);return"translate("+(isFinite(d)?d:b(c))+",0)"}function of(a,b,c){var d=a(c);return"translate(0,"+(isFinite(d)?d:b(c))+")"}function pf(a){var b=a.bandwidth()/2;return a.round()&&(b=Math.round(b)),function(c){return a(c)+b}}function qf(){return!this.__axis}function rf(a,b){function c(c){var j,k=null==e?b.ticks?b.ticks.apply(b,d):b.domain():e,l=null==f?b.tickFormat?b.tickFormat.apply(b,d):Ur:f,m=Math.max(g,0)+i,n=a===Vr||a===Xr?nf:of,o=b.range(),p=o[0]+.5,q=o[o.length-1]+.5,r=(b.bandwidth?pf:Ur)(b.copy()),s=c.selection?c.selection():c,t=s.selectAll(".domain").data([null]),u=s.selectAll(".tick").data(k,b).order(),v=u.exit(),w=u.enter().append("g").attr("class","tick"),x=u.select("line"),y=u.select("text"),z=a===Vr||a===Yr?-1:1,A=a===Yr||a===Wr?(j="x","y"):(j="y","x");t=t.merge(t.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),u=u.merge(w),x=x.merge(w.append("line").attr("stroke","#000").attr(j+"2",z*g).attr(A+"1",.5).attr(A+"2",.5)),y=y.merge(w.append("text").attr("fill","#000").attr(j,z*m).attr(A,.5).attr("dy",a===Vr?"0em":a===Xr?"0.71em":"0.32em")),c!==s&&(t=t.transition(c),u=u.transition(c),x=x.transition(c),y=y.transition(c),v=v.transition(c).attr("opacity",Zr).attr("transform",function(a){return n(r,this.parentNode.__axis||r,a)}),w.attr("opacity",Zr).attr("transform",function(a){return n(this.parentNode.__axis||r,r,a)})),v.remove(),t.attr("d",a===Yr||a==Wr?"M"+z*h+","+p+"H0.5V"+q+"H"+z*h:"M"+p+","+z*h+"V0.5H"+q+"V"+z*h),u.attr("opacity",1).attr("transform",function(a){return n(r,r,a)}),x.attr(j+"2",z*g),y.attr(j,z*m).text(l),s.filter(qf).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",a===Wr?"start":a===Yr?"end":"middle"),s.each(function(){this.__axis=r})}var d=[],e=null,f=null,g=6,h=6,i=3;return c.scale=function(a){return arguments.length?(b=a,c):b},c.ticks=function(){return d=Tr.call(arguments),c},c.tickArguments=function(a){return arguments.length?(d=null==a?[]:Tr.call(a),c):d.slice()},c.tickValues=function(a){return arguments.length?(e=null==a?null:Tr.call(a),c):e&&e.slice()},c.tickFormat=function(a){return arguments.length?(f=a,c):f},c.tickSize=function(a){return arguments.length?(g=h=+a,c):g},c.tickSizeInner=function(a){return arguments.length?(g=+a,c):g},c.tickSizeOuter=function(a){return arguments.length?(h=+a,c):h},c.tickPadding=function(a){return arguments.length?(i=+a,c):i},c}function sf(a){return rf(Vr,a)}function tf(a){return rf(Wr,a)}function uf(a){return rf(Xr,a)}function vf(a){return rf(Yr,a)}function wf(a,b){return a.parent===b.parent?1:2}function xf(a){return a.reduce(yf,0)/a.length}function yf(a,b){return a+b.x}function zf(a){return 1+a.reduce(Af,0)}function Af(a,b){return Math.max(a,b.y)}function Bf(a){for(var b;b=a.children;)a=b[0];return a}function Cf(a){for(var b;b=a.children;)a=b[b.length-1];return a}function Df(a,b){if(a===b)return a;var c=a.ancestors(),d=b.ancestors(),e=null;for(a=c.pop(),b=d.pop();a===b;)e=a,a=c.pop(),b=d.pop();return e}function Ef(a,b){var c,d,e,f,g,h=new Jf(a),i=+a.value&&(h.value=a.value),j=[h];for(null==b&&(b=Gf);c=j.pop();)if(i&&(c.value=+c.data.value),(e=b(c.data))&&(g=e.length))for(c.children=new Array(g),f=g-1;f>=0;--f)j.push(d=c.children[f]=new Jf(e[f])),d.parent=c,d.depth=c.depth+1;return h.eachBefore(If)}function Ff(){return Ef(this).eachBefore(Hf)}function Gf(a){return a.children}function Hf(a){a.data=a.data.data}function If(a){var b=0;do{a.height=b}while((a=a.parent)&&a.height<++b)}function Jf(a){this.data=a,this.depth=this.height=0,this.parent=null}function Kf(a){this._=a,this.next=null}function Lf(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r-b.r;return e*e+1e-6>c*c+d*d}function Mf(a,b){var c,d,e,f=null,g=a.head;switch(b.length){case 1:c=Nf(b[0]);break;case 2:c=Of(b[0],b[1]);break;case 3:c=Pf(b[0],b[1],b[2])}for(;g;)e=g._,d=g.next,c&&Lf(c,e)?f=g:(f?(a.tail=f,f.next=null):a.head=a.tail=null,b.push(e),c=Mf(a,b),b.pop(),a.head?(g.next=a.head,a.head=g):(g.next=null,a.head=a.tail=g),f=a.tail,f.next=d),g=d;return a.tail=f,c}function Nf(a){return{x:a.x,y:a.y,r:a.r}}function Of(a,b){var c=a.x,d=a.y,e=a.r,f=b.x,g=b.y,h=b.r,i=f-c,j=g-d,k=h-e,l=Math.sqrt(i*i+j*j);return{x:(c+f+i/l*k)/2,y:(d+g+j/l*k)/2,r:(l+e+h)/2}}function Pf(a,b,c){var d=a.x,e=a.y,f=a.r,g=b.x,h=b.y,i=b.r,j=c.x,k=c.y,l=c.r,m=2*(d-g),n=2*(e-h),o=2*(i-f),p=d*d+e*e-f*f-g*g-h*h+i*i,q=2*(d-j),r=2*(e-k),s=2*(l-f),t=d*d+e*e-f*f-j*j-k*k+l*l,u=q*n-m*r,v=(n*t-r*p)/u-d,w=(r*o-n*s)/u,x=(q*p-m*t)/u-e,y=(m*s-q*o)/u,z=w*w+y*y-1,A=2*(v*w+x*y+f),B=v*v+x*x-f*f,C=(-A-Math.sqrt(A*A-4*z*B))/(2*z);return{x:v+w*C+d,y:x+y*C+e,r:C}}function Qf(a,b,c){var d=a.x,e=a.y,f=b.r+c.r,g=a.r+c.r,h=b.x-d,i=b.y-e,j=h*h+i*i;if(j){var k=.5+((g*=g)-(f*=f))/(2*j),l=Math.sqrt(Math.max(0,2*f*(g+j)-(g-=j)*g-f*f))/(2*j);c.x=d+k*h+l*i,c.y=e+k*i-l*h}else c.x=d+g,c.y=e}function Rf(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return e*e>c*c+d*d}function Sf(a,b,c){var d=a.x-b,e=a.y-c;return d*d+e*e}function Tf(a){this._=a,this.next=null,this.previous=null}function Uf(a){if(!(e=a.length))return 0;var b,c,d,e;if(b=a[0],b.x=0,b.y=0,!(e>1))return b.r;if(c=a[1],b.x=-c.r,c.x=b.r,c.y=0,!(e>2))return b.r+c.r;Qf(c,b,d=a[2]);var f,g,h,i,j,k,l,m=b.r*b.r,n=c.r*c.r,o=d.r*d.r,p=m+n+o,q=m*b.x+n*c.x+o*d.x,r=m*b.y+n*c.y+o*d.y;b=new Tf(b),c=new Tf(c),d=new Tf(d),b.next=d.previous=c,c.next=b.previous=d,d.next=c.previous=b;a:for(h=3;h<e;++h){if(Qf(b._,c._,d=a[h]),d=new Tf(d),(j=b.previous)===(i=c.next)){if(Rf(i._,d._)){b=c,c=i,--h;continue a}}else{k=i._.r,l=j._.r;do{if(k<=l){if(Rf(i._,d._)){c=i,b.next=c,c.previous=b,--h;continue a}i=i.next,k+=i._.r}else{if(Rf(j._,d._)){b=j,b.next=c,c.previous=b,--h;continue a}j=j.previous,l+=j._.r}}while(i!==j.next)}for(d.previous=b,d.next=c,b.next=c.previous=c=d,p+=o=d._.r*d._.r,q+=o*d._.x,r+=o*d._.y,m=Sf(b._,f=q/p,g=r/p);(d=d.next)!==c;)(o=Sf(d._,f,g))<m&&(b=d,m=o);c=b.next}for(b=[c._],d=c;(d=d.next)!==c;)b.push(d._);for(d=ks(b),h=0;h<e;++h)b=a[h],b.x-=d.x,b.y-=d.y;return d.r}function Vf(a){return null==a?null:Wf(a)}function Wf(a){if("function"!=typeof a)throw new Error;return a}function Xf(){return 0}function Yf(a){return Math.sqrt(a.value)}function Zf(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function $f(a,b){return function(c){if(d=c.children){var d,e,f,g=d.length,h=a(c)*b||0;if(h)for(e=0;e<g;++e)d[e].r+=h;if(f=Uf(d),h)for(e=0;e<g;++e)d[e].r-=h;c.r=f+h}}}function _f(a){return function(b){var c=b.parent;b.r*=a,c&&(b.x=c.x+a*b.x,b.y=c.y+a*b.y)}}function ag(a){return a.id}function bg(a){return a.parentId}function cg(a,b){return a.parent===b.parent?1:2}function dg(a){var b=a.children;return b?b[0]:a.t}function eg(a){var b=a.children;return b?b[b.length-1]:a.t}function fg(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function gg(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function hg(a,b,c){return a.a.parent===b.parent?a.a:c}function ig(a,b){this._=a,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=b}function jg(a){for(var b,c,d,e,f,g=new ig(a,0),h=[g];b=h.pop();)if(d=b._.children)for(b.children=new Array(f=d.length),e=f-1;e>=0;--e)h.push(c=b.children[e]=new ig(d[e],e)),c.parent=b;return(g.parent=new ig(null,0)).children=[g],g}function kg(a,b,c,d,e,f){for(var g,h,i,j,k,l,m,n,o,p,q,r,s=[],t=b.children,u=0,v=t.length,w=b.value;u<v;){for(j=e-c,k=f-d,m=n=l=t[u].value,q=Math.max(k/j,j/k)/(w*a),r=l*l*q,p=Math.max(n/r,r/m),i=u+1;i<v;++i){if(l+=h=t[i].value,h<m&&(m=h),h>n&&(n=h),r=l*l*q,(o=Math.max(n/r,r/m))>p){l-=h;break}p=o}s.push(g={value:l,dice:j<k,children:t.slice(u,i)}),g.dice?ps(g,c,d,e,w?d+=k*l/w:f):ws(g,c,d,w?c+=j*l/w:e,f),w-=l,u=i}return s}function lg(a){return a.x+a.vx}function mg(a){return a.y+a.vy}function ng(a,b){return b}function og(a,b){var c=a.get(b);if(!c)throw new Error("missing: "+b);return c}function pg(a){return a.x}function qg(a){return a.y}function rg(){a.event.stopImmediatePropagation()}function sg(a,b){var c=a.document.documentElement,d=er(a).on("dragstart.drag",null);b&&(d.on("click.drag",Os,!0),setTimeout(function(){d.on("click.drag",null)},0)),"onselectstart"in c?d.on("selectstart.drag",null):(c.style.MozUserSelect=c.__noselect,delete c.__noselect)}function tg(a,b,c,d,e,f,g,h,i,j){this.target=a,this.type=b,this.subject=c,this.identifier=d,this.active=e,this.x=f,this.y=g,this.dx=h,this.dy=i,this._=j}function ug(){return!a.event.button}function vg(){return this.parentNode}function wg(b){return null==b?{x:a.event.x,y:a.event.y}:b}function xg(a){return a[0]}function yg(a){return a[1]}function zg(){this._=null}function Ag(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Bg(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function Cg(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function Dg(a){for(;a.L;)a=a.L;return a}function Eg(a,b,c,d){var e=[null,null],f=Xs.push(e)-1;return e.left=a,e.right=b,c&&Gg(e,a,b,c),d&&Gg(e,b,a,d),Vs[a.index].halfedges.push(f),Vs[b.index].halfedges.push(f),e}function Fg(a,b,c){var d=[b,c];return d.left=a,d}function Gg(a,b,c,d){a[0]||a[1]?a.left===c?a[1]=d:a[0]=d:(a[0]=d,a.left=b,a.right=c)}function Hg(a,b,c,d,e){var f,g=a[0],h=a[1],i=g[0],j=g[1],k=h[0],l=h[1],m=0,n=1,o=k-i,p=l-j;if(f=b-i,o||!(f>0)){if(f/=o,o<0){if(f<m)return;f<n&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=d-i,o||!(f<0)){if(f/=o,o<0){if(f>n)return;f>m&&(m=f)}else if(o>0){if(f<m)return;f<n&&(n=f)}if(f=c-j,p||!(f>0)){if(f/=p,p<0){if(f<m)return;f<n&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=e-j,p||!(f<0)){if(f/=p,p<0){if(f>n)return;f>m&&(m=f)}else if(p>0){if(f<m)return;f<n&&(n=f)}return!(m>0||n<1)||(m>0&&(a[0]=[i+m*o,j+m*p]),n<1&&(a[1]=[i+n*o,j+n*p]),!0)}}}}}function Ig(a,b,c,d,e){var f=a[1];if(f)return!0;var g,h,i=a[0],j=a.left,k=a.right,l=j[0],m=j[1],n=k[0],o=k[1],p=(l+n)/2,q=(m+o)/2;if(o===m){if(p<b||p>=d)return;if(l>n){if(i){if(i[1]>=e)return}else i=[p,c];f=[p,e]}else{if(i){if(i[1]<c)return}else i=[p,e];f=[p,c]}}else if(g=(l-n)/(o-m),h=q-g*p,g<-1||g>1)if(l>n){if(i){if(i[1]>=e)return}else i=[(c-h)/g,c];f=[(e-h)/g,e]}else{if(i){if(i[1]<c)return}else i=[(e-h)/g,e];f=[(c-h)/g,c]}else if(m<o){if(i){if(i[0]>=d)return}else i=[b,g*b+h];f=[d,g*d+h]}else{if(i){if(i[0]<b)return}else i=[d,g*d+h];f=[b,g*b+h]}return a[0]=i,a[1]=f,!0}function Jg(a,b,c,d){for(var e,f=Xs.length;f--;)Ig(e=Xs[f],a,b,c,d)&&Hg(e,a,b,c,d)&&(Math.abs(e[0][0]-e[1][0])>$s||Math.abs(e[0][1]-e[1][1])>$s)||delete Xs[f]}function Kg(a){return Vs[a.index]={site:a,halfedges:[]}}function Lg(a,b){var c=a.site,d=b.left,e=b.right;return c===e&&(e=d,d=c),e?Math.atan2(e[1]-d[1],e[0]-d[0]):(c===d?(d=b[1],e=b[0]):(d=b[0],e=b[1]),Math.atan2(d[0]-e[0],e[1]-d[1]))}function Mg(a,b){return b[+(b.left!==a.site)]}function Ng(a,b){return b[+(b.left===a.site)]}function Og(){for(var a,b,c,d,e=0,f=Vs.length;e<f;++e)if((a=Vs[e])&&(d=(b=a.halfedges).length)){var g=new Array(d),h=new Array(d);for(c=0;c<d;++c)g[c]=c,h[c]=Lg(a,Xs[b[c]]);for(g.sort(function(a,b){return h[b]-h[a]}),c=0;c<d;++c)h[c]=b[g[c]];for(c=0;c<d;++c)b[c]=h[c]}}function Pg(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=Vs.length,r=!0;for(e=0;e<q;++e)if(f=Vs[e]){for(g=f.site,i=f.halfedges,h=i.length;h--;)Xs[i[h]]||i.splice(h,1);for(h=0,j=i.length;h<j;)n=Ng(f,Xs[i[h]]),o=n[0],p=n[1],k=Mg(f,Xs[i[++h%j]]),l=k[0],m=k[1],(Math.abs(o-l)>$s||Math.abs(p-m)>$s)&&(i.splice(h,0,Xs.push(Fg(g,n,Math.abs(o-a)<$s&&d-p>$s?[a,Math.abs(l-a)<$s?m:d]:Math.abs(p-d)<$s&&c-o>$s?[Math.abs(m-d)<$s?l:c,d]:Math.abs(o-c)<$s&&p-b>$s?[c,Math.abs(l-c)<$s?m:b]:Math.abs(p-b)<$s&&o-a>$s?[Math.abs(m-b)<$s?l:a,b]:null))-1),++j);j&&(r=!1)}if(r){var s,t,u,v=1/0;for(e=0,r=null;e<q;++e)(f=Vs[e])&&(g=f.site,s=g[0]-a,t=g[1]-b,(u=s*s+t*t)<v&&(v=u,r=f));if(r){var w=[a,b],x=[a,d],y=[c,d],z=[c,b];r.halfedges.push(Xs.push(Fg(g=r.site,w,x))-1,Xs.push(Fg(g,x,y))-1,Xs.push(Fg(g,y,z))-1,Xs.push(Fg(g,z,w))-1)}}for(e=0;e<q;++e)(f=Vs[e])&&(f.halfedges.length||delete Vs[e])}function Qg(){Ag(this),this.x=this.y=this.arc=this.site=this.cy=null}function Rg(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e[0],h=e[1],i=d[0]-g,j=d[1]-h,k=f[0]-g,l=f[1]-h,m=2*(i*l-j*k);if(!(m>=-_s)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,r=Ys.pop()||new Qg;r.arc=a,r.site=e,r.x=p+g,r.y=(r.cy=q+h)+Math.sqrt(p*p+q*q),a.circle=r;for(var s=null,t=Ws._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}Ws.insert(s,r),s||(Ts=r)}}}}function Sg(a){var b=a.circle;b&&(b.P||(Ts=b.N),Ws.remove(b),Ys.push(b),Ag(b),a.circle=null)}function Tg(){Ag(this),
this.edge=this.site=this.circle=null}function Ug(a){var b=Zs.pop()||new Tg;return b.site=a,b}function Vg(a){Sg(a),Us.remove(a),Zs.push(a),Ag(a)}function Wg(a){var b=a.circle,c=b.x,d=b.cy,e=[c,d],f=a.P,g=a.N,h=[a];Vg(a);for(var i=f;i.circle&&Math.abs(c-i.circle.x)<$s&&Math.abs(d-i.circle.cy)<$s;)f=i.P,h.unshift(i),Vg(i),i=f;h.unshift(i),Sg(i);for(var j=g;j.circle&&Math.abs(c-j.circle.x)<$s&&Math.abs(d-j.circle.cy)<$s;)g=j.N,h.push(j),Vg(j),j=g;h.push(j),Sg(j);var k,l=h.length;for(k=1;k<l;++k)j=h[k],i=h[k-1],Gg(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=Eg(i.site,j.site,null,e),Rg(i),Rg(j)}function Xg(a){for(var b,c,d,e,f=a[0],g=a[1],h=Us._;h;)if((d=Yg(h,g)-f)>$s)h=h.L;else{if(!((e=f-Zg(h,g))>$s)){d>-$s?(b=h.P,c=h):e>-$s?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}Kg(a);var i=Ug(a);if(Us.insert(b,i),b||c){if(b===c)return Sg(b),c=Ug(b.site),Us.insert(i,c),i.edge=c.edge=Eg(b.site,i.site),Rg(b),void Rg(c);if(!c)return void(i.edge=Eg(b.site,i.site));Sg(b),Sg(c);var j=b.site,k=j[0],l=j[1],m=a[0]-k,n=a[1]-l,o=c.site,p=o[0]-k,q=o[1]-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u=[(q*s-n*t)/r+k,(m*t-p*s)/r+l];Gg(c.edge,j,o,u),i.edge=Eg(j,a,null,u),c.edge=Eg(a,o,null,u),Rg(b),Rg(c)}}function Yg(a,b){var c=a.site,d=c[0],e=c[1],f=e-b;if(!f)return d;var g=a.P;if(!g)return-1/0;c=g.site;var h=c[0],i=c[1],j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Zg(a,b){var c=a.N;if(c)return Yg(c,b);var d=a.site;return d[1]===b?d[0]:1/0}function $g(a,b,c){return(a[0]-c[0])*(b[1]-a[1])-(a[0]-b[0])*(c[1]-a[1])}function _g(a,b){return b[1]-a[1]||b[0]-a[0]}function ah(a,b){var c,d,e,f=a.sort(_g).pop();for(Xs=[],Vs=new Array(a.length),Us=new zg,Ws=new zg;;)if(e=Ts,f&&(!e||f[1]<e.y||f[1]===e.y&&f[0]<e.x))f[0]===c&&f[1]===d||(Xg(f),c=f[0],d=f[1]),f=a.pop();else{if(!e)break;Wg(e.arc)}if(Og(),b){var g=+b[0][0],h=+b[0][1],i=+b[1][0],j=+b[1][1];Jg(g,h,i,j),Pg(g,h,i,j)}this.edges=Xs,this.cells=Vs,Us=Ws=Xs=Vs=null}function bh(a,b,c){this.target=a,this.type=b,this.transform=c}function ch(a,b,c){this.k=a,this.x=b,this.y=c}function dh(a){return a.__zoom||ct}function eh(){a.event.stopImmediatePropagation()}function fh(){return!a.event.button}function gh(){var a,b,c=this;return c instanceof SVGElement?(c=c.ownerSVGElement||c,a=c.width.baseVal.value,b=c.height.baseVal.value):(a=c.clientWidth,b=c.clientHeight),[[0,0],[a,b]]}function hh(){return this.__zoom||ct}function ih(){a.event.stopImmediatePropagation()}function jh(a){return{type:a}}function kh(){return!a.event.button}function lh(){var a=this.ownerSVGElement||this;return[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function mh(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function nh(a){return a[0][0]===a[1][0]||a[0][1]===a[1][1]}function oh(a){var b=a.__brush;return b?b.dim.output(b.selection):null}function ph(){return rh(mt)}function qh(){return rh(nt)}function rh(b){function c(a){var c=a.property("__brush",h).selectAll(".overlay").data([jh("overlay")]);c.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pt.overlay).merge(c).each(function(){var a=mh(this).extent;er(this).attr("x",a[0][0]).attr("y",a[0][1]).attr("width",a[1][0]-a[0][0]).attr("height",a[1][1]-a[0][1])}),a.selectAll(".selection").data([jh("selection")]).enter().append("rect").attr("class","selection").attr("cursor",pt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var e=a.selectAll(".handle").data(b.handles,function(a){return a.type});e.exit().remove(),e.enter().append("rect").attr("class",function(a){return"handle handle--"+a.type}).attr("cursor",function(a){return pt[a.type]}),a.each(d).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",g)}function d(){var a=er(this),b=mh(this).selection;b?(a.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),a.selectAll(".handle").style("display",null).attr("x",function(a){return"e"===a.type[a.type.length-1]?b[1][0]-m/2:b[0][0]-m/2}).attr("y",function(a){return"s"===a.type[0]?b[1][1]-m/2:b[0][1]-m/2}).attr("width",function(a){return"n"===a.type||"s"===a.type?b[1][0]-b[0][0]+m:m}).attr("height",function(a){return"e"===a.type||"w"===a.type?b[1][1]-b[0][1]+m:m})):a.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function e(a,b){return a.__brush.emitter||new f(a,b)}function f(a,b){this.that=a,this.args=b,this.state=a.__brush,this.active=0}function g(){function c(){var a=wq(y);!K||w||x||(Math.abs(a[0]-M[0])>Math.abs(a[1]-M[1])?x=!0:w=!0),M=a,v=!0,ht(),f()}function f(){var a;switch(t=M[0]-L[0],u=M[1]-L[1],A){case jt:case it:B&&(t=Math.max(G-l,Math.min(I-p,t)),m=l+t,q=p+t),C&&(u=Math.max(H-n,Math.min(J-r,u)),o=n+u,s=r+u);break;case kt:B<0?(t=Math.max(G-l,Math.min(I-l,t)),m=l+t,q=p):B>0&&(t=Math.max(G-p,Math.min(I-p,t)),m=l,q=p+t),C<0?(u=Math.max(H-n,Math.min(J-n,u)),o=n+u,s=r):C>0&&(u=Math.max(H-r,Math.min(J-r,u)),o=n,s=r+u);break;case lt:B&&(m=Math.max(G,Math.min(I,l-t*B)),q=Math.max(G,Math.min(I,p+t*B))),C&&(o=Math.max(H,Math.min(J,n-u*C)),s=Math.max(H,Math.min(J,r+u*C)))}q<m&&(B*=-1,a=l,l=p,p=a,a=m,m=q,q=a,z in qt&&P.attr("cursor",pt[z=qt[z]])),s<o&&(C*=-1,a=n,n=r,r=a,a=o,o=s,s=a,z in rt&&P.attr("cursor",pt[z=rt[z]])),D.selection&&(F=D.selection),w&&(m=F[0][0],q=F[1][0]),x&&(o=F[0][1],s=F[1][1]),F[0][0]===m&&F[0][1]===o&&F[1][0]===q&&F[1][1]===s||(D.selection=[[m,o],[q,s]],d.call(y),N.brush())}function g(){if(ih(),a.event.touches){if(a.event.touches.length)return;i&&clearTimeout(i),i=setTimeout(function(){i=null},500),O.on("touchmove.brush touchend.brush touchcancel.brush",null)}else sg(a.event.view,v),Q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),P.attr("cursor",pt.overlay),D.selection&&(F=D.selection),nh(F)&&(D.selection=null,d.call(y)),N.end()}function h(){switch(a.event.keyCode){case 16:K=B&&C;break;case 18:A===kt&&(B&&(p=q-t*B,l=m+t*B),C&&(r=s-u*C,n=o+u*C),A=lt,f());break;case 32:A!==kt&&A!==lt||(B<0?p=q-t:B>0&&(l=m-t),C<0?r=s-u:C>0&&(n=o-u),A=jt,P.attr("cursor",pt.selection),f());break;default:return}ht()}function j(){switch(a.event.keyCode){case 16:K&&(w=x=K=!1,f());break;case 18:A===lt&&(B<0?p=q:B>0&&(l=m),C<0?r=s:C>0&&(n=o),A=kt,f());break;case 32:A===jt&&(a.event.altKey?(B&&(p=q-t*B,l=m+t*B),C&&(r=s-u*C,n=o+u*C),A=lt):(B<0?p=q:B>0&&(l=m),C<0?r=s:C>0&&(n=o),A=kt),P.attr("cursor",pt[z]),f());break;default:return}ht()}if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return ht()}else if(i)return;if(k.apply(this,arguments)){var l,m,n,o,p,q,r,s,t,u,v,w,x,y=this,z=a.event.target.__data__.type,A="selection"===(a.event.metaKey?z="overlay":z)?it:a.event.altKey?lt:kt,B=b===nt?null:st[z],C=b===mt?null:tt[z],D=mh(y),E=D.extent,F=D.selection,G=E[0][0],H=E[0][1],I=E[1][0],J=E[1][1],K=B&&C&&a.event.shiftKey,L=wq(y),M=L,N=e(y,arguments).beforestart();"overlay"===z?D.selection=F=[[l=b===nt?G:L[0],n=b===mt?H:L[1]],[p=b===nt?I:l,r=b===mt?J:n]]:(l=F[0][0],n=F[0][1],p=F[1][0],r=F[1][1]),m=l,o=n,q=p,s=r;var O=er(y).attr("pointer-events","none"),P=O.selectAll(".overlay").attr("cursor",pt[z]);if(a.event.touches)O.on("touchmove.brush",c,!0).on("touchend.brush touchcancel.brush",g,!0);else{var Q=er(a.event.view).on("keydown.brush",h,!0).on("keyup.brush",j,!0).on("mousemove.brush",c,!0).on("mouseup.brush",g,!0);Ps(a.event.view)}ih(),sr(y),d.call(y),N.start()}}function h(){var a=this.__brush||{selection:null};return a.extent=j.apply(this,arguments),a.dim=b,a}var i,j=lh,k=kh,l=Fb(c,"start","brush","end"),m=6;return c.move=function(a,c){a.selection?a.on("start.brush",function(){e(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){e(this,arguments).end()}).tween("brush",function(){function a(a){g.selection=1===a&&nh(j)?null:k(a),d.call(f),h.brush()}var f=this,g=f.__brush,h=e(f,arguments),i=g.selection,j=b.input("function"==typeof c?c.apply(this,arguments):c,g.extent),k=gn(i,j);return i&&j?a:a(1)}):a.each(function(){var a=this,f=arguments,g=a.__brush,h=b.input("function"==typeof c?c.apply(a,f):c,g.extent),i=e(a,f).beforestart();sr(a),g.selection=null==h||nh(h)?null:h,d.call(a),i.start().brush().end()})},f.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(a){Sd(new gt(c,a,b.output(this.state.selection)),l.apply,l,[a,this.that,this.args])}},c.extent=function(a){return arguments.length?(j="function"==typeof a?a:ft([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),c):j},c.filter=function(a){return arguments.length?(k="function"==typeof a?a:ft(!!a),c):k},c.handleSize=function(a){return arguments.length?(m=+a,c):m},c.on=function(){var a=l.on.apply(l,arguments);return a===l?c:a},c}function sh(a){return function(b,c){return a(b.source.value+b.target.value,c.source.value+c.target.value)}}function th(a){return a.source}function uh(a){return a.target}function vh(a){return a.radius}function wh(a){return a.startAngle}function xh(a){return a.endAngle}function yh(){this.reset()}function zh(a,b,c){var d=a.s=b+c,e=d-b,f=d-e;a.t=b-f+(c-e)}function Ah(a){return a>1?0:a<-1?lu:Math.acos(a)}function Bh(a){return a>1?mu:a<-1?-mu:Math.asin(a)}function Ch(a){return(a=zu(a/2))*a}function Dh(){}function Eh(a,b){a&&Eu.hasOwnProperty(a.type)&&Eu[a.type](a,b)}function Fh(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function Gh(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Fh(a[c],b,1);b.polygonEnd()}function Hh(){Iu.point=Jh}function Ih(){Kh(Gt,Ht)}function Jh(a,b){Iu.point=Kh,Gt=a,Ht=b,a*=qu,b*=qu,It=a,Jt=uu(b=b/2+nu),Kt=zu(b)}function Kh(a,b){a*=qu,b*=qu,b=b/2+nu;var c=a-It,d=c>=0?1:-1,e=d*c,f=uu(b),g=zu(b),h=Kt*g,i=Jt*f+h*uu(e),j=h*d*zu(e);Gu.add(tu(j,i)),It=a,Jt=f,Kt=g}function Lh(a){return[tu(a[1],a[0]),Bh(a[2])]}function Mh(a){var b=a[0],c=a[1],d=uu(c);return[d*uu(b),d*zu(b),zu(c)]}function Nh(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Oh(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Ph(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function Qh(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Rh(a){var b=Bu(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function Sh(a,b){Tt.push(Ut=[Lt=a,Nt=a]),b<Mt&&(Mt=b),b>Ot&&(Ot=b)}function Th(a,b){var c=Mh([a*qu,b*qu]);if(St){var d=Oh(St,c),e=[d[1],-d[0],0],f=Oh(e,d);Rh(f),f=Lh(f);var g,h=a-Pt,i=h>0?1:-1,j=f[0]*pu*i,k=ru(h)>180;k^(i*Pt<j&&j<i*a)?(g=f[1]*pu)>Ot&&(Ot=g):(j=(j+360)%360-180,k^(i*Pt<j&&j<i*a)?(g=-f[1]*pu)<Mt&&(Mt=g):(b<Mt&&(Mt=b),b>Ot&&(Ot=b))),k?a<Pt?Zh(Lt,a)>Zh(Lt,Nt)&&(Nt=a):Zh(a,Nt)>Zh(Lt,Nt)&&(Lt=a):Nt>=Lt?(a<Lt&&(Lt=a),a>Nt&&(Nt=a)):a>Pt?Zh(Lt,a)>Zh(Lt,Nt)&&(Nt=a):Zh(a,Nt)>Zh(Lt,Nt)&&(Lt=a)}else Sh(a,b);St=c,Pt=a}function Uh(){Lu.point=Th}function Vh(){Ut[0]=Lt,Ut[1]=Nt,Lu.point=Sh,St=null}function Wh(a,b){if(St){var c=a-Pt;Ku.add(ru(c)>180?c+(c>0?360:-360):c)}else Qt=a,Rt=b;Iu.point(a,b),Th(a,b)}function Xh(){Iu.lineStart()}function Yh(){Wh(Qt,Rt),Iu.lineEnd(),ru(Ku)>ku&&(Lt=-(Nt=180)),Ut[0]=Lt,Ut[1]=Nt,St=null}function Zh(a,b){return(b-=a)<0?b+360:b}function $h(a,b){return a[0]-b[0]}function _h(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}function ai(a,b){a*=qu,b*=qu;var c=uu(b);bi(c*uu(a),c*zu(a),zu(b))}function bi(a,b,c){++Vt,Xt+=(a-Xt)/Vt,Yt+=(b-Yt)/Vt,Zt+=(c-Zt)/Vt}function ci(){Nu.point=di}function di(a,b){a*=qu,b*=qu;var c=uu(b);gu=c*uu(a),hu=c*zu(a),iu=zu(b),Nu.point=ei,bi(gu,hu,iu)}function ei(a,b){a*=qu,b*=qu;var c=uu(b),d=c*uu(a),e=c*zu(a),f=zu(b),g=tu(Bu((g=hu*f-iu*e)*g+(g=iu*d-gu*f)*g+(g=gu*e-hu*d)*g),gu*d+hu*e+iu*f);Wt+=g,$t+=g*(gu+(gu=d)),_t+=g*(hu+(hu=e)),au+=g*(iu+(iu=f)),bi(gu,hu,iu)}function fi(){Nu.point=ai}function gi(){Nu.point=ii}function hi(){ji(eu,fu),Nu.point=ai}function ii(a,b){eu=a,fu=b,a*=qu,b*=qu,Nu.point=ji;var c=uu(b);gu=c*uu(a),hu=c*zu(a),iu=zu(b),bi(gu,hu,iu)}function ji(a,b){a*=qu,b*=qu;var c=uu(b),d=c*uu(a),e=c*zu(a),f=zu(b),g=hu*f-iu*e,h=iu*d-gu*f,i=gu*e-hu*d,j=Bu(g*g+h*h+i*i),k=gu*d+hu*e+iu*f,l=j&&-Ah(k)/j,m=tu(j,k);bu+=l*g,cu+=l*h,du+=l*i,Wt+=m,$t+=m*(gu+(gu=d)),_t+=m*(hu+(hu=e)),au+=m*(iu+(iu=f)),bi(gu,hu,iu)}function ki(a,b){return[a>lu?a-ou:a<-lu?a+ou:a,b]}function li(a,b,c){return(a%=ou)?b||c?Qu(ni(a),oi(b,c)):ni(a):b||c?oi(b,c):ki}function mi(a){return function(b,c){return b+=a,[b>lu?b-ou:b<-lu?b+ou:b,c]}}function ni(a){var b=mi(a);return b.invert=mi(-a),b}function oi(a,b){function c(a,b){var c=uu(b),h=uu(a)*c,i=zu(a)*c,j=zu(b),k=j*d+h*e;return[tu(i*f-k*g,h*d-j*e),Bh(k*f+i*g)]}var d=uu(a),e=zu(a),f=uu(b),g=zu(b);return c.invert=function(a,b){var c=uu(b),h=uu(a)*c,i=zu(a)*c,j=zu(b),k=j*f-i*g;return[tu(i*f+j*g,h*d+k*e),Bh(k*d-h*e)]},c}function pi(a,b,c,d,e,f){if(c){var g=uu(b),h=zu(b),i=d*c;null==e?(e=b+d*ou,f=b-i/2):(e=qi(g,e),f=qi(g,f),(d>0?e<f:e>f)&&(e+=d*ou));for(var j,k=e;d>0?k>f:k<f;k-=i)j=Lh([g,-h*uu(k),-h*zu(k)]),a.point(j[0],j[1])}}function qi(a,b){b=Mh(b),b[0]-=a,Rh(b);var c=Ah(-b[1]);return((-b[2]<0?-c:c)+ou-ku)%ou}function ri(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function si(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function ti(a,b,c,d){function e(e,f){return a<=e&&e<=c&&b<=f&&f<=d}function f(e,f,h,j){var k=0,l=0;if(null==e||(k=g(e,h))!==(l=g(f,h))||i(e,f)<0^h>0)do{j.point(0===k||3===k?a:c,k>1?d:b)}while((k=(k+h+4)%4)!==l);else j.point(f[0],f[1])}function g(d,e){return ru(d[0]-a)<ku?e>0?0:3:ru(d[0]-c)<ku?e>0?2:1:ru(d[1]-b)<ku?e>0?1:0:e>0?3:2}function h(a,b){return i(a.x,b.x)}function i(a,b){var c=g(a,1),d=g(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(g){function i(a,b){e(a,b)&&A.point(a,b)}function j(){for(var b=0,c=0,e=q.length;c<e;++c)for(var f,g,h=q[c],i=1,j=h.length,k=h[0],l=k[0],m=k[1];i<j;++i)f=l,g=m,k=h[i],l=k[0],m=k[1],g<=d?m>d&&(l-f)*(d-g)>(m-g)*(a-f)&&++b:m<=d&&(l-f)*(d-g)<(m-g)*(a-f)&&--b;return b}function k(){A=B,p=[],q=[],z=!0}function l(){var a=j(),b=z&&a,c=(p=Xj(p)).length;(b||c)&&(g.polygonStart(),b&&(g.lineStart(),f(null,null,1,g),g.lineEnd()),c&&fv(p,h,a,f,g),g.polygonEnd()),A=g,p=q=r=null}function m(){C.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.result())),C.point=i,x&&A.lineEnd()}function o(f,g){var h=e(f,g);if(q&&r.push([f,g]),y)s=f,t=g,u=h,y=!1,h&&(A.lineStart(),A.point(f,g));else if(h&&x)A.point(f,g);else{var i=[v=Math.max(hv,Math.min(gv,v)),w=Math.max(hv,Math.min(gv,w))],j=[f=Math.max(hv,Math.min(gv,f)),g=Math.max(hv,Math.min(gv,g))];dv(i,j,a,b,c,d)?(x||(A.lineStart(),A.point(i[0],i[1])),A.point(j[0],j[1]),h||A.lineEnd(),z=!1):h&&(A.lineStart(),A.point(f,g),z=!1)}v=f,w=g,x=h}var p,q,r,s,t,u,v,w,x,y,z,A=g,B=cv(),C={point:i,lineStart:m,lineEnd:n,polygonStart:k,polygonEnd:l};return C}}function ui(){kv.point=wi,kv.lineEnd=vi}function vi(){kv.point=kv.lineEnd=Dh}function wi(a,b){a*=qu,b*=qu,Ru=a,Su=zu(b),Tu=uu(b),kv.point=xi}function xi(a,b){a*=qu,b*=qu;var c=zu(b),d=uu(b),e=ru(a-Ru),f=uu(e),g=zu(e),h=d*g,i=Tu*c-Su*d*f,j=Su*c+Tu*d*f;jv.add(tu(Bu(h*h+i*i),j)),Ru=a,Su=c,Tu=d}function yi(a,b,c){var d=Kj(a,b-ku,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function zi(a,b,c){var d=Kj(a,b-ku,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function Ai(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return Kj(vu(f/q)*q,e,q).map(m).concat(Kj(vu(j/r)*r,i,r).map(n)).concat(Kj(vu(d/o)*o,c,o).filter(function(a){return ru(a%q)>ku}).map(k)).concat(Kj(vu(h/p)*p,g,p).filter(function(a){return ru(a%r)>ku}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.extentMajor(b).extentMinor(b):a.extentMinor()},a.extentMajor=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.extentMinor=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.stepMajor(b).stepMinor(b):a.stepMinor()},a.stepMajor=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.stepMinor=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=yi(h,g,90),l=zi(d,c,s),m=yi(j,i,90),n=zi(f,e,s),a):s},a.extentMajor([[-180,-90+ku],[180,90-ku]]).extentMinor([[-180,-80-ku],[180,80+ku]])}function Bi(){return Ai()()}function Ci(){tv.point=Di}function Di(a,b){tv.point=Ei,Uu=Wu=a,Vu=Xu=b}function Ei(a,b){sv.add(Xu*a-Wu*b),Wu=a,Xu=b}function Fi(){Ei(Uu,Vu)}function Gi(a,b){a<uv&&(uv=a),a>wv&&(wv=a),b<vv&&(vv=b),b>xv&&(xv=b)}function Hi(a,b){zv+=a,Av+=b,++Bv}function Ii(){Iv.point=Ji}function Ji(a,b){Iv.point=Ki,Hi($u=a,_u=b)}function Ki(a,b){var c=a-$u,d=b-_u,e=Bu(c*c+d*d);Cv+=e*($u+a)/2,Dv+=e*(_u+b)/2,Ev+=e,Hi($u=a,_u=b)}function Li(){Iv.point=Hi}function Mi(){Iv.point=Oi}function Ni(){Pi(Yu,Zu)}function Oi(a,b){Iv.point=Pi,Hi(Yu=$u=a,Zu=_u=b)}function Pi(a,b){var c=a-$u,d=b-_u,e=Bu(c*c+d*d);Cv+=e*($u+a)/2,Dv+=e*(_u+b)/2,Ev+=e,e=_u*a-$u*b,Fv+=e*($u+a),Gv+=e*(_u+b),Hv+=3*e,Hi($u=a,_u=b)}function Qi(a){this._context=a}function Ri(){this._string=[]}function Si(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Ti(a){return a.length>1}function Ui(a,b){return((a=a.x)[0]<0?a[1]-mu-ku:mu-a[1])-((b=b.x)[0]<0?b[1]-mu-ku:mu-b[1])}function Vi(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?lu:-lu,i=ru(f-c);ru(i-lu)<ku?(a.point(c,d=(d+g)/2>0?mu:-mu),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=lu&&(ru(c-e)<ku&&(c-=e*ku),ru(f-h)<ku&&(f-=h*ku),d=Wi(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Wi(a,b,c,d){var e,f,g=zu(a-c);return ru(g)>ku?su((zu(b)*(f=uu(d))*zu(c)-zu(d)*(e=uu(b))*zu(a))/(e*f*g)):(b+d)/2}function Xi(a,b,c,d){var e;if(null==a)e=c*mu,d.point(-lu,e),d.point(0,e),d.point(lu,e),d.point(lu,0),d.point(lu,-e),d.point(0,-e),d.point(-lu,-e),d.point(-lu,0),d.point(-lu,e);else if(ru(a[0]-b[0])>ku){var f=a[0]<b[0]?lu:-lu;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Yi(a){return function(b){var c=new Zi;for(var d in a)c[d]=a[d];return c.stream=b,c}}function Zi(){}function $i(a,b,c){var d=b[1][0]-b[0][0],e=b[1][1]-b[0][1],f=a.clipExtent&&a.clipExtent();a.scale(150).translate([0,0]),null!=f&&a.clipExtent(null),Fu(c,a.stream(yv));var g=yv.result(),h=Math.min(d/(g[1][0]-g[0][0]),e/(g[1][1]-g[0][1])),i=+b[0][0]+(d-h*(g[1][0]+g[0][0]))/2,j=+b[0][1]+(e-h*(g[1][1]+g[0][1]))/2;return null!=f&&a.clipExtent(f),a.scale(150*h).translate([i,j])}function _i(a,b,c){return $i(a,[[0,0],b],c)}function aj(a){return Yi({point:function(b,c){b=a(b,c),this.stream.point(b[0],b[1])}})}function bj(a,b){function c(d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=j-d,s=k-e,t=r*r+s*s;if(t>4*b&&p--){var u=g+m,v=h+n,w=i+o,x=Bu(u*u+v*v+w*w),y=Bh(w/=x),z=ru(ru(w)-1)<ku||ru(f-l)<ku?(f+l)/2:tu(v,u),A=a(z,y),B=A[0],C=A[1],D=B-d,E=C-e,F=s*D-r*E;(F*F/t>b||ru((r*D+s*E)/t-.5)>.3||g*m+h*n+i*o<Rv)&&(c(d,e,f,g,h,i,B,C,z,u/=x,v/=x,w,p,q),q.point(B,C),c(B,C,z,u,v,w,j,k,l,m,n,o,p,q))}}return function(b){function d(c,d){c=a(c,d),b.point(c[0],c[1])}function e(){r=NaN,w.point=f,b.lineStart()}function f(d,e){var f=Mh([d,e]),g=a(d,e);c(r,s,q,t,u,v,r=g[0],s=g[1],q=d,t=f[0],u=f[1],v=f[2],Qv,b),b.point(r,s)}function g(){w.point=d,b.lineEnd()}function h(){e(),w.point=i,w.lineEnd=j}function i(a,b){f(k=a,b),l=r,m=s,n=t,o=u,p=v,w.point=f}function j(){c(r,s,q,t,u,v,l,m,k,n,o,p,Qv,b),w.lineEnd=g,g()}var k,l,m,n,o,p,q,r,s,t,u,v,w={point:d,lineStart:e,lineEnd:g,polygonStart:function(){b.polygonStart(),w.lineStart=h},polygonEnd:function(){b.polygonEnd(),w.lineStart=e}};return w}}function cj(a){return dj(function(){return a})()}function dj(a){function b(a){return a=k(a[0]*qu,a[1]*qu),[a[0]*q+h,i-a[1]*q]}function c(a){return(a=k.invert((a[0]-h)/q,(i-a[1])/q))&&[a[0]*pu,a[1]*pu]}function d(a,b){return a=g(a,b),[a[0]*q+h,i-a[1]*q]}function e(){k=Qu(j=li(v,w,x),g);var a=g(t,u);return h=r-a[0]*q,i=s+a[1]*q,f()}function f(){return o=p=null,b}var g,h,i,j,k,l,m,n,o,p,q=150,r=480,s=250,t=0,u=0,v=0,w=0,x=0,y=null,z=Nv,A=null,B=qv,C=.5,D=Sv(d,C);return b.stream=function(a){return o&&p===a?o:o=Tv(z(j,D(B(p=a))))},b.clipAngle=function(a){return arguments.length?(z=+a?Ov(y=a*qu,6*qu):(y=null,Nv),f()):y*pu},b.clipExtent=function(a){return arguments.length?(B=null==a?(A=l=m=n=null,qv):ti(A=+a[0][0],l=+a[0][1],m=+a[1][0],n=+a[1][1]),f()):null==A?null:[[A,l],[m,n]]},b.scale=function(a){return arguments.length?(q=+a,e()):q},b.translate=function(a){return arguments.length?(r=+a[0],s=+a[1],e()):[r,s]},b.center=function(a){return arguments.length?(t=a[0]%360*qu,u=a[1]%360*qu,e()):[t*pu,u*pu]},b.rotate=function(a){return arguments.length?(v=a[0]%360*qu,w=a[1]%360*qu,x=a.length>2?a[2]%360*qu:0,e()):[v*pu,w*pu,x*pu]},b.precision=function(a){return arguments.length?(D=Sv(d,C=a*a),f()):Bu(C)},b.fitExtent=function(a,c){return $i(b,a,c)},b.fitSize=function(a,c){return _i(b,a,c)},function(){return g=a.apply(this,arguments),b.invert=g.invert&&c,e()}}function ej(a){var b=0,c=lu/3,d=dj(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*qu,c=a[1]*qu):[b*pu,c*pu]},e}function fj(a){function b(a,b){return[a*c,zu(b)/c]}var c=uu(a);return b.invert=function(a,b){return[a/c,Bh(b*c)]},b}function gj(a,b){function c(a,b){var c=Bu(f-2*e*zu(b))/e;return[c*zu(a*=e),g-c*uu(a)]}var d=zu(a),e=(d+zu(b))/2;if(ru(e)<ku)return fj(a);var f=1+d*(2*e-d),g=Bu(f)/e;return c.invert=function(a,b){var c=g-b;return[tu(a,ru(c))/e*Au(c),Bh((f-(a*a+c*c)*e*e)/(2*e))]},c}function hj(a){var b=a.length;return{point:function(c,d){for(var e=-1;++e<b;)a[e].point(c,d)},sphere:function(){for(var c=-1;++c<b;)a[c].sphere()},lineStart:function(){for(var c=-1;++c<b;)a[c].lineStart()},lineEnd:function(){for(var c=-1;++c<b;)a[c].lineEnd()},polygonStart:function(){for(var c=-1;++c<b;)a[c].polygonStart()},polygonEnd:function(){for(var c=-1;++c<b;)a[c].polygonEnd()}}}function ij(a){return function(b,c){var d=uu(b),e=uu(c),f=a(d*e);return[f*e*zu(b),f*zu(c)]}}function jj(a){return function(b,c){var d=Bu(b*b+c*c),e=a(d),f=zu(e),g=uu(e);return[tu(b*f,d*g),Bh(d&&c*f/d)]}}function kj(a,b){return[a,xu(Cu((mu+b)/2))]}function lj(a){var b,c=cj(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(a){return arguments.length?(d(a),b&&c.clipExtent(null),c):d()},c.translate=function(a){return arguments.length?(e(a),b&&c.clipExtent(null),c):e()},c.clipExtent=function(a){if(!arguments.length)return b?null:f();if(b=null==a){var g=lu*d(),h=e();a=[[h[0]-g,h[1]-g],[h[0]+g,h[1]+g]]}return f(a),c},c.clipExtent(null)}function mj(a){return Cu((mu+a)/2)}function nj(a,b){function c(a,b){f>0?b<-mu+ku&&(b=-mu+ku):b>mu-ku&&(b=mu-ku);var c=f/yu(mj(b),e);return[c*zu(e*a),f-c*uu(e*a)]}var d=uu(a),e=a===b?zu(a):xu(d/uu(b))/xu(mj(b)/mj(a)),f=d*yu(mj(a),e)/e;return e?(c.invert=function(a,b){var c=f-b,d=Au(e)*Bu(a*a+c*c);return[tu(a,ru(c))/e*Au(c),2*su(yu(f/d,1/e))-mu]},c):kj}function oj(a,b){return[a,b]}function pj(a,b){function c(a,b){var c=f-b,d=e*a;return[c*zu(d),f-c*uu(d)]}var d=uu(a),e=a===b?zu(a):(d-uu(b))/(b-a),f=d/e+a;return ru(e)<ku?oj:(c.invert=function(a,b){var c=f-b;return[tu(a,ru(c))/e*Au(c),f-Au(e)*Bu(a*a+c*c)]},c)}function qj(a,b){var c=uu(b),d=uu(a)*c;return[c*zu(a)/d,zu(b)/d]}function rj(a,b,c){return 1===a&&0===b&&0===c?qv:Yi({point:function(d,e){this.stream.point(d*a+b,e*a+c)}})}function sj(a,b){return[uu(b)*zu(a),zu(b)]}function tj(a,b){var c=uu(b),d=1+uu(a)*c;return[c*zu(a)/d,zu(b)/d]}function uj(a,b){return[xu(Cu((mu+b)/2)),-a]}var vj=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},wj=function(a){return 1===a.length&&(a=b(a)),{left:function(b,c,d,e){for(null==d&&(d=0),null==e&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(null==d&&(d=0),null==e&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}},xj=wj(vj),yj=xj.right,zj=xj.left,Aj=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},Bj=function(a){return null===a?NaN:+a},Cj=function(a,b){var c,d,e=a.length,f=0,g=0,h=-1,i=0;if(null==b)for(;++h<e;)isNaN(c=Bj(a[h]))||(d=c-f,f+=d/++i,g+=d*(c-f));else for(;++h<e;)isNaN(c=Bj(b(a[h],h,a)))||(d=c-f,f+=d/++i,g+=d*(c-f));if(i>1)return g/(i-1)},Dj=function(a,b){var c=Cj(a,b);return c?Math.sqrt(c):c},Ej=function(a,b){var c,d,e,f=-1,g=a.length;if(null==b){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),e<d&&(e=d))}else{for(;++f<g;)if(null!=(d=b(a[f],f,a))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b(a[f],f,a))&&(c>d&&(c=d),e<d&&(e=d))}return[c,e]},Fj=Array.prototype,Gj=Fj.slice,Hj=Fj.map,Ij=function(a){return function(){return a}},Jj=function(a){return a},Kj=function(a,b,c){a=+a,b=+b,c=(e=arguments.length)<2?(b=a,a=0,1):e<3?1:+c;for(var d=-1,e=0|Math.max(0,Math.ceil((b-a)/c)),f=new Array(e);++d<e;)f[d]=a+d*c;return f},Lj=Math.sqrt(50),Mj=Math.sqrt(10),Nj=Math.sqrt(2),Oj=function(a,b,d){var e=c(a,b,d);return Kj(Math.ceil(a/e)*e,Math.floor(b/e)*e+e/2,e)},Pj=function(a){return Math.ceil(Math.log(a.length)/Math.LN2)+1},Qj=function(){function a(a){var e,f,g=a.length,h=new Array(g);for(e=0;e<g;++e)h[e]=b(a[e],e,a);var i=c(h),j=i[0],k=i[1],l=d(h,j,k);Array.isArray(l)||(l=Oj(j,k,l));for(var m=l.length;l[0]<=j;)l.shift(),--m;for(;l[m-1]>=k;)l.pop(),--m;var n,o=new Array(m+1);for(e=0;e<=m;++e)n=o[e]=[],n.x0=e>0?l[e-1]:j,n.x1=e<m?l[e]:k;for(e=0;e<g;++e)f=h[e],j<=f&&f<=k&&o[yj(l,f,0,m)].push(a[e]);return o}var b=Jj,c=Ej,d=Pj;return a.value=function(c){return arguments.length?(b="function"==typeof c?c:Ij(c),a):b},a.domain=function(b){return arguments.length?(c="function"==typeof b?b:Ij([b[0],b[1]]),a):c},a.thresholds=function(b){return arguments.length?(d="function"==typeof b?b:Ij(Array.isArray(b)?Gj.call(b):b),a):d},a},Rj=function(a,b,c){if(null==c&&(c=Bj),d=a.length){if((b=+b)<=0||d<2)return+c(a[0],0,a);if(b>=1)return+c(a[d-1],d-1,a);var d,e=(d-1)*b,f=Math.floor(e),g=+c(a[f],f,a);return g+(+c(a[f+1],f+1,a)-g)*(e-f)}},Sj=function(a,b,c){return a=Hj.call(a,Bj).sort(vj),Math.ceil((c-b)/(2*(Rj(a,.75)-Rj(a,.25))*Math.pow(a.length,-1/3)))},Tj=function(a,b,c){return Math.ceil((c-b)/(3.5*Dj(a)*Math.pow(a.length,-1/3)))},Uj=function(a,b){var c,d,e=-1,f=a.length;if(null==b){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b(a[e],e,a))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b(a[e],e,a))&&d>c&&(c=d)}return c},Vj=function(a,b){var c,d=0,e=a.length,f=-1,g=e;if(null==b)for(;++f<e;)isNaN(c=Bj(a[f]))?--g:d+=c;else for(;++f<e;)isNaN(c=Bj(b(a[f],f,a)))?--g:d+=c;if(g)return d/g},Wj=function(a,b){var c,d=[],e=a.length,f=-1;if(null==b)for(;++f<e;)isNaN(c=Bj(a[f]))||d.push(c);else for(;++f<e;)isNaN(c=Bj(b(a[f],f,a)))||d.push(c);return Rj(d.sort(vj),.5)},Xj=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c},Yj=function(a,b){var c,d,e=-1,f=a.length;if(null==b){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b(a[e],e,a))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b(a[e],e,a))&&c>d&&(c=d)}return c},Zj=function(a){for(var b=0,c=a.length-1,d=a[0],e=new Array(c<0?0:c);b<c;)e[b]=[d,d=a[++b]];return e},$j=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},_j=function(a,b){if(c=a.length){var c,d,e=0,f=0,g=a[f];for(b||(b=vj);++e<c;)(b(d=a[e],g)<0||0!==b(g,g))&&(g=d,f=e);return 0===b(g,g)?f:void 0}},ak=function(a,b,c){for(var d,e,f=(null==c?a.length:c)-(b=null==b?0:+b);f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},bk=function(a,b){var c,d=0,e=a.length,f=-1;if(null==b)for(;++f<e;)(c=+a[f])&&(d+=c);else for(;++f<e;)(c=+b(a[f],f,a))&&(d+=c);return d},ck=function(a){if(!(f=a.length))return[];for(var b=-1,c=Yj(a,d),e=new Array(c);++b<c;)for(var f,g=-1,h=e[b]=new Array(f);++g<f;)h[g]=a[g][b];return e},dk=function(){return ck(arguments)},ek="$";e.prototype=f.prototype={constructor:e,has:function(a){return ek+a in this},get:function(a){return this[ek+a]},set:function(a,b){return this[ek+a]=b,this},remove:function(a){var b=ek+a;return b in this&&delete this[b]},clear:function(){for(var a in this)a[0]===ek&&delete this[a]},keys:function(){var a=[];for(var b in this)b[0]===ek&&a.push(b.slice(1));return a},values:function(){var a=[];for(var b in this)b[0]===ek&&a.push(this[b]);return a},entries:function(){var a=[];for(var b in this)b[0]===ek&&a.push({key:b.slice(1),value:this[b]});return a},size:function(){var a=0;for(var b in this)b[0]===ek&&++a;return a},empty:function(){for(var a in this)if(a[0]===ek)return!1;return!0},each:function(a){for(var b in this)b[0]===ek&&a(this[b],b.slice(1),this)}};var fk=function(){function a(b,e,g,h){if(e>=k.length)return null!=d?d(b):null!=c?b.sort(c):b;for(var i,j,l,m=-1,n=b.length,o=k[e++],p=f(),q=g();++m<n;)(l=p.get(i=o(j=b[m])+""))?l.push(j):p.set(i,[j]);return p.each(function(b,c){h(q,c,a(b,e,g,h))}),q}function b(a,c){if(++c>k.length)return a;var e,f=l[c-1];return null!=d&&c>=k.length?e=a.entries():(e=[],a.each(function(a,d){e.push({key:d,values:b(a,c)})})),null!=f?e.sort(function(a,b){return f(a.key,b.key)}):e}var c,d,e,k=[],l=[];return e={object:function(b){return a(b,0,g,h)},map:function(b){return a(b,0,i,j)},entries:function(c){return b(a(c,0,i,j),0)},key:function(a){return k.push(a),e},sortKeys:function(a){return l[k.length-1]=a,e},sortValues:function(a){return c=a,e},rollup:function(a){return d=a,e}}},gk=f.prototype;k.prototype=l.prototype={constructor:k,has:gk.has,add:function(a){return a+="",this[ek+a]=a,this},remove:gk.remove,clear:gk.clear,values:gk.keys,size:gk.size,empty:gk.empty,each:gk.each};var hk=function(a){var b=[];for(var c in a)b.push(c);return b},ik=function(a){var b=[];for(var c in a)b.push(a[c]);return b},jk=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},kk=function(a,b){return a=null==a?0:+a,b=null==b?1:+b,1===arguments.length?(b=a,a=0):b-=a,function(){return Math.random()*b+a}},lk=function(a,b){var c,d;return a=null==a?0:+a,b=null==b?1:+b,function(){var e;if(null!=c)e=c,c=null;else do{c=2*Math.random()-1,e=2*Math.random()-1,d=c*c+e*e}while(!d||d>1);return a+b*e*Math.sqrt(-2*Math.log(d)/d)}},mk=function(){var a=lk.apply(this,arguments);return function(){return Math.exp(a())}},nk=function(a){return function(){for(var b=0,c=0;c<a;++c)b+=Math.random();return b}},ok=function(a){var b=nk(a);return function(){return b()/a}},pk=function(a){return function(){return-Math.log(1-Math.random())/a}},qk=function a(b){function c(a){return Math.pow(a,b)}return b=+b,c.exponent=a,c}(3),rk=function a(b){function c(a){return 1-Math.pow(1-a,b)}return b=+b,c.exponent=a,c}(3),sk=function a(b){function c(a){return((a*=2)<=1?Math.pow(a,b):2-Math.pow(2-a,b))/2}return b=+b,c.exponent=a,c}(3),tk=Math.PI,uk=tk/2,vk=4/11,wk=6/11,xk=8/11,yk=.75,zk=9/11,Ak=10/11,Bk=.9375,Ck=21/22,Dk=63/64,Ek=1/vk/vk,Fk=1.70158,Gk=function a(b){function c(a){return a*a*((b+1)*a-b)}return b=+b,c.overshoot=a,c}(Fk),Hk=function a(b){function c(a){return--a*a*((b+1)*a+b)+1}return b=+b,c.overshoot=a,c
}(Fk),Ik=function a(b){function c(a){return((a*=2)<1?a*a*((b+1)*a-b):(a-=2)*a*((b+1)*a+b)+2)/2}return b=+b,c.overshoot=a,c}(Fk),Jk=2*Math.PI,Kk=function a(b,c){function d(a){return b*Math.pow(2,10*--a)*Math.sin((e-a)/c)}var e=Math.asin(1/(b=Math.max(1,b)))*(c/=Jk);return d.amplitude=function(b){return a(b,c*Jk)},d.period=function(c){return a(b,c)},d}(1,.3),Lk=function a(b,c){function d(a){return 1-b*Math.pow(2,-10*(a=+a))*Math.sin((a+e)/c)}var e=Math.asin(1/(b=Math.max(1,b)))*(c/=Jk);return d.amplitude=function(b){return a(b,c*Jk)},d.period=function(c){return a(b,c)},d}(1,.3),Mk=function a(b,c){function d(a){return((a=2*a-1)<0?b*Math.pow(2,10*a)*Math.sin((e-a)/c):2-b*Math.pow(2,-10*a)*Math.sin((e+a)/c))/2}var e=Math.asin(1/(b=Math.max(1,b)))*(c/=Jk);return d.amplitude=function(b){return a(b,c*Jk)},d.period=function(c){return a(b,c)},d}(1,.3),Nk=function(a){for(var b,c=-1,d=a.length,e=a[d-1],f=0;++c<d;)b=e,e=a[c],f+=b[1]*e[0]-b[0]*e[1];return f/2},Ok=function(a){for(var b,c,d=-1,e=a.length,f=0,g=0,h=a[e-1],i=0;++d<e;)b=h,h=a[d],i+=c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return i*=3,[f/i,g/i]},Pk=function(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])},Qk=function(a){if((c=a.length)<3)return null;var b,c,d=new Array(c),e=new Array(c);for(b=0;b<c;++b)d[b]=[+a[b][0],+a[b][1],b];for(d.sort(F),b=0;b<c;++b)e[b]=[d[b][0],-d[b][1]];var f=G(d),g=G(e),h=g[0]===f[0],i=g[g.length-1]===f[f.length-1],j=[];for(b=f.length-1;b>=0;--b)j.push(a[d[f[b]][2]]);for(b=+h;b<g.length-i;++b)j.push(a[d[g[b]][2]]);return j},Rk=function(a,b){for(var c,d,e=a.length,f=a[e-1],g=b[0],h=b[1],i=f[0],j=f[1],k=!1,l=0;l<e;++l)f=a[l],c=f[0],d=f[1],d>h!=j>h&&g<(i-c)*(h-d)/(j-d)+c&&(k=!k),i=c,j=d;return k},Sk=function(a){for(var b,c,d=-1,e=a.length,f=a[e-1],g=f[0],h=f[1],i=0;++d<e;)b=g,c=h,f=a[d],g=f[0],h=f[1],b-=g,c-=h,i+=Math.sqrt(b*b+c*c);return i},Tk=Math.PI,Uk=2*Tk,Vk=1e-6,Wk=Uk-Vk;H.prototype=I.prototype={constructor:H,moveTo:function(a,b){this._.push("M",this._x0=this._x1=+a,",",this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._.push("Z"))},lineTo:function(a,b){this._.push("L",this._x1=+a,",",this._y1=+b)},quadraticCurveTo:function(a,b,c,d){this._.push("Q",+a,",",+b,",",this._x1=+c,",",this._y1=+d)},bezierCurveTo:function(a,b,c,d,e,f){this._.push("C",+a,",",+b,",",+c,",",+d,",",this._x1=+e,",",this._y1=+f)},arcTo:function(a,b,c,d,e){a=+a,b=+b,c=+c,d=+d,e=+e;var f=this._x1,g=this._y1,h=c-a,i=d-b,j=f-a,k=g-b,l=j*j+k*k;if(e<0)throw new Error("negative radius: "+e);if(null===this._x1)this._.push("M",this._x1=a,",",this._y1=b);else if(l>Vk)if(Math.abs(k*h-i*j)>Vk&&e){var m=c-f,n=d-g,o=h*h+i*i,p=m*m+n*n,q=Math.sqrt(o),r=Math.sqrt(l),s=e*Math.tan((Tk-Math.acos((o+l-p)/(2*q*r)))/2),t=s/r,u=s/q;Math.abs(t-1)>Vk&&this._.push("L",a+t*j,",",b+t*k),this._.push("A",e,",",e,",0,0,",+(k*m>j*n),",",this._x1=a+u*h,",",this._y1=b+u*i)}else this._.push("L",this._x1=a,",",this._y1=b)},arc:function(a,b,c,d,e,f){a=+a,b=+b,c=+c;var g=c*Math.cos(d),h=c*Math.sin(d),i=a+g,j=b+h,k=1^f,l=f?d-e:e-d;if(c<0)throw new Error("negative radius: "+c);null===this._x1?this._.push("M",i,",",j):(Math.abs(this._x1-i)>Vk||Math.abs(this._y1-j)>Vk)&&this._.push("L",i,",",j),c&&(l>Wk?this._.push("A",c,",",c,",0,1,",k,",",a-g,",",b-h,"A",c,",",c,",0,1,",k,",",this._x1=i,",",this._y1=j):(l<0&&(l=l%Uk+Uk),this._.push("A",c,",",c,",0,",+(l>=Tk),",",k,",",this._x1=a+c*Math.cos(e),",",this._y1=b+c*Math.sin(e))))},rect:function(a,b,c,d){this._.push("M",this._x0=this._x1=+a,",",this._y0=this._y1=+b,"h",+c,"v",+d,"h",-c,"Z")},toString:function(){return this._.join("")}};var Xk=function(a){var b=+this._x.call(null,a),c=+this._y.call(null,a);return J(this.cover(b,c),b,c,a)},Yk=function(a,b){if(isNaN(a=+a)||isNaN(b=+b))return this;var c=this._x0,d=this._y0,e=this._x1,f=this._y1;if(isNaN(c))e=(c=Math.floor(a))+1,f=(d=Math.floor(b))+1;else{if(!(c>a||a>e||d>b||b>f))return this;var g,h,i=e-c,j=this._root;switch(h=(b<(d+f)/2)<<1|a<(c+e)/2){case 0:do{g=new Array(4),g[h]=j,j=g}while(i*=2,e=c+i,f=d+i,a>e||b>f);break;case 1:do{g=new Array(4),g[h]=j,j=g}while(i*=2,c=e-i,f=d+i,c>a||b>f);break;case 2:do{g=new Array(4),g[h]=j,j=g}while(i*=2,e=c+i,d=f-i,a>e||d>b);break;case 3:do{g=new Array(4),g[h]=j,j=g}while(i*=2,c=e-i,d=f-i,c>a||d>b)}this._root&&this._root.length&&(this._root=j)}return this._x0=c,this._y0=d,this._x1=e,this._y1=f,this},Zk=function(){var a=[];return this.visit(function(b){if(!b.length)do{a.push(b.data)}while(b=b.next)}),a},$k=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},_k=function(a,b,c,d,e){this.node=a,this.x0=b,this.y0=c,this.x1=d,this.y1=e},al=function(a,b,c){var d,e,f,g,h,i,j,k=this._x0,l=this._y0,m=this._x1,n=this._y1,o=[],p=this._root;for(p&&o.push(new _k(p,k,l,m,n)),null==c?c=1/0:(k=a-c,l=b-c,m=a+c,n=b+c,c*=c);i=o.pop();)if(!(!(p=i.node)||(e=i.x0)>m||(f=i.y0)>n||(g=i.x1)<k||(h=i.y1)<l))if(p.length){var q=(e+g)/2,r=(f+h)/2;o.push(new _k(p[3],q,r,g,h),new _k(p[2],e,r,q,h),new _k(p[1],q,f,g,r),new _k(p[0],e,f,q,r)),(j=(b>=r)<<1|a>=q)&&(i=o[o.length-1],o[o.length-1]=o[o.length-1-j],o[o.length-1-j]=i)}else{var s=a-+this._x.call(null,p.data),t=b-+this._y.call(null,p.data),u=s*s+t*t;if(u<c){var v=Math.sqrt(c=u);k=a-v,l=b-v,m=a+v,n=b+v,d=p.data}}return d},bl=function(a){if(isNaN(f=+this._x.call(null,a))||isNaN(g=+this._y.call(null,a)))return this;var b,c,d,e,f,g,h,i,j,k,l,m,n=this._root,o=this._x0,p=this._y0,q=this._x1,r=this._y1;if(!n)return this;if(n.length)for(;;){if((j=f>=(h=(o+q)/2))?o=h:q=h,(k=g>=(i=(p+r)/2))?p=i:r=i,b=n,!(n=n[l=k<<1|j]))return this;if(!n.length)break;(b[l+1&3]||b[l+2&3]||b[l+3&3])&&(c=b,m=l)}for(;n.data!==a;)if(d=n,!(n=n.next))return this;return(e=n.next)&&delete n.next,d?(e?d.next=e:delete d.next,this):b?(e?b[l]=e:delete b[l],(n=b[0]||b[1]||b[2]||b[3])&&n===(b[3]||b[2]||b[1]||b[0])&&!n.length&&(c?c[m]=n:this._root=n),this):(this._root=e,this)},cl=function(){return this._root},dl=function(){var a=0;return this.visit(function(b){if(!b.length)do{++a}while(b=b.next)}),a},el=function(a){var b,c,d,e,f,g,h=[],i=this._root;for(i&&h.push(new _k(i,this._x0,this._y0,this._x1,this._y1));b=h.pop();)if(!a(i=b.node,d=b.x0,e=b.y0,f=b.x1,g=b.y1)&&i.length){var j=(d+f)/2,k=(e+g)/2;(c=i[3])&&h.push(new _k(c,j,k,f,g)),(c=i[2])&&h.push(new _k(c,d,k,j,g)),(c=i[1])&&h.push(new _k(c,j,e,f,k)),(c=i[0])&&h.push(new _k(c,d,e,j,k))}return this},fl=function(a){var b,c=[],d=[];for(this._root&&c.push(new _k(this._root,this._x0,this._y0,this._x1,this._y1));b=c.pop();){var e=b.node;if(e.length){var f,g=b.x0,h=b.y0,i=b.x1,j=b.y1,k=(g+i)/2,l=(h+j)/2;(f=e[0])&&c.push(new _k(f,g,h,k,l)),(f=e[1])&&c.push(new _k(f,k,h,i,l)),(f=e[2])&&c.push(new _k(f,g,l,k,j)),(f=e[3])&&c.push(new _k(f,k,l,i,j))}d.push(b)}for(;b=d.pop();)a(b.node,b.x0,b.y0,b.x1,b.y1);return this},gl=function(a){return arguments.length?(this._x=a,this):this._x},hl=function(a){return arguments.length?(this._y=a,this):this._y},il=O.prototype=P.prototype;il.copy=function(){var a,b,c=new P(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root;if(!d)return c;if(!d.length)return c._root=Q(d),c;for(a=[{source:d,target:c._root=new Array(4)}];d=a.pop();)for(var e=0;e<4;++e)(b=d.source[e])&&(b.length?a.push({source:b,target:d.target[e]=new Array(4)}):d.target[e]=Q(b));return c},il.add=Xk,il.addAll=K,il.cover=Yk,il.data=Zk,il.extent=$k,il.find=al,il.remove=bl,il.removeAll=L,il.root=cl,il.size=dl,il.visit=el,il.visitAfter=fl,il.x=gl,il.y=hl;var jl=[].slice,kl={};R.prototype=X.prototype={constructor:R,defer:function(a){if("function"!=typeof a||this._call)throw new Error;if(null!=this._error)return this;var b=jl.call(arguments,1);return b.push(a),++this._waiting,this._tasks.push(b),S(this),this},abort:function(){return null==this._error&&V(this,new Error("abort")),this},await:function(a){if("function"!=typeof a||this._call)throw new Error;return this._call=function(b,c){a.apply(null,[b].concat(c))},W(this),this},awaitAll:function(a){if("function"!=typeof a||this._call)throw new Error;return this._call=a,W(this),this}};var ll=function(a){return function(){return a}},ml=1e-12,nl=Math.PI,ol=nl/2,pl=2*nl,ql=function(){function a(){var a,j,k=+b.apply(this,arguments),l=+c.apply(this,arguments),m=f.apply(this,arguments)-ol,n=g.apply(this,arguments)-ol,o=Math.abs(n-m),p=n>m;if(i||(i=a=I()),l<k&&(j=l,l=k,k=j),l>ml)if(o>pl-ml)i.moveTo(l*Math.cos(m),l*Math.sin(m)),i.arc(0,0,l,m,n,!p),k>ml&&(i.moveTo(k*Math.cos(n),k*Math.sin(n)),i.arc(0,0,k,n,m,p));else{var q,r,s=m,t=n,u=m,v=n,w=o,x=o,y=h.apply(this,arguments)/2,z=y>ml&&(e?+e.apply(this,arguments):Math.sqrt(k*k+l*l)),A=Math.min(Math.abs(l-k)/2,+d.apply(this,arguments)),B=A,C=A;if(z>ml){var D=ba(z/k*Math.sin(y)),E=ba(z/l*Math.sin(y));(w-=2*D)>ml?(D*=p?1:-1,u+=D,v-=D):(w=0,u=v=(m+n)/2),(x-=2*E)>ml?(E*=p?1:-1,s+=E,t-=E):(x=0,s=t=(m+n)/2)}var F=l*Math.cos(s),G=l*Math.sin(s),H=k*Math.cos(v),J=k*Math.sin(v);if(A>ml){var K=l*Math.cos(t),L=l*Math.sin(t),M=k*Math.cos(u),N=k*Math.sin(u);if(o<nl){var O=w>ml?ca(F,G,M,N,K,L,H,J):[H,J],P=F-O[0],Q=G-O[1],R=K-O[0],S=L-O[1],T=1/Math.sin(Math.acos((P*R+Q*S)/(Math.sqrt(P*P+Q*Q)*Math.sqrt(R*R+S*S)))/2),U=Math.sqrt(O[0]*O[0]+O[1]*O[1]);B=Math.min(A,(k-U)/(T-1)),C=Math.min(A,(l-U)/(T+1))}}x>ml?C>ml?(q=da(M,N,F,G,l,C,p),r=da(K,L,H,J,l,C,p),i.moveTo(q.cx+q.x01,q.cy+q.y01),C<A?i.arc(q.cx,q.cy,C,Math.atan2(q.y01,q.x01),Math.atan2(r.y01,r.x01),!p):(i.arc(q.cx,q.cy,C,Math.atan2(q.y01,q.x01),Math.atan2(q.y11,q.x11),!p),i.arc(0,0,l,Math.atan2(q.cy+q.y11,q.cx+q.x11),Math.atan2(r.cy+r.y11,r.cx+r.x11),!p),i.arc(r.cx,r.cy,C,Math.atan2(r.y11,r.x11),Math.atan2(r.y01,r.x01),!p))):(i.moveTo(F,G),i.arc(0,0,l,s,t,!p)):i.moveTo(F,G),k>ml&&w>ml?B>ml?(q=da(H,J,K,L,k,-B,p),r=da(F,G,M,N,k,-B,p),i.lineTo(q.cx+q.x01,q.cy+q.y01),B<A?i.arc(q.cx,q.cy,B,Math.atan2(q.y01,q.x01),Math.atan2(r.y01,r.x01),!p):(i.arc(q.cx,q.cy,B,Math.atan2(q.y01,q.x01),Math.atan2(q.y11,q.x11),!p),i.arc(0,0,k,Math.atan2(q.cy+q.y11,q.cx+q.x11),Math.atan2(r.cy+r.y11,r.cx+r.x11),p),i.arc(r.cx,r.cy,B,Math.atan2(r.y11,r.x11),Math.atan2(r.y01,r.x01),!p))):i.arc(0,0,k,v,u,p):i.lineTo(H,J)}else i.moveTo(0,0);if(i.closePath(),a)return i=null,a+""||null}var b=Y,c=Z,d=ll(0),e=null,f=$,g=_,h=aa,i=null;return a.centroid=function(){var a=(+b.apply(this,arguments)+ +c.apply(this,arguments))/2,d=(+f.apply(this,arguments)+ +g.apply(this,arguments))/2-nl/2;return[Math.cos(d)*a,Math.sin(d)*a]},a.innerRadius=function(c){return arguments.length?(b="function"==typeof c?c:ll(+c),a):b},a.outerRadius=function(b){return arguments.length?(c="function"==typeof b?b:ll(+b),a):c},a.cornerRadius=function(b){return arguments.length?(d="function"==typeof b?b:ll(+b),a):d},a.padRadius=function(b){return arguments.length?(e=null==b?null:"function"==typeof b?b:ll(+b),a):e},a.startAngle=function(b){return arguments.length?(f="function"==typeof b?b:ll(+b),a):f},a.endAngle=function(b){return arguments.length?(g="function"==typeof b?b:ll(+b),a):g},a.padAngle=function(b){return arguments.length?(h="function"==typeof b?b:ll(+b),a):h},a.context=function(b){return arguments.length?(i=null==b?null:b,a):i},a};ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}};var rl=function(a){return new ea(a)},sl=function(){function a(a){var h,i,j,k=a.length,l=!1;for(null==e&&(g=f(j=I())),h=0;h<=k;++h)!(h<k&&d(i=a[h],h,a))===l&&((l=!l)?g.lineStart():g.lineEnd()),l&&g.point(+b(i,h,a),+c(i,h,a));if(j)return g=null,j+""||null}var b=fa,c=ga,d=ll(!0),e=null,f=rl,g=null;return a.x=function(c){return arguments.length?(b="function"==typeof c?c:ll(+c),a):b},a.y=function(b){return arguments.length?(c="function"==typeof b?b:ll(+b),a):c},a.defined=function(b){return arguments.length?(d="function"==typeof b?b:ll(!!b),a):d},a.curve=function(b){return arguments.length?(f=b,null!=e&&(g=f(e)),a):f},a.context=function(b){return arguments.length?(null==b?e=g=null:g=f(e=b),a):e},a},tl=function(){function a(a){var b,k,l,m,n,o=a.length,p=!1,q=new Array(o),r=new Array(o);for(null==h&&(j=i(n=I())),b=0;b<=o;++b){if(!(b<o&&g(m=a[b],b,a))===p)if(p=!p)k=b,j.areaStart(),j.lineStart();else{for(j.lineEnd(),j.lineStart(),l=b-1;l>=k;--l)j.point(q[l],r[l]);j.lineEnd(),j.areaEnd()}p&&(q[b]=+c(m,b,a),r[b]=+e(m,b,a),j.point(d?+d(m,b,a):q[b],f?+f(m,b,a):r[b]))}if(n)return j=null,n+""||null}function b(){return sl().defined(g).curve(i).context(h)}var c=fa,d=null,e=ll(0),f=ga,g=ll(!0),h=null,i=rl,j=null;return a.x=function(b){return arguments.length?(c="function"==typeof b?b:ll(+b),d=null,a):c},a.x0=function(b){return arguments.length?(c="function"==typeof b?b:ll(+b),a):c},a.x1=function(b){return arguments.length?(d=null==b?null:"function"==typeof b?b:ll(+b),a):d},a.y=function(b){return arguments.length?(e="function"==typeof b?b:ll(+b),f=null,a):e},a.y0=function(b){return arguments.length?(e="function"==typeof b?b:ll(+b),a):e},a.y1=function(b){return arguments.length?(f=null==b?null:"function"==typeof b?b:ll(+b),a):f},a.lineX0=a.lineY0=function(){return b().x(c).y(e)},a.lineY1=function(){return b().x(c).y(f)},a.lineX1=function(){return b().x(d).y(e)},a.defined=function(b){return arguments.length?(g="function"==typeof b?b:ll(!!b),a):g},a.curve=function(b){return arguments.length?(i=b,null!=h&&(j=i(h)),a):i},a.context=function(b){return arguments.length?(null==b?h=j=null:j=i(h=b),a):h},a},ul=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},vl=function(a){return a},wl=function(){function a(a){var h,i,j,k,l,m=a.length,n=0,o=new Array(m),p=new Array(m),q=+e.apply(this,arguments),r=Math.min(pl,Math.max(-pl,f.apply(this,arguments)-q)),s=Math.min(Math.abs(r)/m,g.apply(this,arguments)),t=s*(r<0?-1:1);for(h=0;h<m;++h)(l=p[o[h]=h]=+b(a[h],h,a))>0&&(n+=l);for(null!=c?o.sort(function(a,b){return c(p[a],p[b])}):null!=d&&o.sort(function(b,c){return d(a[b],a[c])}),h=0,j=n?(r-m*t)/n:0;h<m;++h,q=k)i=o[h],l=p[i],k=q+(l>0?l*j:0)+t,p[i]={data:a[i],index:h,value:l,startAngle:q,endAngle:k,padAngle:s};return p}var b=vl,c=ul,d=null,e=ll(0),f=ll(pl),g=ll(0);return a.value=function(c){return arguments.length?(b="function"==typeof c?c:ll(+c),a):b},a.sortValues=function(b){return arguments.length?(c=b,d=null,a):c},a.sort=function(b){return arguments.length?(d=b,c=null,a):d},a.startAngle=function(b){return arguments.length?(e="function"==typeof b?b:ll(+b),a):e},a.endAngle=function(b){return arguments.length?(f="function"==typeof b?b:ll(+b),a):f},a.padAngle=function(b){return arguments.length?(g="function"==typeof b?b:ll(+b),a):g},a},xl=ia(rl);ha.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,b){this._curve.point(b*Math.sin(a),b*-Math.cos(a))}};var yl=function(){return ja(sl().curve(xl))},zl=function(){var a=tl().curve(xl),b=a.curve,c=a.lineX0,d=a.lineX1,e=a.lineY0,f=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return ja(c())},delete a.lineX0,a.lineEndAngle=function(){return ja(d())},delete a.lineX1,a.lineInnerRadius=function(){return ja(e())},delete a.lineY0,a.lineOuterRadius=function(){return ja(f())},delete a.lineY1,a.curve=function(a){return arguments.length?b(ia(a)):b()._curve},a},Al={draw:function(a,b){var c=Math.sqrt(b/nl);a.moveTo(c,0),a.arc(0,0,c,0,pl)}},Bl={draw:function(a,b){var c=Math.sqrt(b/5)/2;a.moveTo(-3*c,-c),a.lineTo(-c,-c),a.lineTo(-c,-3*c),a.lineTo(c,-3*c),a.lineTo(c,-c),a.lineTo(3*c,-c),a.lineTo(3*c,c),a.lineTo(c,c),a.lineTo(c,3*c),a.lineTo(-c,3*c),a.lineTo(-c,c),a.lineTo(-3*c,c),a.closePath()}},Cl=Math.sqrt(1/3),Dl=2*Cl,El={draw:function(a,b){var c=Math.sqrt(b/Dl),d=c*Cl;a.moveTo(0,-c),a.lineTo(d,0),a.lineTo(0,c),a.lineTo(-d,0),a.closePath()}},Fl=Math.sin(nl/10)/Math.sin(7*nl/10),Gl=Math.sin(pl/10)*Fl,Hl=-Math.cos(pl/10)*Fl,Il={draw:function(a,b){var c=Math.sqrt(.8908130915292852*b),d=Gl*c,e=Hl*c;a.moveTo(0,-c),a.lineTo(d,e);for(var f=1;f<5;++f){var g=pl*f/5,h=Math.cos(g),i=Math.sin(g);a.lineTo(i*c,-h*c),a.lineTo(h*d-i*e,i*d+h*e)}a.closePath()}},Jl={draw:function(a,b){var c=Math.sqrt(b),d=-c/2;a.rect(d,d,c,c)}},Kl=Math.sqrt(3),Ll={draw:function(a,b){var c=-Math.sqrt(b/(3*Kl));a.moveTo(0,2*c),a.lineTo(-Kl*c,-c),a.lineTo(Kl*c,-c),a.closePath()}},Ml=-.5,Nl=Math.sqrt(3)/2,Ol=1/Math.sqrt(12),Pl=3*(Ol/2+1),Ql={draw:function(a,b){var c=Math.sqrt(b/Pl),d=c/2,e=c*Ol,f=d,g=c*Ol+c,h=-f,i=g;a.moveTo(d,e),a.lineTo(f,g),a.lineTo(h,i),a.lineTo(Ml*d-Nl*e,Nl*d+Ml*e),a.lineTo(Ml*f-Nl*g,Nl*f+Ml*g),a.lineTo(Ml*h-Nl*i,Nl*h+Ml*i),a.lineTo(Ml*d+Nl*e,Ml*e-Nl*d),a.lineTo(Ml*f+Nl*g,Ml*g-Nl*f),a.lineTo(Ml*h+Nl*i,Ml*i-Nl*h),a.closePath()}},Rl=[Al,Bl,El,Jl,Il,Ll,Ql],Sl=function(){function a(){var a;if(d||(d=a=I()),b.apply(this,arguments).draw(d,+c.apply(this,arguments)),a)return d=null,a+""||null}var b=ll(Al),c=ll(64),d=null;return a.type=function(c){return arguments.length?(b="function"==typeof c?c:ll(c),a):b},a.size=function(b){return arguments.length?(c="function"==typeof b?b:ll(+b),a):c},a.context=function(b){return arguments.length?(d=null==b?null:b,a):d},a},Tl=function(){};la.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ka(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ka(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};var Ul=function(a){return new la(a)};ma.prototype={areaStart:Tl,areaEnd:Tl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._x2=a,this._y2=b;break;case 1:this._point=2,this._x3=a,this._y3=b;break;case 2:this._point=3,this._x4=a,this._y4=b,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:ka(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};var Vl=function(a){return new ma(a)};na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=4;default:ka(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};var Wl=function(a){return new na(a)};oa.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var a=this._x,b=this._y,c=a.length-1;if(c>0)for(var d,e=a[0],f=b[0],g=a[c]-e,h=b[c]-f,i=-1;++i<=c;)d=i/c,this._basis.point(this._beta*a[i]+(1-this._beta)*(e+d*g),this._beta*b[i]+(1-this._beta)*(f+d*h));this._x=this._y=null,this._basis.lineEnd()},point:function(a,b){this._x.push(+a),this._y.push(+b)}};var Xl=function a(b){function c(a){return 1===b?new la(a):new oa(a,b)}return c.beta=function(b){return a(+b)},c}(.85);qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pa(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2,this._x1=a,this._y1=b;break;case 2:this._point=3;default:pa(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var Yl=function a(b){function c(a){return new qa(a,b)}return c.tension=function(b){return a(+b)},c}(0);ra.prototype={areaStart:Tl,areaEnd:Tl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:pa(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var Zl=function a(b){function c(a){return new ra(a,b)}return c.tension=function(b){return a(+b)},c}(0);sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pa(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var $l=function a(b){function c(a){return new sa(a,b)}return c.tension=function(b){return a(+b)},c}(0);ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;default:ta(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var _l=function a(b){function c(a){return b?new ua(a,b):new qa(a,0)}return c.alpha=function(b){return a(+b)},c}(.5);va.prototype={areaStart:Tl,areaEnd:Tl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:ta(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var am=function a(b){function c(a){return b?new va(a,b):new ra(a,0)}return c.alpha=function(b){return a(+b)},c}(.5);wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ta(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var bm=function a(b){function c(a){return b?new wa(a,b):new sa(a,0)}return c.alpha=function(b){return a(+b)},c}(.5);xa.prototype={areaStart:Tl,areaEnd:Tl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,b){a=+a,b=+b,this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}};var cm=function(a){return new xa(a)};Ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ba(this,this._t0,Aa(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){var c=NaN;if(a=+a,b=+b,a!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,Ba(this,Aa(this,c=za(this,a,b)),c);break;default:Ba(this,this._t0,c=za(this,a,b))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b,this._t0=c}}},(Da.prototype=Object.create(Ca.prototype)).point=function(a,b){Ca.prototype.point.call(this,b,a)},Ea.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}},Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,b=this._y,c=a.length;if(c)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===c)this._context.lineTo(a[1],b[1]);else for(var d=Ia(a),e=Ia(b),f=0,g=1;g<c;++f,++g)this._context.bezierCurveTo(d[0][f],e[0][f],d[1][f],e[1][f],a[g],b[g]);(this._line||0!==this._line&&1===c)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,b){this._x.push(+a),this._y.push(+b)}};var dm=function(a){return new Ha(a)};Ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,b),this._context.lineTo(a,b);else{var c=this._x*(1-this._t)+a*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,b)}}this._x=a,this._y=b}};var em=function(a){return new Ja(a,.5)},fm=Array.prototype.slice,gm=function(a,b){if((d=a.length)>1)for(var c,d,e=1,f=a[b[0]],g=f.length;e<d;++e){c=f,f=a[b[e]];for(var h=0;h<g;++h)f[h][1]+=f[h][0]=isNaN(c[h][1])?c[h][0]:c[h][1]}},hm=function(a){for(var b=a.length,c=new Array(b);--b>=0;)c[b]=b;return c},im=function(){function a(a){var f,g,h=b.apply(this,arguments),i=a.length,j=h.length,k=new Array(j);for(f=0;f<j;++f){for(var l,m=h[f],n=k[f]=new Array(i),o=0;o<i;++o)n[o]=l=[0,+e(a[o],m,o,a)],l.data=a[o];n.key=m}for(f=0,g=c(k);f<j;++f)k[g[f]].index=f;return d(k,g),k}var b=ll([]),c=hm,d=gm,e=Ma;return a.keys=function(c){return arguments.length?(b="function"==typeof c?c:ll(fm.call(c)),a):b},a.value=function(b){return arguments.length?(e="function"==typeof b?b:ll(+b),a):e},a.order=function(b){return arguments.length?(c=null==b?hm:"function"==typeof b?b:ll(fm.call(b)),a):c},a.offset=function(b){return arguments.length?(d=null==b?gm:b,a):d},a},jm=function(a,b){if((d=a.length)>0){for(var c,d,e,f=0,g=a[0].length;f<g;++f){for(e=c=0;c<d;++c)e+=a[c][f][1]||0;if(e)for(c=0;c<d;++c)a[c][f][1]/=e}gm(a,b)}},km=function(a,b){if((c=a.length)>0){for(var c,d=0,e=a[b[0]],f=e.length;d<f;++d){for(var g=0,h=0;g<c;++g)h+=a[g][d][1]||0;e[d][1]+=e[d][0]=-h/2}gm(a,b)}},lm=function(a,b){if((e=a.length)>0&&(d=(c=a[b[0]]).length)>0){for(var c,d,e,f=0,g=1;g<d;++g){for(var h=0,i=0,j=0;h<e;++h){for(var k=a[b[h]],l=k[g][1]||0,m=k[g-1][1]||0,n=(l-m)/2,o=0;o<h;++o){var p=a[b[o]];n+=(p[g][1]||0)-(p[g-1][1]||0)}i+=l,j+=n*l}c[g-1][1]+=c[g-1][0]=f,i&&(f-=j/i)}c[g-1][1]+=c[g-1][0]=f,gm(a,b)}},mm=function(a){var b=a.map(Na);return hm(a).sort(function(a,c){return b[a]-b[c]})},nm=function(a){return mm(a).reverse()},om=function(a){var b,c,d=a.length,e=a.map(Na),f=hm(a).sort(function(a,b){return e[b]-e[a]}),g=0,h=0,i=[],j=[];for(b=0;b<d;++b)c=f[b],g<h?(g+=e[c],i.push(c)):(h+=e[c],j.push(c));return j.reverse().concat(i)},pm=function(a){return hm(a).reverse()},qm=function(a,b,c){a.prototype=b.prototype=c,c.constructor=a},rm=1/.7,sm=/^#([0-9a-f]{3})$/,tm=/^#([0-9a-f]{6})$/,um=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,vm=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,wm=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,xm=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,ym=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,zm=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Am={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,
chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qm(Pa,Qa,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),qm(Va,Ua,Oa(Pa,{brighter:function(a){return a=null==a?rm:Math.pow(rm,a),new Va(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new Va(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var a=this.opacity;return a=isNaN(a)?1:Math.max(0,Math.min(1,a)),(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),qm(Za,Ya,Oa(Pa,{brighter:function(a){return a=null==a?rm:Math.pow(rm,a),new Za(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new Za(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(this.h<0),b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new Va($a(a>=240?a-240:a+120,e,d),$a(a,e,d),$a(a<120?a+240:a-120,e,d),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Bm=Math.PI/180,Cm=180/Math.PI,Dm=.95047,Em=1,Fm=1.08883,Gm=4/29,Hm=6/29,Im=3*Hm*Hm,Jm=Hm*Hm*Hm;qm(bb,ab,Oa(Pa,{brighter:function(a){return new bb(this.l+18*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new bb(this.l-18*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,c=isNaN(this.b)?a:a-this.b/200;return a=Em*db(a),b=Dm*db(b),c=Fm*db(c),new Va(eb(3.2404542*b-1.5371385*a-.4985314*c),eb(-.969266*b+1.8760108*a+.041556*c),eb(.0556434*b-.2040259*a+1.0572252*c),this.opacity)}})),qm(ib,hb,Oa(Pa,{brighter:function(a){return new ib(this.h,this.c,this.l+18*(null==a?1:a),this.opacity)},darker:function(a){return new ib(this.h,this.c,this.l-18*(null==a?1:a),this.opacity)},rgb:function(){return _a(this).rgb()}}));var Km=1.78277,Lm=-.29227,Mm=-.90649,Nm=1.97294,Om=Nm*Mm,Pm=Nm*Km,Qm=Km*Lm- -.14861*Mm;qm(lb,kb,Oa(Pa,{brighter:function(a){return a=null==a?rm:Math.pow(rm,a),new lb(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new lb(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*Bm,b=+this.l,c=isNaN(this.s)?0:this.s*b*(1-b),d=Math.cos(a),e=Math.sin(a);return new Va(255*(b+c*(-.14861*d+Km*e)),255*(b+c*(Lm*d+Mm*e)),255*(b+c*(Nm*d)),this.opacity)}}));var Rm,Sm,Tm,Um,Vm=function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return mb((c-d/b)*b,g,e,f,h)}},Wm=function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return mb((c-d/b)*b,e,f,g,h)}},Xm=function(a){return function(){return a}},Ym=function a(b){function c(a,b){var c=d((a=Ua(a)).r,(b=Ua(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=d(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}var d=qb(b);return c.gamma=a,c}(1),Zm=sb(Vm),$m=sb(Wm),_m=function(a,b){var c,d=b?b.length:0,e=a?Math.min(d,a.length):0,f=new Array(d),g=new Array(d);for(c=0;c<e;++c)f[c]=gn(a[c],b[c]);for(;c<d;++c)g[c]=b[c];return function(a){for(c=0;c<e;++c)g[c]=f[c](a);return g}},an=function(a,b){var c=new Date;return a=+a,b-=a,function(d){return c.setTime(a+b*d),c}},bn=function(a,b){return a=+a,b-=a,function(c){return a+b*c}},cn=function(a,b){var c,d={},e={};null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={});for(c in b)c in a?d[c]=gn(a[c],b[c]):e[c]=b[c];return function(a){for(c in d)e[c]=d[c](a);return e}},dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,en=new RegExp(dn.source,"g"),fn=function(a,b){var c,d,e,f=dn.lastIndex=en.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=dn.exec(a))&&(d=en.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:bn(c,d)})),f=en.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?ub(i[0].x):tb(b):(b=i.length,function(a){for(var c,d=0;d<b;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})},gn=function(a,b){var c,d=typeof b;return null==b||"boolean"===d?Xm(b):("number"===d?bn:"string"===d?(c=Qa(b))?(b=c,Ym):fn:b instanceof Qa?Ym:b instanceof Date?an:Array.isArray(b)?_m:isNaN(b)?cn:bn)(a,b)},hn=function(a,b){return a=+a,b-=a,function(c){return Math.round(a+b*c)}},jn=180/Math.PI,kn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ln=function(a,b,c,d,e,f){var g,h,i;return(g=Math.sqrt(a*a+b*b))&&(a/=g,b/=g),(i=a*c+b*d)&&(c-=a*i,d-=b*i),(h=Math.sqrt(c*c+d*d))&&(c/=h,d/=h,i/=h),a*d<b*c&&(a=-a,b=-b,i=-i,g=-g),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*jn,skewX:Math.atan(i)*jn,scaleX:g,scaleY:h}},mn=xb(vb,"px, ","px)","deg)"),nn=xb(wb,", ",")",")"),on=Math.SQRT2,pn=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=b[0],i=b[1],j=b[2],k=h-e,l=i-f,m=k*k+l*l;if(m<1e-12)d=Math.log(j/g)/on,c=function(a){return[e+a*k,f+a*l,g*Math.exp(on*a*d)]};else{var n=Math.sqrt(m),o=(j*j-g*g+4*m)/(2*g*2*n),p=(j*j-g*g-4*m)/(2*j*2*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);d=(r-q)/on,c=function(a){var b=a*d,c=yb(q),h=g/(2*n)*(c*Ab(on*b+q)-zb(q));return[e+h*k,f+h*l,g*c/yb(on*b+q)]}}return c.duration=1e3*d,c},qn=Bb(pb),rn=Bb(rb),sn=Db(pb),tn=Db(rb),un=Eb(pb),vn=Eb(rb),wn=function(a,b){for(var c=new Array(b),d=0;d<b;++d)c[d]=a(d/(b-1));return c},xn={value:function(){}};Gb.prototype=Fb.prototype={constructor:Gb,on:function(a,b){var c,d=this._,e=Hb(a+"",d),f=-1,g=e.length;if(!(arguments.length<2)){if(null!=b&&"function"!=typeof b)throw new Error("invalid callback: "+b);for(;++f<g;)if(c=(a=e[f]).type)d[c]=Jb(d[c],a.name,b);else if(null==b)for(c in d)d[c]=Jb(d[c],a.name,null);return this}for(;++f<g;)if((c=(a=e[f]).type)&&(c=Ib(d[c],a.name)))return c},copy:function(){var a={},b=this._;for(var c in b)a[c]=b[c].slice();return new Gb(a)},call:function(a,b){if((c=arguments.length-2)>0)for(var c,d,e=new Array(c),f=0;f<c;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(d=this._[a],f=0,c=d.length;f<c;++f)d[f].value.apply(b,e)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var d=this._[a],e=0,f=d.length;e<f;++e)d[e].value.apply(b,c)}};var yn,zn,An=function(a){function b(a,b){var d,e,f=c(a,function(a,c){return d?d(a,c-1):(e=a,void(d=b?Lb(a,b):Kb(a)))});return f.columns=e,f}function c(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b,c=k;if(34===a.charCodeAt(c)){for(var d=c;d++<j;)if(34===a.charCodeAt(d)){if(34!==a.charCodeAt(d+1))break;++d}return k=d+2,b=a.charCodeAt(d+1),13===b?(e=!0,10===a.charCodeAt(d+2)&&++k):10===b&&(e=!0),a.slice(c+1,d).replace(/""/g,'"')}for(;k<j;){var h=1;if(10===(b=a.charCodeAt(k++)))e=!0;else if(13===b)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(b!==i)continue;return a.slice(c,k-h)}return a.slice(c)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h}function d(b,c){return null==c&&(c=Mb(b)),[c.map(g).join(a)].concat(b.map(function(b){return c.map(function(a){return g(b[a])}).join(a)})).join("\n")}function e(a){return a.map(f).join("\n")}function f(b){return b.map(g).join(a)}function g(a){return null==a?"":h.test(a+="")?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return{parse:b,parseRows:c,format:d,formatRows:e}},Bn=An(","),Cn=Bn.parse,Dn=Bn.parseRows,En=Bn.format,Fn=Bn.formatRows,Gn=An("\t"),Hn=Gn.parse,In=Gn.parseRows,Jn=Gn.format,Kn=Gn.formatRows,Ln=function(a,b){function c(a){var b,c=k.status;if(!c&&Ob(k)||c>=200&&c<300||304===c){if(g)try{b=g.call(d,k)}catch(a){return void i.call("error",d,a)}else b=k;i.call("load",d,b)}else i.call("error",d,a)}var d,e,g,h,i=Fb("beforesend","progress","load","error"),j=f(),k=new XMLHttpRequest,l=null,m=null,n=0;if("undefined"==typeof XDomainRequest||"withCredentials"in k||!/^(http(s)?:)?\/\//.test(a)||(k=new XDomainRequest),"onload"in k?k.onload=k.onerror=k.ontimeout=c:k.onreadystatechange=function(a){k.readyState>3&&c(a)},k.onprogress=function(a){i.call("progress",d,a)},d={header:function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?j.get(a):(null==b?j.remove(a):j.set(a,b+""),d)},mimeType:function(a){return arguments.length?(e=null==a?null:a+"",d):e},responseType:function(a){return arguments.length?(h=a,d):h},timeout:function(a){return arguments.length?(n=+a,d):n},user:function(a){return arguments.length<1?l:(l=null==a?null:a+"",d)},password:function(a){return arguments.length<1?m:(m=null==a?null:a+"",d)},response:function(a){return g=a,d},get:function(a,b){return d.send("GET",a,b)},post:function(a,b){return d.send("POST",a,b)},send:function(b,c,f){return k.open(b,a,!0,l,m),null==e||j.has("accept")||j.set("accept",e+",*/*"),k.setRequestHeader&&j.each(function(a,b){k.setRequestHeader(b,a)}),null!=e&&k.overrideMimeType&&k.overrideMimeType(e),null!=h&&(k.responseType=h),n>0&&(k.timeout=n),null==f&&"function"==typeof c&&(f=c,c=null),null!=f&&1===f.length&&(f=Nb(f)),null!=f&&d.on("error",f).on("load",function(a){f(null,a)}),i.call("beforesend",d,k),k.send(null==c?null:c),d},abort:function(){return k.abort(),d},on:function(){var a=i.on.apply(i,arguments);return a===i?d:a}},null!=b){if("function"!=typeof b)throw new Error("invalid callback: "+b);return d.get(b)}return d},Mn=function(a,b){return function(c,d){var e=Ln(c).mimeType(a).response(b);if(null!=d){if("function"!=typeof d)throw new Error("invalid callback: "+d);return e.get(d)}return e}},Nn=Mn("text/html",function(a){return document.createRange().createContextualFragment(a.responseText)}),On=Mn("application/json",function(a){return JSON.parse(a.responseText)}),Pn=Mn("text/plain",function(a){return a.responseText}),Qn=Mn("application/xml",function(a){var b=a.responseXML;if(!b)throw new Error("parse error");return b}),Rn=function(a,b){return function(c,d,e){arguments.length<3&&(e=d,d=null);var f=Ln(c).mimeType(a);return f.row=function(a){return arguments.length?f.response(Pb(b,d=a)):d},f.row(d),e?f.get(e):f}},Sn=Rn("text/csv",Cn),Tn=Rn("text/tab-separated-values",Hn),Un=0,Vn=0,Wn=0,Xn=1e3,Yn=0,Zn=0,$n=0,_n="object"==typeof performance&&performance.now?performance:Date,ao="function"==typeof requestAnimationFrame?requestAnimationFrame:function(a){setTimeout(a,17)};Sb.prototype=Tb.prototype={constructor:Sb,restart:function(a,b,c){if("function"!=typeof a)throw new TypeError("callback is not a function");c=(null==c?Qb():+c)+(null==b?0:+b),this._next||zn===this||(zn?zn._next=this:yn=this,zn=this),this._call=a,this._time=c,Yb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yb())}};var bo=function(a,b,c){var d=new Sb;return b=null==b?0:+b,d.restart(function(c){d.stop(),a(c+b)},b,c),d},co=function(a,b,c){var d=new Sb,e=b;return null==b?(d.restart(a,b,c),d):(b=+b,c=null==c?Qb():+c,d.restart(function f(g){g+=e,d.restart(f,e+=b,c),a(g)},b,c),d)},eo=new Date,fo=new Date,go=Zb(function(){},function(a,b){a.setTime(+a+b)},function(a,b){return b-a});go.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?Zb(function(b){b.setTime(Math.floor(b/a)*a)},function(b,c){b.setTime(+b+c*a)},function(b,c){return(c-b)/a}):go:null};var ho=go.range,io=6e4,jo=36e5,ko=6048e5,lo=Zb(function(a){a.setTime(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(+a+1e3*b)},function(a,b){return(b-a)/1e3},function(a){return a.getUTCSeconds()}),mo=lo.range,no=Zb(function(a){a.setTime(Math.floor(a/io)*io)},function(a,b){a.setTime(+a+b*io)},function(a,b){return(b-a)/io},function(a){return a.getMinutes()}),oo=no.range,po=Zb(function(a){var b=a.getTimezoneOffset()*io%jo;b<0&&(b+=jo),a.setTime(Math.floor((+a-b)/jo)*jo+b)},function(a,b){a.setTime(+a+b*jo)},function(a,b){return(b-a)/jo},function(a){return a.getHours()}),qo=po.range,ro=Zb(function(a){a.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+b)},function(a,b){return(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*io)/864e5},function(a){return a.getDate()-1}),so=ro.range,to=$b(0),uo=$b(1),vo=$b(2),wo=$b(3),xo=$b(4),yo=$b(5),zo=$b(6),Ao=to.range,Bo=uo.range,Co=vo.range,Do=wo.range,Eo=xo.range,Fo=yo.range,Go=zo.range,Ho=Zb(function(a){a.setDate(1),a.setHours(0,0,0,0)},function(a,b){a.setMonth(a.getMonth()+b)},function(a,b){return b.getMonth()-a.getMonth()+12*(b.getFullYear()-a.getFullYear())},function(a){return a.getMonth()}),Io=Ho.range,Jo=Zb(function(a){a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a,b){return b.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});Jo.every=function(a){return isFinite(a=Math.floor(a))&&a>0?Zb(function(b){b.setFullYear(Math.floor(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,c){b.setFullYear(b.getFullYear()+c*a)}):null};var Ko=Jo.range,Lo=Zb(function(a){a.setUTCSeconds(0,0)},function(a,b){a.setTime(+a+b*io)},function(a,b){return(b-a)/io},function(a){return a.getUTCMinutes()}),Mo=Lo.range,No=Zb(function(a){a.setUTCMinutes(0,0,0)},function(a,b){a.setTime(+a+b*jo)},function(a,b){return(b-a)/jo},function(a){return a.getUTCHours()}),Oo=No.range,Po=Zb(function(a){a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+b)},function(a,b){return(b-a)/864e5},function(a){return a.getUTCDate()-1}),Qo=Po.range,Ro=_b(0),So=_b(1),To=_b(2),Uo=_b(3),Vo=_b(4),Wo=_b(5),Xo=_b(6),Yo=Ro.range,Zo=So.range,$o=To.range,_o=Uo.range,ap=Vo.range,bp=Wo.range,cp=Xo.range,dp=Zb(function(a){a.setUTCDate(1),a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCMonth(a.getUTCMonth()+b)},function(a,b){return b.getUTCMonth()-a.getUTCMonth()+12*(b.getUTCFullYear()-a.getUTCFullYear())},function(a){return a.getUTCMonth()}),ep=dp.range,fp=Zb(function(a){a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCFullYear(a.getUTCFullYear()+b)},function(a,b){return b.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});fp.every=function(a){return isFinite(a=Math.floor(a))&&a>0?Zb(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null};var gp,hp=fp.range,ip=function(a,b){if((c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e"))<0)return null;var c,d=a.slice(0,c);return[d.length>1?d[0]+d.slice(2):d,+a.slice(c+1)]},jp=function(a){return a=ip(Math.abs(a)),a?a[1]:NaN},kp=function(a,b){return function(c,d){for(var e=c.length,f=[],g=0,h=a[0],i=0;e>0&&h>0&&(i+h+1>d&&(h=Math.max(1,d-i)),f.push(c.substring(e-=h,e+h)),!((i+=h+1)>d));)h=a[g=(g+1)%a.length];return f.reverse().join(b)}},lp=function(a,b){a=a.toPrecision(b);a:for(var c,d=a.length,e=1,f=-1;e<d;++e)switch(a[e]){case".":f=c=e;break;case"0":0===f&&(f=e),c=e;break;case"e":break a;default:f>0&&(f=0)}return f>0?a.slice(0,f)+a.slice(c+1):a},mp=function(a,b){var c=ip(a,b);if(!c)return a+"";var d=c[0],e=c[1],f=e-(gp=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,g=d.length;return f===g?d:f>g?d+new Array(f-g+1).join("0"):f>0?d.slice(0,f)+"."+d.slice(f):"0."+new Array(1-f).join("0")+ip(a,Math.max(0,b+f-1))[0]},np=function(a,b){var c=ip(a,b);if(!c)return a+"";var d=c[0],e=c[1];return e<0?"0."+new Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+new Array(e-d.length+2).join("0")},op={"":lp,"%":function(a,b){return(100*a).toFixed(b)},b:function(a){return Math.round(a).toString(2)},c:function(a){return a+""},d:function(a){return Math.round(a).toString(10)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},g:function(a,b){return a.toPrecision(b)},o:function(a){return Math.round(a).toString(8)},p:function(a,b){return np(100*a,b)},r:np,s:mp,X:function(a){return Math.round(a).toString(16).toUpperCase()},x:function(a){return Math.round(a).toString(16)}},pp=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,qp=function(a){return new ac(a)};ac.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var rp,sp=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],tp=function(a){function b(a){function b(a){var b,e,i,s=o,t=p;if("c"===n)t=q(a)+t,a="";else{a=+a;var u=(a<0||1/a<0)&&(a*=-1,!0);if(a=q(a,m),u)for(b=-1,e=a.length,u=!1;++b<e;)if(48<(i=a.charCodeAt(b))&&i<58||"x"===n&&96<i&&i<103||"X"===n&&64<i&&i<71){u=!0;break}if(s=(u?"("===h?h:"-":"-"===h||"("===h?"":h)+s,t=t+("s"===n?sp[8+gp/3]:"")+(u&&"("===h?")":""),r)for(b=-1,e=a.length;++b<e;)if(48>(i=a.charCodeAt(b))||i>57){t=(46===i?f+a.slice(b+1):a.slice(b))+t,a=a.slice(0,b);break}}l&&!j&&(a=d(a,1/0));var v=s.length+a.length+t.length,w=v<k?new Array(k-v+1).join(c):"";switch(l&&j&&(a=d(w+a,w.length?k-t.length:1/0),w=""),g){case"<":return s+a+t+w;case"=":return s+w+a+t;case"^":return w.slice(0,v=w.length>>1)+s+a+t+w.slice(v)}return w+s+a+t}a=qp(a);var c=a.fill,g=a.align,h=a.sign,i=a.symbol,j=a.zero,k=a.width,l=a.comma,m=a.precision,n=a.type,o="$"===i?e[0]:"#"===i&&/[boxX]/.test(n)?"0"+n.toLowerCase():"",p="$"===i?e[1]:/[%p]/.test(n)?"%":"",q=op[n],r=!n||/[defgprs%]/.test(n);return m=null==m?n?6:12:/[gprs]/.test(n)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),b.toString=function(){return a+""},b}function c(a,c){var d=b((a=qp(a),a.type="f",a)),e=3*Math.max(-8,Math.min(8,Math.floor(jp(c)/3))),f=Math.pow(10,-e),g=sp[8+e/3];return function(a){return d(f*a)+g}}var d=a.grouping&&a.thousands?kp(a.grouping,a.thousands):bc,e=a.currency,f=a.decimal;return{format:b,formatPrefix:c}};cc({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var up,vp=function(a){return Math.max(0,-jp(Math.abs(a)))},wp=function(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(jp(b)/3)))-jp(Math.abs(a)))},xp=function(a,b){return a=Math.abs(a),b=Math.abs(b)-a,Math.max(0,jp(b)-jp(a))+1},yp={"-":"",_:" ",0:"0"},zp=/^\s*\d+/,Ap=/^%/,Bp=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;ad({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Cp="%Y-%m-%dT%H:%M:%S.%LZ",Dp=Date.prototype.toISOString?bd:a.utcFormat(Cp),Ep=+new Date("2000-01-01T00:00:00.000Z")?cd:a.utcParse(Cp),Fp=Array.prototype,Gp=Fp.map,Hp=Fp.slice,Ip={name:"implicit"},Jp=function(a){return function(){return a}},Kp=function(a){return+a},Lp=[0,1],Mp=function(b,d,e){var f,g=b[0],h=b[b.length-1],i=c(g,h,null==d?10:d);switch(e=qp(null==e?",f":e),e.type){case"s":var j=Math.max(Math.abs(g),Math.abs(h));return null!=e.precision||isNaN(f=wp(i,j))||(e.precision=f),a.formatPrefix(e,j);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(f=xp(i,Math.max(Math.abs(g),Math.abs(h))))||(e.precision=f-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(f=vp(i))||(e.precision=f-2*("%"===e.type))}return a.format(e)},Np=function(a,b){a=a.slice();var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a},Op=1e3,Pp=60*Op,Qp=60*Pp,Rp=24*Qp,Sp=7*Rp,Tp=30*Rp,Up=365*Rp,Vp=function(){return Gd(Jo,Ho,to,ro,po,no,lo,go,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Wp=function(){return Gd(fp,dp,Ro,Po,No,Lo,lo,go,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},Xp=function(a){return a.match(/.{6}/g).map(function(a){return"#"+a})},Yp=Xp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Zp=Xp("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),$p=Xp("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),_p=Xp("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),aq=vn(kb(300,.5,0),kb(-240,.5,1)),bq=vn(kb(-100,.75,.35),kb(80,1.5,.8)),cq=vn(kb(260,.75,.35),kb(80,1.5,.8)),dq=kb(),eq=function(a){(a<0||a>1)&&(a-=Math.floor(a));var b=Math.abs(a-.5);return dq.h=360*a-100,dq.s=1.5-1.5*b,dq.l=.8-.9*b,dq+""},fq=Hd(Xp("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),gq=Hd(Xp("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),hq=Hd(Xp("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),iq=Hd(Xp("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),jq="http://www.w3.org/1999/xhtml",kq={svg:"http://www.w3.org/2000/svg",xhtml:jq,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lq=function(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),kq.hasOwnProperty(b)?{space:kq[b],local:a}:a},mq=function(a){var b=lq(a);return(b.local?Kd:Jd)(b)},nq=0;Md.prototype=Ld.prototype={constructor:Md,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var oq=function(a){return function(){return this.matches(a)}};if("undefined"!=typeof document){var pq=document.documentElement;if(!pq.matches){var qq=pq.webkitMatchesSelector||pq.msMatchesSelector||pq.mozMatchesSelector||pq.oMatchesSelector;oq=function(a){return function(){return qq.call(this,a)}}}}var rq=oq,sq={};if(a.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||(sq={mouseenter:"mouseover",mouseleave:"mouseout"})}var tq=function(a,b,c){var d,e,f=Pd(a+""),g=f.length;if(!(arguments.length<2)){for(h=b?Rd:Qd,null==c&&(c=!1),d=0;d<g;++d)this.each(h(f[d],b,c));return this}var h=this.node().__on;if(h)for(var i,j=0,k=h.length;j<k;++j)for(d=0,i=h[j];d<g;++d)if((e=f[d]).type===i.type&&e.name===i.name)return i.value},uq=function(){for(var b,c=a.event;b=c.sourceEvent;)c=b;return c},vq=function(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();return d.x=b.clientX,d.y=b.clientY,d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}var e=a.getBoundingClientRect();return[b.clientX-e.left-a.clientLeft,b.clientY-e.top-a.clientTop]},wq=function(a){var b=uq();return b.changedTouches&&(b=b.changedTouches[0]),vq(a,b)},xq=function(a){return null==a?Td:function(){return this.querySelector(a)}},yq=function(a){"function"!=typeof a&&(a=xq(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f,g,h=b[e],i=h.length,j=d[e]=new Array(i),k=0;k<i;++k)(f=h[k])&&(g=a.call(f,f.__data__,k,h))&&("__data__"in f&&(g.__data__=f.__data__),j[k]=g);return new Ee(d,this._parents)},zq=function(a){return null==a?Ud:function(){return this.querySelectorAll(a)}},Aq=function(a){"function"!=typeof a&&(a=zq(a));for(var b=this._groups,c=b.length,d=[],e=[],f=0;f<c;++f)for(var g,h=b[f],i=h.length,j=0;j<i;++j)(g=h[j])&&(d.push(a.call(g,g.__data__,j,h)),e.push(g));return new Ee(d,e)},Bq=function(a){"function"!=typeof a&&(a=rq(a))
;for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new Ee(d,this._parents)},Cq=function(a){return new Array(a.length)},Dq=function(){return new Ee(this._enter||this._groups.map(Cq),this._parents)};Vd.prototype={constructor:Vd,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var Eq=function(a){return function(){return a}},Fq="$",Gq=function(a,b){if(!a)return n=new Array(this.size()),j=-1,this.each(function(a){n[++j]=a}),n;var c=b?Xd:Wd,d=this._parents,e=this._groups;"function"!=typeof a&&(a=Eq(a));for(var f=e.length,g=new Array(f),h=new Array(f),i=new Array(f),j=0;j<f;++j){var k=d[j],l=e[j],m=l.length,n=a.call(k,k&&k.__data__,j,d),o=n.length,p=h[j]=new Array(o),q=g[j]=new Array(o);c(k,l,p,q,i[j]=new Array(m),n,b);for(var r,s,t=0,u=0;t<o;++t)if(r=p[t]){for(t>=u&&(u=t+1);!(s=q[u])&&++u<o;);r._next=s||null}}return g=new Ee(g,d),g._enter=h,g._exit=i,g},Hq=function(){return new Ee(this._exit||this._groups.map(Cq),this._parents)},Iq=function(a){for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=new Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=new Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new Ee(g,this._parents)},Jq=function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];--f>=0;)(d=e[f])&&(g&&g!==d.nextSibling&&g.parentNode.insertBefore(d,g),g=d);return this},Kq=function(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=Yd);for(var c=this._groups,d=c.length,e=new Array(d),f=0;f<d;++f){for(var g,h=c[f],i=h.length,j=e[f]=new Array(i),k=0;k<i;++k)(g=h[k])&&(j[k]=g);j.sort(b)}return new Ee(e,this._parents).order()},Lq=function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},Mq=function(){var a=new Array(this.size()),b=-1;return this.each(function(){a[++b]=this}),a},Nq=function(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},Oq=function(){var a=0;return this.each(function(){++a}),a},Pq=function(){return!this.node()},Qq=function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e,f=b[c],g=0,h=f.length;g<h;++g)(e=f[g])&&a.call(e,e.__data__,g,f);return this},Rq=function(a,b){var c=lq(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?$d:Zd:"function"==typeof b?c.local?ce:be:c.local?ae:_d)(c,b))},Sq=function(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView},Tq=function(a,b,c){var d;return arguments.length>1?this.each((null==b?de:"function"==typeof b?fe:ee)(a,b,null==c?"":c)):Sq(d=this.node()).getComputedStyle(d,null).getPropertyValue(a)},Uq=function(a,b){return arguments.length>1?this.each((null==b?ge:"function"==typeof b?ie:he)(a,b)):this.node()[a]};le.prototype={add:function(a){this._names.indexOf(a)<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var Vq=function(a,b){var c=je(a+"");if(arguments.length<2){for(var d=ke(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"==typeof b?qe:b?oe:pe)(c,b))},Wq=function(a){return arguments.length?this.each(null==a?re:("function"==typeof a?te:se)(a)):this.node().textContent},Xq=function(a){return arguments.length?this.each(null==a?ue:("function"==typeof a?we:ve)(a)):this.node().innerHTML},Yq=function(){return this.each(xe)},Zq=function(){return this.each(ye)},$q=function(a){var b="function"==typeof a?a:mq(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},_q=function(a,b){var c="function"==typeof a?a:mq(a),d=null==b?ze:"function"==typeof b?b:xq(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},ar=function(){return this.each(Ae)},br=function(a){return arguments.length?this.property("__data__",a):this.node().__data__},cr=function(a,b){return this.each(("function"==typeof b?De:Ce)(a,b))},dr=[null];Ee.prototype=Fe.prototype={constructor:Ee,select:yq,selectAll:Aq,filter:Bq,data:Gq,enter:Dq,exit:Hq,merge:Iq,order:Jq,sort:Kq,call:Lq,nodes:Mq,node:Nq,size:Oq,empty:Pq,each:Qq,attr:Rq,style:Tq,property:Uq,classed:Vq,text:Wq,html:Xq,raise:Yq,lower:Zq,append:$q,insert:_q,remove:ar,datum:br,on:tq,dispatch:cr};var er=function(a){return"string"==typeof a?new Ee([[document.querySelector(a)]],[document.documentElement]):new Ee([[a]],dr)},fr=function(a){return"string"==typeof a?new Ee([document.querySelectorAll(a)],[document.documentElement]):new Ee([null==a?[]:a],dr)},gr=function(a,b,c){arguments.length<3&&(c=b,b=uq().changedTouches);for(var d,e=0,f=b?b.length:0;e<f;++e)if((d=b[e]).identifier===c)return vq(a,d);return null},hr=function(a,b){null==b&&(b=uq().touches);for(var c=0,d=b?b.length:0,e=new Array(d);c<d;++c)e[c]=vq(a,b[c]);return e},ir=Fb("start","end","interrupt"),jr=[],kr=0,lr=1,mr=2,nr=3,or=4,pr=5,qr=6,rr=function(a,b,c,d,e,f){var g=a.__transition;if(g){if(c in g)return}else a.__transition={};Je(a,c,{name:b,index:d,group:e,on:ir,tween:jr,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:kr})},sr=function(a,b){var c,d,e,f=a.__transition,g=!0;if(f){b=null==b?null:b+"";for(e in f)(c=f[e]).name===b?(d=c.state>mr&&c.state<pr,c.state=qr,c.timer.stop(),d&&c.on.call("interrupt",a,a.__data__,c.index,c.group),delete f[e]):g=!1;g&&delete a.__transition}},tr=function(a){return this.each(function(){sr(this,a)})},ur=function(a,b){var c=this._id;if(a+="",arguments.length<2){for(var d,e=Ie(this.node(),c).tween,f=0,g=e.length;f<g;++f)if((d=e[f]).name===a)return d.value;return null}return this.each((null==b?Ke:Le)(c,a,b))},vr=function(a,b){var c;return("number"==typeof b?bn:b instanceof Qa?Ym:(c=Qa(b))?(b=c,Ym):fn)(a,b)},wr=function(a,b){var c=lq(a),d="transform"===c?nn:vr;return this.attrTween(a,"function"==typeof b?(c.local?Se:Re)(c,d,Me(this,"attr."+a,b)):null==b?(c.local?Oe:Ne)(c):(c.local?Qe:Pe)(c,d,b))},xr=function(a,b){var c="attr."+a;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==b)return this.tween(c,null);if("function"!=typeof b)throw new Error;var d=lq(a);return this.tween(c,(d.local?Te:Ue)(d,b))},yr=function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?Ve:We)(b,a)):Ie(this.node(),b).delay},zr=function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?Xe:Ye)(b,a)):Ie(this.node(),b).duration},Ar=function(a){var b=this._id;return arguments.length?this.each(Ze(b,a)):Ie(this.node(),b).ease},Br=function(a){"function"!=typeof a&&(a=rq(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new jf(d,this._parents,this._name,this._id)},Cr=function(a){if(a._id!==this._id)throw new Error;for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=new Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=new Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new jf(g,this._parents,this._name,this._id)},Dr=function(a,b){var c=this._id;return arguments.length<2?Ie(this.node(),c).on.on(a):this.each(_e(c,a,b))},Er=function(){return this.on("end.remove",af(this._id))},Fr=function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=xq(a));for(var d=this._groups,e=d.length,f=new Array(e),g=0;g<e;++g)for(var h,i,j=d[g],k=j.length,l=f[g]=new Array(k),m=0;m<k;++m)(h=j[m])&&(i=a.call(h,h.__data__,m,j))&&("__data__"in h&&(i.__data__=h.__data__),l[m]=i,rr(l[m],b,c,m,l,Ie(h,c)));return new jf(f,this._parents,b,c)},Gr=function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=zq(a));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var i,j=d[h],k=j.length,l=0;l<k;++l)if(i=j[l]){for(var m,n=a.call(i,i.__data__,l,j),o=Ie(i,c),p=0,q=n.length;p<q;++p)(m=n[p])&&rr(m,b,c,p,n,o);f.push(n),g.push(i)}return new jf(f,g,b,c)},Hr=Fe.prototype.constructor,Ir=function(){return new Hr(this._groups,this._parents)},Jr=function(a,b,c){var d="transform"==(a+="")?mn:vr;return null==b?this.styleTween(a,bf(a,d)).on("end.style."+a,cf(a)):this.styleTween(a,"function"==typeof b?ef(a,d,Me(this,"style."+a,b)):df(a,d,b),c)},Kr=function(a,b,c){var d="style."+(a+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==b)return this.tween(d,null);if("function"!=typeof b)throw new Error;return this.tween(d,ff(a,b,null==c?"":c))},Lr=function(a){return this.tween("text","function"==typeof a?hf(Me(this,"text",a)):gf(null==a?"":a+""))},Mr=function(){for(var a=this._name,b=this._id,c=lf(),d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)if(g=h[j]){var k=Ie(g,b);rr(g,a,c,j,h,{time:k.time+k.delay+k.duration,delay:0,duration:k.duration,ease:k.ease})}return new jf(d,this._parents,a,c)},Nr=0,Or=Fe.prototype;jf.prototype=kf.prototype={constructor:jf,select:Fr,selectAll:Gr,filter:Br,merge:Cr,selection:Ir,transition:Mr,call:Or.call,nodes:Or.nodes,node:Or.node,size:Or.size,empty:Or.empty,each:Or.each,on:Dr,attr:wr,attrTween:xr,style:Jr,styleTween:Kr,text:Lr,remove:Er,tween:ur,delay:yr,duration:zr,ease:Ar};var Pr={time:null,delay:0,duration:250,ease:s},Qr=function(a){var b,c;a instanceof jf?(b=a._id,a=a._name):(b=lf(),(c=Pr).time=Qb(),a=null==a?null:a+"");for(var d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)(g=h[j])&&rr(g,a,b,j,h,c||mf(g,b));return new jf(d,this._parents,a,b)};Fe.prototype.interrupt=tr,Fe.prototype.transition=Qr;var Rr=[null],Sr=function(a,b){var c,d,e=a.__transition;if(e){b=null==b?null:b+"";for(d in e)if((c=e[d]).state>lr&&c.name===b)return new jf([[a]],Rr,b,+d)}return null},Tr=Array.prototype.slice,Ur=function(a){return a},Vr=1,Wr=2,Xr=3,Yr=4,Zr=1e-6,$r=function(){function a(a){var f,g=0;a.eachAfter(function(a){var c=a.children;c?(a.x=xf(c),a.y=zf(c)):(a.x=f?g+=b(a,f):0,a.y=0,f=a)});var h=Bf(a),i=Cf(a),j=h.x-b(h,i)/2,k=i.x+b(i,h)/2;return a.eachAfter(e?function(b){b.x=(b.x-a.x)*c,b.y=(a.y-b.y)*d}:function(b){b.x=(b.x-j)/(k-j)*c,b.y=(1-(a.y?b.y/a.y:1))*d})}var b=wf,c=1,d=1,e=!1;return a.separation=function(c){return arguments.length?(b=c,a):b},a.size=function(b){return arguments.length?(e=!1,c=+b[0],d=+b[1],a):e?null:[c,d]},a.nodeSize=function(b){return arguments.length?(e=!0,c=+b[0],d=+b[1],a):e?[c,d]:null},a},_r=function(a){var b,c,d,e,f=this,g=[f];do{for(b=g.reverse(),g=[];f=b.pop();)if(a(f),c=f.children)for(d=0,e=c.length;d<e;++d)g.push(c[d])}while(g.length);return this},as=function(a){for(var b,c,d=this,e=[d];d=e.pop();)if(a(d),b=d.children)for(c=b.length-1;c>=0;--c)e.push(b[c]);return this},bs=function(a){for(var b,c,d,e=this,f=[e],g=[];e=f.pop();)if(g.push(e),b=e.children)for(c=0,d=b.length;c<d;++c)f.push(b[c]);for(;e=g.pop();)a(e);return this},cs=function(a){return this.eachAfter(function(b){for(var c=+a(b.data)||0,d=b.children,e=d&&d.length;--e>=0;)c+=d[e].value;b.value=c})},ds=function(a){return this.eachBefore(function(b){b.children&&b.children.sort(a)})},es=function(a){for(var b=this,c=Df(b,a),d=[b];b!==c;)b=b.parent,d.push(b);for(var e=d.length;a!==c;)d.splice(e,0,a),a=a.parent;return d},fs=function(){for(var a=this,b=[a];a=a.parent;)b.push(a);return b},gs=function(){var a=[];return this.each(function(b){a.push(b)}),a},hs=function(){var a=[];return this.eachBefore(function(b){b.children||a.push(b)}),a},is=function(){var a=this,b=[];return a.each(function(c){c!==a&&b.push({source:c.parent,target:c})}),b};Jf.prototype=Ef.prototype={constructor:Jf,each:_r,eachAfter:bs,eachBefore:as,sum:cs,sort:ds,path:es,ancestors:fs,descendants:gs,leaves:hs,links:is,copy:Ff};var js=function(a){for(var b=(a=a.slice()).length,c=null,d=c;b;){var e=new Kf(a[b-1]);d=d?d.next=e:c=e,a[void 0]=a[--b]}return{head:c,tail:d}},ks=function(a){return Mf(js(a),[])},ls=function(a){return Uf(a),a},ms=function(a){return function(){return a}},ns=function(){function a(a){return a.x=c/2,a.y=d/2,b?a.eachBefore(Zf(b)).eachAfter($f(e,.5)).eachBefore(_f(1)):a.eachBefore(Zf(Yf)).eachAfter($f(Xf,1)).eachAfter($f(e,a.r/Math.min(c,d))).eachBefore(_f(Math.min(c,d)/(2*a.r))),a}var b=null,c=1,d=1,e=Xf;return a.radius=function(c){return arguments.length?(b=Vf(c),a):b},a.size=function(b){return arguments.length?(c=+b[0],d=+b[1],a):[c,d]},a.padding=function(b){return arguments.length?(e="function"==typeof b?b:ms(+b),a):e},a},os=function(a){a.x0=Math.round(a.x0),a.y0=Math.round(a.y0),a.x1=Math.round(a.x1),a.y1=Math.round(a.y1)},ps=function(a,b,c,d,e){for(var f,g=a.children,h=-1,i=g.length,j=a.value&&(d-b)/a.value;++h<i;)f=g[h],f.y0=c,f.y1=e,f.x0=b,f.x1=b+=f.value*j},qs=function(){function a(a){var g=a.height+1;return a.x0=a.y0=e,a.x1=c,a.y1=d/g,a.eachBefore(b(d,g)),f&&a.eachBefore(os),a}function b(a,b){return function(c){c.children&&ps(c,c.x0,a*(c.depth+1)/b,c.x1,a*(c.depth+2)/b);var d=c.x0,f=c.y0,g=c.x1-e,h=c.y1-e;g<d&&(d=g=(d+g)/2),h<f&&(f=h=(f+h)/2),c.x0=d,c.y0=f,c.x1=g,c.y1=h}}var c=1,d=1,e=0,f=!1;return a.round=function(b){return arguments.length?(f=!!b,a):f},a.size=function(b){return arguments.length?(c=+b[0],d=+b[1],a):[c,d]},a.padding=function(b){return arguments.length?(e=+b,a):e},a},rs="$",ss={depth:-1},ts={},us=function(){function a(a){var d,e,f,g,h,i,j,k=a.length,l=new Array(k),m={};for(e=0;e<k;++e)d=a[e],h=l[e]=new Jf(d),null!=(i=b(d,e,a))&&(i+="")&&(j=rs+(h.id=i),m[j]=j in m?ts:h);for(e=0;e<k;++e)if(h=l[e],null!=(i=c(a[e],e,a))&&(i+="")){if(!(g=m[rs+i]))throw new Error("missing: "+i);if(g===ts)throw new Error("ambiguous: "+i);g.children?g.children.push(h):g.children=[h],h.parent=g}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(f.parent=ss,f.eachBefore(function(a){a.depth=a.parent.depth+1,--k}).eachBefore(If),f.parent=null,k>0)throw new Error("cycle");return f}var b=ag,c=bg;return a.id=function(c){return arguments.length?(b=Wf(c),a):b},a.parentId=function(b){return arguments.length?(c=Wf(b),a):c},a};ig.prototype=Object.create(Jf.prototype);var vs=function(){function a(a){var d=jg(a);if(d.eachAfter(b),d.parent.m=-d.z,d.eachBefore(c),i)a.eachBefore(e);else{var j=a,k=a,l=a;a.eachBefore(function(a){a.x<j.x&&(j=a),a.x>k.x&&(k=a),a.depth>l.depth&&(l=a)});var m=j===k?1:f(j,k)/2,n=m-j.x,o=g/(k.x+m+n),p=h/(l.depth||1);a.eachBefore(function(a){a.x=(a.x+n)*o,a.y=a.depth*p})}return a}function b(a){var b=a.children,c=a.parent.children,e=a.i?c[a.i-1]:null;if(b){gg(a);var g=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+f(a._,e._),a.m=a.z-g):a.z=g}else e&&(a.z=e.z+f(a._,e._));a.parent.A=d(a,e,a.parent.A||c[0])}function c(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function d(a,b,c){if(b){for(var d,e=a,g=a,h=b,i=e.parent.children[0],j=e.m,k=g.m,l=h.m,m=i.m;h=eg(h),e=dg(e),h&&e;)i=dg(i),g=eg(g),g.a=a,d=h.z+l-e.z-j+f(h._,e._),d>0&&(fg(hg(h,a,c),a,d),j+=d,k+=d),l+=h.m,j+=e.m,m+=i.m,k+=g.m;h&&!eg(g)&&(g.t=h,g.m+=l-k),e&&!dg(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function e(a){a.x*=g,a.y=a.depth*h}var f=cg,g=1,h=1,i=null;return a.separation=function(b){return arguments.length?(f=b,a):f},a.size=function(b){return arguments.length?(i=!1,g=+b[0],h=+b[1],a):i?null:[g,h]},a.nodeSize=function(b){return arguments.length?(i=!0,g=+b[0],h=+b[1],a):i?[g,h]:null},a},ws=function(a,b,c,d,e){for(var f,g=a.children,h=-1,i=g.length,j=a.value&&(e-c)/a.value;++h<i;)f=g[h],f.x0=b,f.x1=d,f.y0=c,f.y1=c+=f.value*j},xs=(1+Math.sqrt(5))/2,ys=function a(b){function c(a,c,d,e,f){kg(b,a,c,d,e,f)}return c.ratio=function(b){return a((b=+b)>1?b:1)},c}(xs),zs=function(){function a(a){return a.x0=a.y0=0,a.x1=e,a.y1=f,a.eachBefore(b),g=[0],d&&a.eachBefore(os),a}function b(a){var b=g[a.depth],d=a.x0+b,e=a.y0+b,f=a.x1-b,m=a.y1-b;f<d&&(d=f=(d+f)/2),m<e&&(e=m=(e+m)/2),a.x0=d,a.y0=e,a.x1=f,a.y1=m,a.children&&(b=g[a.depth+1]=h(a)/2,d+=l(a)-b,e+=i(a)-b,f-=j(a)-b,m-=k(a)-b,f<d&&(d=f=(d+f)/2),m<e&&(e=m=(e+m)/2),c(a,d,e,f,m))}var c=ys,d=!1,e=1,f=1,g=[0],h=Xf,i=Xf,j=Xf,k=Xf,l=Xf;return a.round=function(b){return arguments.length?(d=!!b,a):d},a.size=function(b){return arguments.length?(e=+b[0],f=+b[1],a):[e,f]},a.tile=function(b){return arguments.length?(c=Wf(b),a):c},a.padding=function(b){return arguments.length?a.paddingInner(b).paddingOuter(b):a.paddingInner()},a.paddingInner=function(b){return arguments.length?(h="function"==typeof b?b:ms(+b),a):h},a.paddingOuter=function(b){return arguments.length?a.paddingTop(b).paddingRight(b).paddingBottom(b).paddingLeft(b):a.paddingTop()},a.paddingTop=function(b){return arguments.length?(i="function"==typeof b?b:ms(+b),a):i},a.paddingRight=function(b){return arguments.length?(j="function"==typeof b?b:ms(+b),a):j},a.paddingBottom=function(b){return arguments.length?(k="function"==typeof b?b:ms(+b),a):k},a.paddingLeft=function(b){return arguments.length?(l="function"==typeof b?b:ms(+b),a):l},a},As=function(a,b,c,d,e){function f(a,b,c,d,e,g,h){if(a>=b-1){var j=i[a];return j.x0=d,j.y0=e,j.x1=g,void(j.y1=h)}for(var l=k[a],m=c/2+l,n=a+1,o=b-1;n<o;){var p=n+o>>>1;k[p]<m?n=p+1:o=p}var q=k[n]-l,r=c-q;if(h-e>g-d){var s=(e*r+h*q)/c;f(a,n,q,d,e,g,s),f(n,b,r,d,s,g,h)}else{var t=(d*r+g*q)/c;f(a,n,q,d,e,t,h),f(n,b,r,t,e,g,h)}}var g,h,i=a.children,j=i.length,k=new Array(j+1);for(k[0]=h=g=0;g<j;++g)k[g+1]=h+=i[g].value;f(0,j,a.value,b,c,d,e)},Bs=function(a,b,c,d,e){(1&a.depth?ws:ps)(a,b,c,d,e)},Cs=function a(b){function c(a,c,d,e,f){if((g=a._squarify)&&g.ratio===b)for(var g,h,i,j,k,l=-1,m=g.length,n=a.value;++l<m;){for(h=g[l],i=h.children,j=h.value=0,k=i.length;j<k;++j)h.value+=i[j].value;h.dice?ps(h,c,d,e,d+=(f-d)*h.value/n):ws(h,c,d,c+=(e-c)*h.value/n,f),n-=h.value}else a._squarify=g=kg(b,a,c,d,e,f),g.ratio=b}return c.ratio=function(b){return a((b=+b)>1?b:1)},c}(xs),Ds=function(a,b){function c(){var c,e,f=d.length,g=0,h=0;for(c=0;c<f;++c)e=d[c],g+=e.x,h+=e.y;for(g=g/f-a,h=h/f-b,c=0;c<f;++c)e=d[c],e.x-=g,e.y-=h}var d;return null==a&&(a=0),null==b&&(b=0),c.initialize=function(a){d=a},c.x=function(b){return arguments.length?(a=+b,c):a},c.y=function(a){return arguments.length?(b=+a,c):b},c},Es=function(a){return function(){return a}},Fs=function(){return 1e-6*(Math.random()-.5)},Gs=function(a){function b(){function a(a,c,d,e,f){var h=a.data,n=a.r,o=l+n;if(!h)return c>j+o||e<j-o||d>k+o||f<k-o;if(h.index>b){var p=j-h.x-h.vx,q=k-h.y-h.vy,r=p*p+q*q;r<o*o&&(0===p&&(p=Fs(),r+=p*p),0===q&&(q=Fs(),r+=q*q),r=(o-(r=Math.sqrt(r)))/r*g,i.vx+=(p*=r)*(o=(n*=n)/(m+n)),i.vy+=(q*=r)*o,h.vx-=p*(o=1-o),h.vy-=q*o)}}for(var b,d,i,j,k,l,m,n=e.length,o=0;o<h;++o)for(d=O(e,lg,mg).visitAfter(c),b=0;b<n;++b)i=e[b],l=f[b],m=l*l,j=i.x+i.vx,k=i.y+i.vy,d.visit(a)}function c(a){if(a.data)return a.r=f[a.data.index];for(var b=a.r=0;b<4;++b)a[b]&&a[b].r>a.r&&(a.r=a[b].r)}function d(){if(e){var b,c=e.length;for(f=new Array(c),b=0;b<c;++b)f[b]=+a(e[b],b,e)}}var e,f,g=1,h=1;return"function"!=typeof a&&(a=Es(null==a?1:+a)),b.initialize=function(a){e=a,d()},b.iterations=function(a){return arguments.length?(h=+a,b):h},b.strength=function(a){return arguments.length?(g=+a,b):g},b.radius=function(c){return arguments.length?(a="function"==typeof c?c:Es(+c),d(),b):a},b},Hs=function(a){function b(a){return 1/Math.min(k[a.source.index],k[a.target.index])}function c(b){for(var c=0,d=a.length;c<p;++c)for(var e,f,g,j,k,m,n,o=0;o<d;++o)e=a[o],f=e.source,g=e.target,j=g.x+g.vx-f.x-f.vx||Fs(),k=g.y+g.vy-f.y-f.vy||Fs(),m=Math.sqrt(j*j+k*k),m=(m-i[o])/m*b*h[o],j*=m,k*=m,g.vx-=j*(n=l[o]),g.vy-=k*n,f.vx+=j*(n=1-n),f.vy+=k*n}function d(){if(j){var b,c,d=j.length,n=a.length,o=f(j,m);for(b=0,k=new Array(d);b<d;++b)k[b]=0;for(b=0;b<n;++b)c=a[b],c.index=b,"object"!=typeof c.source&&(c.source=og(o,c.source)),"object"!=typeof c.target&&(c.target=og(o,c.target)),++k[c.source.index],++k[c.target.index];for(b=0,l=new Array(n);b<n;++b)c=a[b],l[b]=k[c.source.index]/(k[c.source.index]+k[c.target.index]);h=new Array(n),e(),i=new Array(n),g()}}function e(){if(j)for(var b=0,c=a.length;b<c;++b)h[b]=+n(a[b],b,a)}function g(){if(j)for(var b=0,c=a.length;b<c;++b)i[b]=+o(a[b],b,a)}var h,i,j,k,l,m=ng,n=b,o=Es(30),p=1;return null==a&&(a=[]),c.initialize=function(a){j=a,d()},c.links=function(b){return arguments.length?(a=b,d(),c):a},c.id=function(a){return arguments.length?(m=a,c):m},c.iterations=function(a){return arguments.length?(p=+a,c):p},c.strength=function(a){return arguments.length?(n="function"==typeof a?a:Es(+a),e(),c):n},c.distance=function(a){return arguments.length?(o="function"==typeof a?a:Es(+a),g(),c):o},c},Is=10,Js=Math.PI*(3-Math.sqrt(5)),Ks=function(a){function b(){c(),o.call("tick",g),h<i&&(n.stop(),o.call("end",g))}function c(){var b,c,d=a.length;for(h+=(k-h)*j,m.each(function(a){a(h)}),b=0;b<d;++b)c=a[b],null==c.fx?c.x+=c.vx*=l:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=l:(c.y=c.fy,c.vy=0)}function d(){for(var b,c=0,d=a.length;c<d;++c){if(b=a[c],b.index=c,isNaN(b.x)||isNaN(b.y)){var e=Is*Math.sqrt(c),f=c*Js;b.x=e*Math.cos(f),b.y=e*Math.sin(f)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function e(b){return b.initialize&&b.initialize(a),b}var g,h=1,i=.001,j=1-Math.pow(i,1/300),k=0,l=.6,m=f(),n=Tb(b),o=Fb("tick","end");return null==a&&(a=[]),d(),g={tick:c,restart:function(){return n.restart(b),g},stop:function(){return n.stop(),g},nodes:function(b){return arguments.length?(a=b,d(),m.each(e),g):a},alpha:function(a){return arguments.length?(h=+a,g):h},alphaMin:function(a){return arguments.length?(i=+a,g):i},alphaDecay:function(a){return arguments.length?(j=+a,g):+j},alphaTarget:function(a){return arguments.length?(k=+a,g):k},velocityDecay:function(a){return arguments.length?(l=1-a,g):1-l},force:function(a,b){return arguments.length>1?(null==b?m.remove(a):m.set(a,e(b)),g):m.get(a)},find:function(b,c,d){var e,f,g,h,i,j=0,k=a.length;for(null==d?d=1/0:d*=d,j=0;j<k;++j)h=a[j],e=b-h.x,f=c-h.y,(g=e*e+f*f)<d&&(i=h,d=g);return i},on:function(a,b){return arguments.length>1?(o.on(a,b),g):o.on(a)}}},Ls=function(){function a(a){var b,h=e.length,i=O(e,pg,qg).visitAfter(c);for(g=a,b=0;b<h;++b)f=e[b],i.visit(d)}function b(){if(e){var a,b=e.length;for(h=new Array(b),a=0;a<b;++a)h[a]=+i(e[a],a,e)}}function c(a){var b,c,d,e,f,g=0;if(a.length){for(d=e=f=0;f<4;++f)(b=a[f])&&(c=b.value)&&(g+=c,d+=c*b.x,e+=c*b.y);a.x=d/g,a.y=e/g}else{b=a,b.x=b.data.x,b.y=b.data.y;do{g+=h[b.data.index]}while(b=b.next)}a.value=g}function d(a,b,c,d){if(!a.value)return!0;var e=a.x-f.x,i=a.y-f.y,m=d-b,n=e*e+i*i;if(m*m/l<n)return n<k&&(0===e&&(e=Fs(),n+=e*e),0===i&&(i=Fs(),n+=i*i),n<j&&(n=Math.sqrt(j*n)),f.vx+=e*a.value*g/n,f.vy+=i*a.value*g/n),!0;if(!(a.length||n>=k)){(a.data!==f||a.next)&&(0===e&&(e=Fs(),n+=e*e),0===i&&(i=Fs(),n+=i*i),n<j&&(n=Math.sqrt(j*n)));do{a.data!==f&&(m=h[a.data.index]*g/n,f.vx+=e*m,f.vy+=i*m)}while(a=a.next)}}var e,f,g,h,i=Es(-30),j=1,k=1/0,l=.81;return a.initialize=function(a){e=a,b()},a.strength=function(c){return arguments.length?(i="function"==typeof c?c:Es(+c),b(),a):i},a.distanceMin=function(b){return arguments.length?(j=b*b,a):Math.sqrt(j)},a.distanceMax=function(b){return arguments.length?(k=b*b,a):Math.sqrt(k)},a.theta=function(b){return arguments.length?(l=b*b,a):Math.sqrt(l)},a},Ms=function(a){function b(a){for(var b,c=0,g=d.length;c<g;++c)b=d[c],b.vx+=(f[c]-b.x)*e[c]*a}function c(){if(d){var b,c=d.length;for(e=new Array(c),f=new Array(c),b=0;b<c;++b)e[b]=isNaN(f[b]=+a(d[b],b,d))?0:+g(d[b],b,d)}}var d,e,f,g=Es(.1);return"function"!=typeof a&&(a=Es(null==a?0:+a)),b.initialize=function(a){d=a,c()},b.strength=function(a){return arguments.length?(g="function"==typeof a?a:Es(+a),c(),b):g},b.x=function(d){return arguments.length?(a="function"==typeof d?d:Es(+d),c(),b):a},b},Ns=function(a){function b(a){for(var b,c=0,g=d.length;c<g;++c)b=d[c],b.vy+=(f[c]-b.y)*e[c]*a}function c(){if(d){var b,c=d.length;for(e=new Array(c),f=new Array(c),b=0;b<c;++b)e[b]=isNaN(f[b]=+a(d[b],b,d))?0:+g(d[b],b,d)}}var d,e,f,g=Es(.1);return"function"!=typeof a&&(a=Es(null==a?0:+a)),b.initialize=function(a){d=a,c()},b.strength=function(a){return arguments.length?(g="function"==typeof a?a:Es(+a),c(),b):g},b.y=function(d){return arguments.length?(a="function"==typeof d?d:Es(+d),c(),b):a},b},Os=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},Ps=function(a){var b=a.document.documentElement,c=er(a).on("dragstart.drag",Os,!0);"onselectstart"in b?c.on("selectstart.drag",Os,!0):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")},Qs=function(a){return function(){return a}};tg.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var Rs=function(){function b(a){a.on("mousedown.drag",c).on("touchstart.drag",f).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",h).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){if(!k&&l.apply(this,arguments)){var b=i("mouse",m.apply(this,arguments),wq,this,arguments);b&&(er(a.event.view).on("mousemove.drag",d,!0).on("mouseup.drag",e,!0),Ps(a.event.view),rg(),j=!1,b("start"))}}function d(){Os(),j=!0,o.mouse("drag")}function e(){er(a.event.view).on("mousemove.drag mouseup.drag",null),sg(a.event.view,j),Os(),o.mouse("end")}function f(){if(l.apply(this,arguments)){var b,c,d=a.event.changedTouches,e=m.apply(this,arguments),f=d.length;for(b=0;b<f;++b)(c=i(d[b].identifier,e,gr,this,arguments))&&(rg(),c("start"))}}function g(){var b,c,d=a.event.changedTouches,e=d.length;for(b=0;b<e;++b)(c=o[d[b].identifier])&&(Os(),c("drag"))}function h(){var b,c,d=a.event.changedTouches,e=d.length;for(k&&clearTimeout(k),k=setTimeout(function(){k=null},500),b=0;b<e;++b)(c=o[d[b].identifier])&&(rg(),c("end"))}function i(c,d,e,f,g){var h,i,j,k=e(d,c),l=p.copy();if(Sd(new tg(b,"beforestart",h,c,q,k[0],k[1],0,0,l),function(){return null!=(a.event.subject=h=n.apply(f,g))&&(i=h.x-k[0]||0,j=h.y-k[1]||0,!0)}))return function a(m){var n,p=k;switch(m){case"start":o[c]=a,n=q++;break;case"end":delete o[c],--q;case"drag":k=e(d,c),n=q}Sd(new tg(b,m,h,c,n,k[0]+i,k[1]+j,k[0]-p[0],k[1]-p[1],l),l.apply,l,[m,f,g])}}var j,k,l=ug,m=vg,n=wg,o={},p=Fb("start","drag","end"),q=0;return b.filter=function(a){return arguments.length?(l="function"==typeof a?a:Qs(!!a),b):l},b.container=function(a){return arguments.length?(m="function"==typeof a?a:Qs(a),b):m},b.subject=function(a){return arguments.length?(n="function"==typeof a?a:Qs(a),b):n},b.on=function(){var a=p.on.apply(p,arguments);return a===p?b:a},b},Ss=function(a){return function(){return a}};zg.prototype={constructor:zg,insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=Dg(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(Bg(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Cg(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(Cg(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Bg(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?Dg(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,Bg(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,Cg(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,Bg(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,Cg(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,Bg(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,Cg(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}};var Ts,Us,Vs,Ws,Xs,Ys=[],Zs=[],$s=1e-6,_s=1e-12;ah.prototype={constructor:ah,polygons:function(){var a=this.edges;return this.cells.map(function(b){var c=b.halfedges.map(function(c){return Mg(b,a[c])});return c.data=b.site.data,c})},triangles:function(){var a=[],b=this.edges;return this.cells.forEach(function(c,d){for(var e,f=c.site,g=c.halfedges,h=-1,i=g.length,j=b[g[i-1]],k=j.left===f?j.right:j.left;++h<i;)e=k,j=b[g[h]],k=j.left===f?j.right:j.left,e&&k&&d<e.index&&d<k.index&&$g(f,e,k)<0&&a.push([f.data,e.data,k.data])}),a},links:function(){return this.edges.filter(function(a){return a.right}).map(function(a){return{source:a.left.data,target:a.right.data}})},find:function(a,b,c){var d,e=this,f=e._found||0,g=e.cells[f]||e.cells[f=0],h=a-g.site[0],i=b-g.site[1],j=h*h+i*i;do{g=e.cells[d=f],f=null,g.halfedges.forEach(function(c){var d=e.edges[c],h=d.left;if(h!==g.site&&h||(h=d.right)){var i=a-h[0],k=b-h[1],l=i*i+k*k;l<j&&(j=l,f=h.index)}})}while(null!==f);return e._found=d,null==c||j<=c*c?g.site:null}};var at=function(){function a(a){return new ah(a.map(function(d,e){var f=[Math.round(b(d,e,a)/$s)*$s,Math.round(c(d,e,a)/$s)*$s];return f.index=e,f.data=d,f}),d)}var b=xg,c=yg,d=null;return a.polygons=function(b){return a(b).polygons()},a.links=function(b){return a(b).links()},a.triangles=function(b){return a(b).triangles()},a.x=function(c){return arguments.length?(b="function"==typeof c?c:Ss(+c),a):b},a.y=function(b){return arguments.length?(c="function"==typeof b?b:Ss(+b),a):c},a.extent=function(b){return arguments.length?(d=null==b?null:[[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]],a):d&&[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},a.size=function(b){return arguments.length?(d=null==b?null:[[0,0],[+b[0],+b[1]]],a):d&&[d[1][0]-d[0][0],d[1][1]-d[0][1]]},a},bt=function(a){return function(){return a}};ch.prototype={constructor:ch,scale:function(a){return 1===a?this:new ch(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new ch(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ct=new ch(1,0,0);dh.prototype=ch.prototype;var dt=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},et=function(){function b(a){a.on("wheel.zoom",j).on("mousedown.zoom",k).on("dblclick.zoom",l).on("touchstart.zoom",m).on("touchmove.zoom",n).on("touchend.zoom touchcancel.zoom",o).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",hh)}function c(a,b){return b=Math.max(t,Math.min(u,b)),b===a.k?a:new ch(b,a.x,a.y)}function d(a,b,c){var d=b[0]-c[0]*a.k,e=b[1]-c[1]*a.k;return d===a.x&&e===a.y?a:new ch(a.k,d,e)}function e(a,b){var c=Math.min(0,a.invertX(b[0][0])-v)||Math.max(0,a.invertX(b[1][0])-w),d=Math.min(0,a.invertY(b[0][1])-x)||Math.max(0,a.invertY(b[1][1])-y);return c||d?a.translate(c,d):a}function f(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function g(a,b,c){a.on("start.zoom",function(){h(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){h(this,arguments).end()}).tween("zoom",function(){var a=this,d=arguments,e=h(a,d),g=s.apply(a,d),i=c||f(g),j=Math.max(g[1][0]-g[0][0],g[1][1]-g[0][1]),k=a.__zoom,l="function"==typeof b?b.apply(a,d):b,m=pn(k.invert(i).concat(j/k.k),l.invert(i).concat(j/l.k));return function(a){if(1===a)a=l;else{var b=m(a),c=j/b[2];a=new ch(c,i[0]-b[0]*c,i[1]-b[1]*c)}e.zoom(null,a)}})}function h(a,b){for(var c,d=0,e=A.length;d<e;++d)if((c=A[d]).that===a)return c;return new i(a,b)}function i(a,b){this.that=a,this.args=b,
this.index=-1,this.active=0,this.extent=s.apply(a,b)}function j(){function b(){f.wheel=null,f.end()}if(r.apply(this,arguments)){var f=h(this,arguments),g=this.__zoom,i=Math.max(t,Math.min(u,g.k*Math.pow(2,-a.event.deltaY*(a.event.deltaMode?120:1)/500))),j=wq(this);if(f.wheel)f.mouse[0][0]===j[0]&&f.mouse[0][1]===j[1]||(f.mouse[1]=g.invert(f.mouse[0]=j)),clearTimeout(f.wheel);else{if(g.k===i)return;f.mouse=[j,g.invert(j)],sr(this),f.start()}dt(),f.wheel=setTimeout(b,D),f.zoom("mouse",e(d(c(g,i),f.mouse[0],f.mouse[1]),f.extent))}}function k(){function b(){dt(),f.moved=!0,f.zoom("mouse",e(d(f.that.__zoom,f.mouse[0]=wq(f.that),f.mouse[1]),f.extent))}function c(){g.on("mousemove.zoom mouseup.zoom",null),sg(a.event.view,f.moved),dt(),f.end()}if(!q&&r.apply(this,arguments)){var f=h(this,arguments),g=er(a.event.view).on("mousemove.zoom",b,!0).on("mouseup.zoom",c,!0),i=wq(this);Ps(a.event.view),eh(),f.mouse=[i,this.__zoom.invert(i)],sr(this),f.start()}}function l(){if(r.apply(this,arguments)){var f=this.__zoom,h=wq(this),i=f.invert(h),j=f.k*(a.event.shiftKey?.5:2),k=e(d(c(f,j),h,i),s.apply(this,arguments));dt(),z>0?er(this).transition().duration(z).call(g,k,h):er(this).call(b.transform,k)}}function m(){if(r.apply(this,arguments)){var b,c,d,e=h(this,arguments),f=a.event.changedTouches,g=f.length;for(eh(),b=0;b<g;++b)c=f[b],d=gr(this,f,c.identifier),d=[d,this.__zoom.invert(d),c.identifier],e.touch0?e.touch1||(e.touch1=d):e.touch0=d;return p&&(p=clearTimeout(p),!e.touch1)?(e.end(),l.apply(this,arguments)):void(a.event.touches.length===g&&(p=setTimeout(function(){p=null},C),sr(this),e.start()))}}function n(){var b,f,g,i,j=h(this,arguments),k=a.event.changedTouches,l=k.length;for(dt(),p&&(p=clearTimeout(p)),b=0;b<l;++b)f=k[b],g=gr(this,k,f.identifier),j.touch0&&j.touch0[2]===f.identifier?j.touch0[0]=g:j.touch1&&j.touch1[2]===f.identifier&&(j.touch1[0]=g);if(f=j.that.__zoom,j.touch1){var m=j.touch0[0],n=j.touch0[1],o=j.touch1[0],q=j.touch1[1],r=(r=o[0]-m[0])*r+(r=o[1]-m[1])*r,s=(s=q[0]-n[0])*s+(s=q[1]-n[1])*s;f=c(f,Math.sqrt(r/s)),g=[(m[0]+o[0])/2,(m[1]+o[1])/2],i=[(n[0]+q[0])/2,(n[1]+q[1])/2]}else{if(!j.touch0)return;g=j.touch0[0],i=j.touch0[1]}j.zoom("touch",e(d(f,g,i),j.extent))}function o(){var b,c,d=h(this,arguments),e=a.event.changedTouches,f=e.length;for(eh(),q&&clearTimeout(q),q=setTimeout(function(){q=null},C),b=0;b<f;++b)c=e[b],d.touch0&&d.touch0[2]===c.identifier?delete d.touch0:d.touch1&&d.touch1[2]===c.identifier&&delete d.touch1;d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0||d.end()}var p,q,r=fh,s=gh,t=0,u=1/0,v=-u,w=u,x=v,y=w,z=250,A=[],B=Fb("start","zoom","end"),C=500,D=150;return b.transform=function(a,b){var c=a.selection?a.selection():a;c.property("__zoom",hh),a!==c?g(a,b):c.interrupt().each(function(){h(this,arguments).start().zoom(null,"function"==typeof b?b.apply(this,arguments):b).end()})},b.scaleBy=function(a,c){b.scaleTo(a,function(){return this.__zoom.k*("function"==typeof c?c.apply(this,arguments):c)})},b.scaleTo=function(a,g){b.transform(a,function(){var a=s.apply(this,arguments),b=this.__zoom,h=f(a),i=b.invert(h);return e(d(c(b,"function"==typeof g?g.apply(this,arguments):g),h,i),a)})},b.translateBy=function(a,c,d){b.transform(a,function(){return e(this.__zoom.translate("function"==typeof c?c.apply(this,arguments):c,"function"==typeof d?d.apply(this,arguments):d),s.apply(this,arguments))})},i.prototype={start:function(){return 1==++this.active&&(this.index=A.push(this)-1,this.emit("start")),this},zoom:function(a,b){return this.mouse&&"mouse"!==a&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&"touch"!==a&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&"touch"!==a&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return 0==--this.active&&(A.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(a){Sd(new bh(b,a,this.that.__zoom),B.apply,B,[a,this.that,this.args])}},b.filter=function(a){return arguments.length?(r="function"==typeof a?a:bt(!!a),b):r},b.extent=function(a){return arguments.length?(s="function"==typeof a?a:bt([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),b):s},b.scaleExtent=function(a){return arguments.length?(t=+a[0],u=+a[1],b):[t,u]},b.translateExtent=function(a){return arguments.length?(v=+a[0][0],w=+a[1][0],x=+a[0][1],y=+a[1][1],b):[[v,x],[w,y]]},b.duration=function(a){return arguments.length?(z=+a,b):z},b.on=function(){var a=B.on.apply(B,arguments);return a===B?b:a},b},ft=function(a){return function(){return a}},gt=function(a,b,c){this.target=a,this.type=b,this.selection=c},ht=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},it={name:"drag"},jt={name:"space"},kt={name:"handle"},lt={name:"center"},mt={name:"x",handles:["e","w"].map(jh),input:function(a,b){return a&&[[a[0],b[0][1]],[a[1],b[1][1]]]},output:function(a){return a&&[a[0][0],a[1][0]]}},nt={name:"y",handles:["n","s"].map(jh),input:function(a,b){return a&&[[b[0][0],a[0]],[b[1][0],a[1]]]},output:function(a){return a&&[a[0][1],a[1][1]]}},ot={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(jh),input:function(a){return a},output:function(a){return a}},pt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},qt={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},rt={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},st={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},tt={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},ut=function(){return rh(ot)},vt=Math.cos,wt=Math.sin,xt=Math.PI,yt=xt/2,zt=2*xt,At=Math.max,Bt=function(){function a(a){var f,g,h,i,j,k,l=a.length,m=[],n=Kj(l),o=[],p=[],q=p.groups=new Array(l),r=new Array(l*l);for(f=0,j=-1;++j<l;){for(g=0,k=-1;++k<l;)g+=a[j][k];m.push(g),o.push(Kj(l)),f+=g}for(c&&n.sort(function(a,b){return c(m[a],m[b])}),d&&o.forEach(function(b,c){b.sort(function(b,e){return d(a[c][b],a[c][e])})}),f=At(0,zt-b*l)/f,i=f?b:zt/l,g=0,j=-1;++j<l;){for(h=g,k=-1;++k<l;){var s=n[j],t=o[s][k],u=a[s][t],v=g,w=g+=u*f;r[t*l+s]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}q[s]={index:s,startAngle:h,endAngle:g,value:m[s]},g+=i}for(j=-1;++j<l;)for(k=j-1;++k<l;){var x=r[k*l+j],y=r[j*l+k];(x.value||y.value)&&p.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}return e?p.sort(e):p}var b=0,c=null,d=null,e=null;return a.padAngle=function(c){return arguments.length?(b=At(0,c),a):b},a.sortGroups=function(b){return arguments.length?(c=b,a):c},a.sortSubgroups=function(b){return arguments.length?(d=b,a):d},a.sortChords=function(b){return arguments.length?(null==b?e=null:(e=sh(b))._=b,a):e&&e._},a},Ct=Array.prototype.slice,Dt=function(a){return function(){return a}},Et=function(){function a(){var a,h=Ct.call(arguments),i=b.apply(this,h),j=c.apply(this,h),k=+d.apply(this,(h[0]=i,h)),l=e.apply(this,h)-yt,m=f.apply(this,h)-yt,n=k*vt(l),o=k*wt(l),p=+d.apply(this,(h[0]=j,h)),q=e.apply(this,h)-yt,r=f.apply(this,h)-yt;if(g||(g=a=I()),g.moveTo(n,o),g.arc(0,0,k,l,m),l===q&&m===r||(g.quadraticCurveTo(0,0,p*vt(q),p*wt(q)),g.arc(0,0,p,q,r)),g.quadraticCurveTo(0,0,n,o),g.closePath(),a)return g=null,a+""||null}var b=th,c=uh,d=vh,e=wh,f=xh,g=null;return a.radius=function(b){return arguments.length?(d="function"==typeof b?b:Dt(+b),a):d},a.startAngle=function(b){return arguments.length?(e="function"==typeof b?b:Dt(+b),a):e},a.endAngle=function(b){return arguments.length?(f="function"==typeof b?b:Dt(+b),a):f},a.source=function(c){return arguments.length?(b=c,a):b},a.target=function(b){return arguments.length?(c=b,a):c},a.context=function(b){return arguments.length?(g=null==b?null:b,a):g},a},Ft=function(){return new yh};yh.prototype={constructor:yh,reset:function(){this.s=this.t=0},add:function(a){zh(ju,a,this.t),zh(this,ju.s,this.s),this.s?this.t+=ju.t:this.s=ju.t},valueOf:function(){return this.s}};var Gt,Ht,It,Jt,Kt,Lt,Mt,Nt,Ot,Pt,Qt,Rt,St,Tt,Ut,Vt,Wt,Xt,Yt,Zt,$t,_t,au,bu,cu,du,eu,fu,gu,hu,iu,ju=new yh,ku=1e-6,lu=Math.PI,mu=lu/2,nu=lu/4,ou=2*lu,pu=180/lu,qu=lu/180,ru=Math.abs,su=Math.atan,tu=Math.atan2,uu=Math.cos,vu=Math.ceil,wu=Math.exp,xu=Math.log,yu=Math.pow,zu=Math.sin,Au=Math.sign||function(a){return a>0?1:a<0?-1:0},Bu=Math.sqrt,Cu=Math.tan,Du={Feature:function(a,b){Eh(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)Eh(c[d].geometry,b)}},Eu={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Fh(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Fh(c[d],b,0)},Polygon:function(a,b){Gh(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Gh(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)Eh(c[d],b)}},Fu=function(a,b){a&&Du.hasOwnProperty(a.type)?Du[a.type](a,b):Eh(a,b)},Gu=Ft(),Hu=Ft(),Iu={point:Dh,lineStart:Dh,lineEnd:Dh,polygonStart:function(){Gu.reset(),Iu.lineStart=Hh,Iu.lineEnd=Ih},polygonEnd:function(){var a=+Gu;Hu.add(a<0?ou+a:a),this.lineStart=this.lineEnd=this.point=Dh},sphere:function(){Hu.add(ou)}},Ju=function(a){return Hu.reset(),Fu(a,Iu),2*Hu},Ku=Ft(),Lu={point:Sh,lineStart:Uh,lineEnd:Vh,polygonStart:function(){Lu.point=Wh,Lu.lineStart=Xh,Lu.lineEnd=Yh,Ku.reset(),Iu.polygonStart()},polygonEnd:function(){Iu.polygonEnd(),Lu.point=Sh,Lu.lineStart=Uh,Lu.lineEnd=Vh,Gu<0?(Lt=-(Nt=180),Mt=-(Ot=90)):Ku>ku?Ot=90:Ku<-ku&&(Mt=-90),Ut[0]=Lt,Ut[1]=Nt}},Mu=function(a){var b,c,d,e,f,g,h;if(Ot=Nt=-(Lt=Mt=1/0),Tt=[],Fu(a,Lu),c=Tt.length){for(Tt.sort($h),b=1,d=Tt[0],f=[d];b<c;++b)e=Tt[b],_h(d,e[0])||_h(d,e[1])?(Zh(d[0],e[1])>Zh(d[0],d[1])&&(d[1]=e[1]),Zh(e[0],d[1])>Zh(d[0],d[1])&&(d[0]=e[0])):f.push(d=e);for(g=-1/0,c=f.length-1,b=0,d=f[c];b<=c;d=e,++b)e=f[b],(h=Zh(d[1],e[0]))>g&&(g=h,Lt=e[0],Nt=d[1])}return Tt=Ut=null,Lt===1/0||Mt===1/0?[[NaN,NaN],[NaN,NaN]]:[[Lt,Mt],[Nt,Ot]]},Nu={sphere:Dh,point:ai,lineStart:ci,lineEnd:fi,polygonStart:function(){Nu.lineStart=gi,Nu.lineEnd=hi},polygonEnd:function(){Nu.lineStart=ci,Nu.lineEnd=fi}},Ou=function(a){Vt=Wt=Xt=Yt=Zt=$t=_t=au=bu=cu=du=0,Fu(a,Nu);var b=bu,c=cu,d=du,e=b*b+c*c+d*d;return e<1e-12&&(b=$t,c=_t,d=au,Wt<ku&&(b=Xt,c=Yt,d=Zt),(e=b*b+c*c+d*d)<1e-12)?[NaN,NaN]:[tu(c,b)*pu,Bh(d/Bu(e))*pu]},Pu=function(a){return function(){return a}},Qu=function(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return(c=b.invert(c,d))&&a.invert(c[0],c[1])}),c};ki.invert=ki;var Ru,Su,Tu,Uu,Vu,Wu,Xu,Yu,Zu,$u,_u,av=function(a){function b(b){return b=a(b[0]*qu,b[1]*qu),b[0]*=pu,b[1]*=pu,b}return a=li(a[0]*qu,a[1]*qu,a.length>2?a[2]*qu:0),b.invert=function(b){return b=a.invert(b[0]*qu,b[1]*qu),b[0]*=pu,b[1]*=pu,b},b},bv=function(){function a(a,b){c.push(a=d(a,b)),a[0]*=pu,a[1]*=pu}function b(){var a=e.apply(this,arguments),b=f.apply(this,arguments)*qu,i=g.apply(this,arguments)*qu;return c=[],d=li(-a[0]*qu,-a[1]*qu,0).invert,pi(h,b,i,1),a={type:"Polygon",coordinates:[c]},c=d=null,a}var c,d,e=Pu([0,0]),f=Pu(90),g=Pu(6),h={point:a};return b.center=function(a){return arguments.length?(e="function"==typeof a?a:Pu([+a[0],+a[1]]),b):e},b.radius=function(a){return arguments.length?(f="function"==typeof a?a:Pu(+a),b):f},b.precision=function(a){return arguments.length?(g="function"==typeof a?a:Pu(+a),b):g},b},cv=function(){var a,b=[];return{point:function(b,c){a.push([b,c])},lineStart:function(){b.push(a=[])},lineEnd:Dh,rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))},result:function(){var c=b;return b=[],a=null,c}}},dv=function(a,b,c,d,e,f){var g,h=a[0],i=a[1],j=b[0],k=b[1],l=0,m=1,n=j-h,o=k-i;if(g=c-h,n||!(g>0)){if(g/=n,n<0){if(g<l)return;g<m&&(m=g)}else if(n>0){if(g>m)return;g>l&&(l=g)}if(g=e-h,n||!(g<0)){if(g/=n,n<0){if(g>m)return;g>l&&(l=g)}else if(n>0){if(g<l)return;g<m&&(m=g)}if(g=d-i,o||!(g>0)){if(g/=o,o<0){if(g<l)return;g<m&&(m=g)}else if(o>0){if(g>m)return;g>l&&(l=g)}if(g=f-i,o||!(g<0)){if(g/=o,o<0){if(g>m)return;g>l&&(l=g)}else if(o>0){if(g<l)return;g<m&&(m=g)}return l>0&&(a[0]=h+l*n,a[1]=i+l*o),m<1&&(b[0]=h+m*n,b[1]=i+m*o),!0}}}}},ev=function(a,b){return ru(a[0]-b[0])<ku&&ru(a[1]-b[1])<ku},fv=function(a,b,c,d,e){var f,g,h=[],i=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c,d=a[0],g=a[b];if(ev(d,g)){for(e.lineStart(),f=0;f<b;++f)e.point((d=a[f])[0],d[1]);return void e.lineEnd()}h.push(c=new ri(d,a,null,!0)),i.push(c.o=new ri(d,null,c,!1)),h.push(c=new ri(g,a,null,!1)),i.push(c.o=new ri(g,null,c,!0))}}),h.length){for(i.sort(b),si(h),si(i),f=0,g=i.length;f<g;++f)i[f].e=c=!c;for(var j,k,l=h[0];;){for(var m=l,n=!0;m.v;)if((m=m.n)===l)return;j=m.z,e.lineStart();do{if(m.v=m.o.v=!0,m.e){if(n)for(f=0,g=j.length;f<g;++f)e.point((k=j[f])[0],k[1]);else d(m.x,m.n.x,1,e);m=m.n}else{if(n)for(j=m.p.z,f=j.length-1;f>=0;--f)e.point((k=j[f])[0],k[1]);else d(m.x,m.p.x,-1,e);m=m.p}m=m.o,j=m.z,n=!n}while(!m.v);e.lineEnd()}}},gv=1e9,hv=-gv,iv=function(){var a,b,c,d=0,e=0,f=960,g=500;return c={stream:function(c){return a&&b===c?a:a=ti(d,e,f,g)(b=c)},extent:function(h){return arguments.length?(d=+h[0][0],e=+h[0][1],f=+h[1][0],g=+h[1][1],a=b=null,c):[[d,e],[f,g]]}}},jv=Ft(),kv={sphere:Dh,point:Dh,lineStart:ui,lineEnd:Dh,polygonStart:Dh,polygonEnd:Dh},lv=function(a){return jv.reset(),Fu(a,kv),+jv},mv=[null,null],nv={type:"LineString",coordinates:mv},ov=function(a,b){return mv[0]=a,mv[1]=b,lv(nv)},pv=function(a,b){var c=a[0]*qu,d=a[1]*qu,e=b[0]*qu,f=b[1]*qu,g=uu(d),h=zu(d),i=uu(f),j=zu(f),k=g*uu(c),l=g*zu(c),m=i*uu(e),n=i*zu(e),o=2*Bh(Bu(Ch(f-d)+g*i*Ch(e-c))),p=zu(o),q=o?function(a){var b=zu(a*=o)/p,c=zu(o-a)/p,d=c*k+b*m,e=c*l+b*n,f=c*h+b*j;return[tu(e,d)*pu,tu(f,Bu(d*d+e*e))*pu]}:function(){return[c*pu,d*pu]};return q.distance=o,q},qv=function(a){return a},rv=Ft(),sv=Ft(),tv={point:Dh,lineStart:Dh,lineEnd:Dh,polygonStart:function(){tv.lineStart=Ci,tv.lineEnd=Fi},polygonEnd:function(){tv.lineStart=tv.lineEnd=tv.point=Dh,rv.add(ru(sv)),sv.reset()},result:function(){var a=rv/2;return rv.reset(),a}},uv=1/0,vv=uv,wv=-uv,xv=wv,yv={point:Gi,lineStart:Dh,lineEnd:Dh,polygonStart:Dh,polygonEnd:Dh,result:function(){var a=[[uv,vv],[wv,xv]];return wv=xv=-(vv=uv=1/0),a}},zv=0,Av=0,Bv=0,Cv=0,Dv=0,Ev=0,Fv=0,Gv=0,Hv=0,Iv={point:Hi,lineStart:Ii,lineEnd:Li,polygonStart:function(){Iv.lineStart=Mi,Iv.lineEnd=Ni},polygonEnd:function(){Iv.point=Hi,Iv.lineStart=Ii,Iv.lineEnd=Li},result:function(){var a=Hv?[Fv/Hv,Gv/Hv]:Ev?[Cv/Ev,Dv/Ev]:Bv?[zv/Bv,Av/Bv]:[NaN,NaN];return zv=Av=Bv=Cv=Dv=Ev=Fv=Gv=Hv=0,a}};Qi.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(a,b){switch(this._point){case 0:this._context.moveTo(a,b),this._point=1;break;case 1:this._context.lineTo(a,b);break;default:this._context.moveTo(a+this._radius,b),this._context.arc(a,b,this._radius,0,ou)}},result:Dh},Ri.prototype={_circle:Si(4.5),pointRadius:function(a){return this._circle=Si(a),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(a,b){switch(this._point){case 0:this._string.push("M",a,",",b),this._point=1;break;case 1:this._string.push("L",a,",",b);break;default:this._string.push("M",a,",",b,this._circle)}},result:function(){if(this._string.length){var a=this._string.join("");return this._string=[],a}}};var Jv=function(a,b){function c(a){return a&&("function"==typeof f&&e.pointRadius(+f.apply(this,arguments)),Fu(a,d(e))),e.result()}var d,e,f=4.5;return c.area=function(a){return Fu(a,d(tv)),tv.result()},c.bounds=function(a){return Fu(a,d(yv)),yv.result()},c.centroid=function(a){return Fu(a,d(Iv)),Iv.result()},c.projection=function(b){return arguments.length?(d=null==(a=b)?qv:b.stream,c):a},c.context=function(a){return arguments.length?(e=null==(b=a)?new Ri:new Qi(a),"function"!=typeof f&&e.pointRadius(f),c):b},c.pointRadius=function(a){return arguments.length?(f="function"==typeof a?a:(e.pointRadius(+a),+a),c):f},c.projection(a).context(b)},Kv=Ft(),Lv=function(a,b){var c=b[0],d=b[1],e=[zu(c),-uu(c),0],f=0,g=0;Kv.reset();for(var h=0,i=a.length;h<i;++h)if(k=(j=a[h]).length)for(var j,k,l=j[k-1],m=l[0],n=l[1]/2+nu,o=zu(n),p=uu(n),q=0;q<k;++q,m=s,o=u,p=v,l=r){var r=j[q],s=r[0],t=r[1]/2+nu,u=zu(t),v=uu(t),w=s-m,x=w>=0?1:-1,y=x*w,z=y>lu,A=o*u;if(Kv.add(tu(A*x*zu(y),p*v+A*uu(y))),f+=z?w+x*ou:w,z^m>=c^s>=c){var B=Oh(Mh(l),Mh(r));Rh(B);var C=Oh(e,B);Rh(C);var D=(z^w>=0?-1:1)*Bh(C[2]);(d>D||d===D&&(B[0]||B[1]))&&(g+=z^w>=0?1:-1)}}return(f<-ku||f<ku&&Kv<-ku)^1&g},Mv=function(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){v.point=h,q.lineStart()}function j(){v.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);t.point(c[0],c[1])}function l(){t.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),t.lineEnd();var a,b,c,d,e=t.clean(),g=s.result(),h=g.length;if(p.pop(),n.push(p),p=null,h)if(1&e){if(c=g[0],(b=c.length-1)>0){for(u||(f.polygonStart(),u=!0),f.lineStart(),a=0;a<b;++a)f.point((d=c[a])[0],d[1]);f.lineEnd()}}else h>1&&2&e&&g.push(g.pop().concat(g.shift())),o.push(g.filter(Ti))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s=cv(),t=b(s),u=!1,v={point:g,lineStart:i,lineEnd:j,polygonStart:function(){v.point=k,v.lineStart=l,v.lineEnd=m,o=[],n=[]},polygonEnd:function(){v.point=g,v.lineStart=i,v.lineEnd=j,o=Xj(o);var a=Lv(n,r);o.length?(u||(f.polygonStart(),u=!0),fv(o,Ui,a,c,f)):a&&(u||(f.polygonStart(),u=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),u&&(f.polygonEnd(),u=!1),o=n=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}};return v}},Nv=Mv(function(){return!0},Vi,Xi,[-lu,-mu]),Ov=function(a,b){function c(c,d,e,f){pi(f,a,b,e,c,d)}function d(a,b){return uu(a)*uu(b)>h}function e(a){var b,c,e,h,k;return{lineStart:function(){h=e=!1,k=1},point:function(l,m){var n,o=[l,m],p=d(l,m),q=i?p?0:g(l,m):p?g(l+(l<0?lu:-lu),m):0;if(!b&&(h=e=p)&&a.lineStart(),p!==e&&(n=f(b,o),(ev(b,n)||ev(o,n))&&(o[0]+=ku,o[1]+=ku,p=d(o[0],o[1]))),p!==e)k=0,p?(a.lineStart(),n=f(o,b),a.point(n[0],n[1])):(n=f(b,o),a.point(n[0],n[1]),a.lineEnd()),b=n;else if(j&&b&&i^p){var r;q&c||!(r=f(o,b,!0))||(k=0,i?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||b&&ev(b,o)||a.point(o[0],o[1]),b=o,e=p,c=q},lineEnd:function(){e&&a.lineEnd(),b=null},clean:function(){return k|(h&&e)<<1}}}function f(a,b,c){var d=Mh(a),e=Mh(b),f=[1,0,0],g=Oh(d,e),i=Nh(g,g),j=g[0],k=i-j*j;if(!k)return!c&&a;var l=h*i/k,m=-h*j/k,n=Oh(f,g),o=Qh(f,l);Ph(o,Qh(g,m));var p=n,q=Nh(o,p),r=Nh(p,p),s=q*q-r*(Nh(o,o)-1);if(!(s<0)){var t=Bu(s),u=Qh(p,(-q-t)/r);if(Ph(u,o),u=Lh(u),!c)return u;var v,w=a[0],x=b[0],y=a[1],z=b[1];x<w&&(v=w,w=x,x=v);var A=x-w,B=ru(A-lu)<ku,C=B||A<ku;if(!B&&z<y&&(v=y,y=z,z=v),C?B?y+z>0^u[1]<(ru(u[0]-w)<ku?y:z):y<=u[1]&&u[1]<=z:A>lu^(w<=u[0]&&u[0]<=x)){var D=Qh(p,(-q+t)/r);return Ph(D,o),[u,Lh(D)]}}}function g(b,c){var d=i?a:lu-a,e=0;return b<-d?e|=1:b>d&&(e|=2),c<-d?e|=4:c>d&&(e|=8),e}var h=uu(a),i=h>0,j=ru(h)>ku;return Mv(d,e,c,i?[0,-a]:[-lu,a-lu])},Pv=function(a){return{stream:Yi(a)}};Zi.prototype={constructor:Zi,point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Qv=16,Rv=uu(30*qu),Sv=function(a,b){return+b?bj(a,b):aj(a)},Tv=Yi({point:function(a,b){this.stream.point(a*qu,b*qu)}}),Uv=function(){return ej(gj).scale(155.424).center([0,33.6442])},Vv=function(){return Uv().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Wv=function(){function a(a){var b=a[0],c=a[1];return h=null,e.point(b,c),h||(f.point(b,c),h)||(g.point(b,c),h)}function b(){return c=d=null,a}var c,d,e,f,g,h,i=Vv(),j=Uv().rotate([154,0]).center([-2,58.5]).parallels([55,65]),k=Uv().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(a,b){h=[a,b]}};return a.invert=function(a){var b=i.scale(),c=i.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&e<.234&&d>=-.425&&d<-.214?j:e>=.166&&e<.234&&d>=-.214&&d<-.115?k:i).invert(a)},a.stream=function(a){return c&&d===a?c:c=hj([i.stream(d=a),j.stream(a),k.stream(a)])},a.precision=function(a){return arguments.length?(i.precision(a),j.precision(a),k.precision(a),b()):i.precision()},a.scale=function(b){return arguments.length?(i.scale(b),j.scale(.35*b),k.scale(b),a.translate(i.translate())):i.scale()},a.translate=function(a){if(!arguments.length)return i.translate();var c=i.scale(),d=+a[0],h=+a[1];return e=i.translate(a).clipExtent([[d-.455*c,h-.238*c],[d+.455*c,h+.238*c]]).stream(l),f=j.translate([d-.307*c,h+.201*c]).clipExtent([[d-.425*c+ku,h+.12*c+ku],[d-.214*c-ku,h+.234*c-ku]]).stream(l),g=k.translate([d-.205*c,h+.212*c]).clipExtent([[d-.214*c+ku,h+.166*c+ku],[d-.115*c-ku,h+.234*c-ku]]).stream(l),b()},a.fitExtent=function(b,c){return $i(a,b,c)},a.fitSize=function(b,c){return _i(a,b,c)},a.scale(1070)},Xv=ij(function(a){return Bu(2/(1+a))});Xv.invert=jj(function(a){return 2*Bh(a/2)});var Yv=function(){return cj(Xv).scale(124.75).clipAngle(179.999)},Zv=ij(function(a){return(a=Ah(a))&&a/zu(a)});Zv.invert=jj(function(a){return a});var $v=function(){return cj(Zv).scale(79.4188).clipAngle(179.999)};kj.invert=function(a,b){return[a,2*su(wu(b))-mu]};var _v=function(){return lj(kj).scale(961/ou)},aw=function(){return ej(nj).scale(109.5).parallels([30,30])};oj.invert=oj;var bw=function(){return cj(oj).scale(152.63)},cw=function(){return ej(pj).scale(131.154).center([0,13.9389])};qj.invert=jj(su);var dw=function(){return cj(qj).scale(144.049).clipAngle(60)},ew=function(){function a(){return e=f=null,g}var b,c,d,e,f,g,h=1,i=0,j=0,k=qv,l=null,m=qv;return g={stream:function(a){return e&&f===a?e:e=k(m(f=a))},clipExtent:function(e){return arguments.length?(m=null==e?(l=b=c=d=null,qv):ti(l=+e[0][0],b=+e[0][1],c=+e[1][0],d=+e[1][1]),a()):null==l?null:[[l,b],[c,d]]},scale:function(b){return arguments.length?(k=rj(h=+b,i,j),a()):h},translate:function(b){return arguments.length?(k=rj(h,i=+b[0],j=+b[1]),a()):[i,j]},fitExtent:function(a,b){return $i(g,a,b)},fitSize:function(a,b){return _i(g,a,b)}}};sj.invert=jj(Bh);var fw=function(){return cj(sj).scale(249.5).clipAngle(90+ku)};tj.invert=jj(function(a){return 2*su(a)});var gw=function(){return cj(tj).scale(250).clipAngle(142)};uj.invert=function(a,b){return[-b,2*su(wu(a))-mu]};var hw=function(){var a=lj(uj),b=a.center,c=a.rotate;return a.center=function(a){return arguments.length?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return arguments.length?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90]).scale(159.155)};a.version="4.3.0",a.bisect=yj,a.bisectRight=yj,a.bisectLeft=zj,a.ascending=vj,a.bisector=wj,a.descending=Aj,a.deviation=Dj,a.extent=Ej,a.histogram=Qj,a.thresholdFreedmanDiaconis=Sj,a.thresholdScott=Tj,a.thresholdSturges=Pj,a.max=Uj,a.mean=Vj,a.median=Wj,a.merge=Xj,a.min=Yj,a.pairs=Zj,a.permute=$j,a.quantile=Rj,a.range=Kj,a.scan=_j,a.shuffle=ak,a.sum=bk,a.ticks=Oj,a.tickStep=c,a.transpose=ck,a.variance=Cj,a.zip=dk,a.entries=jk,a.keys=hk,a.values=ik,a.map=f,a.set=l,a.nest=fk,a.randomUniform=kk,a.randomNormal=lk,a.randomLogNormal=mk,a.randomBates=ok,a.randomIrwinHall=nk,a.randomExponential=pk,a.easeLinear=m,a.easeQuad=p,a.easeQuadIn=n,a.easeQuadOut=o,a.easeQuadInOut=p,a.easeCubic=s,a.easeCubicIn=q,a.easeCubicOut=r,a.easeCubicInOut=s,a.easePoly=sk,a.easePolyIn=qk,a.easePolyOut=rk,a.easePolyInOut=sk,a.easeSin=v,a.easeSinIn=t,a.easeSinOut=u,a.easeSinInOut=v,a.easeExp=y,a.easeExpIn=w,a.easeExpOut=x,a.easeExpInOut=y,a.easeCircle=B,a.easeCircleIn=z,a.easeCircleOut=A,a.easeCircleInOut=B,a.easeBounce=D,a.easeBounceIn=C,a.easeBounceOut=D,a.easeBounceInOut=E,a.easeBack=Ik,a.easeBackIn=Gk,a.easeBackOut=Hk,a.easeBackInOut=Ik,a.easeElastic=Lk,a.easeElasticIn=Kk,a.easeElasticOut=Lk,a.easeElasticInOut=Mk,a.polygonArea=Nk,a.polygonCentroid=Ok,a.polygonHull=Qk,a.polygonContains=Rk,a.polygonLength=Sk,a.path=I,a.quadtree=O,a.queue=X,a.arc=ql,a.area=tl,a.line=sl,a.pie=wl,a.radialArea=zl,a.radialLine=yl,a.symbol=Sl,a.symbols=Rl,a.symbolCircle=Al,a.symbolCross=Bl,a.symbolDiamond=El,a.symbolSquare=Jl,a.symbolStar=Il,a.symbolTriangle=Ll,a.symbolWye=Ql,a.curveBasisClosed=Vl,a.curveBasisOpen=Wl,a.curveBasis=Ul,a.curveBundle=Xl,a.curveCardinalClosed=Zl,a.curveCardinalOpen=$l,a.curveCardinal=Yl,a.curveCatmullRomClosed=am,a.curveCatmullRomOpen=bm,a.curveCatmullRom=_l,a.curveLinearClosed=cm,a.curveLinear=rl,a.curveMonotoneX=Fa,a.curveMonotoneY=Ga,a.curveNatural=dm,a.curveStep=em,a.curveStepAfter=La,a.curveStepBefore=Ka,a.stack=im,a.stackOffsetExpand=jm,a.stackOffsetNone=gm,a.stackOffsetSilhouette=km,a.stackOffsetWiggle=lm,a.stackOrderAscending=mm,a.stackOrderDescending=nm,a.stackOrderInsideOut=om,a.stackOrderNone=hm,a.stackOrderReverse=pm,a.color=Qa,a.rgb=Ua,a.hsl=Ya,a.lab=ab,a.hcl=hb,a.cubehelix=kb,a.interpolate=gn,a.interpolateArray=_m,a.interpolateDate=an,a.interpolateNumber=bn,a.interpolateObject=cn,a.interpolateRound=hn,a.interpolateString=fn,a.interpolateTransformCss=mn,a.interpolateTransformSvg=nn,a.interpolateZoom=pn,a.interpolateRgb=Ym,a.interpolateRgbBasis=Zm,a.interpolateRgbBasisClosed=$m,a.interpolateHsl=qn,a.interpolateHslLong=rn,a.interpolateLab=Cb,a.interpolateHcl=sn,a.interpolateHclLong=tn,a.interpolateCubehelix=un,a.interpolateCubehelixLong=vn,a.interpolateBasis=Vm,a.interpolateBasisClosed=Wm,a.quantize=wn,a.dispatch=Fb,a.dsvFormat=An,a.csvParse=Cn,a.csvParseRows=Dn,a.csvFormat=En,a.csvFormatRows=Fn,a.tsvParse=Hn,a.tsvParseRows=In,a.tsvFormat=Jn,a.tsvFormatRows=Kn,a.request=Ln,a.html=Nn,a.json=On,a.text=Pn,a.xml=Qn,a.csv=Sn,a.tsv=Tn,a.now=Qb,a.timer=Tb,a.timerFlush=Ub,a.timeout=bo,a.interval=co,a.timeInterval=Zb,a.timeMillisecond=go,a.timeMilliseconds=ho,a.timeSecond=lo,a.timeSeconds=mo,a.timeMinute=no,a.timeMinutes=oo,a.timeHour=po,a.timeHours=qo,a.timeDay=ro,a.timeDays=so,a.timeWeek=to,a.timeWeeks=Ao,a.timeSunday=to,a.timeSundays=Ao,a.timeMonday=uo,a.timeMondays=Bo,a.timeTuesday=vo,a.timeTuesdays=Co;a.timeWednesday=wo,a.timeWednesdays=Do,a.timeThursday=xo,a.timeThursdays=Eo,a.timeFriday=yo,a.timeFridays=Fo,a.timeSaturday=zo,a.timeSaturdays=Go,a.timeMonth=Ho,a.timeMonths=Io,a.timeYear=Jo,a.timeYears=Ko,a.utcMillisecond=go,a.utcMilliseconds=ho,a.utcSecond=lo,a.utcSeconds=mo,a.utcMinute=Lo,a.utcMinutes=Mo,a.utcHour=No,a.utcHours=Oo,a.utcDay=Po,a.utcDays=Qo,a.utcWeek=Ro,a.utcWeeks=Yo,a.utcSunday=Ro,a.utcSundays=Yo,a.utcMonday=So,a.utcMondays=Zo,a.utcTuesday=To,a.utcTuesdays=$o,a.utcWednesday=Uo,a.utcWednesdays=_o,a.utcThursday=Vo,a.utcThursdays=ap,a.utcFriday=Wo,a.utcFridays=bp,a.utcSaturday=Xo,a.utcSaturdays=cp,a.utcMonth=dp,a.utcMonths=ep,a.utcYear=fp,a.utcYears=hp,a.formatLocale=tp,a.formatDefaultLocale=cc,a.formatSpecifier=qp,a.precisionFixed=vp,a.precisionPrefix=wp,a.precisionRound=xp,a.isoFormat=Dp,a.isoParse=Ep,a.timeFormatLocale=gc,a.timeFormatDefaultLocale=ad,a.scaleBand=ed,a.scalePoint=gd,a.scaleIdentity=qd,a.scaleLinear=pd,a.scaleLog=xd,a.scaleOrdinal=dd,a.scaleImplicit=Ip,a.scalePow=zd,a.scaleSqrt=Ad,a.scaleQuantile=Bd,a.scaleQuantize=Cd,a.scaleThreshold=Dd,a.scaleTime=Vp,a.scaleUtc=Wp,a.schemeCategory10=Yp,a.schemeCategory20b=Zp,a.schemeCategory20c=$p,a.schemeCategory20=_p,a.scaleSequential=Id,a.interpolateCubehelixDefault=aq,a.interpolateRainbow=eq,a.interpolateWarm=bq,a.interpolateCool=cq,a.interpolateViridis=fq,a.interpolateMagma=gq,a.interpolateInferno=hq,a.interpolatePlasma=iq,a.creator=mq,a.customEvent=Sd,a.local=Ld,a.matcher=rq,a.mouse=wq,a.namespace=lq,a.namespaces=kq,a.select=er,a.selectAll=fr,a.selection=Fe,a.selector=xq,a.selectorAll=zq,a.touch=gr,a.touches=hr,a.window=Sq,a.active=Sr,a.interrupt=sr,a.transition=kf,a.axisTop=sf,a.axisRight=tf,a.axisBottom=uf,a.axisLeft=vf,a.cluster=$r,a.hierarchy=Ef,a.pack=ns,a.packSiblings=ls,a.packEnclose=ks,a.partition=qs,a.stratify=us,a.tree=vs,a.treemap=zs,a.treemapBinary=As,a.treemapDice=ps,a.treemapSlice=ws,a.treemapSliceDice=Bs,a.treemapSquarify=ys,a.treemapResquarify=Cs,a.forceCenter=Ds,a.forceCollide=Gs,a.forceLink=Hs,a.forceManyBody=Ls,a.forceSimulation=Ks,a.forceX=Ms,a.forceY=Ns,a.drag=Rs,a.dragDisable=Ps,a.dragEnable=sg,a.voronoi=at,a.zoom=et,a.zoomIdentity=ct,a.zoomTransform=dh,a.brush=ut,a.brushX=ph,a.brushY=qh,a.brushSelection=oh,a.chord=Bt,a.ribbon=Et,a.geoAlbers=Vv,a.geoAlbersUsa=Wv,a.geoArea=Ju,a.geoAzimuthalEqualArea=Yv,a.geoAzimuthalEqualAreaRaw=Xv,a.geoAzimuthalEquidistant=$v,a.geoAzimuthalEquidistantRaw=Zv,a.geoBounds=Mu,a.geoCentroid=Ou,a.geoCircle=bv,a.geoClipExtent=iv,a.geoConicConformal=aw,a.geoConicConformalRaw=nj,a.geoConicEqualArea=Uv,a.geoConicEqualAreaRaw=gj,a.geoConicEquidistant=cw,a.geoConicEquidistantRaw=pj,a.geoDistance=ov,a.geoEquirectangular=bw,a.geoEquirectangularRaw=oj,a.geoGnomonic=dw,a.geoGnomonicRaw=qj,a.geoGraticule=Ai,a.geoGraticule10=Bi,a.geoIdentity=ew,a.geoInterpolate=pv,a.geoLength=lv,a.geoMercator=_v,a.geoMercatorRaw=kj,a.geoOrthographic=fw,a.geoOrthographicRaw=sj,a.geoPath=Jv,a.geoProjection=cj,a.geoProjectionMutator=dj,a.geoRotation=av,a.geoStereographic=gw,a.geoStereographicRaw=tj,a.geoStream=Fu,a.geoTransform=Pv,a.geoTransverseMercator=hw,a.geoTransverseMercatorRaw=uj,Object.defineProperty(a,"__esModule",{value:!0})});var Slider=function(){function a(a){i&&clearTimeout(i),a=5*parseInt(a/5),i=setTimeout(function(){g(a)},500),e.attr("cx",f(a)-5),b(a)}function b(a){barchart.selectAll("rect").each(function(b,c){parseInt(b.bucket)<100+a?d3.select(this).transition().duration(500).style("fill","#f9f9f9").style("stroke","#ccc"):d3.select(this).transition().duration(500).style("fill",j(h(parseInt(b.bucket))).hex())})}var c,d,e,f,g,h,i,j,k={right:10,left:10},l=function(a,b,d){var e=[];for(var g in a)e.push({bucket:g,val:a[g]});h=d3.scaleLinear().domain([100+DataOp.config.codeParams.minExcessTime,100+DataOp.config.codeParams.cutoffExcessTime]).range([0,1]);var i=d3.max(e,function(a){return a.val}),k=d3.scaleLinear().domain([0,i]).range([0,d-20]);barchart=c.append("g","barChart"),barchart.selectAll("rect").data(e).enter().append("rect").attr("value",function(a){return parseInt(a.bucket)}).attr("x",function(a){return f(parseInt(a.bucket)-100)}).attr("y",function(a){return d-20-k(a.val)}).attr("width",b).attr("height",function(a){return k(a.val)+1}).style("fill",function(a){return parseInt(a.bucket)<175?j(h(parseInt(a.bucket))).hex():DataOp.config.colors.exceptionColor}).style("stroke",function(a){return"#ddd"}).style("stroke-width",function(a){return"1px"}),barchart.append("line").attr("class","lineBottom").attr("x1",0).attr("y1",d-18).attr("x2",f(parseInt(e[e.length-1].bucket)-100)+b).attr("y2",d-18).style("stroke",function(a){return"#607D8B"}).style("stroke-width",function(a){return"1px"})};return{init:function(b,h,i,m){j=chroma.scale(DataOp.config.colors.scale),d3.select(".sliderCont").classed("hidden",!1),d3.select(".slider svg").remove(),g=m;var n=d3.select(".slider").node().getBoundingClientRect();c=d3.select(".slider").append("svg").attr("height",150).attr("width",n.width);var o=+c.attr("width")-k.left-k.right,p=+c.attr("height");f=d3.scaleLinear().domain([b,h]).range([0,o]).clamp(!0),l(i,f(b+5)-f(b),p),d=c.append("g").attr("class","slider").attr("transform","translate("+k.left+","+(p-20)+")");var q=d.append("defs").append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","100%").attr("x2","100%").attr("y2","100%").attr("spreadMethod","pad")
;q.append("stop").attr("offset","0%").attr("stop-color","#FFFFF6").attr("stop-opacity",1),q.append("stop").attr("offset","50%").attr("stop-color","#00ACC1").attr("stop-opacity",1),q.append("stop").attr("offset","100%").attr("stop-color","#37474F").attr("stop-opacity",1),d.append("line").attr("class","track").attr("x1",f.range()[0]).attr("x2",f.range()[1]).select(function(){return this.parentNode.appendChild(this.cloneNode(!0))}).attr("class","track-inset").select(function(){return this.parentNode.appendChild(this.cloneNode(!0))}).attr("class","track-overlay").call(d3.drag().on("start.interrupt",function(){d.interrupt()}).on("start drag",function(){a(f.invert(d3.event.x))})),d.insert("g",".track-overlay").attr("class","ticks").attr("transform","translate(0,18)").selectAll("text").data(f.ticks(10)).enter().append("text").attr("x",f).attr("text-anchor","end").text(function(a){return a}),e=d.insert("circle",".track-overlay").attr("class","handle").attr("r",9)},changePosition:a}}();!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.turf=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("@turf/helpers"),e=a("@turf/invariant"),f=a("@turf/meta"),g={isolines:a("@turf/isolines"),convex:a("@turf/convex"),within:a("@turf/within"),concave:a("@turf/concave"),difference:a("@turf/difference"),dissolve:a("@turf/dissolve"),collect:a("@turf/collect"),flip:a("@turf/flip"),simplify:a("@turf/simplify"),bezier:a("@turf/bezier"),tag:a("@turf/tag"),sample:a("@turf/sample"),envelope:a("@turf/envelope"),square:a("@turf/square"),circle:a("@turf/circle"),midpoint:a("@turf/midpoint"),buffer:a("@turf/buffer"),center:a("@turf/center"),centerOfMass:a("@turf/center-of-mass"),centroid:a("@turf/centroid"),combine:a("@turf/combine"),distance:a("@turf/distance"),explode:a("@turf/explode"),bbox:a("@turf/bbox"),tesselate:a("@turf/tesselate"),bboxPolygon:a("@turf/bbox-polygon"),inside:a("@turf/inside"),intersect:a("@turf/intersect"),nearest:a("@turf/nearest"),planepoint:a("@turf/planepoint"),random:a("@turf/random"),tin:a("@turf/tin"),union:a("@turf/union"),bearing:a("@turf/bearing"),destination:a("@turf/destination"),kinks:a("@turf/kinks"),pointOnSurface:a("@turf/point-on-surface"),area:a("@turf/area"),along:a("@turf/along"),lineDistance:a("@turf/line-distance"),lineSlice:a("@turf/line-slice"),lineSliceAlong:a("@turf/line-slice-along"),pointOnLine:a("@turf/point-on-line"),pointGrid:a("@turf/point-grid"),squareGrid:a("@turf/square-grid"),triangleGrid:a("@turf/triangle-grid"),hexGrid:a("@turf/hex-grid"),idw:a("@turf/idw"),truncate:a("@turf/truncate"),flatten:a("@turf/flatten"),lineIntersect:a("@turf/line-intersect"),mask:a("@turf/mask"),lineChunk:a("@turf/line-chunk"),unkinkPolygon:a("@turf/unkink-polygon"),greatCircle:a("@turf/great-circle"),lineSegment:a("@turf/line-segment"),lineSplit:a("@turf/line-split"),lineArc:a("@turf/line-arc"),polygonToLineString:a("@turf/polygon-to-linestring"),lineStringToPolygon:a("@turf/linestring-to-polygon"),bboxClip:a("@turf/bbox-clip"),lineOverlap:a("@turf/line-overlap"),sector:a("@turf/sector"),point:d.point,polygon:d.polygon,lineString:d.lineString,multiPoint:d.multiPoint,multiPolygon:d.multiPolygon,multiLineString:d.multiLineString,feature:d.feature,featureCollection:d.featureCollection,geometryCollection:d.geometryCollection,radiansToDistance:d.radiansToDistance,distanceToRadians:d.distanceToRadians,distanceToDegrees:d.distanceToDegrees,bearingToAngle:d.bearingToAngle,getCoord:e.getCoord,getCoords:e.getCoords,geojsonType:e.geojsonType,featureOf:e.featureOf,collectionOf:e.collectionOf,containsNumber:e.containsNumber,coordEach:f.coordEach,coordReduce:f.coordReduce,propEach:f.propEach,propReduce:f.propReduce,featureEach:f.featureEach,featureReduce:f.featureReduce,coordAll:f.coordAll,geomEach:f.geomEach,geomReduce:f.geomReduce};b.exports=g},{"@turf/along":2,"@turf/area":12,"@turf/bbox":22,"@turf/bbox-clip":16,"@turf/bbox-polygon":20,"@turf/bearing":24,"@turf/bezier":26,"@turf/buffer":29,"@turf/center":77,"@turf/center-of-mass":49,"@turf/centroid":81,"@turf/circle":84,"@turf/collect":89,"@turf/combine":96,"@turf/concave":98,"@turf/convex":106,"@turf/destination":125,"@turf/difference":128,"@turf/dissolve":130,"@turf/distance":141,"@turf/envelope":144,"@turf/explode":149,"@turf/flatten":152,"@turf/flip":156,"@turf/great-circle":159,"@turf/helpers":161,"@turf/hex-grid":162,"@turf/idw":167,"@turf/inside":183,"@turf/intersect":185,"@turf/invariant":187,"@turf/isolines":189,"@turf/kinks":212,"@turf/line-arc":214,"@turf/line-chunk":224,"@turf/line-distance":251,"@turf/line-intersect":261,"@turf/line-overlap":280,"@turf/line-segment":302,"@turf/line-slice":320,"@turf/line-slice-along":310,"@turf/line-split":351,"@turf/linestring-to-polygon":422,"@turf/mask":427,"@turf/meta":436,"@turf/midpoint":437,"@turf/nearest":446,"@turf/planepoint":450,"@turf/point-grid":451,"@turf/point-on-line":458,"@turf/point-on-surface":487,"@turf/polygon-to-linestring":501,"@turf/random":504,"@turf/sample":506,"@turf/sector":508,"@turf/simplify":527,"@turf/square":536,"@turf/square-grid":529,"@turf/tag":540,"@turf/tesselate":543,"@turf/tin":546,"@turf/triangle-grid":548,"@turf/truncate":553,"@turf/union":555,"@turf/unkink-polygon":557,"@turf/within":580}],2:[function(a,b,c){var d=a("@turf/distance"),e=a("@turf/helpers").point,f=a("@turf/bearing"),g=a("@turf/destination");b.exports=function(a,b,c){var h;if("Feature"===a.type)h=a.geometry.coordinates;else{if("LineString"!==a.type)throw new Error("input must be a LineString Feature or Geometry");h=a.coordinates}for(var i=0,j=0;j<h.length&&!(b>=i&&j===h.length-1);j++){if(i>=b){var k=b-i;if(k){var l=f(h[j],h[j-1])-180;return g(h[j],k,l,c)}return e(h[j])}i+=d(h[j],h[j+1],c)}return e(h[h.length-1])}},{"@turf/bearing":3,"@turf/destination":5,"@turf/distance":8,"@turf/helpers":11}],3:[function(a,b,c){function d(a,b,c){if(!0===c)return e(a,b);var d=Math.PI/180,g=180/Math.PI,h=f(a),i=f(b),j=d*h[0],k=d*i[0],l=d*h[1],m=d*i[1],n=Math.sin(k-j)*Math.cos(m),o=Math.cos(l)*Math.sin(m)-Math.sin(l)*Math.cos(m)*Math.cos(k-j);return g*Math.atan2(n,o)}function e(a,b){var c=d(b,a);return c=(c+180)%360}var f=a("@turf/invariant").getCoord;b.exports=d},{"@turf/invariant":4}],4:[function(a,b,c){function d(a){if(!a)throw new Error("No obj passed");var b=e(a);if(b.length>1&&"number"==typeof b[0]&&"number"==typeof b[1])return b;throw new Error("Coordinate is not a valid Point")}function e(a){if(!a)throw new Error("No obj passed");var b;if(a.length?b=a:a.coordinates?b=a.coordinates:a.geometry&&a.geometry.coordinates&&(b=a.geometry.coordinates),b)return f(b),b;throw new Error("No valid coordinates")}function f(a){if(a.length>1&&"number"==typeof a[0]&&"number"==typeof a[1])return!0;if(Array.isArray(a[0])&&a[0].length)return f(a[0]);throw new Error("coordinates must only contain numbers")}function g(a,b,c){if(!b||!c)throw new Error("type and name required");if(!a||a.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.type)}function h(a,b,c){if(!a)throw new Error("No feature passed");if(!c)throw new Error(".featureOf() requires a name");if(!a||"Feature"!==a.type||!a.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!a.geometry||a.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.geometry.type)}function i(a,b,c){if(!a)throw new Error("No featureCollection passed");if(!c)throw new Error(".collectionOf() requires a name");if(!a||"FeatureCollection"!==a.type)throw new Error("Invalid input to "+c+", FeatureCollection required");for(var d=0;d<a.features.length;d++){var e=a.features[d];if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!e.geometry||e.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+e.geometry.type)}}b.exports={geojsonType:g,collectionOf:i,featureOf:h,getCoord:d,getCoords:e,containsNumber:f}},{}],5:[function(a,b,c){var d=a("@turf/invariant").getCoord,e=a("@turf/helpers"),f=e.point,g=e.distanceToRadians;b.exports=function(a,b,c,e){var h=Math.PI/180,i=180/Math.PI,j=d(a),k=h*j[0],l=h*j[1],m=h*c,n=g(b,e),o=Math.asin(Math.sin(l)*Math.cos(n)+Math.cos(l)*Math.sin(n)*Math.cos(m)),p=k+Math.atan2(Math.sin(m)*Math.sin(n)*Math.cos(l),Math.cos(n)-Math.sin(l)*Math.sin(o));return f([i*p,i*o])}},{"@turf/helpers":6,"@turf/invariant":7}],6:[function(a,b,c){function d(a,b){if(!a)throw new Error("No geometry passed");return{type:"Feature",properties:b||{},geometry:a}}function e(a,b){if(!a)throw new Error("No coordinates passed");if(void 0===a.length)throw new Error("Coordinates must be an array");if(a.length<2)throw new Error("Coordinates must be at least 2 numbers long");if("number"!=typeof a[0]||"number"!=typeof a[1])throw new Error("Coordinates must numbers");return d({type:"Point",coordinates:a},b)}function f(a,b){if(!a)throw new Error("No coordinates passed");for(var c=0;c<a.length;c++){var e=a[c];if(e.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<e[e.length-1].length;f++)if(e[e.length-1][f]!==e[0][f])throw new Error("First and last Position are not equivalent.")}return d({type:"Polygon",coordinates:a},b)}function g(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"LineString",coordinates:a},b)}function h(a){if(!a)throw new Error("No features passed");return{type:"FeatureCollection",features:a}}function i(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"MultiLineString",coordinates:a},b)}function j(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"MultiPoint",coordinates:a},b)}function k(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"MultiPolygon",coordinates:a},b)}function l(a,b){if(!a)throw new Error("No geometries passed");return d({type:"GeometryCollection",geometries:a},b)}function m(a,b){var c=q[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a*c}function n(a,b){var c=q[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a/c}function o(a,b){var c=q[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a/c*57.2958}function p(a){var b=a%360;return b<0&&(b+=360),b}var q={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:20908792.65};b.exports={feature:d,featureCollection:h,geometryCollection:l,point:e,multiPoint:j,lineString:g,multiLineString:i,polygon:f,multiPolygon:k,radiansToDistance:m,distanceToRadians:n,distanceToDegrees:o,bearingToAngle:p}},{}],7:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],8:[function(a,b,c){var d=a("@turf/invariant").getCoord,e=a("@turf/helpers").radiansToDistance;b.exports=function(a,b,c){var f=Math.PI/180,g=d(a),h=d(b),i=f*(h[1]-g[1]),j=f*(h[0]-g[0]),k=f*g[1],l=f*h[1],m=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(j/2),2)*Math.cos(k)*Math.cos(l);return e(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)),c)}},{"@turf/helpers":9,"@turf/invariant":10}],9:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],10:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],11:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],12:[function(a,b,c){var d=a("@mapbox/geojson-area").geometry,e=a("@turf/meta").geomReduce;b.exports=function(a){return e(a,function(a,b){return a+d(b)},0)}},{"@mapbox/geojson-area":13,"@turf/meta":14}],13:[function(a,b,c){function d(a){var b,c=0;switch(a.type){case"Polygon":return e(a.coordinates);case"MultiPolygon":for(b=0;b<a.coordinates.length;b++)c+=e(a.coordinates[b]);return c;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(b=0;b<a.geometries.length;b++)c+=d(a.geometries[b]);return c}}function e(a){var b=0;if(a&&a.length>0){b+=Math.abs(f(a[0]));for(var c=1;c<a.length;c++)b-=Math.abs(f(a[c]))}return b}function f(a){var b,c,d,e,f,i,j,k=0,l=a.length;if(l>2){for(j=0;j<l;j++)j===l-2?(e=l-2,f=l-1,i=0):j===l-1?(e=l-1,f=0,i=1):(e=j,f=j+1,i=j+2),b=a[e],c=a[f],d=a[i],k+=(g(d[0])-g(b[0]))*Math.sin(g(c[1]));k=k*h.RADIUS*h.RADIUS/2}return k}function g(a){return a*Math.PI/180}var h=a("wgs84");b.exports.geometry=d,b.exports.ring=f},{wgs84:15}],14:[function(a,b,c){function d(a,b,c){var e,f,g,h,i,j,k,l,m,n,o=0,p=0,q="FeatureCollection"===a.type,r="Feature"===a.type,s=q?a.features.length:1;for(e=0;e<s;e++)for(m=q?a.features[e].geometry:r?a.geometry:a,n="GeometryCollection"===m.type,k=n?m.geometries.length:1,h=0;h<k;h++)if(j=n?m.geometries[h]:m,l=j.coordinates,o=!c||"Polygon"!==j.type&&"MultiPolygon"!==j.type?0:1,"Point"===j.type)b(l,p),p++;else if("LineString"===j.type||"MultiPoint"===j.type)for(f=0;f<l.length;f++)b(l[f],p),p++;else if("Polygon"===j.type||"MultiLineString"===j.type)for(f=0;f<l.length;f++)for(g=0;g<l[f].length-o;g++)b(l[f][g],p),p++;else if("MultiPolygon"===j.type)for(f=0;f<l.length;f++)for(g=0;g<l[f].length;g++)for(i=0;i<l[f][g].length-o;i++)b(l[f][g][i],p),p++;else{if("GeometryCollection"!==j.type)throw new Error("Unknown Geometry Type");for(f=0;f<j.geometries.length;f++)d(j.geometries[f],b,c)}}function e(a,b,c,e){var f=c;return d(a,function(a,d){f=0===d&&void 0===c?a:b(f,a,d)},e),f}function f(a,b){var c;switch(a.type){case"FeatureCollection":for(c=0;c<a.features.length;c++)b(a.features[c].properties,c);break;case"Feature":b(a.properties,0)}}function g(a,b,c){var d=c;return f(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}function h(a,b){if("Feature"===a.type)b(a,0);else if("FeatureCollection"===a.type)for(var c=0;c<a.features.length;c++)b(a.features[c],c)}function i(a,b,c){var d=c;return h(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}function j(a){var b=[];return d(a,function(a){b.push(a)}),b}function k(a,b){var c,d,e,f,g,h,i,j=0,k="FeatureCollection"===a.type,l="Feature"===a.type,m=k?a.features.length:1;for(c=0;c<m;c++)for(h=k?a.features[c].geometry:l?a.geometry:a,i="GeometryCollection"===h.type,g=i?h.geometries.length:1,e=0;e<g;e++)if(f=i?h.geometries[e]:h,"Point"===f.type||"LineString"===f.type||"MultiPoint"===f.type||"Polygon"===f.type||"MultiLineString"===f.type||"MultiPolygon"===f.type)b(f,j),j++;else{if("GeometryCollection"!==f.type)throw new Error("Unknown Geometry Type");for(d=0;d<f.geometries.length;d++)b(f.geometries[d],j),j++}}function l(a,b,c){var d=c;return k(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}b.exports={coordEach:d,coordReduce:e,propEach:f,propReduce:g,featureEach:h,featureReduce:i,coordAll:j,geomEach:k,geomReduce:l}},{}],15:[function(a,b,c){b.exports.RADIUS=6378137,b.exports.FLATTENING=1/298.257223563,b.exports.POLAR_RADIUS=6356752.3142},{}],16:[function(a,b,c){function d(a,b){for(var c=[],d=0;d<a.length;d++){var e=g.polygon(a[d],b);e.length>0&&(e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push(e[0]),c.push(e))}return c}function e(a){return a.geometry?a.geometry.type:a.type}var f=a("@turf/helpers"),g=a("lineclip"),h=a("@turf/invariant").getCoords,i=f.lineString,j=f.multiLineString,k=f.polygon,l=f.multiPolygon;b.exports=function(a,b){var c=e(a),f=h(a),m=a.properties;switch(c){case"LineString":case"MultiLineString":var n=[];return"LineString"===c&&(f=[f]),f.forEach(function(a){g(a,b,n)}),1===n.length?i(n[0],m):j(n,m);case"Polygon":return k(d(f,b),m);case"MultiPolygon":return l(f.map(function(a){return d(a,b)}),m);default:throw new Error("geometry "+c+" not supported")}}},{"@turf/helpers":17,"@turf/invariant":18,lineclip:19}],17:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],18:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],19:[function(a,b,c){"use strict";function d(a,b,c){var d,e,h,i,j,k=a.length,l=g(a[0],b),m=[];for(c||(c=[]),d=1;d<k;d++){for(e=a[d-1],h=a[d],i=j=g(h,b);;){if(!(l|i)){m.push(e),i!==j?(m.push(h),d<k-1&&(c.push(m),m=[])):d===k-1&&m.push(h);break}if(l&i)break;l?(e=f(e,h,l,b),l=g(e,b)):(h=f(e,h,i,b),i=g(h,b))}l=j}return m.length&&c.push(m),c}function e(a,b){var c,d,e,h,i,j,k;for(d=1;d<=8;d*=2){for(c=[],e=a[a.length-1],h=!(g(e,b)&d),i=0;i<a.length;i++)j=a[i],k=!(g(j,b)&d),k!==h&&c.push(f(e,j,d,b)),k&&c.push(j),e=j,h=k;if(a=c,!a.length)break}return c}function f(a,b,c,d){return 8&c?[a[0]+(b[0]-a[0])*(d[3]-a[1])/(b[1]-a[1]),d[3]]:4&c?[a[0]+(b[0]-a[0])*(d[1]-a[1])/(b[1]-a[1]),d[1]]:2&c?[d[2],a[1]+(b[1]-a[1])*(d[2]-a[0])/(b[0]-a[0])]:1&c?[d[0],a[1]+(b[1]-a[1])*(d[0]-a[0])/(b[0]-a[0])]:null}function g(a,b){var c=0;return a[0]<b[0]?c|=1:a[0]>b[2]&&(c|=2),a[1]<b[1]?c|=4:a[1]>b[3]&&(c|=8),c}b.exports=d,d.polyline=d,d.polygon=e},{}],20:[function(a,b,c){var d=a("@turf/helpers").polygon;b.exports=function(a){var b=[a[0],a[1]],c=[a[0],a[3]],e=[a[2],a[3]],f=[a[2],a[1]];return d([[b,f,e,c,b]])}},{"@turf/helpers":21}],21:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],22:[function(a,b,c){var d=a("@turf/meta").coordEach;b.exports=function(a){var b=[1/0,1/0,-1/0,-1/0];return d(a,function(a){b[0]>a[0]&&(b[0]=a[0]),b[1]>a[1]&&(b[1]=a[1]),b[2]<a[0]&&(b[2]=a[0]),b[3]<a[1]&&(b[3]=a[1])}),b}},{"@turf/meta":23}],23:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],24:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":25,dup:3}],25:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],26:[function(a,b,c){var d=a("@turf/helpers").lineString,e=a("./spline.js");b.exports=function(a,b,c){var f=d([]);f.properties=a.properties;for(var g=new e({points:a.geometry.coordinates.map(function(a){return{x:a[0],y:a[1]}}),duration:b,sharpness:c}),h=0;h<g.duration;h+=10){var i=g.pos(h);Math.floor(h/100)%2==0&&f.geometry.coordinates.push([i.x,i.y])}return f}},{"./spline.js":28,"@turf/helpers":27}],27:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],28:[function(a,b,c){var d=function(a){this.points=a.points||[],this.duration=a.duration||1e4,this.sharpness=a.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=a.stepLength||60,this.length=this.points.length,this.delay=0;for(var b=0;b<this.length;b++)this.points[b].z=this.points[b].z||0;for(var b=0;b<this.length-1;b++){var c=this.points[b],d=this.points[b+1];this.centers.push({x:(c.x+d.x)/2,y:(c.y+d.y)/2,z:(c.z+d.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var b=0;b<this.centers.length-1;b++){var c=this.centers[b],d=this.centers[b+1],e=this.points[b+1].x-(this.centers[b].x+this.centers[b+1].x)/2,f=this.points[b+1].y-(this.centers[b].y+this.centers[b+1].y)/2,g=this.points[b+1].z-(this.centers[b].y+this.centers[b+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[b+1].x+this.sharpness*(this.centers[b].x+e),y:(1-this.sharpness)*this.points[b+1].y+this.sharpness*(this.centers[b].y+f),z:(1-this.sharpness)*this.points[b+1].z+this.sharpness*(this.centers[b].z+g)},{x:(1-this.sharpness)*this.points[b+1].x+this.sharpness*(this.centers[b+1].x+e),y:(1-this.sharpness)*this.points[b+1].y+this.sharpness*(this.centers[b+1].y+f),z:(1-this.sharpness)*this.points[b+1].z+this.sharpness*(this.centers[b+1].z+g)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};d.prototype.cacheSteps=function(a){var b=[],c=this.pos(0);b.push(0);for(var d=0;d<this.duration;d+=10){var e=this.pos(d);Math.sqrt((e.x-c.x)*(e.x-c.x)+(e.y-c.y)*(e.y-c.y)+(e.z-c.z)*(e.z-c.z))>a&&(b.push(d),c=e)}return b},d.prototype.vector=function(a){var b=this.pos(a+10),c=this.pos(a-10);return{angle:180*Math.atan2(b.y-c.y,b.x-c.x)/3.14,speed:Math.sqrt((c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y)+(c.z-b.z)*(c.z-b.z))}},d.prototype.pos=function(a){var b=a-this.delay;b<0&&(b=0),b>this.duration&&(b=this.duration-1);var c=b/this.duration;if(c>=1)return this.points[this.length-1];var d=Math.floor((this.points.length-1)*c),e=(this.length-1)*c-d;return function(a,b,c,d,e){var f=function(a){var b=a*a;return[b*a,3*b*(1-a),3*a*(1-a)*(1-a),(1-a)*(1-a)*(1-a)]}(a);return{x:e.x*f[0]+d.x*f[1]+c.x*f[2]+b.x*f[3],y:e.y*f[0]+d.y*f[1]+c.y*f[2]+b.y*f[3],z:e.z*f[0]+d.z*f[1]+c.z*f[2]+b.z*f[3]}}(e,this.points[d],this.controls[d][1],this.controls[d+1][0],this.points[d+1])},b.exports=d},{}],29:[function(a,b,c){function d(a,b,c,d){var i=a.properties||{},k=m(b,c),o="Feature"===a.type?a.geometry:a;switch(o.type){case"Point":var p=g(a,b,d,c);return p.properties=i,p;case"MultiPoint":var q=[];return j(a,function(a){var e=g(n(a,i),b,d,c);e.properties=i,q.push(e)}),h(l(q));case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":var r=new e.io.GeoJSONReader,s=r.read(o),t=s.buffer(k);return t=(new e.io.GeoJSONWriter).write(t),f.feature(t,i);default:throw new Error("geometry type "+o.type+" not supported")}}var e=a("jsts"),f=a("@turf/helpers"),g=a("@turf/circle"),h=a("@turf/dissolve"),i=a("@turf/meta"),j=i.coordEach,k=i.featureEach,l=f.featureCollection,m=f.distanceToDegrees,n=f.point;b.exports=function(a,b,c,e){if(void 0===b||null===b)throw new Error("radius is required");switch(e=e||64,a.type){case"GeometryCollection":case"FeatureCollection":var f=[];return(a.features?a.features:a.geometries||[]).forEach(function(a){k(d(a,b,c,e),function(a){f.push(a)})}),l(f)}return d(a,b,c,e)}},{"@turf/circle":30,"@turf/dissolve":35,"@turf/helpers":46,"@turf/meta":47,jsts:48}],30:[function(a,b,c){var d=a("@turf/destination"),e=a("@turf/helpers").polygon;b.exports=function(a,b,c,f,g){if(!a)throw new Error("center is required");if(!b)throw new Error("radius is required");c=c||64,g=g|a.properties|{};for(var h=[],i=0;i<c;i++)h.push(d(a,b,360*i/c,f).geometry.coordinates);return h.push(h[0]),e([h],g)}},{"@turf/destination":31,"@turf/helpers":34}],31:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":32,"@turf/invariant":33,dup:5}],32:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],33:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],34:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],35:[function(a,b,c){function d(a){if(null===a||void 0===a)throw new Error("No polygon was passed");a.geometry.type="LineString";var b=[].concat.apply([],a.geometry.coordinates);return a.geometry.coordinates=b,a}var e=a("@turf/union"),f=a("turf-overlaps"),g=a("@turf/bbox"),h=a("rbush"),i=a("geojson-utils"),j=a("get-closest");b.exports=function(a,b){for(var c=[],k=[],l=new h,m=0;m<a.features.length;m++){var n=g(a.features[m]),o={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],origIndexPosition:m};k.push(o)}l.load(k);for(var p=0;p<a.features.length;p++){for(var q=a.features[p],r=g(q),s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]},t=l.search(s),u=!1,v=0;v<t.length;v++){q=a.features[p];var w=t[v].origIndexPosition;if(c.length>0&&0!==w)if(w>c[c.length-1])w-=c.length;else{var x=j.greaterNumber(w,c);0!==x&&(w-=x)}if(w!==p){var y=a.features[w];if(void 0===typeof b||y.properties[b]===q.properties[b]){var z=f(q,y);if(!z){var A=JSON.stringify(q),B=JSON.stringify(y),C=d(JSON.parse(A)),D=d(JSON.parse(B));z=i.lineStringsIntersect(C.geometry,D.geometry)}z&&(a.features[p]=e(q,y),c.push(t[v].origIndexPosition),c.sort(function(a,b){return a-b}),l.remove(t[v]),a.features.splice(w,1),s.origIndexPosition=p,l.remove(s,function(a,b){return a.origIndexPosition===b.origIndexPosition}),u=!0)}}}if(u){var E=g(q);l.insert({minX:E[0],minY:E[1],maxX:E[2],maxY:E[3],origIndexPosition:p}),p--}}return a}},{"@turf/bbox":36,"@turf/union":38,"geojson-utils":40,"get-closest":41,rbush:43,"turf-overlaps":45}],36:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":37,dup:22}],37:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],38:[function(a,b,c){var d=a("jsts");b.exports=function(){for(var a=new d.io.GeoJSONReader,b=a.read(JSON.stringify(arguments[0].geometry)),c=1;c<arguments.length;c++)b=b.union(a.read(JSON.stringify(arguments[c].geometry)));return b=(new d.io.GeoJSONWriter).write(b),{type:"Feature",geometry:b,properties:arguments[0].properties}}},{jsts:39}],39:[function(b,c,d){!function(b,e){"object"==typeof d&&void 0!==c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.jsts=b.jsts||{})}(this,function(a){"use strict";function b(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function c(){}function d(){}function e(){}function f(){}function g(){}function h(){}function i(){}function j(a){this.name="RuntimeException",this.message=a,this.stack=(new Error).stack,Error.call(this,a)}function k(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a}function l(){if(0===arguments.length)j.call(this);else if(1===arguments.length){var a=arguments[0];j.call(this,a)}}function m(){}function n(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)n.call(this,0,0);else if(1===arguments.length){var a=arguments[0];n.call(this,a.x,a.y,a.z)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];n.call(this,b,c,n.NULL_ORDINATE)}else if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];this.x=d,this.y=e,this.z=f}}function o(){if(this.dimensionsToTest=2,0===arguments.length)o.call(this,2);else if(1===arguments.length){var a=arguments[0];if(2!==a&&3!==a)throw new d("only 2 or 3 dimensions may be specified");this.dimensionsToTest=a}}function p(){}function q(){}function r(a){this.message=a||""}function s(){}function t(a){this.message=a||""}function u(a){this.message=a||""}function v(){this.array_=[],arguments[0]instanceof q&&this.addAll(arguments[0])}function w(){if(v.apply(this),0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.ensureCapacity(b.length),this.add(b,c)}}function x(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof n){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof x){var b=arguments[0];this.init(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.init(c.x,d.x,c.y,d.y)}else if(4===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3];this.init(e,f,g,h)}}function y(){}function z(){y.call(this,"Projective point not representable on the Cartesian plane.")}function A(){}function B(a,b){return a.interfaces_&&a.interfaces_().indexOf(b)>-1}function C(){}function D(a){this.str=a}function E(a){this.value=a}function F(){}function G(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];this.init(a)}else if(arguments[0]instanceof G){var b=arguments[0];this.init(b)}else if("string"==typeof arguments[0]){var c=arguments[0];G.call(this,G.parse(c))}}else if(2===arguments.length){var d=arguments[0],e=arguments[1];this.init(d,e)}}function H(){}function I(){}function J(){}function K(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var a=arguments[0];this.x=a.x,this.y=a.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var b=arguments[0],c=arguments[1];this.x=b,this.y=c,this.w=1}else if(arguments[0]instanceof K&&arguments[1]instanceof K){var d=arguments[0],e=arguments[1];this.x=d.y*e.w-e.y*d.w,this.y=e.x*d.w-d.x*e.w,this.w=d.x*e.y-e.x*d.y}else if(arguments[0]instanceof n&&arguments[1]instanceof n){var f=arguments[0],g=arguments[1];this.x=f.y-g.y,this.y=g.x-f.x,this.w=f.x*g.y-g.x*f.y}}else if(3===arguments.length){var h=arguments[0],i=arguments[1],j=arguments[2];this.x=h,this.y=i,this.w=j}else if(4===arguments.length){var k=arguments[0],l=arguments[1],m=arguments[2],o=arguments[3],p=k.y-l.y,q=l.x-k.x,r=k.x*l.y-l.x*k.y,s=m.y-o.y,t=o.x-m.x,u=m.x*o.y-o.x*m.y;this.x=q*u-t*r,this.y=s*r-p*u,this.w=p*t-s*q}}function L(){}function M(){}function N(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var a=arguments[0];this.factory=a,this.SRID=a.getSRID()}function O(){}function P(){}function Q(){}function R(){}function S(){}function T(){}function U(){}function V(){}function W(){}function X(){}function Y(){}function Z(){}function $(){this.array_=[],arguments[0]instanceof q&&this.addAll(arguments[0])}function _(a){return null==a?$f:a.color}function aa(a){return null==a?null:a.parent}function ba(a,b){null!==a&&(a.color=b)}function ca(a){return null==a?null:a.left}function da(a){return null==a?null:a.right}function ea(){this.root_=null,this.size_=0}function fa(){}function ga(){}function ha(){this.array_=[],arguments[0]instanceof q&&this.addAll(arguments[0])}function ia(){}function ja(){}function ka(){}function la(){}function ma(){this.geometries=null;var a=arguments[0],b=arguments[1];if(N.call(this,b),null===a&&(a=[]),N.hasNullElements(a))throw new d("geometries must not contain null elements");this.geometries=a}function na(){var a=arguments[0],b=arguments[1];ma.call(this,a,b)}function oa(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var a=arguments[0];oa.call(this,a,P.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.geom=b,this.geomFact=b.getFactory(),this.bnRule=c}}function pa(){this.count=null}function qa(){}function ra(){}function sa(){}function ta(){}function ua(){}function va(){}function wa(){}function xa(){}function ya(){this.points=null;var a=arguments[0],b=arguments[1];N.call(this,b),this.init(a)}function za(){}function Aa(){this.coordinates=null;var a=arguments[0],b=arguments[1];N.call(this,b),this.init(a)}function Ba(){}function Ca(){this.shell=null,this.holes=null;var a=arguments[0],b=arguments[1],c=arguments[2];if(N.call(this,c),null===a&&(a=this.getFactory().createLinearRing()),null===b&&(b=[]),N.hasNullElements(b))throw new d("holes must not contain null elements");if(a.isEmpty()&&N.hasNonEmptyElements(b))throw new d("shell is empty but holes are not");this.shell=a,this.holes=b}function Da(){var a=arguments[0],b=arguments[1];ma.call(this,a,b)}function Ea(){if(arguments[0]instanceof n&&arguments[1]instanceof cb){var a=arguments[0],b=arguments[1];Ea.call(this,b.getCoordinateSequenceFactory().create(a),b)}else if(B(arguments[0],I)&&arguments[1]instanceof cb){var c=arguments[0],d=arguments[1];ya.call(this,c,d),this.validateConstruction()}}function Fa(){var a=arguments[0],b=arguments[1];ma.call(this,a,b)}function Ga(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.factory=a}}function Ha(){}function Ia(){}function Ja(){}function Ka(){}function La(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];La.call(this,a,3)}else if(Number.isInteger(arguments[0])){var b=arguments[0];this.coordinates=new Array(b).fill(null);for(var c=0;c<b;c++)this.coordinates[c]=new n}else if(B(arguments[0],I)){var d=arguments[0];if(null===d)return this.coordinates=new Array(0).fill(null),null;this.dimension=d.getDimension(),this.coordinates=new Array(d.size()).fill(null);for(var c=0;c<this.coordinates.length;c++)this.coordinates[c]=d.getCoordinateCopy(c)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var e=arguments[0],f=arguments[1];this.coordinates=e,this.dimension=f,null===e&&(this.coordinates=new Array(0).fill(null))
}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var g=arguments[0],h=arguments[1];this.coordinates=new Array(g).fill(null),this.dimension=h;for(var c=0;c<g;c++)this.coordinates[c]=new n}}function Ma(){}function Na(a,b){return a===b||a!==a&&b!==b}function Oa(a){this.add?a.forEach(this.add,this):a.forEach(function(a){this.set(a[0],a[1])},this)}function Pa(a){return this.has(a)&&(this._keys.splice(ag,1),this._values.splice(ag,1),this._itp.forEach(function(a){ag<a[0]&&a[0]--})),ag>-1}function Qa(a){return this.has(a)?this._values[ag]:void 0}function Ra(a,b){if(this.objectOnly&&b!==Object(b))throw new TypeError("Invalid value used as weak collection key");if(b!==b||0===b)for(ag=a.length;ag--&&!Na(a[ag],b););else ag=a.indexOf(b);return ag>-1}function Sa(a){return Ra.call(this,this._keys,a)}function Ta(a,b){return this.has(a)?this._values[ag]=b:this._values[this._keys.push(a)-1]=b,this}function Ua(){(this._keys||0).length=this._values.length=0}function Va(){return Ya(this._itp,this._keys)}function Wa(){return Ya(this._itp,this._values)}function Xa(){return Ya(this._itp,this._keys,this._values)}function Ya(a,b,c){var d=[0],e=!1;return a.push(d),{next:function(){var f,g=d[0];return!e&&g<b.length?(f=c?[b[g],c[g]]:b[g],d[0]++):(e=!0,a.splice(a.indexOf(d),1)),{done:e,value:f}}}}function Za(){return this._values.length}function $a(a,b){for(var c=this.entries();;){var d=c.next();if(d.done)break;a.call(b,d.value[1],d.value[0],this)}}function _a(){this.map_=new dg}function ab(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=ab.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof bb){var a=arguments[0];this.modelType=a,a===ab.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var b=arguments[0];this.modelType=ab.FIXED,this.setScale(b)}else if(arguments[0]instanceof ab){var c=arguments[0];this.modelType=c.modelType,this.scale=c.scale}}function bb(){this.name=null;var a=arguments[0];this.name=a,bb.nameToTypeMap.put(a,this)}function cb(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)cb.call(this,new ab,0);else if(1===arguments.length){if(B(arguments[0],L)){var a=arguments[0];cb.call(this,new ab,0,a)}else if(arguments[0]instanceof ab){var b=arguments[0];cb.call(this,b,0,cb.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];cb.call(this,c,d,cb.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];this.precisionModel=e,this.coordinateSequenceFactory=g,this.SRID=f}}function db(a){this.geometryFactory=a||new cb}function eb(a){this.parser=new db(a)}function fb(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new n,this.intPt[1]=new n,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function gb(){fb.apply(this)}function hb(){}function ib(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var a=arguments[0];this.p=a}function jb(){}function kb(){if(this.p0=null,this.p1=null,0===arguments.length)kb.call(this,new n,new n);else if(1===arguments.length){var a=arguments[0];kb.call(this,a.p0,a.p1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.p0=b,this.p1=c}else if(4===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3];kb.call(this,new n(d,e),new n(f,g))}}function lb(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(ja.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var a=arguments[0];lb.call(this),this.set(a)}else if(arguments[0]instanceof lb){var b=arguments[0];lb.call(this),this.matrix[A.INTERIOR][A.INTERIOR]=b.matrix[A.INTERIOR][A.INTERIOR],this.matrix[A.INTERIOR][A.BOUNDARY]=b.matrix[A.INTERIOR][A.BOUNDARY],this.matrix[A.INTERIOR][A.EXTERIOR]=b.matrix[A.INTERIOR][A.EXTERIOR],this.matrix[A.BOUNDARY][A.INTERIOR]=b.matrix[A.BOUNDARY][A.INTERIOR],this.matrix[A.BOUNDARY][A.BOUNDARY]=b.matrix[A.BOUNDARY][A.BOUNDARY],this.matrix[A.BOUNDARY][A.EXTERIOR]=b.matrix[A.BOUNDARY][A.EXTERIOR],this.matrix[A.EXTERIOR][A.INTERIOR]=b.matrix[A.EXTERIOR][A.INTERIOR],this.matrix[A.EXTERIOR][A.BOUNDARY]=b.matrix[A.EXTERIOR][A.BOUNDARY],this.matrix[A.EXTERIOR][A.EXTERIOR]=b.matrix[A.EXTERIOR][A.EXTERIOR]}}function mb(){this.areaBasePt=null,this.triangleCent3=new n,this.areasum2=0,this.cg3=new n,this.lineCentSum=new n,this.totalLength=0,this.ptCount=0,this.ptCentSum=new n;var a=arguments[0];this.areaBasePt=null,this.add(a)}function nb(a){this.message=a||""}function ob(){this.array_=[]}function pb(){this.treeSet=new ha,this.list=new v}function qb(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var a=arguments[0];qb.call(this,qb.extractCoordinates(a),a.getFactory())}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.inputPts=pb.filterCoordinates(b),this.geomFactory=c}}function rb(){this.origin=null;var a=arguments[0];this.origin=a}function sb(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function tb(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new kb,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof ya&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];tb.call(this,a.getCoordinates(),b)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var c=arguments[0],d=arguments[1];this.srcPts=c,this._isClosed=tb.isClosed(c),this.snapTolerance=d}}function ub(){this.srcGeom=null;var a=arguments[0];this.srcGeom=a}function vb(){if(sb.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var a=arguments[0],b=arguments[1];this.snapTolerance=a,this.snapPts=b}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.snapTolerance=c,this.snapPts=d,this.isSelfSnap=e}}function wb(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function xb(){this.commonCoord=null,this.ccFilter=new yb}function yb(){this.commonBitsX=new wb,this.commonBitsY=new wb}function zb(){this.trans=null;var a=arguments[0];this.trans=a}function Ab(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var a=arguments[0];this.parent=a,this.atStart=!0,this.index=0,this.max=a.getNumGeometries()}function Bb(){if(this.boundaryRule=P.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];if(null===a)throw new d("Rule must be non-null");this.boundaryRule=a}}function Cb(){}function Db(){}function Eb(){this.pts=null,this.data=null;var a=arguments[0],b=arguments[1];this.pts=a,this.data=b}function Fb(){}function Gb(){this.bounds=null,this.item=null;var a=arguments[0],b=arguments[1];this.bounds=a,this.item=b}function Hb(){this._size=null,this.items=null,this._size=0,this.items=new v,this.items.add(null)}function Ib(){}function Jb(){}function Kb(){if(this.childBoundables=new v,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.level=a}}function Lb(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.boundable1=a,this.boundable2=b,this.itemDistance=c,this._distance=this.distance()}function Mb(){if(this.root=null,this.built=!1,this.itemBoundables=new v,this.nodeCapacity=null,0===arguments.length)Mb.call(this,Mb.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var a=arguments[0];m.isTrue(a>1,"Node capacity must be greater than 1"),this.nodeCapacity=a}}function Nb(){}function Ob(){}function Pb(){if(0===arguments.length)Pb.call(this,Pb.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var a=arguments[0];Mb.call(this,a)}}function Qb(){var a=arguments[0];Kb.call(this,a)}function Rb(){}function Sb(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.segString=a,this.coord=new n(b),this.segmentIndex=c,this.segmentOctant=d,this._isInterior=!b.equals2D(a.getCoordinate(c))}function Tb(){this.nodeMap=new ea,this.edge=null;var a=arguments[0];this.edge=a}function Ub(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var a=arguments[0];this.nodeList=a,this.edge=a.getEdge(),this.nodeIt=a.iterator(),this.readNextNode()}function Vb(){}function Wb(){this.nodeList=new Tb(this),this.pts=null,this.data=null;var a=arguments[0],b=arguments[1];this.pts=a,this.data=b}function Xb(){this.tempEnv1=new x,this.tempEnv2=new x,this.overlapSeg1=new kb,this.overlapSeg2=new kb}function Yb(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.pts=a,this.start=b,this.end=c,this.context=d}function Zb(){}function $b(){}function _b(){}function ac(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.setSegmentIntersector(a)}}function bc(){if(this.monoChains=new v,this.index=new Pb,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var a=arguments[0];ac.call(this,a)}}function cc(){Xb.apply(this),this.si=null;var a=arguments[0];this.si=a}function dc(){if(this.pt=null,1===arguments.length){var a=arguments[0];j.call(this,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];j.call(this,dc.msgWithCoord(b,c)),this.name="TopologyException",this.pt=new n(c)}}function ec(){}function fc(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new v,this.intersectionCount=0,this.keepIntersections=!0;var a=arguments[0];this.li=a,this.interiorIntersection=null}function gc(){this.li=new gb,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var a=arguments[0];this.segStrings=a}function hc(){this.nv=null;var a=arguments[0];this.nv=new gc(hc.toSegmentStrings(a))}function ic(){this.mapOp=null;var a=arguments[0];this.mapOp=a}function jc(){}function kc(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];this.init(a.length)}else if(Number.isInteger(arguments[0])){var b=arguments[0];this.init(1),this.location[jc.ON]=b}else if(arguments[0]instanceof kc){var c=arguments[0];if(this.init(c.location.length),null!==c)for(var d=0;d<this.location.length;d++)this.location[d]=c.location[d]}}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];this.init(3),this.location[jc.ON]=e,this.location[jc.LEFT]=f,this.location[jc.RIGHT]=g}}function lc(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var a=arguments[0];this.elt[0]=new kc(a),this.elt[1]=new kc(a)}else if(arguments[0]instanceof lc){var b=arguments[0];this.elt[0]=new kc(b.elt[0]),this.elt[1]=new kc(b.elt[1])}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.elt[0]=new kc(A.NONE),this.elt[1]=new kc(A.NONE),this.elt[c].setLocation(d)}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];this.elt[0]=new kc(e,f,g),this.elt[1]=new kc(e,f,g)}else if(4===arguments.length){var h=arguments[0],i=arguments[1],j=arguments[2],k=arguments[3];this.elt[0]=new kc(A.NONE,A.NONE,A.NONE),this.elt[1]=new kc(A.NONE,A.NONE,A.NONE),this.elt[h].setLocations(i,j,k)}}function mc(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new v,this.pts=new v,this.label=new lc(A.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new v,this.geometryFactory=null;var a=arguments[0],b=arguments[1];this.geometryFactory=b,this.computePoints(a),this.computeRing()}function nc(){var a=arguments[0],b=arguments[1];mc.call(this,a,b)}function oc(){var a=arguments[0],b=arguments[1];mc.call(this,a,b)}function pc(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.label=a}}function qc(){pc.apply(this),this.coord=null,this.edges=null;var a=arguments[0],b=arguments[1];this.coord=a,this.edges=b,this.label=new lc(0,A.NONE)}function rc(){this.nodeMap=new ea,this.nodeFact=null;var a=arguments[0];this.nodeFact=a}function sc(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var a=arguments[0];this.edge=a}else if(3===arguments.length){var b=arguments[0],c=arguments[1],d=arguments[2];sc.call(this,b,c,d,null)}else if(4===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3];sc.call(this,e),this.init(f,g),this.label=h}}function tc(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var a=arguments[0],b=arguments[1];if(sc.call(this,a),this._isForward=b,b)this.init(a.getCoordinate(0),a.getCoordinate(1));else{var c=a.getNumPoints()-1;this.init(a.getCoordinate(c),a.getCoordinate(c-1))}this.computeDirectedLabel()}function uc(){}function vc(){if(this.edges=new v,this.nodes=null,this.edgeEndList=new v,0===arguments.length)this.nodes=new rc(new uc);else if(1===arguments.length){var a=arguments[0];this.nodes=new rc(a)}}function wc(){this.geometryFactory=null,this.shellList=new v;var a=arguments[0];this.geometryFactory=a}function xc(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new v,this.resultLineList=new v;var a=arguments[0],b=arguments[1],c=arguments[2];this.op=a,this.geometryFactory=b,this.ptLocator=c}function yc(){this.op=null,this.geometryFactory=null,this.resultPointList=new v;var a=arguments[0],b=arguments[1];arguments[2],this.op=a,this.geometryFactory=b}function zc(){}function Ac(){this.geom=null;var a=arguments[0];this.geom=a}function Bc(){this.edgeMap=new ea,this.edgeList=null,this.ptInAreaLocation=[A.NONE,A.NONE]}function Cc(){Bc.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function Dc(){uc.apply(this)}function Ec(){this.mce=null,this.chainIndex=null;var a=arguments[0],b=arguments[1];this.mce=a,this.chainIndex=b}function Fc(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var a=arguments[0],b=arguments[1];this.eventType=Fc.DELETE,this.xValue=a,this.insertEvent=b}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.eventType=Fc.INSERT,this.label=c,this.xValue=d,this.obj=e}}function Gc(){}function Hc(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this.li=a,this.includeProper=b,this.recordIsolated=c}function Ic(){Gc.apply(this),this.events=new v,this.nOverlaps=null}function Jc(){this.min=e.POSITIVE_INFINITY,this.max=e.NEGATIVE_INFINITY}function Kc(){}function Lc(){Jc.apply(this),this.item=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.min=a,this.max=b,this.item=c}function Mc(){Jc.apply(this),this.node1=null,this.node2=null;var a=arguments[0],b=arguments[1];this.node1=a,this.node2=b,this.buildExtent(this.node1,this.node2)}function Nc(){this.leaves=new v,this.root=null,this.level=0}function Oc(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var a=arguments[0];this.lines=a}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.lines=b,this.isForcedToLineString=c}}function Pc(){this.items=new v}function Qc(){this.index=null;var a=arguments[0];if(!B(a,Ba))throw new d("Argument must be Polygonal");this.index=new Sc(a)}function Rc(){this.counter=null;var a=arguments[0];this.counter=a}function Sc(){this.index=new Nc;var a=arguments[0];this.init(a)}function Tc(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.coord=new n(a),this.segmentIndex=b,this.dist=c}function Uc(){this.nodeMap=new ea,this.edge=null;var a=arguments[0];this.edge=a}function Vc(){}function Wc(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new x,this.env2=new x;var a=arguments[0];this.e=a,this.pts=a.getCoordinates();var b=new Vc;this.startIndex=b.getChainStartIndices(this.pts)}function Xc(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var a=0;a<2;a++)for(var b=0;b<3;b++)this.depth[a][b]=Xc.NULL_VALUE}function Yc(){if(pc.apply(this),this.pts=null,this.env=null,this.eiList=new Uc(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Xc,this.depthDelta=0,1===arguments.length){var a=arguments[0];Yc.call(this,a,null)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.pts=b,this.label=c}}function Zc(){if(vc.apply(this),this.parentGeom=null,this.lineEdgeMap=new _a,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new Bb,2===arguments.length){var a=arguments[0],b=arguments[1];Zc.call(this,a,b,P.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.argIndex=c,this.parentGeom=d,this.boundaryNodeRule=e,null!==d&&this.add(d)}}function $c(){if(this.li=new gb,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var a=arguments[0];this.setComputationPrecision(a.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Zc(0,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];$c.call(this,b,c,P.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];d.getPrecisionModel().compareTo(e.getPrecisionModel())>=0?this.setComputationPrecision(d.getPrecisionModel()):this.setComputationPrecision(e.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Zc(0,d,f),this.arg[1]=new Zc(1,e,f)}}function _c(){this.pts=null,this._orientation=null;var a=arguments[0];this.pts=a,this._orientation=_c.orientation(a)}function ad(){this.edges=new v,this.ocaMap=new ea}function bd(){this.ptLocator=new Bb,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new ad,this.resultPolyList=new v,this.resultLineList=new v,this.resultPointList=new v;var a=arguments[0],b=arguments[1];$c.call(this,a,b),this.graph=new vc(new Dc),this.geomFact=a.getFactory()}function cd(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var a=arguments[0],b=arguments[1];this.geom[0]=a,this.geom[1]=b,this.computeSnapTolerance()}function dd(){this.geom=new Array(2).fill(null);var a=arguments[0],b=arguments[1];this.geom[0]=a,this.geom[1]=b}function ed(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var a=arguments[0];this.factory=a.getFactory(),this.add(a)}function fd(){this.poly=null,this.centreY=null,this.hiY=e.MAX_VALUE,this.loY=-e.MAX_VALUE;var a=arguments[0];this.poly=a,this.hiY=a.getEnvelopeInternal().getMaxY(),this.loY=a.getEnvelopeInternal().getMinY(),this.centreY=ed.avg(this.loY,this.hiY)}function gd(){this.centroid=null,this.minDistance=e.MAX_VALUE,this.interiorPoint=null;var a=arguments[0];this.centroid=a.getCentroid().getCoordinate(),this.addInterior(a),null===this.interiorPoint&&this.addEndpoints(a)}function hd(){this.centroid=null,this.minDistance=e.MAX_VALUE,this.interiorPoint=null;var a=arguments[0];this.centroid=a.getCentroid().getCoordinate(),this.add(a)}function id(){this.tempEnv1=new x,this.selectedSegment=new kb}function jd(){this.items=new v,this.subnode=[null,null]}function kd(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var a=arguments[0];this.init(a.min,a.max)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.init(b,c)}}function ld(){}function md(a,b){var c,d,e,f,g={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},h={32:8,64:11}[a];if(f||(c=b<0||1/b<0,isFinite(b)||(f=g[a],c&&(f.d+=1<<a/4-1),d=Math.pow(2,h)-1,e=0)),!f){for(d={32:127,64:1023}[a],e=Math.abs(b);e>=2;)d++,e/=2;for(;e<1&&d>0;)d--,e*=2;d<=0&&(e/=2),32===a&&d>254&&(f={d:c?255:127,c:128,b:0,a:0},d=Math.pow(2,h)-1,e=0)}return d}function nd(){this.pt=0,this.level=0,this.interval=null;var a=arguments[0];this.computeKey(a)}function od(){jd.apply(this),this.interval=null,this.centre=null,this.level=null;var a=arguments[0],b=arguments[1];this.interval=a,this.level=b,this.centre=(a.getMin()+a.getMax())/2}function pd(){}function qd(){jd.apply(this)}function rd(){this.root=null,this.minExtent=1,this.root=new qd}function sd(){}function td(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new kd;var a=arguments[0];this.ring=a,this.buildIndex()}function ud(){id.apply(this),this.mcp=null,this.p=null;var a=arguments[0],b=arguments[1];this.mcp=a,this.p=b}function vd(){}function wd(){this.p0=null,this.p1=null,this.p2=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.p0=a,this.p1=b,this.p2=c}function xd(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var a=arguments[0];this.input=a}function yd(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new kb,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length){var a=arguments[0];yd.call(this,a,!1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.inputGeom=b,this.isConvex=c}}function zd(){this.inputGeom=null,this.distanceTolerance=null;var a=arguments[0];this.inputGeom=a}function Ad(){sb.apply(this),this.distanceTolerance=null;var a=arguments[0];this.distanceTolerance=a}function Bd(){this._orig=null,this._sym=null,this._next=null;var a=arguments[0];this._orig=a}function Cd(){this._isMarked=!1;var a=arguments[0];Bd.call(this,a)}function Dd(){this.vertexMap=new _a}function Ed(){this._isStart=!1;var a=arguments[0];Cd.call(this,a)}function Fd(){Dd.apply(this)}function Gd(){this.result=null,this.factory=null,this.graph=null,this.lines=new v,this.nodeEdgeStack=new ob,this.ringStartEdge=null,this.graph=new Fd}function Hd(){this.items=new v,this.subnode=new Array(4).fill(null)}function Id(){this.pt=new n,this.level=0,this.env=null;var a=arguments[0];this.computeKey(a)}function Jd(){Hd.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var a=arguments[0],b=arguments[1];this.env=a,this.level=b,this.centrex=(a.getMinX()+a.getMaxX())/2,this.centrey=(a.getMinY()+a.getMaxY())/2}function Kd(){Hd.apply(this)}function Ld(){this.root=null,this.minExtent=1,this.root=new Kd}function Md(a){this.geometryFactory=a||new cb}function Nd(a){this.geometryFactory=a||new cb,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Md(this.geometryFactory)}function Od(){this.parser=new Md(this.geometryFactory)}function Pd(a){this.geometryFactory=a||new cb,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new db(this.geometryFactory)}function Qd(a){return[a.x,a.y]}function Rd(a,b){this.geometryFactory=a||new cb,this.ol=b||"undefined"!=typeof ol&&ol}function Sd(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var a=arguments[0],b=arguments[1];Sd.call(this,a,b,0,0)}else if(4===arguments.length){var c=arguments[0],d=arguments[1];arguments[2],arguments[3],this.noder=c,this.scaleFactor=d,this.isScaled=!this.isIntegerPrecision()}}function Td(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var a=arguments[0];this.inputGeom=a}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.inputGeom=b,this.isClosedEndpointsInInterior=!c.isInBoundary(2)}}function Ud(){this.pt=null,this.isClosed=null,this.degree=null;var a=arguments[0];this.pt=a,this.isClosed=!1,this.degree=0}function Vd(){if(this.quadrantSegments=Vd.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=Vd.CAP_ROUND,this.joinStyle=Vd.JOIN_ROUND,this.mitreLimit=Vd.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=Vd.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.setQuadrantSegments(a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.setQuadrantSegments(b),this.setEndCapStyle(c)}else if(4===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3];this.setQuadrantSegments(d),this.setEndCapStyle(e),this.setJoinStyle(f),this.setMitreLimit(g)}}function Wd(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Xd(){this.array_=[]}function Yd(){this.finder=null,this.dirEdgeList=new v,this.nodes=new v,this.rightMostCoord=null,this.env=null,this.finder=new Wd}function Zd(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=jb.COUNTERCLOCKWISE;var a=arguments[0];this.inputLine=a}function $d(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new v}function _d(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new kb,this.seg1=new kb,this.offset0=new kb,this.offset1=new kb,this.side=0,this._hasNarrowConcaveAngle=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this.precisionModel=a,this.bufParams=b,this.li=new gb,this.filletAngleQuantum=Math.PI/2/b.getQuadrantSegments(),b.getQuadrantSegments()>=8&&b.getJoinStyle()===Vd.JOIN_ROUND&&(this.closingSegLengthFactor=_d.MAX_CLOSING_SEG_LEN_FACTOR),this.init(c)}function ae(){this.distance=0,this.precisionModel=null,this.bufParams=null;var a=arguments[0],b=arguments[1];this.precisionModel=a,this.bufParams=b}function be(){this.subgraphs=null,this.seg=new kb,this.cga=new jb;var a=arguments[0];this.subgraphs=a}function ce(){this.upwardSeg=null,this.leftDepth=null;var a=arguments[0],b=arguments[1];this.upwardSeg=new kb(a),this.leftDepth=b}function de(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new v;var a=arguments[0],b=arguments[1],c=arguments[2];this.inputGeom=a,this.distance=b,this.curveBuilder=c}function ee(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var a=arguments[0];this.li=a}function fe(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new ad;var a=arguments[0];this.bufParams=a}function ge(){this.li=new gb,this.segStrings=null;var a=arguments[0];this.segStrings=a}function he(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var a=arguments[0],b=arguments[1],c=arguments[2];if(this.originalPt=a,this.pt=a,this.scaleFactor=b,this.li=c,b<=0)throw new d("Scale factor must be non-zero");1!==b&&(this.pt=new n(this.scale(a.x),this.scale(a.y)),this.p0Scaled=new n,this.p1Scaled=new n),this.initCorners(this.pt)}function ie(){this.index=null;var a=arguments[0];this.index=a}function je(){id.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this.hotPixel=a,this.parentEdge=b,this.hotPixelVertexIndex=c}function ke(){this.li=null,this.interiorIntersections=null;var a=arguments[0];this.li=a,this.interiorIntersections=new v}function le(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var a=arguments[0];this.pm=a,this.li=new gb,this.li.setPrecisionModel(a),this.scaleFactor=a.getScale()}function me(){if(this.argGeom=null,this.distance=null,this.bufParams=new Vd,this.resultGeometry=null,this.saveException=null,1===arguments.length){var a=arguments[0];this.argGeom=a}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.argGeom=b,this.bufParams=c}}function ne(){this.comps=null;var a=arguments[0];this.comps=a}function oe(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var a=arguments[0],b=arguments[1];oe.call(this,a,oe.INSIDE_AREA,b)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.component=c,this.segIndex=d,this.pt=e}}function pe(){this.pts=null;var a=arguments[0];this.pts=a}function qe(){this.locations=null;var a=arguments[0];this.locations=a}function re(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new Bb,this.minDistanceLocation=null,this.minDistance=e.MAX_VALUE,2===arguments.length){var a=arguments[0],b=arguments[1];re.call(this,a,b,0)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],f=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=c,this.geom[1]=d,this.terminateDistance=f}}function se(){this.factory=null,this.directedEdges=new v,this.coordinates=null;var a=arguments[0];this.factory=a}function te(){this._isMarked=!1,this._isVisited=!1,this.data=null}function ue(){te.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.from=a,this.to=b,this.edgeDirection=d,this.p0=a.getCoordinate(),this.p1=c;var e=this.p1.x-this.p0.x,f=this.p1.y-this.p0.y;this.quadrant=Zb.quadrant(e,f),this.angle=Math.atan2(f,e)}function ve(){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];ue.call(this,a,b,c,d)}function we(){if(te.apply(this),this.dirEdge=null,0===arguments.length);else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.setDirectedEdges(a,b)}}function xe(){this.outEdges=new v,this.sorted=!1}function ye(){if(te.apply(this),this.pt=null,this.deStar=null,1===arguments.length){var a=arguments[0];ye.call(this,a,new xe)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.pt=b,this.deStar=c}}function ze(){we.apply(this),this.line=null;var a=arguments[0];this.line=a}function Ae(){this.nodeMap=new ea}function Be(){this.edges=new $,this.dirEdges=new $,this.nodeMap=new Ae}function Ce(){Be.apply(this)}function De(){this.graph=new Ce,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function Ee(){this.edgeRing=null,this.next=null,this.label=-1;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];ue.call(this,a,b,c,d)}function Fe(){we.apply(this),this.line=null;var a=arguments[0];this.line=a}function Ge(){this.geometryFactory=new cb,this.geomGraph=null,this.disconnectedRingcoord=null;var a=arguments[0];this.geomGraph=a}function He(){}function Ie(){if(this.edgeEnds=new v,1===arguments.length){var a=arguments[0];Ie.call(this,null,a)}else if(2===arguments.length){var b=(arguments[0],arguments[1]);sc.call(this,b.getEdge(),b.getCoordinate(),b.getDirectedCoordinate(),new lc(b.getLabel())),this.insert(b)}}function Je(){Bc.apply(this)}function Ke(){var a=arguments[0],b=arguments[1];qc.call(this,a,b)}function Le(){
uc.apply(this)}function Me(){this.nodes=new rc(new Le)}function Ne(){this.li=new gb,this.geomGraph=null,this.nodeGraph=new Me,this.invalidPoint=null;var a=arguments[0];this.geomGraph=a}function Oe(){this.graph=null,this.rings=new v,this.totalEnv=new x,this.index=null,this.nestedPt=null;var a=arguments[0];this.graph=a}function Pe(){if(this.errorType=null,this.pt=null,1===arguments.length){var a=arguments[0];Pe.call(this,a,null)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.errorType=b,null!==c&&(this.pt=c.copy())}}function Qe(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var a=arguments[0];this.parentGeometry=a}function Re(){this.factory=null,this.deList=new v,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var a=arguments[0];this.factory=a}function Se(){}function Te(){Be.apply(this),this.factory=null;var a=arguments[0];this.factory=a}function Ue(){if(this.lineStringAdder=new Ve(this),this.graph=null,this.dangles=new v,this.cutEdges=new v,this.invalidRingLines=new v,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length)Ue.call(this,!1);else if(1===arguments.length){var a=arguments[0];this.extractOnlyPolygonal=a}}function Ve(){this.p=null;var a=arguments[0];this.p=a}function We(){this.li=new gb,this.ptLocator=new Bb,this.arg=null,this.nodes=new rc(new Le),this.im=null,this.isolatedEdges=new v,this.invalidPoint=null;var a=arguments[0];this.arg=a}function Xe(){this.rectEnv=null;var a=arguments[0];this.rectEnv=a.getEnvelopeInternal()}function Ye(){this.li=new gb,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var a=arguments[0];this.rectEnv=a,this.diagUp0=new n(a.getMinX(),a.getMinY()),this.diagUp1=new n(a.getMaxX(),a.getMaxY()),this.diagDown0=new n(a.getMinX(),a.getMaxY()),this.diagDown1=new n(a.getMaxX(),a.getMinY())}function Ze(){this._isDone=!1}function $e(){this.rectangle=null,this.rectEnv=null;var a=arguments[0];this.rectangle=a,this.rectEnv=a.getEnvelopeInternal()}function _e(){Ze.apply(this),this.rectEnv=null,this._intersects=!1;var a=arguments[0];this.rectEnv=a}function af(){Ze.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var a=arguments[0];this.rectSeq=a.getExteriorRing().getCoordinateSequence(),this.rectEnv=a.getEnvelopeInternal()}function bf(){Ze.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new n,this.p1=new n;var a=arguments[0];this.rectEnv=a.getEnvelopeInternal(),this.rectIntersector=new Ye(this.rectEnv)}function cf(){if(this._relate=null,2===arguments.length){var a=arguments[0],b=arguments[1];$c.call(this,a,b),this._relate=new We(this.arg)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];$c.call(this,c,d,e),this._relate=new We(this.arg)}}function df(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var a=arguments[0];this.geomFactory=df.extractFactory(a),this.inputGeoms=a}function ef(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var a=arguments[0],b=arguments[1];this.pointGeom=a,this.otherGeom=b,this.geomFact=b.getFactory()}function ff(){this.sortIndex=-1,this.comps=null;var a=arguments[0],b=arguments[1];this.sortIndex=a,this.comps=b}function gf(){this.inputPolys=null,this.geomFactory=null;var a=arguments[0];this.inputPolys=a,null===this.inputPolys&&(this.inputPolys=new v)}function hf(){if(this.polygons=new v,this.lines=new v,this.points=new v,this.geomFact=null,1===arguments.length){if(B(arguments[0],q)){var a=arguments[0];this.extract(a)}else if(arguments[0]instanceof N){var b=arguments[0];this.extract(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.geomFact=d,this.extract(c)}}function jf(){Ga.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var a=arguments[0],b=arguments[1];this.targetPM=a,this.removeCollapsed=b}function kf(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var a=arguments[0];this.targetPM=a}function lf(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new kb;var a=arguments[0];this.pts=a}function mf(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var a=arguments[0];this.inputGeom=a}function nf(){sb.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var a=arguments[0],b=arguments[1];this.isEnsureValidTopology=a,this.distanceTolerance=b}function of(){if(this.parent=null,this.index=null,2===arguments.length){var a=arguments[0],b=arguments[1];of.call(this,a,b,null,-1)}else if(4===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2],f=arguments[3];kb.call(this,c,d),this.parent=e,this.index=f}}function pf(){if(this.parentLine=null,this.segs=null,this.resultSegs=new v,this.minimumSize=null,1===arguments.length){var a=arguments[0];pf.call(this,a,2)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.parentLine=b,this.minimumSize=c,this.init()}}function qf(){this.index=new Ld}function rf(){this.querySeg=null,this.items=new v;var a=arguments[0];this.querySeg=a}function sf(){this.li=new gb,this.inputIndex=new qf,this.outputIndex=new qf,this.line=null,this.linePts=null,this.distanceTolerance=0;var a=arguments[0],b=arguments[1];this.inputIndex=a,this.outputIndex=b}function tf(){this.inputIndex=new qf,this.outputIndex=new qf,this.distanceTolerance=0}function uf(){this.inputGeom=null,this.lineSimplifier=new tf,this.linestringMap=null;var a=arguments[0];this.inputGeom=a}function vf(){sb.apply(this),this.linestringMap=null;var a=arguments[0];this.linestringMap=a}function wf(){this.tps=null;var a=arguments[0];this.tps=a}function xf(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var a=arguments[0];this.seg=a,this.segLen=a.getLength()}function yf(){}function zf(){}function Af(){}function Bf(){if(this.p=null,1===arguments.length){var a=arguments[0];this.p=new n(a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.p=new n(b,c)}else if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];this.p=new n(d,e,f)}}function Cf(){this._isOnConstraint=null,this.constraint=null;var a=arguments[0];Bf.call(this,a)}function Df(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function Ef(){this.subdiv=null,this.isUsingTolerance=!1;var a=arguments[0];this.subdiv=a,this.isUsingTolerance=a.getTolerance()>0}function Ff(){}function Gf(){this.subdiv=null,this.lastEdge=null;var a=arguments[0];this.subdiv=a,this.init()}function Hf(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0]){var a=arguments[0];j.call(this,a)}else if(arguments[0]instanceof kb){var b=arguments[0];j.call(this,"Locate failed to converge (at edge: "+b+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new kb(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];j.call(this,Hf.msgWithSpatial(c,d)),this.seg=new kb(d)}}function If(){}function Jf(){this.visitedKey=0,this.quadEdges=new v,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new kb,this.triEdges=new Array(3).fill(null);var a=arguments[0],b=arguments[1];this.tolerance=b,this.edgeCoincidenceTolerance=b/Jf.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(a),this.startingEdge=this.initSubdiv(),this.locator=new Gf(this)}function Kf(){}function Lf(){this.triList=new v}function Mf(){this.triList=new v}function Nf(){this.coordList=new w,this.triCoords=new v}function Of(){if(this.ls=null,this.data=null,2===arguments.length){var a=arguments[0],b=arguments[1];this.ls=new kb(a,b)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.ls=new kb(c,d),this.data=e}else if(6===arguments.length){var f=arguments[0],g=arguments[1],h=arguments[2],i=arguments[3],j=arguments[4],k=arguments[5];Of.call(this,new n(f,g,h),new n(i,j,k))}else if(7===arguments.length){var l=arguments[0],m=arguments[1],o=arguments[2],p=arguments[3],q=arguments[4],r=arguments[5],s=arguments[6];Of.call(this,new n(l,m,o),new n(p,q,r),s)}}function Pf(){}function Qf(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var a=arguments[0],b=arguments[1];this.p=new n(a),this.left=null,this.right=null,this.count=1,this.data=b}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.p=new n(c,d),this.left=null,this.right=null,this.count=1,this.data=e}}function Rf(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length)Rf.call(this,0);else if(1===arguments.length){var a=arguments[0];this.tolerance=a}}function Sf(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var a=arguments[0],b=arguments[1];this.p=a,this.tolerance=b}function Tf(){this.initialVertices=null,this.segVertices=null,this.segments=new v,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new zf,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var a=arguments[0],b=arguments[1];this.initialVertices=new v(a),this.tolerance=b,this.kdt=new Rf(b)}function Uf(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function Vf(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new ea}function Wf(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Xf(){}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(a){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var b=Object(this),c=Math.max(Math.min(b.length,9007199254740991),0)||0,d=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;d=d<0?Math.max(c+d,0):Math.min(d,c);var e=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:c;for(e=e<0?Math.max(c+arguments[2],0):Math.min(e,c);d<e;)b[d]=a,++d;return b},writable:!0}),Number.isFinite=Number.isFinite||function(a){return"number"==typeof a&&isFinite(a)},Number.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(a){return a!==a},Math.trunc=Math.trunc||function(a){return a<0?Math.ceil(a):Math.floor(a)},b(c.prototype,{interfaces_:function(){return[]},getClass:function(){return c}}),c.equalsWithTolerance=function(a,b,c){return Math.abs(a-b)<=c},e.isNaN=function(a){return Number.isNaN(a)},e.doubleToLongBits=function(a){return a},e.longBitsToDouble=function(a){return a},e.isInfinite=function(a){return!Number.isFinite(a)},e.MAX_VALUE=Number.MAX_VALUE,j.prototype=Object.create(Error.prototype),j.prototype.constructor=Error,k(l,j),b(l.prototype,{interfaces_:function(){return[]},getClass:function(){return l}}),b(m.prototype,{interfaces_:function(){return[]},getClass:function(){return m}}),m.shouldNeverReachHere=function(){if(0===arguments.length)m.shouldNeverReachHere(null);else if(1===arguments.length){var a=arguments[0];throw new l("Should never reach here"+(null!==a?": "+a:""))}},m.isTrue=function(){if(1===arguments.length){var a=arguments[0];m.isTrue(a,null)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];if(!b)throw null===c?new l:new l(c)}},m.equals=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];m.equals(a,b,null)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];if(!d.equals(c))throw new l("Expected "+c+" but encountered "+d+(null!==e?": "+e:""))}},b(n.prototype,{setOrdinate:function(a,b){switch(a){case n.X:this.x=b;break;case n.Y:this.y=b;break;case n.Z:this.z=b;break;default:throw new d("Invalid ordinate index: "+a)}},equals2D:function(){if(1===arguments.length){var a=arguments[0];return this.x===a.x&&this.y===a.y}if(2===arguments.length){var b=arguments[0],d=arguments[1];return!!c.equalsWithTolerance(this.x,b.x,d)&&!!c.equalsWithTolerance(this.y,b.y,d)}},getOrdinate:function(a){switch(a){case n.X:return this.x;case n.Y:return this.y;case n.Z:return this.z}throw new d("Invalid ordinate index: "+a)},equals3D:function(a){return this.x===a.x&&this.y===a.y&&(this.z===a.z||e.isNaN(this.z)&&e.isNaN(a.z))},equals:function(a){return a instanceof n&&this.equals2D(a)},equalInZ:function(a,b){return c.equalsWithTolerance(this.z,a.z,b)},compareTo:function(a){var b=a;return this.x<b.x?-1:this.x>b.x?1:this.y<b.y?-1:this.y>b.y?1:0},clone:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return m.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw a}},copy:function(){return new n(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(a){var b=this.x-a.x,c=this.y-a.y,d=this.z-a.z;return Math.sqrt(b*b+c*c+d*d)},distance:function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},hashCode:function(){var a=17;return a=37*a+n.hashCode(this.x),a=37*a+n.hashCode(this.y)},setCoordinate:function(a){this.x=a.x,this.y=a.y,this.z=a.z},interfaces_:function(){return[f,g,i]},getClass:function(){return n}}),n.hashCode=function(){if(1===arguments.length){var a=arguments[0],b=e.doubleToLongBits(a);return Math.trunc(b^b>>>32)}},b(o.prototype,{compare:function(a,b){var c=a,d=b,e=o.compare(c.x,d.x);if(0!==e)return e;var f=o.compare(c.y,d.y);return 0!==f?f:this.dimensionsToTest<=2?0:o.compare(c.z,d.z)},interfaces_:function(){return[h]},getClass:function(){return o}}),o.compare=function(a,b){return a<b?-1:a>b?1:e.isNaN(a)?e.isNaN(b)?0:-1:e.isNaN(b)?1:0},n.DimensionalComparator=o,n.serialVersionUID=0x5cbf2c235c7e5800,n.NULL_ORDINATE=e.NaN,n.X=0,n.Y=1,n.Z=2,p.prototype.hasNext=function(){},p.prototype.next=function(){},p.prototype.remove=function(){},q.prototype.add=function(){},q.prototype.addAll=function(){},q.prototype.isEmpty=function(){},q.prototype.iterator=function(){},q.prototype.size=function(){},q.prototype.toArray=function(){},q.prototype.remove=function(){},r.prototype=new Error,r.prototype.name="IndexOutOfBoundsException",s.prototype=Object.create(q.prototype),s.prototype.constructor=s,s.prototype.get=function(){},s.prototype.set=function(){},s.prototype.isEmpty=function(){},t.prototype=new Error,t.prototype.name="NoSuchElementException",u.prototype=new Error,u.prototype.name="OperationNotSupported",v.prototype=Object.create(s.prototype),v.prototype.constructor=v,v.prototype.ensureCapacity=function(){},v.prototype.interfaces_=function(){return[s,q]},v.prototype.add=function(a){return 1===arguments.length?this.array_.push(a):this.array_.splice(arguments[0],arguments[1]),!0},v.prototype.clear=function(){this.array_=[]},v.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},v.prototype.set=function(a,b){var c=this.array_[a];return this.array_[a]=b,c},v.prototype.iterator=function(){return new Yf(this)},v.prototype.get=function(a){if(a<0||a>=this.size())throw new r;return this.array_[a]},v.prototype.isEmpty=function(){return 0===this.array_.length},v.prototype.size=function(){return this.array_.length},v.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},v.prototype.remove=function(a){for(var b=!1,c=0,d=this.array_.length;c<d;c++)if(this.array_[c]===a){this.array_.splice(c,1),b=!0;break}return b};var Yf=function(a){this.arrayList_=a,this.position_=0};Yf.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new t;return this.arrayList_.get(this.position_++)},Yf.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Yf.prototype.set=function(a){return this.arrayList_.set(this.position_-1,a)},Yf.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},k(w,v),b(w.prototype,{getCoordinate:function(a){return this.get(a)},addAll:function(){if(2===arguments.length){for(var a=arguments[0],b=arguments[1],c=!1,d=a.iterator();d.hasNext();)this.add(d.next(),b),c=!0;return c}return v.prototype.addAll.apply(this,arguments)},clone:function(){for(var a=v.prototype.clone.call(this),b=0;b<this.size();b++)a.add(b,this.get(b).copy());return a},toCoordinateArray:function(){return this.toArray(w.coordArrayType)},add:function(){if(1===arguments.length){var a=arguments[0];v.prototype.add.call(this,a)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var b=arguments[0],c=arguments[1];return this.add(b,c,!0),!0}if(arguments[0]instanceof n&&"boolean"==typeof arguments[1]){var d=arguments[0],e=arguments[1];if(!e&&this.size()>=1){var f=this.get(this.size()-1);if(f.equals2D(d))return null}v.prototype.add.call(this,d)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var g=arguments[0],h=arguments[1];return this.add(g,h),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var i=arguments[0],j=arguments[1],k=arguments[2];if(k)for(var l=0;l<i.length;l++)this.add(i[l],j);else for(var l=i.length-1;l>=0;l--)this.add(i[l],j);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof n){var m=arguments[0],o=arguments[1],p=arguments[2];if(!p){var q=this.size();if(q>0){if(m>0){var r=this.get(m-1);if(r.equals2D(o))return null}if(m<q){var s=this.get(m);if(s.equals2D(o))return null}}}v.prototype.add.call(this,m,o)}}else if(4===arguments.length){var t=arguments[0],u=arguments[1],w=arguments[2],x=arguments[3],y=1;w>x&&(y=-1);for(var l=w;l!==x;l+=y)this.add(t[l],u);return!0}},closeRing:function(){this.size()>0&&this.add(new n(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return w}}),w.coordArrayType=new Array(0).fill(null),b(x.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(a){if(!(a instanceof x))return!1;var b=a;return this.isNull()?b.isNull():this.maxx===b.getMaxX()&&this.maxy===b.getMaxY()&&this.minx===b.getMinX()&&this.miny===b.getMinY()},intersection:function(a){if(this.isNull()||a.isNull()||!this.intersects(a))return new x;var b=this.minx>a.minx?this.minx:a.minx,c=this.miny>a.miny?this.miny:a.miny;return new x(b,this.maxx<a.maxx?this.maxx:a.maxx,c,this.maxy<a.maxy?this.maxy:a.maxy)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof n){var a=arguments[0];return this.covers(a.x,a.y)}if(arguments[0]instanceof x){var b=arguments[0];return!this.isNull()&&!b.isNull()&&b.getMinX()>=this.minx&&b.getMaxX()<=this.maxx&&b.getMinY()>=this.miny&&b.getMaxY()<=this.maxy}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return!this.isNull()&&c>=this.minx&&c<=this.maxx&&d>=this.miny&&d<=this.maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof x){var a=arguments[0];return!this.isNull()&&!a.isNull()&&!(a.minx>this.maxx||a.maxx<this.minx||a.miny>this.maxy||a.maxy<this.miny)}if(arguments[0]instanceof n){var b=arguments[0];return this.intersects(b.x,b.y)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return!this.isNull()&&!(c>this.maxx||c<this.minx||d>this.maxy||d<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof n){var a=arguments[0];this.expandToInclude(a.x,a.y)}else if(arguments[0]instanceof x){var b=arguments[0];if(b.isNull())return null;this.isNull()?(this.minx=b.getMinX(),this.maxx=b.getMaxX(),this.miny=b.getMinY(),this.maxy=b.getMaxY()):(b.minx<this.minx&&(this.minx=b.minx),b.maxx>this.maxx&&(this.maxx=b.maxx),b.miny<this.miny&&(this.miny=b.miny),b.maxy>this.maxy&&(this.maxy=b.maxy))}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.isNull()?(this.minx=c,this.maxx=c,this.miny=d,this.maxy=d):(c<this.minx&&(this.minx=c),c>this.maxx&&(this.maxx=c),d<this.miny&&(this.miny=d),d>this.maxy&&(this.maxy=d))}},minExtent:function(){if(this.isNull())return 0;var a=this.getWidth(),b=this.getHeight();return a<b?a:b},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(a){var b=a;return this.isNull()?b.isNull()?0:-1:b.isNull()?1:this.minx<b.minx?-1:this.minx>b.minx?1:this.miny<b.miny?-1:this.miny>b.miny?1:this.maxx<b.maxx?-1:this.maxx>b.maxx?1:this.maxy<b.maxy?-1:this.maxy>b.maxy?1:0},translate:function(a,b){return this.isNull()?null:void this.init(this.getMinX()+a,this.getMaxX()+a,this.getMinY()+b,this.getMaxY()+b)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var a=this.getWidth(),b=this.getHeight();return a>b?a:b},expandBy:function(){if(1===arguments.length){var a=arguments[0];this.expandBy(a,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];if(this.isNull())return null;this.minx-=b,this.maxx+=b,this.miny-=c,this.maxy+=c,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof x){var a=arguments[0];return this.covers(a)}if(arguments[0]instanceof n){var b=arguments[0];return this.covers(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return this.covers(c,d)}},centre:function(){return this.isNull()?null:new n((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof n){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof x){var b=arguments[0];this.minx=b.minx,this.maxx=b.maxx,this.miny=b.miny,this.maxy=b.maxy}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.init(c.x,d.x,c.y,d.y)}else if(4===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3];e<f?(this.minx=e,this.maxx=f):(this.minx=f,this.maxx=e),g<h?(this.miny=g,this.maxy=h):(this.miny=h,this.maxy=g)}},getMaxY:function(){return this.maxy},distance:function(a){if(this.intersects(a))return 0;var b=0;this.maxx<a.minx?b=a.minx-this.maxx:this.minx>a.maxx&&(b=this.minx-a.maxx);var c=0;return this.maxy<a.miny?c=a.miny-this.maxy:this.miny>a.maxy&&(c=this.miny-a.maxy),0===b?c:0===c?b:Math.sqrt(b*b+c*c)},hashCode:function(){var a=17;return a=37*a+n.hashCode(this.minx),a=37*a+n.hashCode(this.maxx),a=37*a+n.hashCode(this.miny),a=37*a+n.hashCode(this.maxy)},interfaces_:function(){return[f,i]},getClass:function(){return x}}),x.intersects=function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];return c.x>=(a.x<b.x?a.x:b.x)&&c.x<=(a.x>b.x?a.x:b.x)&&c.y>=(a.y<b.y?a.y:b.y)&&c.y<=(a.y>b.y?a.y:b.y)}if(4===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3],h=Math.min(f.x,g.x),i=Math.max(f.x,g.x),j=Math.min(d.x,e.x),k=Math.max(d.x,e.x);return!(j>i||k<h||(h=Math.min(f.y,g.y),i=Math.max(f.y,g.y),j=Math.min(d.y,e.y),k=Math.max(d.y,e.y),j>i||k<h))}},x.serialVersionUID=0x51845cd552189800,k(z,y),b(z.prototype,{interfaces_:function(){return[]},getClass:function(){return z}}),b(A.prototype,{interfaces_:function(){return[]},getClass:function(){return A}}),A.toLocationSymbol=function(a){switch(a){case A.EXTERIOR:return"e";case A.BOUNDARY:return"b";case A.INTERIOR:return"i";case A.NONE:return"-"}throw new d("Unknown location value: "+a)},A.INTERIOR=0,A.BOUNDARY=1,A.EXTERIOR=2,A.NONE=-1,b(C.prototype,{interfaces_:function(){return[]},getClass:function(){return C}}),C.log10=function(a){var b=Math.log(a);return e.isInfinite(b)?b:e.isNaN(b)?b:b/C.LOG_10},C.min=function(a,b,c,d){var e=a;return b<e&&(e=b),c<e&&(e=c),d<e&&(e=d),e},C.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1],c=arguments[2];return a<b?b:a>c?c:a}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var d=arguments[0],e=arguments[1],f=arguments[2];return d<e?e:d>f?f:d}},C.wrap=function(a,b){return a<0?b- -a%b:a%b},C.max=function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=a;return b>d&&(d=b),c>d&&(d=c),d}if(4===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3],d=e;return f>d&&(d=f),g>d&&(d=g),h>d&&(d=h),d}},C.average=function(a,b){return(a+b)/2},C.LOG_10=Math.log(10),D.prototype.append=function(a){this.str+=a},D.prototype.setCharAt=function(a,b){this.str=this.str.substr(0,a)+b+this.str.substr(a+1)},D.prototype.toString=function(a){return this.str},E.prototype.intValue=function(){return this.value},E.prototype.compareTo=function(a){return this.value<a?-1:this.value>a?1:0},E.isNaN=function(a){return Number.isNaN(a)},F.isWhitespace=function(a){return a<=32&&a>=0||127==a},F.toUpperCase=function(a){return a.toUpperCase()},b(G.prototype,{le:function(a){return this.hi<a.hi||this.hi===a.hi&&this.lo<=a.lo},extractSignificantDigits:function(a,b){var c=this.abs(),d=G.magnitude(c.hi),e=G.TEN.pow(d);c=c.divide(e),c.gt(G.TEN)?(c=c.divide(G.TEN),d+=1):c.lt(G.ONE)&&(c=c.multiply(G.TEN),d-=1);for(var f=d+1,g=new D,h=G.MAX_PRINT_DIGITS-1,i=0;i<=h;i++){a&&i===f&&g.append(".");var j=Math.trunc(c.hi);if(j<0)break;var k=!1,l=0;j>9?(k=!0,l="9"):l="0"+j,g.append(l),c=c.subtract(G.valueOf(j)).multiply(G.TEN),k&&c.selfAdd(G.TEN);var m=!0,n=G.magnitude(c.hi);if(n<0&&Math.abs(n)>=h-i&&(m=!1),!m)break}return b[0]=d,g.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof G){var a=arguments[0];return this.add(a.negate())}if("number"==typeof arguments[0]){var b=arguments[0];return this.add(-b)}},equals:function(){if(1===arguments.length){var a=arguments[0];return this.hi===a.hi&&this.lo===a.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof G){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a.hi,-a.lo)}if("number"==typeof arguments[0]){var b=arguments[0];return this.isNaN()?this:this.selfAdd(-b,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(a){return this.le(a)?this:a},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof G){var a=arguments[0];return this.selfDivide(a.hi,a.lo)}if("number"==typeof arguments[0]){var b=arguments[0];return this.selfDivide(b,0)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1],e=null,f=null,g=null,h=null,i=null,j=null,k=null,l=null;return i=this.hi/c,j=G.SPLIT*i,e=j-i,l=G.SPLIT*c,e=j-e,f=i-e,g=l-c,k=i*c,g=l-g,h=c-g,l=e*g-k+e*h+f*g+f*h,j=(this.hi-k-l+this.lo-i*d)/c,l=i+j,this.hi=l,this.lo=i-l+j,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof G){var a=arguments[0],b=null,c=null,d=null,f=null,g=null,h=null,i=null,j=null;return g=this.hi/a.hi,h=G.SPLIT*g,b=h-g,j=G.SPLIT*a.hi,b=h-b,c=g-b,d=j-a.hi,i=g*a.hi,d=j-d,f=a.hi-d,j=b*d-i+b*f+c*d+c*f,h=(this.hi-i-j+this.lo-g*a.lo)/a.hi,j=g+h,new G(j,g-j+h)}if("number"==typeof arguments[0]){var k=arguments[0];return e.isNaN(k)?G.createNaN():G.copy(this).selfDivide(k,0)}},ge:function(a){return this.hi>a.hi||this.hi===a.hi&&this.lo>=a.lo},pow:function(a){if(0===a)return G.valueOf(1);var b=new G(this),c=G.valueOf(1),d=Math.abs(a);if(d>1)for(;d>0;)d%2==1&&c.selfMultiply(b),(d/=2)>0&&(b=b.sqr());else c=b;return a<0?c.reciprocal():c},ceil:function(){if(this.isNaN())return G.NaN;var a=Math.ceil(this.hi),b=0;return a===this.hi&&(b=Math.ceil(this.lo)),new G(a,b)},compareTo:function(a){var b=a;return this.hi<b.hi?-1:this.hi>b.hi?1:this.lo<b.lo?-1:this.lo>b.lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof G){var a=arguments[0];return this.init(a),this}if("number"==typeof arguments[0]){var b=arguments[0];return this.init(b),this}},max:function(a){return this.ge(a)?this:a},sqrt:function(){if(this.isZero())return G.valueOf(0);if(this.isNegative())return G.NaN;var a=1/Math.sqrt(this.hi),b=this.hi*a,c=G.valueOf(b),d=this.subtract(c.sqr()),e=d.hi*(.5*a);return c.add(e)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof G){var a=arguments[0];return this.selfAdd(a.hi,a.lo)}if("number"==typeof arguments[0]){var b=arguments[0],c=null,d=null,e=null,f=null,g=null,h=null;return e=this.hi+b,g=e-this.hi,f=e-g,f=b-g+(this.hi-f),h=f+this.lo,c=e+h,d=h+(e-c),this.hi=c+d,this.lo=d+(c-this.hi),this}}else if(2===arguments.length){var i=arguments[0],j=arguments[1],c=null,d=null,k=null,l=null,e=null,f=null,g=null,h=null;e=this.hi+i,k=this.lo+j,g=e-this.hi,h=k-this.lo,f=e-g,l=k-h,f=i-g+(this.hi-f),l=j-h+(this.lo-l),g=f+k,c=e+g,d=g+(e-c),g=l+d;var m=c+g,n=g+(c-m);return this.hi=m,this.lo=n,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof G){var a=arguments[0];return this.selfMultiply(a.hi,a.lo)}if("number"==typeof arguments[0]){var b=arguments[0];return this.selfMultiply(b,0)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1],e=null,f=null,g=null,h=null,i=null,j=null;i=G.SPLIT*this.hi,e=i-this.hi,j=G.SPLIT*c,e=i-e,f=this.hi-e,g=j-c,i=this.hi*c,g=j-g,h=c-g,j=e*g-i+e*h+f*g+f*h+(this.hi*d+this.lo*c);var k=i+j;e=i-k;var l=j+e;return this.hi=k,this.lo=l,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return G.NaN;var a=Math.floor(this.hi),b=0;return a===this.hi&&(b=Math.floor(this.lo)),new G(a,b)},negate:function(){return this.isNaN()?this:new G(-this.hi,-this.lo)},clone:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return null;throw a}},multiply:function(){if(arguments[0]instanceof G){var a=arguments[0];return a.isNaN()?G.createNaN():G.copy(this).selfMultiply(a)}if("number"==typeof arguments[0]){var b=arguments[0];return e.isNaN(b)?G.createNaN():G.copy(this).selfMultiply(b,0)}},isNaN:function(){return e.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var a=G.magnitude(this.hi);return a>=-3&&a<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var a=this.getSpecialNumberString();if(null!==a)return a;var b=new Array(1).fill(null),c=this.extractSignificantDigits(!0,b),d=b[0]+1,e=c;if("."===c.charAt(0))e="0"+c;else if(d<0)e="0."+G.stringOfChar("0",-d)+c;else if(-1===c.indexOf(".")){var f=d-c.length,g=G.stringOfChar("0",f);e=c+g+".0"}return this.isNegative()?"-"+e:e},reciprocal:function(){var a=null,b=null,c=null,d=null,e=null,f=null,g=null,h=null;e=1/this.hi,f=G.SPLIT*e,a=f-e,h=G.SPLIT*this.hi,a=f-a,b=e-a,c=h-this.hi,g=e*this.hi,c=h-c,d=this.hi-c,h=a*c-g+a*d+b*c+b*d,f=(1-g-h-e*this.lo)/this.hi;var i=e+f;return new G(i,e-i+f)},toSciNotation:function(){if(this.isZero())return G.SCI_NOT_ZERO;var a=this.getSpecialNumberString();if(null!==a)return a;var b=new Array(1).fill(null),c=this.extractSignificantDigits(!1,b),d=G.SCI_NOT_EXPONENT_CHAR+b[0];if("0"===c.charAt(0))throw new IllegalStateException("Found leading zero: "+c);var e="";c.length>1&&(e=c.substring(1));var f=c.charAt(0)+"."+e;return this.isNegative()?"-"+f+d:f+d},abs:function(){return this.isNaN()?G.NaN:this.isNegative()?this.negate():new G(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(a){return this.hi<a.hi||this.hi===a.hi&&this.lo<a.lo},add:function(){if(arguments[0]instanceof G){var a=arguments[0];return G.copy(this).selfAdd(a)}if("number"==typeof arguments[0]){
var b=arguments[0];return G.copy(this).selfAdd(b)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];this.hi=a,this.lo=0}else if(arguments[0]instanceof G){var b=arguments[0];this.hi=b.hi,this.lo=b.lo}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.hi=c,this.lo=d}},gt:function(a){return this.hi>a.hi||this.hi===a.hi&&this.lo>a.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?G.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[i,f,g]},getClass:function(){return G}}),G.sqr=function(a){return G.valueOf(a).selfMultiply(a)},G.valueOf=function(){if("string"==typeof arguments[0]){var a=arguments[0];return G.parse(a)}if("number"==typeof arguments[0])return new G(arguments[0])},G.sqrt=function(a){return G.valueOf(a).sqrt()},G.parse=function(a){for(var b=0,c=a.length;F.isWhitespace(a.charAt(b));)b++;var d=!1;if(b<c){var e=a.charAt(b);"-"!==e&&"+"!==e||(b++,"-"===e&&(d=!0))}for(var f=new G,g=0,h=0,i=0;!(b>=c);){var j=a.charAt(b);if(b++,F.isDigit(j)){var k=j-"0";f.selfMultiply(G.TEN),f.selfAdd(k),g++}else{if("."!==j){if("e"===j||"E"===j){var l=a.substring(b);try{i=E.parseInt(l)}catch(b){throw b instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+l+" in string "+a):b}break}throw new NumberFormatException("Unexpected character '"+j+"' at position "+b+" in string "+a)}h=g}}var m=f,n=g-h-i;if(0===n)m=f;else if(n>0){var o=G.TEN.pow(n);m=f.divide(o)}else if(n<0){var o=G.TEN.pow(-n);m=f.multiply(o)}return d?m.negate():m},G.createNaN=function(){return new G(e.NaN,e.NaN)},G.copy=function(a){return new G(a)},G.magnitude=function(a){var b=Math.abs(a),c=Math.log(b)/Math.log(10),d=Math.trunc(Math.floor(c));return 10*Math.pow(10,d)<=b&&(d+=1),d},G.stringOfChar=function(a,b){for(var c=new D,d=0;d<b;d++)c.append(a);return c.toString()},G.PI=new G(3.141592653589793,1.2246467991473532e-16),G.TWO_PI=new G(6.283185307179586,2.4492935982947064e-16),G.PI_2=new G(1.5707963267948966,6.123233995736766e-17),G.E=new G(2.718281828459045,1.4456468917292502e-16),G.NaN=new G(e.NaN,e.NaN),G.EPS=1.23259516440783e-32,G.SPLIT=134217729,G.MAX_PRINT_DIGITS=32,G.TEN=G.valueOf(10),G.ONE=G.valueOf(1),G.SCI_NOT_EXPONENT_CHAR="E",G.SCI_NOT_ZERO="0.0E0",b(H.prototype,{interfaces_:function(){return[]},getClass:function(){return H}}),H.orientationIndex=function(a,b,c){var d=H.orientationIndexFilter(a,b,c);if(d<=1)return d;var e=G.valueOf(b.x).selfAdd(-a.x),f=G.valueOf(b.y).selfAdd(-a.y),g=G.valueOf(c.x).selfAdd(-b.x),h=G.valueOf(c.y).selfAdd(-b.y);return e.selfMultiply(h).selfSubtract(f.selfMultiply(g)).signum()},H.signOfDet2x2=function(a,b,c,d){return a.multiply(d).selfSubtract(b.multiply(c)).signum()},H.intersection=function(a,b,c,d){var e=G.valueOf(d.y).selfSubtract(c.y).selfMultiply(G.valueOf(b.x).selfSubtract(a.x)),f=G.valueOf(d.x).selfSubtract(c.x).selfMultiply(G.valueOf(b.y).selfSubtract(a.y)),g=e.subtract(f),h=G.valueOf(d.x).selfSubtract(c.x).selfMultiply(G.valueOf(a.y).selfSubtract(c.y)),i=G.valueOf(d.y).selfSubtract(c.y).selfMultiply(G.valueOf(a.x).selfSubtract(c.x)),j=h.subtract(i),k=j.selfDivide(g).doubleValue(),l=G.valueOf(a.x).selfAdd(G.valueOf(b.x).selfSubtract(a.x).selfMultiply(k)).doubleValue(),m=G.valueOf(b.x).selfSubtract(a.x).selfMultiply(G.valueOf(a.y).selfSubtract(c.y)),o=G.valueOf(b.y).selfSubtract(a.y).selfMultiply(G.valueOf(a.x).selfSubtract(c.x)),p=m.subtract(o),q=p.selfDivide(g).doubleValue();return new n(l,G.valueOf(c.y).selfAdd(G.valueOf(d.y).selfSubtract(c.y).selfMultiply(q)).doubleValue())},H.orientationIndexFilter=function(a,b,c){var d=null,e=(a.x-c.x)*(b.y-c.y),f=(a.y-c.y)*(b.x-c.x),g=e-f;if(e>0){if(f<=0)return H.signum(g);d=e+f}else{if(!(e<0))return H.signum(g);if(f>=0)return H.signum(g);d=-e-f}var h=H.DP_SAFE_EPSILON*d;return g>=h||-g>=h?H.signum(g):2},H.signum=function(a){return a>0?1:a<0?-1:0},H.DP_SAFE_EPSILON=1e-15,b(I.prototype,{setOrdinate:function(a,b,c){},size:function(){},getOrdinate:function(a,b){},getCoordinate:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},getCoordinateCopy:function(a){},getDimension:function(){},getX:function(a){},clone:function(){},expandEnvelope:function(a){},copy:function(){},getY:function(a){},toCoordinateArray:function(){},interfaces_:function(){return[g]},getClass:function(){return I}}),I.X=0,I.Y=1,I.Z=2,I.M=3,J.arraycopy=function(a,b,c,d,e){for(var f=0,g=b;g<b+e;g++)c[d+f]=a[g],f++},J.getProperty=function(a){return{"line.separator":"\n"}[a]},b(K.prototype,{getY:function(){var a=this.y/this.w;if(e.isNaN(a)||e.isInfinite(a))throw new z;return a},getX:function(){var a=this.x/this.w;if(e.isNaN(a)||e.isInfinite(a))throw new z;return a},getCoordinate:function(){var a=new n;return a.x=this.getX(),a.y=this.getY(),a},interfaces_:function(){return[]},getClass:function(){return K}}),K.intersection=function(a,b,c,d){var f=a.y-b.y,g=b.x-a.x,h=a.x*b.y-b.x*a.y,i=c.y-d.y,j=d.x-c.x,k=c.x*d.y-d.x*c.y,l=g*k-j*h,m=i*h-f*k,o=f*j-i*g,p=l/o,q=m/o;if(e.isNaN(p)||e.isInfinite(p)||e.isNaN(q)||e.isInfinite(q))throw new z;return new n(p,q)},b(L.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array?arguments[0]:B(arguments[0],I)&&arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return L}}),b(M.prototype,{filter:function(a){},interfaces_:function(){return[]},getClass:function(){return M}}),b(N.prototype,{isGeometryCollection:function(){return this.getSortIndex()===N.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(a){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof N){var a=arguments[0];return null!==a&&this.equalsTopo(a)}if(arguments[0]instanceof Object){var b=arguments[0];if(!(b instanceof N))return!1;var c=b;return this.equalsExact(c)}}},equalsExact:function(a){return this===a||this.equalsExact(a,0)},geometryChanged:function(){this.apply(N.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(a){return null!==a&&this.norm().equalsExact(a.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var a=arguments[0],b=a;return this.getSortIndex()!==b.getSortIndex()?this.getSortIndex()-b.getSortIndex():this.isEmpty()&&b.isEmpty()?0:this.isEmpty()?-1:b.isEmpty()?1:this.compareToSameClass(a)}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=c;return this.getSortIndex()!==b.getSortIndex()?this.getSortIndex()-b.getSortIndex():this.isEmpty()&&b.isEmpty()?0:this.isEmpty()?-1:b.isEmpty()?1:this.compareToSameClass(c,d)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(a){if(a.getSortIndex()===N.SORTINDEX_GEOMETRYCOLLECTION)throw new d("This method does not support GeometryCollection arguments")},equal:function(a,b,c){return 0===c?a.equals(b):a.distance(b)<=c},norm:function(){var a=this.copy();return a.normalize(),a},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new x(this.envelope)},setSRID:function(a){this.SRID=a},setUserData:function(a){this.userData=a},compare:function(a,b){for(var c=a.iterator(),d=b.iterator();c.hasNext()&&d.hasNext();){var e=c.next(),f=d.next(),g=e.compareTo(f);if(0!==g)return g}return c.hasNext()?1:d.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===N.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===N.SORTINDEX_MULTIPOINT||this.getSortIndex()===N.SORTINDEX_MULTILINESTRING||this.getSortIndex()===N.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[g,f,i]},getClass:function(){return N}}),N.hasNonEmptyElements=function(a){for(var b=0;b<a.length;b++)if(!a[b].isEmpty())return!0;return!1},N.hasNullElements=function(a){for(var b=0;b<a.length;b++)if(null===a[b])return!0;return!1},N.serialVersionUID=0x799ea46522854c00,N.SORTINDEX_POINT=0,N.SORTINDEX_MULTIPOINT=1,N.SORTINDEX_LINESTRING=2,N.SORTINDEX_LINEARRING=3,N.SORTINDEX_MULTILINESTRING=4,N.SORTINDEX_POLYGON=5,N.SORTINDEX_MULTIPOLYGON=6,N.SORTINDEX_GEOMETRYCOLLECTION=7,N.geometryChangedFilter={interfaces_:function(){return[M]},filter:function(a){a.geometryChangedAction()}},b(O.prototype,{filter:function(a){},interfaces_:function(){return[]},getClass:function(){return O}}),b(P.prototype,{isInBoundary:function(a){},interfaces_:function(){return[]},getClass:function(){return P}}),b(Q.prototype,{isInBoundary:function(a){return a%2==1},interfaces_:function(){return[P]},getClass:function(){return Q}}),b(R.prototype,{isInBoundary:function(a){return a>0},interfaces_:function(){return[P]},getClass:function(){return R}}),b(S.prototype,{isInBoundary:function(a){return a>1},interfaces_:function(){return[P]},getClass:function(){return S}}),b(T.prototype,{isInBoundary:function(a){return 1===a},interfaces_:function(){return[P]},getClass:function(){return T}}),P.Mod2BoundaryNodeRule=Q,P.EndPointBoundaryNodeRule=R,P.MultiValentEndPointBoundaryNodeRule=S,P.MonoValentEndPointBoundaryNodeRule=T,P.MOD2_BOUNDARY_RULE=new Q,P.ENDPOINT_BOUNDARY_RULE=new R,P.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new S,P.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new T,P.OGC_SFS_BOUNDARY_RULE=P.MOD2_BOUNDARY_RULE,b(U.prototype,{interfaces_:function(){return[]},getClass:function(){return U}}),U.isRing=function(a){return!(a.length<4||!a[0].equals2D(a[a.length-1]))},U.ptNotInList=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(U.indexOf(d,b)<0)return d}return null},U.scroll=function(a,b){var c=U.indexOf(b,a);if(c<0)return null;var d=new Array(a.length).fill(null);J.arraycopy(a,c,d,0,a.length-c),J.arraycopy(a,0,d,a.length-c,c),J.arraycopy(d,0,a,0,a.length)},U.equals=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(a===b)return!0;if(null===a||null===b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!a[c].equals(b[c]))return!1;return!0}if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];if(d===e)return!0;if(null===d||null===e)return!1;if(d.length!==e.length)return!1;for(var c=0;c<d.length;c++)if(0!==f.compare(d[c],e[c]))return!1;return!0}},U.intersection=function(a,b){for(var c=new w,d=0;d<a.length;d++)b.intersects(a[d])&&c.add(a[d],!0);return c.toCoordinateArray()},U.hasRepeatedPoints=function(a){for(var b=1;b<a.length;b++)if(a[b-1].equals(a[b]))return!0;return!1},U.removeRepeatedPoints=function(a){return U.hasRepeatedPoints(a)?new w(a,!1).toCoordinateArray():a},U.reverse=function(a){for(var b=a.length-1,c=Math.trunc(b/2),d=0;d<=c;d++){var e=a[d];a[d]=a[b-d],a[b-d]=e}},U.removeNull=function(a){for(var b=0,c=0;c<a.length;c++)null!==a[c]&&b++;var d=new Array(b).fill(null);if(0===b)return d;for(var e=0,c=0;c<a.length;c++)null!==a[c]&&(d[e++]=a[c]);return d},U.copyDeep=function(){if(1===arguments.length){for(var a=arguments[0],b=new Array(a.length).fill(null),c=0;c<a.length;c++)b[c]=new n(a[c]);return b}if(5===arguments.length)for(var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3],h=arguments[4],c=0;c<h;c++)f[g+c]=new n(d[e+c])},U.isEqualReversed=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b[a.length-c-1];if(0!==d.compareTo(e))return!1}return!0},U.envelope=function(a){for(var b=new x,c=0;c<a.length;c++)b.expandToInclude(a[c]);return b},U.toCoordinateArray=function(a){return a.toArray(U.coordArrayType)},U.atLeastNCoordinatesOrNothing=function(a,b){return b.length>=a?b:[]},U.indexOf=function(a,b){for(var c=0;c<b.length;c++)if(a.equals(b[c]))return c;return-1},U.increasingDirection=function(a){for(var b=0;b<Math.trunc(a.length/2);b++){var c=a.length-1-b,d=a[b].compareTo(a[c]);if(0!==d)return d}return 1},U.compare=function(a,b){for(var c=0;c<a.length&&c<b.length;){var d=a[c].compareTo(b[c]);if(0!==d)return d;c++}return c<b.length?-1:c<a.length?1:0},U.minCoordinate=function(a){for(var b=null,c=0;c<a.length;c++)(null===b||b.compareTo(a[c])>0)&&(b=a[c]);return b},U.extract=function(a,b,c){b=C.clamp(b,0,a.length),c=C.clamp(c,-1,a.length);var d=c-b+1;c<0&&(d=0),b>=a.length&&(d=0),c<b&&(d=0);var e=new Array(d).fill(null);if(0===d)return e;for(var f=0,g=b;g<=c;g++)e[f++]=a[g];return e},b(V.prototype,{compare:function(a,b){var c=a,d=b;return U.compare(c,d)},interfaces_:function(){return[h]},getClass:function(){return V}}),b(W.prototype,{compare:function(a,b){var c=a,d=b;if(c.length<d.length)return-1;if(c.length>d.length)return 1;if(0===c.length)return 0;var e=U.compare(c,d);return U.isEqualReversed(c,d)?0:e},OLDcompare:function(a,b){var c=a,d=b;if(c.length<d.length)return-1;if(c.length>d.length)return 1;if(0===c.length)return 0;for(var e=U.increasingDirection(c),f=U.increasingDirection(d),g=e>0?0:c.length-1,h=f>0?0:c.length-1,i=0;i<c.length;i++){var j=c[g].compareTo(d[h]);if(0!==j)return j;g+=e,h+=f}return 0},interfaces_:function(){return[h]},getClass:function(){return W}}),U.ForwardComparator=V,U.BidirectionalComparator=W,U.coordArrayType=new Array(0).fill(null),X.prototype.get=function(){},X.prototype.put=function(){},X.prototype.size=function(){},X.prototype.values=function(){},X.prototype.entrySet=function(){},Y.prototype=new X,Z.prototype=new q,Z.prototype.contains=function(){},$.prototype=new Z,$.prototype.contains=function(a){for(var b=0,c=this.array_.length;b<c;b++)if(this.array_[b]===a)return!0;return!1},$.prototype.add=function(a){return!this.contains(a)&&(this.array_.push(a),!0)},$.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},$.prototype.remove=function(a){throw new javascript.util.OperationNotSupported},$.prototype.size=function(){return this.array_.length},$.prototype.isEmpty=function(){return 0===this.array_.length},$.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},$.prototype.iterator=function(){return new Zf(this)};var Zf=function(a){this.hashSet_=a,this.position_=0};Zf.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new t;return this.hashSet_.array_[this.position_++]},Zf.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Zf.prototype.remove=function(){throw new u};var $f=0;ea.prototype=new Y,ea.prototype.get=function(a){for(var b=this.root_;null!==b;){var c=a.compareTo(b.key);if(c<0)b=b.left;else{if(!(c>0))return b.value;b=b.right}}return null},ea.prototype.put=function(a,b){if(null===this.root_)return this.root_={key:a,value:b,left:null,right:null,parent:null,color:$f,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var c,d,e=this.root_;do{if(c=e,(d=a.compareTo(e.key))<0)e=e.left;else{if(!(d>0)){var f=e.value;return e.value=b,f}e=e.right}}while(null!==e);var g={key:a,left:null,right:null,value:b,parent:c,color:$f,getValue:function(){return this.value},getKey:function(){return this.key}};return d<0?c.left=g:c.right=g,this.fixAfterInsertion(g),this.size_++,null},ea.prototype.fixAfterInsertion=function(a){for(a.color=1;null!=a&&a!=this.root_&&1==a.parent.color;)if(aa(a)==ca(aa(aa(a)))){var b=da(aa(aa(a)));1==_(b)?(ba(aa(a),$f),ba(b,$f),ba(aa(aa(a)),1),a=aa(aa(a))):(a==da(aa(a))&&(a=aa(a),this.rotateLeft(a)),ba(aa(a),$f),ba(aa(aa(a)),1),this.rotateRight(aa(aa(a))))}else{var b=ca(aa(aa(a)));1==_(b)?(ba(aa(a),$f),ba(b,$f),ba(aa(aa(a)),1),a=aa(aa(a))):(a==ca(aa(a))&&(a=aa(a),this.rotateRight(a)),ba(aa(a),$f),ba(aa(aa(a)),1),this.rotateLeft(aa(aa(a))))}this.root_.color=$f},ea.prototype.values=function(){var a=new v,b=this.getFirstEntry();if(null!==b)for(a.add(b.value);null!==(b=ea.successor(b));)a.add(b.value);return a},ea.prototype.entrySet=function(){var a=new $,b=this.getFirstEntry();if(null!==b)for(a.add(b);null!==(b=ea.successor(b));)a.add(b);return a},ea.prototype.rotateLeft=function(a){if(null!=a){var b=a.right;a.right=b.left,null!=b.left&&(b.left.parent=a),b.parent=a.parent,null==a.parent?this.root_=b:a.parent.left==a?a.parent.left=b:a.parent.right=b,b.left=a,a.parent=b}},ea.prototype.rotateRight=function(a){if(null!=a){var b=a.left;a.left=b.right,null!=b.right&&(b.right.parent=a),b.parent=a.parent,null==a.parent?this.root_=b:a.parent.right==a?a.parent.right=b:a.parent.left=b,b.right=a,a.parent=b}},ea.prototype.getFirstEntry=function(){var a=this.root_;if(null!=a)for(;null!=a.left;)a=a.left;return a},ea.successor=function(a){if(null===a)return null;if(null!==a.right){for(var b=a.right;null!==b.left;)b=b.left;return b}for(var b=a.parent,c=a;null!==b&&c===b.right;)c=b,b=b.parent;return b},ea.prototype.size=function(){return this.size_},b(fa.prototype,{interfaces_:function(){return[]},getClass:function(){return fa}}),ga.prototype=new Z,ha.prototype=new ga,ha.prototype.contains=function(a){for(var b=0,c=this.array_.length;b<c;b++)if(0===this.array_[b].compareTo(a))return!0;return!1},ha.prototype.add=function(a){if(this.contains(a))return!1;for(var b=0,c=this.array_.length;b<c;b++)if(1===this.array_[b].compareTo(a))return this.array_.splice(b,0,a),!0;return this.array_.push(a),!0},ha.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},ha.prototype.remove=function(a){throw new u},ha.prototype.size=function(){return this.array_.length},ha.prototype.isEmpty=function(){return 0===this.array_.length},ha.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},ha.prototype.iterator=function(){return new _f(this)};var _f=function(a){this.treeSet_=a,this.position_=0};_f.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new t;return this.treeSet_.array_[this.position_++]},_f.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},_f.prototype.remove=function(){throw new u},ia.sort=function(){var a,b,c,d,e=arguments[0];if(1===arguments.length)return d=function(a,b){return a.compareTo(b)},void e.sort(d);if(2===arguments.length)c=arguments[1],d=function(a,b){return c.compare(a,b)},e.sort(d);else{if(3===arguments.length){b=e.slice(arguments[1],arguments[2]),b.sort();var f=e.slice(0,arguments[1]).concat(b,e.slice(arguments[2],e.length));for(e.splice(0,e.length),a=0;a<f.length;a++)e.push(f[a]);return}if(4===arguments.length){for(b=e.slice(arguments[1],arguments[2]),c=arguments[3],d=function(a,b){return c.compare(a,b)},b.sort(d),f=e.slice(0,arguments[1]).concat(b,e.slice(arguments[2],e.length)),e.splice(0,e.length),a=0;a<f.length;a++)e.push(f[a]);return}}},ia.asList=function(a){for(var b=new v,c=0,d=a.length;c<d;c++)b.add(a[c]);return b},b(ja.prototype,{interfaces_:function(){return[]},getClass:function(){return ja}}),ja.toDimensionSymbol=function(a){switch(a){case ja.FALSE:return ja.SYM_FALSE;case ja.TRUE:return ja.SYM_TRUE;case ja.DONTCARE:return ja.SYM_DONTCARE;case ja.P:return ja.SYM_P;case ja.L:return ja.SYM_L;case ja.A:return ja.SYM_A}throw new d("Unknown dimension value: "+a)},ja.toDimensionValue=function(a){switch(F.toUpperCase(a)){case ja.SYM_FALSE:return ja.FALSE;case ja.SYM_TRUE:return ja.TRUE;case ja.SYM_DONTCARE:return ja.DONTCARE;case ja.SYM_P:return ja.P;case ja.SYM_L:return ja.L;case ja.SYM_A:return ja.A}throw new d("Unknown dimension symbol: "+a)},ja.P=0,ja.L=1,ja.A=2,ja.FALSE=-1,ja.TRUE=-2,ja.DONTCARE=-3,ja.SYM_FALSE="F",ja.SYM_TRUE="T",ja.SYM_DONTCARE="*",ja.SYM_P="0",ja.SYM_L="1",ja.SYM_A="2",b(ka.prototype,{filter:function(a){},interfaces_:function(){return[]},getClass:function(){return ka}}),b(la.prototype,{filter:function(a,b){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return la}}),k(ma,N),b(ma.prototype,{computeEnvelopeInternal:function(){for(var a=new x,b=0;b<this.geometries.length;b++)a.expandToInclude(this.geometries[b].getEnvelopeInternal());return a},getGeometryN:function(a){return this.geometries[a]},getSortIndex:function(){return N.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var a=new Array(this.getNumPoints()).fill(null),b=-1,c=0;c<this.geometries.length;c++)for(var d=this.geometries[c].getCoordinates(),e=0;e<d.length;e++)b++,a[b]=d[e];return a},getArea:function(){for(var a=0,b=0;b<this.geometries.length;b++)a+=this.geometries[b].getArea();return a},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a;if(this.geometries.length!==c.geometries.length)return!1;for(var d=0;d<this.geometries.length;d++)if(!this.geometries[d].equalsExact(c.geometries[d],b))return!1;return!0}return N.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var a=0;a<this.geometries.length;a++)this.geometries[a].normalize();ia.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var a=ja.FALSE,b=0;b<this.geometries.length;b++)a=Math.max(a,this.geometries[b].getBoundaryDimension());return a},getDimension:function(){for(var a=ja.FALSE,b=0;b<this.geometries.length;b++)a=Math.max(a,this.geometries[b].getDimension());return a},getLength:function(){for(var a=0,b=0;b<this.geometries.length;b++)a+=this.geometries[b].getLength();return a},getNumPoints:function(){for(var a=0,b=0;b<this.geometries.length;b++)a+=this.geometries[b].getNumPoints();return a},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var a=this.geometries.length,b=new Array(a).fill(null),c=0;c<this.geometries.length;c++)b[c]=this.geometries[c].reverse();return this.getFactory().createGeometryCollection(b)},compareToSameClass:function(){if(1===arguments.length){var a=arguments[0],b=new ha(ia.asList(this.geometries)),c=new ha(ia.asList(a.geometries));return this.compare(b,c)}if(2===arguments.length){for(var d=arguments[0],e=arguments[1],f=d,g=this.getNumGeometries(),h=f.getNumGeometries(),i=0;i<g&&i<h;){var j=this.getGeometryN(i),k=f.getGeometryN(i),l=j.compareToSameClass(k,e);if(0!==l)return l;i++}return i<g?1:i<h?-1:0}},apply:function(){if(B(arguments[0],O))for(var a=arguments[0],b=0;b<this.geometries.length;b++)this.geometries[b].apply(a);else if(B(arguments[0],la)){var c=arguments[0];if(0===this.geometries.length)return null;for(var b=0;b<this.geometries.length&&(this.geometries[b].apply(c),!c.isDone());b++);c.isGeometryChanged()&&this.geometryChanged()}else if(B(arguments[0],ka)){var d=arguments[0];d.filter(this);for(var b=0;b<this.geometries.length;b++)this.geometries[b].apply(d)}else if(B(arguments[0],M)){var e=arguments[0];e.filter(this);for(var b=0;b<this.geometries.length;b++)this.geometries[b].apply(e)}},getBoundary:function(){return this.checkNotGeometryCollection(this),m.shouldNeverReachHere(),null},clone:function(){var a=N.prototype.clone.call(this);a.geometries=new Array(this.geometries.length).fill(null);for(var b=0;b<this.geometries.length;b++)a.geometries[b]=this.geometries[b].clone();return a},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var a=new Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new ma(a,this.factory)},isEmpty:function(){for(var a=0;a<this.geometries.length;a++)if(!this.geometries[a].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ma}}),ma.serialVersionUID=-0x4f07bcb1f857d800,k(na,ma),b(na.prototype,{getSortIndex:function(){return N.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&ma.prototype.equalsExact.call(this,a,b)}return ma.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?ja.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var a=0;a<this.geometries.length;a++)if(!this.geometries[a].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var a=this.geometries.length,b=new Array(a).fill(null),c=0;c<this.geometries.length;c++)b[a-1-c]=this.geometries[c].reverse();return this.getFactory().createMultiLineString(b)},getBoundary:function(){return new oa(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var a=new Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new na(a,this.factory)},interfaces_:function(){return[fa]},getClass:function(){return na}}),na.serialVersionUID=0x7155d2ab4afa8000,b(oa.prototype,{boundaryMultiLineString:function(a){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var b=this.computeBoundaryCoordinates(a);return 1===b.length?this.geomFact.createPoint(b[0]):this.geomFact.createMultiPointFromCoords(b)},getBoundary:function(){return this.geom instanceof ya?this.boundaryLineString(this.geom):this.geom instanceof na?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(a){return this.geom.isEmpty()?this.getEmptyMultiPoint():a.isClosed()?this.bnRule.isInBoundary(2)?a.getStartPoint():this.geomFact.createMultiPoint():this.geomFact.createMultiPoint([a.getStartPoint(),a.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(a){var b=new v;this.endpointMap=new ea;for(var c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c);0!==d.getNumPoints()&&(this.addEndpoint(d.getCoordinateN(0)),this.addEndpoint(d.getCoordinateN(d.getNumPoints()-1)))}for(var e=this.endpointMap.entrySet().iterator();e.hasNext();){var f=e.next(),g=f.getValue(),h=g.count;this.bnRule.isInBoundary(h)&&b.add(f.getKey())}return U.toCoordinateArray(b)},addEndpoint:function(a){var b=this.endpointMap.get(a);null===b&&(b=new pa,this.endpointMap.put(a,b)),b.count++},interfaces_:function(){return[]},getClass:function(){return oa}}),oa.getBoundary=function(){if(1===arguments.length){var a=arguments[0],b=new oa(a);return b.getBoundary()}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=new oa(c,d);return b.getBoundary()}},b(pa.prototype,{interfaces_:function(){return[]},getClass:function(){return pa}}),b(wa.prototype,{interfaces_:function(){return[]},getClass:function(){return wa}}),wa.chars=function(a,b){for(var c=new Array(b).fill(null),d=0;d<b;d++)c[d]=a;return new String(c)},wa.getStackTrace=function(){if(1===arguments.length){var a=arguments[0],b=new ta,c=new qa(b);return a.printStackTrace(c),b.toString()}if(2===arguments.length){for(var d=arguments[0],e=arguments[1],f="",g=new ra(wa.getStackTrace(d)),h=new va(g),i=0;i<e;i++)try{f+=h.readLine()+wa.NEWLINE}catch(a){if(!(a instanceof ua))throw a;m.shouldNeverReachHere()}return f}},wa.split=function(a,b){for(var c=b.length,d=new v,e=""+a,f=e.indexOf(b);f>=0;){var g=e.substring(0,f);d.add(g),e=e.substring(f+c),f=e.indexOf(b)}e.length>0&&d.add(e);for(var h=new Array(d.size()).fill(null),i=0;i<h.length;i++)h[i]=d.get(i);return h},wa.toString=function(){if(1===arguments.length){var a=arguments[0];return wa.SIMPLE_ORDINATE_FORMAT.format(a)}},wa.spaces=function(a){return wa.chars(" ",a)},wa.NEWLINE=J.getProperty("line.separator"),wa.SIMPLE_ORDINATE_FORMAT=new sa("0.#"),b(xa.prototype,{interfaces_:function(){return[]},getClass:function(){return xa}}),xa.copyCoord=function(a,b,c,d){for(var e=Math.min(a.getDimension(),c.getDimension()),f=0;f<e;f++)c.setOrdinate(d,f,a.getOrdinate(b,f))},xa.isRing=function(a){var b=a.size();return 0===b||!(b<=3)&&a.getOrdinate(0,I.X)===a.getOrdinate(b-1,I.X)&&a.getOrdinate(0,I.Y)===a.getOrdinate(b-1,I.Y)},xa.isEqual=function(a,b){var c=a.size();if(c!==b.size())return!1;for(var d=Math.min(a.getDimension(),b.getDimension()),f=0;f<c;f++)for(var g=0;g<d;g++){var h=a.getOrdinate(f,g),i=b.getOrdinate(f,g);if(!(a.getOrdinate(f,g)===b.getOrdinate(f,g)||e.isNaN(h)&&e.isNaN(i)))return!1}return!0},xa.extend=function(a,b,c){var d=a.create(c,b.getDimension()),e=b.size();if(xa.copy(b,0,d,0,e),e>0)for(var f=e;f<c;f++)xa.copy(b,e-1,d,f,1);return d},xa.reverse=function(a){for(var b=a.size()-1,c=Math.trunc(b/2),d=0;d<=c;d++)xa.swap(a,d,b-d)},xa.swap=function(a,b,c){if(b===c)return null;for(var d=0;d<a.getDimension();d++){var e=a.getOrdinate(b,d);a.setOrdinate(b,d,a.getOrdinate(c,d)),a.setOrdinate(c,d,e)}},xa.copy=function(a,b,c,d,e){for(var f=0;f<e;f++)xa.copyCoord(a,b+f,c,d+f)},xa.toString=function(){if(1===arguments.length){var a=arguments[0],b=a.size();if(0===b)return"()";var c=a.getDimension(),d=new D;d.append("(");for(var e=0;e<b;e++){e>0&&d.append(" ");for(var f=0;f<c;f++)f>0&&d.append(","),d.append(wa.toString(a.getOrdinate(e,f)))}return d.append(")"),d.toString()}},xa.ensureValidRing=function(a,b){var c=b.size();return 0===c?b:c<=3?xa.createClosedRing(a,b,4):b.getOrdinate(0,I.X)===b.getOrdinate(c-1,I.X)&&b.getOrdinate(0,I.Y)===b.getOrdinate(c-1,I.Y)?b:xa.createClosedRing(a,b,c+1)},xa.createClosedRing=function(a,b,c){var d=a.create(c,b.getDimension()),e=b.size();xa.copy(b,0,d,0,e);for(var f=e;f<c;f++)xa.copy(b,0,d,f,1);return d},k(ya,N),b(ya.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new x:this.points.expandEnvelope(new x)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return N.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a;if(this.points.size()!==c.points.size())return!1;for(var d=0;d<this.points.size();d++)if(!this.equal(this.points.getCoordinate(d),c.points.getCoordinate(d),b))return!1;return!0}return N.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var a=0;a<Math.trunc(this.points.size()/2);a++){var b=this.points.size()-1-a;if(!this.points.getCoordinate(a).equals(this.points.getCoordinate(b)))return this.points.getCoordinate(a).compareTo(this.points.getCoordinate(b))>0&&xa.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?ja.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return jb.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var a=this.points.copy();return xa.reverse(a),this.getFactory().createLineString(a)},compareToSameClass:function(){if(1===arguments.length){for(var a=arguments[0],b=a,c=0,d=0;c<this.points.size()&&d<b.points.size();){var e=this.points.getCoordinate(c).compareTo(b.points.getCoordinate(d));if(0!==e)return e;c++,d++}return c<this.points.size()?1:d<b.points.size()?-1:0}if(2===arguments.length){var f=arguments[0],g=arguments[1],b=f;return g.compare(this.points,b.points)}},apply:function(){if(B(arguments[0],O))for(var a=arguments[0],b=0;b<this.points.size();b++)a.filter(this.points.getCoordinate(b));else if(B(arguments[0],la)){var c=arguments[0];if(0===this.points.size())return null;for(var b=0;b<this.points.size()&&(c.filter(this.points,b),!c.isDone());b++);c.isGeometryChanged()&&this.geometryChanged()}else if(B(arguments[0],ka)){var d=arguments[0];d.filter(this)}else if(B(arguments[0],M)){var e=arguments[0];e.filter(this)}},getBoundary:function(){return new oa(this).getBoundary()},isEquivalentClass:function(a){return a instanceof ya},clone:function(){var a=N.prototype.clone.call(this);return a.points=this.points.clone(),a},getCoordinateN:function(a){return this.points.getCoordinate(a)},getGeometryType:function(){return"LineString"},copy:function(){
return new ya(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(a){if(null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),1===a.size())throw new d("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this.points=a},isCoordinate:function(a){for(var b=0;b<this.points.size();b++)if(this.points.getCoordinate(b).equals(a))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(a){return this.getFactory().createPoint(this.points.getCoordinate(a))},interfaces_:function(){return[fa]},getClass:function(){return ya}}),ya.serialVersionUID=0x2b2b51ba435c8e00,b(za.prototype,{interfaces_:function(){return[]},getClass:function(){return za}}),k(Aa,N),b(Aa.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new x;var a=new x;return a.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),a},getSortIndex:function(){return N.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),b))}return N.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return ja.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var a=arguments[0],b=a;return this.getCoordinate().compareTo(b.getCoordinate())}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=c;return d.compare(this.coordinates,b.coordinates)}},apply:function(){if(B(arguments[0],O)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(B(arguments[0],la)){var b=arguments[0];if(this.isEmpty())return null;b.filter(this.coordinates,0),b.isGeometryChanged()&&this.geometryChanged()}else if(B(arguments[0],ka)){var c=arguments[0];c.filter(this)}else if(B(arguments[0],M)){var d=arguments[0];d.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var a=N.prototype.clone.call(this);return a.coordinates=this.coordinates.clone(),a},getGeometryType:function(){return"Point"},copy:function(){return new Aa(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(a){null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),m.isTrue(a.size()<=1),this.coordinates=a},isSimple:function(){return!0},interfaces_:function(){return[za]},getClass:function(){return Aa}}),Aa.serialVersionUID=0x44077bad161cbc00,b(Ba.prototype,{interfaces_:function(){return[]},getClass:function(){return Ba}}),k(Ca,N),b(Ca.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return N.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),b=-1,c=this.shell.getCoordinates(),d=0;d<c.length;d++)b++,a[b]=c[d];for(var e=0;e<this.holes.length;e++)for(var f=this.holes[e].getCoordinates(),g=0;g<f.length;g++)b++,a[b]=f[g];return a},getArea:function(){var a=0;a+=Math.abs(jb.signedArea(this.shell.getCoordinateSequence()));for(var b=0;b<this.holes.length;b++)a-=Math.abs(jb.signedArea(this.holes[b].getCoordinateSequence()));return a},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var a=this.shell.getCoordinateSequence(),b=this.getEnvelopeInternal(),c=0;c<5;c++){var d=a.getX(c);if(d!==b.getMinX()&&d!==b.getMaxX())return!1;var e=a.getY(c);if(e!==b.getMinY()&&e!==b.getMaxY())return!1}for(var f=a.getX(0),g=a.getY(0),c=1;c<=4;c++){var d=a.getX(c),e=a.getY(c);if(d!==f==(e!==g))return!1;f=d,g=e}return!0},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a,d=this.shell,e=c.shell;if(!d.equalsExact(e,b))return!1;if(this.holes.length!==c.holes.length)return!1;for(var f=0;f<this.holes.length;f++)if(!this.holes[f].equalsExact(c.holes[f],b))return!1;return!0}return N.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var a=0;a<this.holes.length;a++)this.normalize(this.holes[a],!1);ia.sort(this.holes)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];if(b.isEmpty())return null;var d=new Array(b.getCoordinates().length-1).fill(null);J.arraycopy(b.getCoordinates(),0,d,0,d.length);var e=U.minCoordinate(b.getCoordinates());U.scroll(d,e),J.arraycopy(d,0,b.getCoordinates(),0,d.length),b.getCoordinates()[d.length]=d[0],jb.isCCW(b.getCoordinates())===c&&U.reverse(b.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var a=0;a+=this.shell.getLength();for(var b=0;b<this.holes.length;b++)a+=this.holes[b].getLength();return a},getNumPoints:function(){for(var a=this.shell.getNumPoints(),b=0;b<this.holes.length;b++)a+=this.holes[b].getNumPoints();return a},reverse:function(){var a=this.copy();a.shell=this.shell.copy().reverse(),a.holes=new Array(this.holes.length).fill(null);for(var b=0;b<this.holes.length;b++)a.holes[b]=this.holes[b].copy().reverse();return a},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var a=arguments[0],b=this.shell,c=a.shell;return b.compareToSameClass(c)}if(2===arguments.length){var d=arguments[0],e=arguments[1],f=d,b=this.shell,c=f.shell,g=b.compareToSameClass(c,e);if(0!==g)return g;for(var h=this.getNumInteriorRing(),i=f.getNumInteriorRing(),j=0;j<h&&j<i;){var k=this.getInteriorRingN(j),l=f.getInteriorRingN(j),m=k.compareToSameClass(l,e);if(0!==m)return m;j++}return j<h?1:j<i?-1:0}},apply:function(){if(B(arguments[0],O)){var a=arguments[0];this.shell.apply(a);for(var b=0;b<this.holes.length;b++)this.holes[b].apply(a)}else if(B(arguments[0],la)){var c=arguments[0];if(this.shell.apply(c),!c.isDone())for(var b=0;b<this.holes.length&&(this.holes[b].apply(c),!c.isDone());b++);c.isGeometryChanged()&&this.geometryChanged()}else if(B(arguments[0],ka)){var d=arguments[0];d.filter(this)}else if(B(arguments[0],M)){var e=arguments[0];e.filter(this),this.shell.apply(e);for(var b=0;b<this.holes.length;b++)this.holes[b].apply(e)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this.holes.length+1).fill(null);a[0]=this.shell;for(var b=0;b<this.holes.length;b++)a[b+1]=this.holes[b];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},clone:function(){var a=N.prototype.clone.call(this);a.shell=this.shell.clone(),a.holes=new Array(this.holes.length).fill(null);for(var b=0;b<this.holes.length;b++)a.holes[b]=this.holes[b].clone();return a},getGeometryType:function(){return"Polygon"},copy:function(){for(var a=this.shell.copy(),b=new Array(this.holes.length).fill(null),c=0;c<b.length;c++)b[c]=this.holes[c].copy();return new Ca(a,b,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(a){return this.holes[a]},interfaces_:function(){return[Ba]},getClass:function(){return Ca}}),Ca.serialVersionUID=-0x307ffefd8dc97200,k(Da,ma),b(Da.prototype,{getSortIndex:function(){return N.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&ma.prototype.equalsExact.call(this,a,b)}return ma.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var a=arguments[0];return this.geometries[a].getCoordinate()}return ma.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return ja.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var a=new Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new Da(a,this.factory)},interfaces_:function(){return[za]},getClass:function(){return Da}}),Da.serialVersionUID=-0x6fb1ed4162e0fc00,k(Ea,ya),b(Ea.prototype,{getSortIndex:function(){return N.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return ja.FALSE},isClosed:function(){return!!this.isEmpty()||ya.prototype.isClosed.call(this)},reverse:function(){var a=this.points.copy();return xa.reverse(a),this.getFactory().createLinearRing(a)},validateConstruction:function(){if(!this.isEmpty()&&!ya.prototype.isClosed.call(this))throw new d("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Ea.MINIMUM_VALID_SIZE)throw new d("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new Ea(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return Ea}}),Ea.MINIMUM_VALID_SIZE=4,Ea.serialVersionUID=-0x3b229e262367a600,k(Fa,ma),b(Fa.prototype,{getSortIndex:function(){return N.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&ma.prototype.equalsExact.call(this,a,b)}return ma.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var a=this.geometries.length,b=new Array(a).fill(null),c=0;c<this.geometries.length;c++)b[c]=this.geometries[c].reverse();return this.getFactory().createMultiPolygon(b)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new v,b=0;b<this.geometries.length;b++)for(var c=this.geometries[b],d=c.getBoundary(),e=0;e<d.getNumGeometries();e++)a.add(d.getGeometryN(e));var f=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(f))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var a=new Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new Fa(a,this.factory)},interfaces_:function(){return[Ba]},getClass:function(){return Fa}}),Fa.serialVersionUID=-0x7a5aa1369171980,b(Ga.prototype,{setCopyUserData:function(a){this.isUserDataCopied=a},edit:function(a,b){if(null===a)return null;var c=this.editInternal(a,b);return this.isUserDataCopied&&c.setUserData(a.getUserData()),c},editInternal:function(a,b){return null===this.factory&&(this.factory=a.getFactory()),a instanceof ma?this.editGeometryCollection(a,b):a instanceof Ca?this.editPolygon(a,b):a instanceof Aa?b.edit(a,this.factory):a instanceof ya?b.edit(a,this.factory):(m.shouldNeverReachHere("Unsupported Geometry class: "+a.getClass().getName()),null)},editGeometryCollection:function(a,b){for(var c=b.edit(a,this.factory),d=new v,e=0;e<c.getNumGeometries();e++){var f=this.edit(c.getGeometryN(e),b);null===f||f.isEmpty()||d.add(f)}return c.getClass()===Da?this.factory.createMultiPoint(d.toArray([])):c.getClass()===na?this.factory.createMultiLineString(d.toArray([])):c.getClass()===Fa?this.factory.createMultiPolygon(d.toArray([])):this.factory.createGeometryCollection(d.toArray([]))},editPolygon:function(a,b){var c=b.edit(a,this.factory);if(null===c&&(c=this.factory.createPolygon(null)),c.isEmpty())return c;var d=this.edit(c.getExteriorRing(),b);if(null===d||d.isEmpty())return this.factory.createPolygon();for(var e=new v,f=0;f<c.getNumInteriorRing();f++){var g=this.edit(c.getInteriorRingN(f),b);null===g||g.isEmpty()||e.add(g)}return this.factory.createPolygon(d,e.toArray([]))},interfaces_:function(){return[]},getClass:function(){return Ga}}),Ga.GeometryEditorOperation=Ha,b(Ia.prototype,{edit:function(a,b){return a},interfaces_:function(){return[Ha]},getClass:function(){return Ia}}),b(Ja.prototype,{edit:function(a,b){var c=this.editCoordinates(a.getCoordinates(),a);return null===c?a:a instanceof Ea?b.createLinearRing(c):a instanceof ya?b.createLineString(c):a instanceof Aa?c.length>0?b.createPoint(c[0]):b.createPoint():a},interfaces_:function(){return[Ha]},getClass:function(){return Ja}}),b(Ka.prototype,{edit:function(a,b){return a instanceof Ea?b.createLinearRing(this.edit(a.getCoordinateSequence(),a)):a instanceof ya?b.createLineString(this.edit(a.getCoordinateSequence(),a)):a instanceof Aa?b.createPoint(this.edit(a.getCoordinateSequence(),a)):a},interfaces_:function(){return[Ha]},getClass:function(){return Ka}}),Ga.NoOpGeometryOperation=Ia,Ga.CoordinateOperation=Ja,Ga.CoordinateSequenceOperation=Ka,b(La.prototype,{setOrdinate:function(a,b,c){switch(b){case I.X:this.coordinates[a].x=c;break;case I.Y:this.coordinates[a].y=c;break;case I.Z:this.coordinates[a].z=c;break;default:throw new d("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(a,b){switch(b){case I.X:return this.coordinates[a].x;case I.Y:return this.coordinates[a].y;case I.Z:return this.coordinates[a].z}return e.NaN},getCoordinate:function(){if(1===arguments.length){var a=arguments[0];return this.coordinates[a]}if(2===arguments.length){var b=arguments[0],c=arguments[1];c.x=this.coordinates[b].x,c.y=this.coordinates[b].y,c.z=this.coordinates[b].z}},getCoordinateCopy:function(a){return new n(this.coordinates[a])},getDimension:function(){return this.dimension},getX:function(a){return this.coordinates[a].x},clone:function(){for(var a=new Array(this.size()).fill(null),b=0;b<this.coordinates.length;b++)a[b]=this.coordinates[b].clone();return new La(a,this.dimension)},expandEnvelope:function(a){for(var b=0;b<this.coordinates.length;b++)a.expandToInclude(this.coordinates[b]);return a},copy:function(){for(var a=new Array(this.size()).fill(null),b=0;b<this.coordinates.length;b++)a[b]=this.coordinates[b].copy();return new La(a,this.dimension)},toString:function(){if(this.coordinates.length>0){var a=new D(17*this.coordinates.length);a.append("("),a.append(this.coordinates[0]);for(var b=1;b<this.coordinates.length;b++)a.append(", "),a.append(this.coordinates[b]);return a.append(")"),a.toString()}return"()"},getY:function(a){return this.coordinates[a].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[I,i]},getClass:function(){return La}}),La.serialVersionUID=-0xcb44a778db18e00,b(Ma.prototype,{readResolve:function(){return Ma.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new La(arguments[0]);if(B(arguments[0],I))return new La(arguments[0])}else if(2===arguments.length){var a=arguments[0],b=arguments[1];return b>3&&(b=3),b<2?new La(a):new La(a,b)}},interfaces_:function(){return[L,i]},getClass:function(){return Ma}}),Ma.instance=function(){return Ma.instanceObject},Ma.serialVersionUID=-0x38e49fa6cf6f2e00,Ma.instanceObject=new Ma;var ag,bg=Object.defineProperty,cg=function(a,b){function c(a){return this&&this.constructor===c?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=b,void(a&&Oa.call(this,a))):new c(a)}return b||bg(a,"size",{get:Za}),a.constructor=c,c.prototype=a,c}({delete:Pa,has:Sa,get:Qa,set:Ta,keys:Va,values:Wa,entries:Xa,forEach:$a,clear:Ua}),dg=void 0!==Map&&Map.prototype.values?Map:cg;_a.prototype=new X,_a.prototype.get=function(a){return this.map_.get(a)||null},_a.prototype.put=function(a,b){return this.map_.set(a,b),b},_a.prototype.values=function(){for(var a=new v,b=this.map_.values(),c=b.next();!c.done;)a.add(c.value),c=b.next();return a},_a.prototype.entrySet=function(){var a=new $;return this.map_.entries().forEach(function(b){return a.add(b)}),a},_a.prototype.size=function(){return this.map_.size()},b(ab.prototype,{equals:function(a){if(!(a instanceof ab))return!1;var b=a;return this.modelType===b.modelType&&this.scale===b.scale},compareTo:function(a){var b=a,c=this.getMaximumSignificantDigits(),d=b.getMaximumSignificantDigits();return new E(c).compareTo(new E(d))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===ab.FLOATING||this.modelType===ab.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var a="UNKNOWN";return this.modelType===ab.FLOATING?a="Floating":this.modelType===ab.FLOATING_SINGLE?a="Floating-Single":this.modelType===ab.FIXED&&(a="Fixed (Scale="+this.getScale()+")"),a},makePrecise:function(){if("number"==typeof arguments[0]){var a=arguments[0];return e.isNaN(a)?a:this.modelType===ab.FLOATING_SINGLE?a:this.modelType===ab.FIXED?Math.round(a*this.scale)/this.scale:a}if(arguments[0]instanceof n){var b=arguments[0];if(this.modelType===ab.FLOATING)return null;b.x=this.makePrecise(b.x),b.y=this.makePrecise(b.y)}},getMaximumSignificantDigits:function(){var a=16;return this.modelType===ab.FLOATING?a=16:this.modelType===ab.FLOATING_SINGLE?a=6:this.modelType===ab.FIXED&&(a=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),a},setScale:function(a){this.scale=Math.abs(a)},interfaces_:function(){return[i,f]},getClass:function(){return ab}}),ab.mostPrecise=function(a,b){return a.compareTo(b)>=0?a:b},b(bb.prototype,{readResolve:function(){return bb.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[i]},getClass:function(){return bb}}),bb.serialVersionUID=-552860263173159e4,bb.nameToTypeMap=new _a,ab.Type=bb,ab.serialVersionUID=0x6bee6404e9a25c00,ab.FIXED=new bb("FIXED"),ab.FLOATING=new bb("FLOATING"),ab.FLOATING_SINGLE=new bb("FLOATING SINGLE"),ab.maximumPreciseValue=9007199254740992,b(cb.prototype,{toGeometry:function(a){return a.isNull()?this.createPoint(null):a.getMinX()===a.getMaxX()&&a.getMinY()===a.getMaxY()?this.createPoint(new n(a.getMinX(),a.getMinY())):a.getMinX()===a.getMaxX()||a.getMinY()===a.getMaxY()?this.createLineString([new n(a.getMinX(),a.getMinY()),new n(a.getMaxX(),a.getMaxY())]):this.createPolygon(this.createLinearRing([new n(a.getMinX(),a.getMinY()),new n(a.getMinX(),a.getMaxY()),new n(a.getMaxX(),a.getMaxY()),new n(a.getMaxX(),a.getMinY()),new n(a.getMinX(),a.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLineString(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(B(arguments[0],I))return new ya(arguments[0],this)}},createMultiLineString:function(){return 0===arguments.length?new na(null,this):1===arguments.length?new na(arguments[0],this):void 0},buildGeometry:function(a){for(var b=null,c=!1,d=!1,e=a.iterator();e.hasNext();){var f=e.next(),g=f.getClass();null===b&&(b=g),g!==b&&(c=!0),f.isGeometryCollectionOrDerived()&&(d=!0)}if(null===b)return this.createGeometryCollection();if(c||d)return this.createGeometryCollection(cb.toGeometryArray(a));var h=a.iterator().next();if(a.size()>1){if(h instanceof Ca)return this.createMultiPolygon(cb.toPolygonArray(a));if(h instanceof ya)return this.createMultiLineString(cb.toLineStringArray(a));if(h instanceof Aa)return this.createMultiPoint(cb.toPointArray(a));m.shouldNeverReachHere("Unhandled class: "+h.getClass().getName())}return h},createMultiPointFromCoords:function(a){return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof n){var a=arguments[0];return this.createPoint(null!==a?this.getCoordinateSequenceFactory().create([a]):null)}if(B(arguments[0],I))return new Aa(arguments[0],this)}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new Ca(null,null,this);if(1===arguments.length){if(B(arguments[0],I)){var a=arguments[0];return this.createPolygon(this.createLinearRing(a))}if(arguments[0]instanceof Array){var b=arguments[0];return this.createPolygon(this.createLinearRing(b))}if(arguments[0]instanceof Ea){var c=arguments[0];return this.createPolygon(c,null)}}else if(2===arguments.length){var d=arguments[0],e=arguments[1];return new Ca(d,e,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){return 0===arguments.length?new ma(null,this):1===arguments.length?new ma(arguments[0],this):void 0},createGeometry:function(a){return new Ga(this).edit(a,{edit:function(){if(2===arguments.length){var a=arguments[0];return arguments[1],this.coordinateSequenceFactory.create(a)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLinearRing(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(B(arguments[0],I))return new Ea(arguments[0],this)}},createMultiPolygon:function(){return 0===arguments.length?new Fa(null,this):1===arguments.length?new Fa(arguments[0],this):void 0},createMultiPoint:function(){if(0===arguments.length)return new Da(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Da(arguments[0],this);if(arguments[0]instanceof Array){var a=arguments[0];return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(B(arguments[0],I)){var b=arguments[0];if(null===b)return this.createMultiPoint(new Array(0).fill(null));for(var c=new Array(b.size()).fill(null),d=0;d<b.size();d++){var e=this.getCoordinateSequenceFactory().create(1,b.getDimension());xa.copy(b,d,e,0,1),c[d]=this.createPoint(e)}return this.createMultiPoint(c)}}},interfaces_:function(){return[i]},getClass:function(){return cb}}),cb.toMultiPolygonArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},cb.toGeometryArray=function(a){if(null===a)return null;var b=new Array(a.size()).fill(null);return a.toArray(b)},cb.getDefaultCoordinateSequenceFactory=function(){return Ma.instance()},cb.toMultiLineStringArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},cb.toLineStringArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},cb.toMultiPointArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},cb.toLinearRingArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},cb.toPointArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},cb.toPolygonArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},cb.createPointFromInternalCoord=function(a,b){return b.getPrecisionModel().makePrecise(a),b.getFactory().createPoint(a)},cb.serialVersionUID=-0x5ea75f2051eeb400;var eg={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};b(db.prototype,{read:function(a){var b,c,d;a=a.replace(/[\n\r]/g," ");var e=eg.typeStr.exec(a);if(-1!==a.search("EMPTY")&&(e=eg.emptyTypeStr.exec(a),e[2]=void 0),e&&(c=e[1].toLowerCase(),d=e[2],gg[c]&&(b=gg[c].apply(this,[d]))),void 0===b)throw new Error("Could not parse WKT "+a);return b},write:function(a){return this.extractGeometry(a)},extractGeometry:function(a){var b=a.getGeometryType().toLowerCase();if(!fg[b])return null;var c=b.toUpperCase();return a.isEmpty()?c+" EMPTY":c+"("+fg[b].apply(this,[a])+")"}});var fg={coordinate:function(a){return a.x+" "+a.y},point:function(a){return fg.coordinate.call(this,a.coordinates.coordinates[0])},multipoint:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push("("+fg.point.apply(this,[a.geometries[c]])+")");return b.join(",")},linestring:function(a){for(var b=[],c=0,d=a.points.coordinates.length;c<d;++c)b.push(fg.coordinate.apply(this,[a.points.coordinates[c]]));return b.join(",")},linearring:function(a){for(var b=[],c=0,d=a.points.coordinates.length;c<d;++c)b.push(fg.coordinate.apply(this,[a.points.coordinates[c]]));return b.join(",")},multilinestring:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push("("+fg.linestring.apply(this,[a.geometries[c]])+")");return b.join(",")},polygon:function(a){var b=[];b.push("("+fg.linestring.apply(this,[a.shell])+")");for(var c=0,d=a.holes.length;c<d;++c)b.push("("+fg.linestring.apply(this,[a.holes[c]])+")");return b.join(",")},multipolygon:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push("("+fg.polygon.apply(this,[a.geometries[c]])+")");return b.join(",")},geometrycollection:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push(this.extractGeometry(a.geometries[c]));return b.join(",")}},gg={point:function(a){if(void 0===a)return this.geometryFactory.createPoint();var b=a.trim().split(eg.spaces);return this.geometryFactory.createPoint(new n(Number.parseFloat(b[0]),Number.parseFloat(b[1])))},multipoint:function(a){if(void 0===a)return this.geometryFactory.createMultiPoint();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(eg.trimParens,"$1"),d.push(gg.point.apply(this,[b]));return this.geometryFactory.createMultiPoint(d)},linestring:function(a){if(void 0===a)return this.geometryFactory.createLineString();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].trim().split(eg.spaces),d.push(new n(Number.parseFloat(b[0]),Number.parseFloat(b[1])));return this.geometryFactory.createLineString(d)},linearring:function(a){if(void 0===a)return this.geometryFactory.createLinearRing();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].trim().split(eg.spaces),d.push(new n(Number.parseFloat(b[0]),Number.parseFloat(b[1])));return this.geometryFactory.createLinearRing(d)},multilinestring:function(a){if(void 0===a)return this.geometryFactory.createMultiLineString();for(var b,c=a.trim().split(eg.parenComma),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(eg.trimParens,"$1"),d.push(gg.linestring.apply(this,[b]));return this.geometryFactory.createMultiLineString(d)},polygon:function(a){if(void 0===a)return this.geometryFactory.createPolygon();for(var b,c,d,e,f=a.trim().split(eg.parenComma),g=[],h=0,i=f.length;h<i;++h)b=f[h].replace(eg.trimParens,"$1"),c=gg.linestring.apply(this,[b]),d=this.geometryFactory.createLinearRing(c.points),0===h?e=d:g.push(d);return this.geometryFactory.createPolygon(e,g)},multipolygon:function(a){if(void 0===a)return this.geometryFactory.createMultiPolygon();for(var b,c=a.trim().split(eg.doubleParenComma),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(eg.trimParens,"$1"),d.push(gg.polygon.apply(this,[b]));return this.geometryFactory.createMultiPolygon(d)},geometrycollection:function(a){if(void 0===a)return this.geometryFactory.createGeometryCollection();a=a.replace(/,\s*([A-Za-z])/g,"|$1");for(var b=a.trim().split("|"),c=[],d=0,e=b.length;d<e;++d)c.push(this.read(b[d]));return this.geometryFactory.createGeometryCollection(c)}};b(eb.prototype,{write:function(a){return this.parser.write(a)}}),b(eb,{toLineString:function(a,b){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+b.x+" "+b.y+" )"}}),b(fb.prototype,{getIndexAlongSegment:function(a,b){return this.computeIntLineIndex(),this.intLineIndex[a][b]},getTopologySummary:function(){var a=new D;return this.isEndPoint()&&a.append(" endpoint"),this._isProper&&a.append(" proper"),this.isCollinear()&&a.append(" collinear"),a.toString()},computeIntersection:function(a,b,c,d){this.inputLines[0][0]=a,this.inputLines[0][1]=b,this.inputLines[1][0]=c,this.inputLines[1][1]=d,this.result=this.computeIntersect(a,b,c,d)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var a=arguments[0],b=this.getEdgeDistance(a,0),c=this.getEdgeDistance(a,1);b>c?(this.intLineIndex[a][0]=0,this.intLineIndex[a][1]=1):(this.intLineIndex[a][0]=1,this.intLineIndex[a][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(a){this.precisionModel=a},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var a=arguments[0],b=0;b<this.result;b++)if(!this.intPt[b].equals2D(this.inputLines[a][0])&&!this.intPt[b].equals2D(this.inputLines[a][1]))return!0;return!1}},getIntersection:function(a){return this.intPt[a]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==fb.NO_INTERSECTION},getEdgeDistance:function(a,b){return fb.computeEdgeDistance(this.intPt[b],this.inputLines[a][0],this.inputLines[a][1])},isCollinear:function(){return this.result===fb.COLLINEAR_INTERSECTION},toString:function(){return eb.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+eb.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(a,b){return this.inputLines[a][b]},isIntersection:function(a){for(var b=0;b<this.result;b++)if(this.intPt[b].equals2D(a))return!0;return!1},getIntersectionAlongSegment:function(a,b){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[a][b]]},interfaces_:function(){return[]},getClass:function(){return fb}}),fb.computeEdgeDistance=function(a,b,c){var d=Math.abs(c.x-b.x),e=Math.abs(c.y-b.y),f=-1;if(a.equals(b))f=0;else if(a.equals(c))f=d>e?d:e;else{var g=Math.abs(a.x-b.x),h=Math.abs(a.y-b.y);0!==(f=d>e?g:h)||a.equals(b)||(f=Math.max(g,h))}return m.isTrue(!(0===f&&!a.equals(b)),"Bad distance calculation"),f},fb.nonRobustComputeEdgeDistance=function(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=Math.sqrt(d*d+e*e);return m.isTrue(!(0===f&&!a.equals(b)),"Invalid distance calculation"),f},fb.DONT_INTERSECT=0,fb.DO_INTERSECT=1,fb.COLLINEAR=2,fb.NO_INTERSECTION=0,fb.POINT_INTERSECTION=1,fb.COLLINEAR_INTERSECTION=2,k(gb,fb),b(gb.prototype,{isInSegmentEnvelopes:function(a){var b=new x(this.inputLines[0][0],this.inputLines[0][1]),c=new x(this.inputLines[1][0],this.inputLines[1][1]);return b.contains(a)&&c.contains(a)},computeIntersection:function(){if(3!==arguments.length)return fb.prototype.computeIntersection.apply(this,arguments);var a=arguments[0],b=arguments[1],c=arguments[2];return this._isProper=!1,x.intersects(b,c,a)&&0===jb.orientationIndex(b,c,a)&&0===jb.orientationIndex(c,b,a)?(this._isProper=!0,(a.equals(b)||a.equals(c))&&(this._isProper=!1),this.result=fb.POINT_INTERSECTION,null):void(this.result=fb.NO_INTERSECTION)},normalizeToMinimum:function(a,b,c,d,e){e.x=this.smallestInAbsValue(a.x,b.x,c.x,d.x),e.y=this.smallestInAbsValue(a.y,b.y,c.y,d.y),a.x-=e.x,a.y-=e.y,b.x-=e.x,b.y-=e.y,c.x-=e.x,c.y-=e.y,d.x-=e.x,d.y-=e.y},safeHCoordinateIntersection:function(a,b,c,d){var e=null;try{e=K.intersection(a,b,c,d)}catch(f){
if(!(f instanceof z))throw f;e=gb.nearestEndpoint(a,b,c,d)}return e},intersection:function(a,b,c,d){var e=this.intersectionWithNormalization(a,b,c,d);return this.isInSegmentEnvelopes(e)||(e=new n(gb.nearestEndpoint(a,b,c,d))),null!==this.precisionModel&&this.precisionModel.makePrecise(e),e},smallestInAbsValue:function(a,b,c,d){var e=a,f=Math.abs(e);return Math.abs(b)<f&&(e=b,f=Math.abs(b)),Math.abs(c)<f&&(e=c,f=Math.abs(c)),Math.abs(d)<f&&(e=d),e},checkDD:function(a,b,c,d,e){var f=H.intersection(a,b,c,d),g=this.isInSegmentEnvelopes(f);J.out.println("DD in env = "+g+"  --------------------- "+f),e.distance(f)>1e-4&&J.out.println("Distance = "+e.distance(f))},intersectionWithNormalization:function(a,b,c,d){var e=new n(a),f=new n(b),g=new n(c),h=new n(d),i=new n;this.normalizeToEnvCentre(e,f,g,h,i);var j=this.safeHCoordinateIntersection(e,f,g,h);return j.x+=i.x,j.y+=i.y,j},computeCollinearIntersection:function(a,b,c,d){var e=x.intersects(a,b,c),f=x.intersects(a,b,d),g=x.intersects(c,d,a),h=x.intersects(c,d,b);return e&&f?(this.intPt[0]=c,this.intPt[1]=d,fb.COLLINEAR_INTERSECTION):g&&h?(this.intPt[0]=a,this.intPt[1]=b,fb.COLLINEAR_INTERSECTION):e&&g?(this.intPt[0]=c,this.intPt[1]=a,!c.equals(a)||f||h?fb.COLLINEAR_INTERSECTION:fb.POINT_INTERSECTION):e&&h?(this.intPt[0]=c,this.intPt[1]=b,!c.equals(b)||f||g?fb.COLLINEAR_INTERSECTION:fb.POINT_INTERSECTION):f&&g?(this.intPt[0]=d,this.intPt[1]=a,!d.equals(a)||e||h?fb.COLLINEAR_INTERSECTION:fb.POINT_INTERSECTION):f&&h?(this.intPt[0]=d,this.intPt[1]=b,!d.equals(b)||e||g?fb.COLLINEAR_INTERSECTION:fb.POINT_INTERSECTION):fb.NO_INTERSECTION},normalizeToEnvCentre:function(a,b,c,d,e){var f=a.x<b.x?a.x:b.x,g=a.y<b.y?a.y:b.y,h=a.x>b.x?a.x:b.x,i=a.y>b.y?a.y:b.y,j=c.x<d.x?c.x:d.x,k=c.y<d.y?c.y:d.y,l=c.x>d.x?c.x:d.x,m=c.y>d.y?c.y:d.y,n=f>j?f:j,o=h<l?h:l,p=g>k?g:k,q=i<m?i:m,r=(n+o)/2,s=(p+q)/2;e.x=r,e.y=s,a.x-=e.x,a.y-=e.y,b.x-=e.x,b.y-=e.y,c.x-=e.x,c.y-=e.y,d.x-=e.x,d.y-=e.y},computeIntersect:function(a,b,c,d){if(this._isProper=!1,!x.intersects(a,b,c,d))return fb.NO_INTERSECTION;var e=jb.orientationIndex(a,b,c),f=jb.orientationIndex(a,b,d);if(e>0&&f>0||e<0&&f<0)return fb.NO_INTERSECTION;var g=jb.orientationIndex(c,d,a),h=jb.orientationIndex(c,d,b);return g>0&&h>0||g<0&&h<0?fb.NO_INTERSECTION:0===e&&0===f&&0===g&&0===h?this.computeCollinearIntersection(a,b,c,d):(0===e||0===f||0===g||0===h?(this._isProper=!1,a.equals2D(c)||a.equals2D(d)?this.intPt[0]=a:b.equals2D(c)||b.equals2D(d)?this.intPt[0]=b:0===e?this.intPt[0]=new n(c):0===f?this.intPt[0]=new n(d):0===g?this.intPt[0]=new n(a):0===h&&(this.intPt[0]=new n(b))):(this._isProper=!0,this.intPt[0]=this.intersection(a,b,c,d)),fb.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return gb}}),gb.nearestEndpoint=function(a,b,c,d){var e=a,f=jb.distancePointLine(a,c,d),g=jb.distancePointLine(b,c,d);return g<f&&(f=g,e=b),g=jb.distancePointLine(c,a,b),g<f&&(f=g,e=c),g=jb.distancePointLine(d,a,b),g<f&&(f=g,e=d),e},b(hb.prototype,{interfaces_:function(){return[]},getClass:function(){return hb}}),hb.orientationIndex=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,f=c.x-b.x,g=c.y-b.y;return hb.signOfDet2x2(d,e,f,g)},hb.signOfDet2x2=function(a,b,c,d){var e=null,f=null,g=null,h=0;if(e=1,0===a||0===d)return 0===b||0===c?0:b>0?c>0?-e:e:c>0?e:-e;if(0===b||0===c)return d>0?a>0?e:-e:a>0?-e:e;if(0<b?0<d?b<=d||(e=-e,f=a,a=c,c=f,f=b,b=d,d=f):b<=-d?(e=-e,c=-c,d=-d):(f=a,a=-c,c=f,f=b,b=-d,d=f):0<d?-b<=d?(e=-e,a=-a,b=-b):(f=-a,a=c,c=f,f=-b,b=d,d=f):b>=d?(a=-a,b=-b,c=-c,d=-d):(e=-e,f=-a,a=-c,c=f,f=-b,b=-d,d=f),0<a){if(!(0<c))return e;if(!(a<=c))return e}else{if(0<c)return-e;if(!(a>=c))return-e;e=-e,a=-a,c=-c}for(;;){if(h+=1,g=Math.floor(c/a),c-=g*a,(d-=g*b)<0)return-e;if(d>b)return e;if(a>c+c){if(b<d+d)return e}else{if(b>d+d)return-e;c=a-c,d=b-d,e=-e}if(0===d)return 0===c?0:-e;if(0===c)return e;if(g=Math.floor(a/c),a-=g*c,(b-=g*d)<0)return e;if(b>d)return-e;if(c>a+a){if(d<b+b)return-e}else{if(d>b+b)return e;a=c-a,b=d-b,e=-e}if(0===b)return 0===a?0:e;if(0===a)return-e}},b(ib.prototype,{countSegment:function(a,b){if(a.x<this.p.x&&b.x<this.p.x)return null;if(this.p.x===b.x&&this.p.y===b.y)return this.isPointOnSegment=!0,null;if(a.y===this.p.y&&b.y===this.p.y){var c=a.x,d=b.x;return c>d&&(c=b.x,d=a.x),this.p.x>=c&&this.p.x<=d&&(this.isPointOnSegment=!0),null}if(a.y>this.p.y&&b.y<=this.p.y||b.y>this.p.y&&a.y<=this.p.y){var e=a.x-this.p.x,f=a.y-this.p.y,g=b.x-this.p.x,h=b.y-this.p.y,i=hb.signOfDet2x2(e,f,g,h);if(0===i)return this.isPointOnSegment=!0,null;h<f&&(i=-i),i>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==A.EXTERIOR},getLocation:function(){return this.isPointOnSegment?A.BOUNDARY:this.crossingCount%2==1?A.INTERIOR:A.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return ib}}),ib.locatePointInRing=function(){if(arguments[0]instanceof n&&B(arguments[1],I)){for(var a=arguments[0],b=arguments[1],c=new ib(a),d=new n,e=new n,f=1;f<b.size();f++)if(b.getCoordinate(f,d),b.getCoordinate(f-1,e),c.countSegment(d,e),c.isOnSegment())return c.getLocation();return c.getLocation()}if(arguments[0]instanceof n&&arguments[1]instanceof Array){for(var g=arguments[0],h=arguments[1],c=new ib(g),f=1;f<h.length;f++){var d=h[f],e=h[f-1];if(c.countSegment(d,e),c.isOnSegment())return c.getLocation()}return c.getLocation()}},b(jb.prototype,{interfaces_:function(){return[]},getClass:function(){return jb}}),jb.orientationIndex=function(a,b,c){return H.orientationIndex(a,b,c)},jb.signedArea=function(){if(arguments[0]instanceof Array){var a=arguments[0];if(a.length<3)return 0;for(var b=0,c=a[0].x,d=1;d<a.length-1;d++){var e=a[d].x-c,f=a[d+1].y;b+=e*(a[d-1].y-f)}return b/2}if(B(arguments[0],I)){var g=arguments[0],h=g.size();if(h<3)return 0;var i=new n,j=new n,k=new n;g.getCoordinate(0,j),g.getCoordinate(1,k);var c=j.x;k.x-=c;for(var b=0,d=1;d<h-1;d++)i.y=j.y,j.x=k.x,j.y=k.y,g.getCoordinate(d+1,k),k.x-=c,b+=j.x*(i.y-k.y);return b/2}},jb.distanceLineLine=function(a,b,c,d){if(a.equals(b))return jb.distancePointLine(a,c,d);if(c.equals(d))return jb.distancePointLine(d,a,b);var e=!1;if(x.intersects(a,b,c,d)){var f=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x);if(0===f)e=!0;else{var g=(a.y-c.y)*(d.x-c.x)-(a.x-c.x)*(d.y-c.y),h=(a.y-c.y)*(b.x-a.x)-(a.x-c.x)*(b.y-a.y),i=h/f,j=g/f;(j<0||j>1||i<0||i>1)&&(e=!0)}}else e=!0;return e?C.min(jb.distancePointLine(a,c,d),jb.distancePointLine(b,c,d),jb.distancePointLine(c,a,b),jb.distancePointLine(d,a,b)):0},jb.isPointInRing=function(a,b){return jb.locatePointInRing(a,b)!==A.EXTERIOR},jb.computeLength=function(a){var b=a.size();if(b<=1)return 0;var c=0,d=new n;a.getCoordinate(0,d);for(var e=d.x,f=d.y,g=1;g<b;g++){a.getCoordinate(g,d);var h=d.x,i=d.y,j=h-e,k=i-f;c+=Math.sqrt(j*j+k*k),e=h,f=i}return c},jb.isCCW=function(a){var b=a.length-1;if(b<3)throw new d("Ring has fewer than 4 points, so orientation cannot be determined");for(var c=a[0],e=0,f=1;f<=b;f++){var g=a[f];g.y>c.y&&(c=g,e=f)}var h=e;do{(h-=1)<0&&(h=b)}while(a[h].equals2D(c)&&h!==e);var i=e;do{i=(i+1)%b}while(a[i].equals2D(c)&&i!==e);var j=a[h],k=a[i];if(j.equals2D(c)||k.equals2D(c)||j.equals2D(k))return!1;var l=jb.computeOrientation(j,c,k);return 0===l?j.x>k.x:l>0},jb.locatePointInRing=function(a,b){return ib.locatePointInRing(a,b)},jb.distancePointLinePerpendicular=function(a,b,c){var d=(c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y),e=((b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y))/d;return Math.abs(e)*Math.sqrt(d)},jb.computeOrientation=function(a,b,c){return jb.orientationIndex(a,b,c)},jb.distancePointLine=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(0===b.length)throw new d("Line array must contain at least one vertex");for(var c=a.distance(b[0]),e=0;e<b.length-1;e++){var f=jb.distancePointLine(a,b[e],b[e+1]);f<c&&(c=f)}return c}if(3===arguments.length){var g=arguments[0],h=arguments[1],i=arguments[2];if(h.x===i.x&&h.y===i.y)return g.distance(h);var j=(i.x-h.x)*(i.x-h.x)+(i.y-h.y)*(i.y-h.y),k=((g.x-h.x)*(i.x-h.x)+(g.y-h.y)*(i.y-h.y))/j;if(k<=0)return g.distance(h);if(k>=1)return g.distance(i);var l=((h.y-g.y)*(i.x-h.x)-(h.x-g.x)*(i.y-h.y))/j;return Math.abs(l)*Math.sqrt(j)}},jb.isOnLine=function(a,b){for(var c=new gb,d=1;d<b.length;d++){var e=b[d-1],f=b[d];if(c.computeIntersection(a,e,f),c.hasIntersection())return!0}return!1},jb.CLOCKWISE=-1,jb.RIGHT=jb.CLOCKWISE,jb.COUNTERCLOCKWISE=1,jb.LEFT=jb.COUNTERCLOCKWISE,jb.COLLINEAR=0,jb.STRAIGHT=jb.COLLINEAR,b(kb.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof kb){var a=arguments[0],b=jb.orientationIndex(this.p0,this.p1,a.p0),c=jb.orientationIndex(this.p0,this.p1,a.p1);return b>=0&&c>=0?Math.max(b,c):b<=0&&c<=0?Math.max(b,c):0}if(arguments[0]instanceof n){var d=arguments[0];return jb.orientationIndex(this.p0,this.p1,d)}},toGeometry:function(a){return a.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(a){if(!(a instanceof kb))return!1;var b=a;return this.p0.equals(b.p0)&&this.p1.equals(b.p1)},intersection:function(a){var b=new gb;return b.computeIntersection(this.p0,this.p1,a.p0,a.p1),b.hasIntersection()?b.getIntersection(0):null},project:function(){if(arguments[0]instanceof n){var a=arguments[0];if(a.equals(this.p0)||a.equals(this.p1))return new n(a);var b=this.projectionFactor(a),c=new n;return c.x=this.p0.x+b*(this.p1.x-this.p0.x),c.y=this.p0.y+b*(this.p1.y-this.p0.y),c}if(arguments[0]instanceof kb){var d=arguments[0],e=this.projectionFactor(d.p0),f=this.projectionFactor(d.p1);if(e>=1&&f>=1)return null;if(e<=0&&f<=0)return null;var g=this.project(d.p0);e<0&&(g=this.p0),e>1&&(g=this.p1);var h=this.project(d.p1);return f<0&&(h=this.p0),f>1&&(h=this.p1),new kb(g,h)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(a){return 0===a?this.p0:this.p1},distancePerpendicular:function(a){return jb.distancePointLinePerpendicular(a,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return kb.midPoint(this.p0,this.p1)},projectionFactor:function(a){if(a.equals(this.p0))return 0;if(a.equals(this.p1))return 1;var b=this.p1.x-this.p0.x,c=this.p1.y-this.p0.y,d=b*b+c*c;return d<=0?e.NaN:((a.x-this.p0.x)*b+(a.y-this.p0.y)*c)/d},closestPoints:function(a){var b=this.intersection(a);if(null!==b)return[b,b];var c=new Array(2).fill(null),d=e.MAX_VALUE,f=null,g=this.closestPoint(a.p0);d=g.distance(a.p0),c[0]=g,c[1]=a.p0;var h=this.closestPoint(a.p1);(f=h.distance(a.p1))<d&&(d=f,c[0]=h,c[1]=a.p1);var i=a.closestPoint(this.p0);(f=i.distance(this.p0))<d&&(d=f,c[0]=this.p0,c[1]=i);var j=a.closestPoint(this.p1);return f=j.distance(this.p1),f<d&&(d=f,c[0]=this.p1,c[1]=j),c},closestPoint:function(a){var b=this.projectionFactor(a);return b>0&&b<1?this.project(a):this.p0.distance(a)<this.p1.distance(a)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(a){var b=a,c=this.p0.compareTo(b.p0);return 0!==c?c:this.p1.compareTo(b.p1)},reverse:function(){var a=this.p0;this.p0=this.p1,this.p1=a},equalsTopo:function(a){return this.p0.equals(a.p0)&&this.p1.equals(a.p1)||this.p0.equals(a.p1)&&this.p1.equals(a.p0)},lineIntersection:function(a){try{return K.intersection(this.p0,this.p1,a.p0,a.p1)}catch(a){if(!(a instanceof z))throw a}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(a,b){var c=this.p0.x+a*(this.p1.x-this.p0.x),d=this.p0.y+a*(this.p1.y-this.p0.y),e=this.p1.x-this.p0.x,f=this.p1.y-this.p0.y,g=Math.sqrt(e*e+f*f),h=0,i=0;if(0!==b){if(g<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");h=b*e/g,i=b*f/g}return new n(c-i,d+h)},setCoordinates:function(){if(1===arguments.length){var a=arguments[0];this.setCoordinates(a.p0,a.p1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.p0.x=b.x,this.p0.y=b.y,this.p1.x=c.x,this.p1.y=c.y}},segmentFraction:function(a){var b=this.projectionFactor(a);return b<0?b=0:(b>1||e.isNaN(b))&&(b=1),b},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof kb){var a=arguments[0];return jb.distanceLineLine(this.p0,this.p1,a.p0,a.p1)}if(arguments[0]instanceof n){var b=arguments[0];return jb.distancePointLine(b,this.p0,this.p1)}},pointAlong:function(a){var b=new n;return b.x=this.p0.x+a*(this.p1.x-this.p0.x),b.y=this.p0.y+a*(this.p1.y-this.p0.y),b},hashCode:function(){var a=java.lang.Double.doubleToLongBits(this.p0.x);a^=31*java.lang.Double.doubleToLongBits(this.p0.y);var b=Math.trunc(a)^Math.trunc(a>>32),c=java.lang.Double.doubleToLongBits(this.p1.x);return c^=31*java.lang.Double.doubleToLongBits(this.p1.y),b^Math.trunc(c)^Math.trunc(c>>32)},interfaces_:function(){return[f,i]},getClass:function(){return kb}}),kb.midPoint=function(a,b){return new n((a.x+b.x)/2,(a.y+b.y)/2)},kb.serialVersionUID=0x2d2172135f411c00,b(lb.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(lb.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])||lb.isTrue(this.matrix[A.INTERIOR][A.BOUNDARY])||lb.isTrue(this.matrix[A.BOUNDARY][A.INTERIOR])||lb.isTrue(this.matrix[A.BOUNDARY][A.BOUNDARY]))&&this.matrix[A.EXTERIOR][A.INTERIOR]===ja.FALSE&&this.matrix[A.EXTERIOR][A.BOUNDARY]===ja.FALSE},isCoveredBy:function(){return(lb.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])||lb.isTrue(this.matrix[A.INTERIOR][A.BOUNDARY])||lb.isTrue(this.matrix[A.BOUNDARY][A.INTERIOR])||lb.isTrue(this.matrix[A.BOUNDARY][A.BOUNDARY]))&&this.matrix[A.INTERIOR][A.EXTERIOR]===ja.FALSE&&this.matrix[A.BOUNDARY][A.EXTERIOR]===ja.FALSE},set:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<a.length;b++){var c=Math.trunc(b/3),d=b%3;this.matrix[c][d]=ja.toDimensionValue(a.charAt(b))}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];this.matrix[e][f]=g}},isContains:function(){return lb.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&this.matrix[A.EXTERIOR][A.INTERIOR]===ja.FALSE&&this.matrix[A.EXTERIOR][A.BOUNDARY]===ja.FALSE},setAtLeast:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<a.length;b++){var c=Math.trunc(b/3),d=b%3;this.setAtLeast(c,d,ja.toDimensionValue(a.charAt(b)))}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];this.matrix[e][f]<g&&(this.matrix[e][f]=g)}},setAtLeastIfValid:function(a,b,c){a>=0&&b>=0&&this.setAtLeast(a,b,c)},isWithin:function(){return lb.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&this.matrix[A.INTERIOR][A.EXTERIOR]===ja.FALSE&&this.matrix[A.BOUNDARY][A.EXTERIOR]===ja.FALSE},isTouches:function(a,b){return a>b?this.isTouches(b,a):(a===ja.A&&b===ja.A||a===ja.L&&b===ja.L||a===ja.L&&b===ja.A||a===ja.P&&b===ja.A||a===ja.P&&b===ja.L)&&this.matrix[A.INTERIOR][A.INTERIOR]===ja.FALSE&&(lb.isTrue(this.matrix[A.INTERIOR][A.BOUNDARY])||lb.isTrue(this.matrix[A.BOUNDARY][A.INTERIOR])||lb.isTrue(this.matrix[A.BOUNDARY][A.BOUNDARY]))},isOverlaps:function(a,b){return a===ja.P&&b===ja.P||a===ja.A&&b===ja.A?lb.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&lb.isTrue(this.matrix[A.INTERIOR][A.EXTERIOR])&&lb.isTrue(this.matrix[A.EXTERIOR][A.INTERIOR]):a===ja.L&&b===ja.L&&1===this.matrix[A.INTERIOR][A.INTERIOR]&&lb.isTrue(this.matrix[A.INTERIOR][A.EXTERIOR])&&lb.isTrue(this.matrix[A.EXTERIOR][A.INTERIOR])},isEquals:function(a,b){return a===b&&lb.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&this.matrix[A.INTERIOR][A.EXTERIOR]===ja.FALSE&&this.matrix[A.BOUNDARY][A.EXTERIOR]===ja.FALSE&&this.matrix[A.EXTERIOR][A.INTERIOR]===ja.FALSE&&this.matrix[A.EXTERIOR][A.BOUNDARY]===ja.FALSE},toString:function(){for(var a=new D("123456789"),b=0;b<3;b++)for(var c=0;c<3;c++)a.setCharAt(3*b+c,ja.toDimensionSymbol(this.matrix[b][c]));return a.toString()},setAll:function(a){for(var b=0;b<3;b++)for(var c=0;c<3;c++)this.matrix[b][c]=a},get:function(a,b){return this.matrix[a][b]},transpose:function(){var a=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=a,a=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=a,a=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=a,this},matches:function(a){if(9!==a.length)throw new d("Should be length 9: "+a);for(var b=0;b<3;b++)for(var c=0;c<3;c++)if(!lb.matches(this.matrix[b][c],a.charAt(3*b+c)))return!1;return!0},add:function(a){for(var b=0;b<3;b++)for(var c=0;c<3;c++)this.setAtLeast(b,c,a.get(b,c))},isDisjoint:function(){return this.matrix[A.INTERIOR][A.INTERIOR]===ja.FALSE&&this.matrix[A.INTERIOR][A.BOUNDARY]===ja.FALSE&&this.matrix[A.BOUNDARY][A.INTERIOR]===ja.FALSE&&this.matrix[A.BOUNDARY][A.BOUNDARY]===ja.FALSE},isCrosses:function(a,b){return a===ja.P&&b===ja.L||a===ja.P&&b===ja.A||a===ja.L&&b===ja.A?lb.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&lb.isTrue(this.matrix[A.INTERIOR][A.EXTERIOR]):a===ja.L&&b===ja.P||a===ja.A&&b===ja.P||a===ja.A&&b===ja.L?lb.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&lb.isTrue(this.matrix[A.EXTERIOR][A.INTERIOR]):a===ja.L&&b===ja.L&&0===this.matrix[A.INTERIOR][A.INTERIOR]},interfaces_:function(){return[g]},getClass:function(){return lb}}),lb.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var a=arguments[0],b=arguments[1];return b===ja.SYM_DONTCARE||b===ja.SYM_TRUE&&(a>=0||a===ja.TRUE)||b===ja.SYM_FALSE&&a===ja.FALSE||b===ja.SYM_P&&a===ja.P||b===ja.SYM_L&&a===ja.L||b===ja.SYM_A&&a===ja.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var c=arguments[0],d=arguments[1];return new lb(c).matches(d)}},lb.isTrue=function(a){return a>=0||a===ja.TRUE};var hg=Object.freeze({Coordinate:n,CoordinateList:w,Envelope:x,LineSegment:kb,GeometryFactory:cb,Geometry:N,Point:Aa,LineString:ya,LinearRing:Ea,Polygon:Ca,GeometryCollection:ma,MultiPoint:Da,MultiLineString:na,MultiPolygon:Fa,Dimension:ja,IntersectionMatrix:lb,PrecisionModel:ab});b(mb.prototype,{addPoint:function(a){this.ptCount+=1,this.ptCentSum.x+=a.x,this.ptCentSum.y+=a.y},setBasePoint:function(a){null===this.areaBasePt&&(this.areaBasePt=a)},addLineSegments:function(a){for(var b=0,c=0;c<a.length-1;c++){var d=a[c].distance(a[c+1]);if(0!==d){b+=d;var e=(a[c].x+a[c+1].x)/2;this.lineCentSum.x+=d*e;var f=(a[c].y+a[c+1].y)/2;this.lineCentSum.y+=d*f}}this.totalLength+=b,0===b&&a.length>0&&this.addPoint(a[0])},addHole:function(a){for(var b=jb.isCCW(a),c=0;c<a.length-1;c++)this.addTriangle(this.areaBasePt,a[c],a[c+1],b);this.addLineSegments(a)},getCentroid:function(){var a=new n;if(Math.abs(this.areasum2)>0)a.x=this.cg3.x/3/this.areasum2,a.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)a.x=this.lineCentSum.x/this.totalLength,a.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;a.x=this.ptCentSum.x/this.ptCount,a.y=this.ptCentSum.y/this.ptCount}return a},addShell:function(a){a.length>0&&this.setBasePoint(a[0]);for(var b=!jb.isCCW(a),c=0;c<a.length-1;c++)this.addTriangle(this.areaBasePt,a[c],a[c+1],b);this.addLineSegments(a)},addTriangle:function(a,b,c,d){var e=d?1:-1;mb.centroid3(a,b,c,this.triangleCent3);var f=mb.area2(a,b,c);this.cg3.x+=e*f*this.triangleCent3.x,this.cg3.y+=e*f*this.triangleCent3.y,this.areasum2+=e*f},add:function(){if(arguments[0]instanceof Ca){var a=arguments[0];this.addShell(a.getExteriorRing().getCoordinates());for(var b=0;b<a.getNumInteriorRing();b++)this.addHole(a.getInteriorRingN(b).getCoordinates())}else if(arguments[0]instanceof N){var c=arguments[0];if(c.isEmpty())return null;if(c instanceof Aa)this.addPoint(c.getCoordinate());else if(c instanceof ya)this.addLineSegments(c.getCoordinates());else if(c instanceof Ca){var d=c;this.add(d)}else if(c instanceof ma)for(var e=c,b=0;b<e.getNumGeometries();b++)this.add(e.getGeometryN(b))}},interfaces_:function(){return[]},getClass:function(){return mb}}),mb.area2=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(c.x-a.x)*(b.y-a.y)},mb.centroid3=function(a,b,c,d){return d.x=a.x+b.x+c.x,d.y=a.y+b.y+c.y,null},mb.getCentroid=function(a){return new mb(a).getCentroid()},nb.prototype=new Error,nb.prototype.name="EmptyStackException",ob.prototype=new s,ob.prototype.add=function(a){return this.array_.push(a),!0},ob.prototype.get=function(a){if(a<0||a>=this.size())throw new IndexOutOfBoundsException;return this.array_[a]},ob.prototype.push=function(a){return this.array_.push(a),a},ob.prototype.pop=function(a){if(0===this.array_.length)throw new nb;return this.array_.pop()},ob.prototype.peek=function(){if(0===this.array_.length)throw new nb;return this.array_[this.array_.length-1]},ob.prototype.empty=function(){return 0===this.array_.length},ob.prototype.isEmpty=function(){return this.empty()},ob.prototype.search=function(a){return this.array_.indexOf(a)},ob.prototype.size=function(){return this.array_.length},ob.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},b(pb.prototype,{filter:function(a){this.treeSet.contains(a)||(this.list.add(a),this.treeSet.add(a))},getCoordinates:function(){var a=new Array(this.list.size()).fill(null);return this.list.toArray(a)},interfaces_:function(){return[O]},getClass:function(){return pb}}),pb.filterCoordinates=function(a){for(var b=new pb,c=0;c<a.length;c++)b.filter(a[c]);return b.getCoordinates()},b(qb.prototype,{preSort:function(a){for(var b=null,c=1;c<a.length;c++)(a[c].y<a[0].y||a[c].y===a[0].y&&a[c].x<a[0].x)&&(b=a[0],a[0]=a[c],a[c]=b);return ia.sort(a,1,a.length,new rb(a[0])),a},computeOctRing:function(a){var b=this.computeOctPts(a),c=new w;return c.add(b,!1),c.size()<3?null:(c.closeRing(),c.toCoordinateArray())},lineOrPolygon:function(a){if(a=this.cleanRing(a),3===a.length)return this.geomFactory.createLineString([a[0],a[1]]);var b=this.geomFactory.createLinearRing(a);return this.geomFactory.createPolygon(b,null)},cleanRing:function(a){m.equals(a[0],a[a.length-1]);for(var b=new v,c=null,d=0;d<=a.length-2;d++){var e=a[d],f=a[d+1];e.equals(f)||null!==c&&this.isBetween(c,e,f)||(b.add(e),c=e)}b.add(a[a.length-1]);var g=new Array(b.size()).fill(null);return b.toArray(g)},isBetween:function(a,b,c){if(0!==jb.computeOrientation(a,b,c))return!1;if(a.x!==c.x){if(a.x<=b.x&&b.x<=c.x)return!0;if(c.x<=b.x&&b.x<=a.x)return!0}if(a.y!==c.y){if(a.y<=b.y&&b.y<=c.y)return!0;if(c.y<=b.y&&b.y<=a.y)return!0}return!1},reduce:function(a){var b=this.computeOctRing(a);if(null===b)return a;for(var c=new ha,d=0;d<b.length;d++)c.add(b[d]);for(var d=0;d<a.length;d++)jb.isPointInRing(a[d],b)||c.add(a[d]);var e=U.toCoordinateArray(c);return e.length<3?this.padArray3(e):e},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var a=this.inputPts;this.inputPts.length>50&&(a=this.reduce(this.inputPts));var b=this.preSort(a),c=this.grahamScan(b),d=this.toCoordinateArray(c);return this.lineOrPolygon(d)},padArray3:function(a){for(var b=new Array(3).fill(null),c=0;c<b.length;c++)c<a.length?b[c]=a[c]:b[c]=a[0];return b},computeOctPts:function(a){for(var b=new Array(8).fill(null),c=0;c<b.length;c++)b[c]=a[0];for(var d=1;d<a.length;d++)a[d].x<b[0].x&&(b[0]=a[d]),a[d].x-a[d].y<b[1].x-b[1].y&&(b[1]=a[d]),a[d].y>b[2].y&&(b[2]=a[d]),a[d].x+a[d].y>b[3].x+b[3].y&&(b[3]=a[d]),a[d].x>b[4].x&&(b[4]=a[d]),a[d].x-a[d].y>b[5].x-b[5].y&&(b[5]=a[d]),a[d].y<b[6].y&&(b[6]=a[d]),a[d].x+a[d].y<b[7].x+b[7].y&&(b[7]=a[d]);return b},toCoordinateArray:function(a){for(var b=new Array(a.size()).fill(null),c=0;c<a.size();c++){var d=a.get(c);b[c]=d}return b},grahamScan:function(a){var b=null,c=new ob;b=c.push(a[0]),b=c.push(a[1]),b=c.push(a[2]);for(var d=3;d<a.length;d++){for(b=c.pop();!c.empty()&&jb.computeOrientation(c.peek(),b,a[d])>0;)b=c.pop();b=c.push(b),b=c.push(a[d])}return b=c.push(a[0]),c},interfaces_:function(){return[]},getClass:function(){return qb}}),qb.extractCoordinates=function(a){var b=new pb;return a.apply(b),b.getCoordinates()},b(rb.prototype,{compare:function(a,b){var c=a,d=b;return rb.polarCompare(this.origin,c,d)},interfaces_:function(){return[h]},getClass:function(){return rb}}),rb.polarCompare=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,f=c.x-a.x,g=c.y-a.y,h=jb.computeOrientation(a,b,c);if(h===jb.COUNTERCLOCKWISE)return 1;if(h===jb.CLOCKWISE)return-1;var i=d*d+e*e,j=f*f+g*g;return i<j?-1:i>j?1:0},qb.RadialComparator=rb,b(sb.prototype,{transformPoint:function(a,b){return this.factory.createPoint(this.transformCoordinates(a.getCoordinateSequence(),a))},transformPolygon:function(a,b){var c=!0,d=this.transformLinearRing(a.getExteriorRing(),a);null!==d&&d instanceof Ea&&!d.isEmpty()||(c=!1);for(var e=new v,f=0;f<a.getNumInteriorRing();f++){var g=this.transformLinearRing(a.getInteriorRingN(f),a);null===g||g.isEmpty()||(g instanceof Ea||(c=!1),e.add(g))}if(c)return this.factory.createPolygon(d,e.toArray([]));var h=new v;return null!==d&&h.add(d),h.addAll(e),this.factory.buildGeometry(h)},createCoordinateSequence:function(a){return this.factory.getCoordinateSequenceFactory().create(a)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(a,b){for(var c=new v,d=0;d<a.getNumGeometries();d++){var e=this.transformLineString(a.getGeometryN(d),a);null!==e&&(e.isEmpty()||c.add(e))}return this.factory.buildGeometry(c)},transformCoordinates:function(a,b){return this.copy(a)},transformLineString:function(a,b){return this.factory.createLineString(this.transformCoordinates(a.getCoordinateSequence(),a))},transformMultiPoint:function(a,b){for(var c=new v,d=0;d<a.getNumGeometries();d++){var e=this.transformPoint(a.getGeometryN(d),a);null!==e&&(e.isEmpty()||c.add(e))}return this.factory.buildGeometry(c)},transformMultiPolygon:function(a,b){for(var c=new v,d=0;d<a.getNumGeometries();d++){var e=this.transformPolygon(a.getGeometryN(d),a);null!==e&&(e.isEmpty()||c.add(e))}return this.factory.buildGeometry(c)},copy:function(a){return a.copy()},transformGeometryCollection:function(a,b){for(var c=new v,d=0;d<a.getNumGeometries();d++){var e=this.transform(a.getGeometryN(d));null!==e&&(this.pruneEmptyGeometry&&e.isEmpty()||c.add(e))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(cb.toGeometryArray(c)):this.factory.buildGeometry(c)},transform:function(a){if(this.inputGeom=a,this.factory=a.getFactory(),a instanceof Aa)return this.transformPoint(a,null);if(a instanceof Da)return this.transformMultiPoint(a,null);if(a instanceof Ea)return this.transformLinearRing(a,null);if(a instanceof ya)return this.transformLineString(a,null);if(a instanceof na)return this.transformMultiLineString(a,null);if(a instanceof Ca)return this.transformPolygon(a,null);if(a instanceof Fa)return this.transformMultiPolygon(a,null);if(a instanceof ma)return this.transformGeometryCollection(a,null);throw new d("Unknown Geometry subtype: "+a.getClass().getName())},transformLinearRing:function(a,b){var c=this.transformCoordinates(a.getCoordinateSequence(),a);if(null===c)return this.factory.createLinearRing(null);var d=c.size();return d>0&&d<4&&!this.preserveType?this.factory.createLineString(c):this.factory.createLinearRing(c)},interfaces_:function(){return[]},getClass:function(){return sb}}),b(tb.prototype,{snapVertices:function(a,b){for(var c=this._isClosed?a.size()-1:a.size(),d=0;d<c;d++){var e=a.get(d),f=this.findSnapForVertex(e,b);null!==f&&(a.set(d,new n(f)),0===d&&this._isClosed&&a.set(a.size()-1,new n(f)))}},findSnapForVertex:function(a,b){for(var c=0;c<b.length;c++){if(a.equals2D(b[c]))return null;if(a.distance(b[c])<this.snapTolerance)return b[c]}return null},snapTo:function(a){var b=new w(this.srcPts);return this.snapVertices(b,a),this.snapSegments(b,a),b.toCoordinateArray()},snapSegments:function(a,b){if(0===b.length)return null;var c=b.length;b[0].equals2D(b[b.length-1])&&(c=b.length-1);for(var d=0;d<c;d++){var e=b[d],f=this.findSegmentIndexToSnap(e,a);f>=0&&a.add(f+1,new n(e),!1)}},findSegmentIndexToSnap:function(a,b){for(var c=e.MAX_VALUE,d=-1,f=0;f<b.size()-1;f++){if(this.seg.p0=b.get(f),this.seg.p1=b.get(f+1),this.seg.p0.equals2D(a)||this.seg.p1.equals2D(a)){if(this.allowSnappingToSourceVertices)continue;return-1}var g=this.seg.distance(a);g<this.snapTolerance&&g<c&&(c=g,d=f)}return d},setAllowSnappingToSourceVertices:function(a){this.allowSnappingToSourceVertices=a},interfaces_:function(){return[]},getClass:function(){return tb}}),tb.isClosed=function(a){return!(a.length<=1)&&a[0].equals2D(a[a.length-1])},b(ub.prototype,{snapTo:function(a,b){return new vb(b,this.extractTargetCoordinates(a)).transform(this.srcGeom)},snapToSelf:function(a,b){var c=this.extractTargetCoordinates(this.srcGeom),d=new vb(a,c,!0),e=d.transform(this.srcGeom),f=e;return b&&B(f,Ba)&&(f=e.buffer(0)),f},computeSnapTolerance:function(a){return this.computeMinimumSegmentLength(a)/10},extractTargetCoordinates:function(a){for(var b=new ha,c=a.getCoordinates(),d=0;d<c.length;d++)b.add(c[d]);return b.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(a){for(var b=e.MAX_VALUE,c=0;c<a.length-1;c++){var d=a[c].distance(a[c+1]);d<b&&(b=d)}return b},interfaces_:function(){return[]},getClass:function(){return ub}}),ub.snap=function(a,b,c){var d=new Array(2).fill(null),e=new ub(a);d[0]=e.snapTo(b,c);var f=new ub(b);return d[1]=f.snapTo(d[0],c),d},ub.computeOverlaySnapTolerance=function(){if(1===arguments.length){var a=arguments[0],b=ub.computeSizeBasedSnapTolerance(a),c=a.getPrecisionModel();if(c.getType()===ab.FIXED){var d=1/c.getScale()*2/1.415;d>b&&(b=d)}return b}if(2===arguments.length){var e=arguments[0],f=arguments[1];return Math.min(ub.computeOverlaySnapTolerance(e),ub.computeOverlaySnapTolerance(f))}},ub.computeSizeBasedSnapTolerance=function(a){var b=a.getEnvelopeInternal();return Math.min(b.getHeight(),b.getWidth())*ub.SNAP_PRECISION_FACTOR},ub.snapToSelf=function(a,b,c){return new ub(a).snapToSelf(b,c)},ub.SNAP_PRECISION_FACTOR=1e-9,k(vb,sb),b(vb.prototype,{snapLine:function(a,b){var c=new tb(a,this.snapTolerance);return c.setAllowSnappingToSourceVertices(this.isSelfSnap),c.snapTo(b)},transformCoordinates:function(a,b){var c=a.toCoordinateArray(),d=this.snapLine(c,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(d)},interfaces_:function(){return[]},getClass:function(){return vb}}),b(wb.prototype,{getCommon:function(){return e.longBitsToDouble(this.commonBits)},add:function(a){var b=e.doubleToLongBits(a);return this.isFirst?(this.commonBits=b,this.commonSignExp=wb.signExpBits(this.commonBits),this.isFirst=!1,null):wb.signExpBits(b)!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=wb.numCommonMostSigMantissaBits(this.commonBits,b),void(this.commonBits=wb.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var a=arguments[0],b=e.longBitsToDouble(a),c=Long.toBinaryString(a),d="0000000000000000000000000000000000000000000000000000000000000000"+c,f=d.substring(d.length-64);return f.substring(0,1)+"  "+f.substring(1,12)+"(exp) "+f.substring(12)+" [ "+b+" ]"}},interfaces_:function(){return[]},getClass:function(){return wb}}),wb.getBit=function(a,b){return 0!=(a&1<<b)?1:0},wb.signExpBits=function(a){return a>>52},wb.zeroLowerBits=function(a,b){return a&~((1<<b)-1)},wb.numCommonMostSigMantissaBits=function(a,b){for(var c=0,d=52;d>=0;d--){if(wb.getBit(a,d)!==wb.getBit(b,d))return c;c++}return 52},b(xb.prototype,{addCommonBits:function(a){var b=new zb(this.commonCoord);a.apply(b),a.geometryChanged()},removeCommonBits:function(a){if(0===this.commonCoord.x&&0===this.commonCoord.y)return a;var b=new n(this.commonCoord);b.x=-b.x,b.y=-b.y;var c=new zb(b);return a.apply(c),a.geometryChanged(),a},getCommonCoordinate:function(){return this.commonCoord},add:function(a){a.apply(this.ccFilter),
this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return xb}}),b(yb.prototype,{filter:function(a){this.commonBitsX.add(a.x),this.commonBitsY.add(a.y)},getCommonCoordinate:function(){return new n(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[O]},getClass:function(){return yb}}),b(zb.prototype,{filter:function(a,b){var c=a.getOrdinate(b,0)+this.trans.x,d=a.getOrdinate(b,1)+this.trans.y;a.setOrdinate(b,0,c),a.setOrdinate(b,1,d)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[la]},getClass:function(){return zb}}),xb.CommonCoordinateFilter=yb,xb.Translater=zb,b(Ab.prototype,{next:function(){if(this.atStart)return this.atStart=!1,Ab.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new t;var a=this.parent.getGeometryN(this.index++);return a instanceof ma?(this.subcollectionIterator=new Ab(a),this.subcollectionIterator.next()):a},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[p]},getClass:function(){return Ab}}),Ab.isAtomic=function(a){return!(a instanceof ma)},b(Bb.prototype,{locateInternal:function(){if(arguments[0]instanceof n&&arguments[1]instanceof Ca){var a=arguments[0],b=arguments[1];if(b.isEmpty())return A.EXTERIOR;var c=b.getExteriorRing(),d=this.locateInPolygonRing(a,c);if(d===A.EXTERIOR)return A.EXTERIOR;if(d===A.BOUNDARY)return A.BOUNDARY;for(var e=0;e<b.getNumInteriorRing();e++){var f=b.getInteriorRingN(e),g=this.locateInPolygonRing(a,f);if(g===A.INTERIOR)return A.EXTERIOR;if(g===A.BOUNDARY)return A.BOUNDARY}return A.INTERIOR}if(arguments[0]instanceof n&&arguments[1]instanceof ya){var h=arguments[0],i=arguments[1];if(!i.getEnvelopeInternal().intersects(h))return A.EXTERIOR;var j=i.getCoordinates();return i.isClosed()||!h.equals(j[0])&&!h.equals(j[j.length-1])?jb.isOnLine(h,j)?A.INTERIOR:A.EXTERIOR:A.BOUNDARY}if(arguments[0]instanceof n&&arguments[1]instanceof Aa){var k=arguments[0];return arguments[1].getCoordinate().equals2D(k)?A.INTERIOR:A.EXTERIOR}},locateInPolygonRing:function(a,b){return b.getEnvelopeInternal().intersects(a)?jb.locatePointInRing(a,b.getCoordinates()):A.EXTERIOR},intersects:function(a,b){return this.locate(a,b)!==A.EXTERIOR},updateLocationInfo:function(a){a===A.INTERIOR&&(this.isIn=!0),a===A.BOUNDARY&&this.numBoundaries++},computeLocation:function(a,b){if(b instanceof Aa&&this.updateLocationInfo(this.locateInternal(a,b)),b instanceof ya)this.updateLocationInfo(this.locateInternal(a,b));else if(b instanceof Ca)this.updateLocationInfo(this.locateInternal(a,b));else if(b instanceof na)for(var c=b,d=0;d<c.getNumGeometries();d++){var e=c.getGeometryN(d);this.updateLocationInfo(this.locateInternal(a,e))}else if(b instanceof Fa)for(var f=b,d=0;d<f.getNumGeometries();d++){var g=f.getGeometryN(d);this.updateLocationInfo(this.locateInternal(a,g))}else if(b instanceof ma)for(var h=new Ab(b);h.hasNext();){var i=h.next();i!==b&&this.computeLocation(a,i)}},locate:function(a,b){return b.isEmpty()?A.EXTERIOR:b instanceof ya?this.locateInternal(a,b):b instanceof Ca?this.locateInternal(a,b):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(a,b),this.boundaryRule.isInBoundary(this.numBoundaries)?A.BOUNDARY:this.numBoundaries>0||this.isIn?A.INTERIOR:A.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return Bb}}),b(Cb.prototype,{interfaces_:function(){return[]},getClass:function(){return Cb}}),Cb.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];if(0===a&&0===b)throw new d("Cannot compute the octant for point ( "+a+", "+b+" )");var c=Math.abs(a),e=Math.abs(b);return a>=0?b>=0?c>=e?0:1:c>=e?7:6:b>=0?c>=e?3:2:c>=e?4:5}if(arguments[0]instanceof n&&arguments[1]instanceof n){var f=arguments[0],g=arguments[1],h=g.x-f.x,i=g.y-f.y;if(0===h&&0===i)throw new d("Cannot compute the octant for two identical points "+f);return Cb.octant(h,i)}},b(Db.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(a){},isClosed:function(){},setData:function(a){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return Db}}),b(Eb.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(a){return this.pts[a]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(a){return a===this.pts.length-1?-1:Cb.octant(this.getCoordinate(a),this.getCoordinate(a+1))},setData:function(a){this.data=a},getData:function(){return this.data},toString:function(){return eb.toLineString(new La(this.pts))},interfaces_:function(){return[Db]},getClass:function(){return Eb}}),b(Fb.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return Fb}}),b(Gb.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[Fb,i]},getClass:function(){return Gb}}),b(Hb.prototype,{poll:function(){if(this.isEmpty())return null;var a=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),a},size:function(){return this._size},reorder:function(a){for(var b=null,c=this.items.get(a);2*a<=this._size&&(b=2*a,b!==this._size&&this.items.get(b+1).compareTo(this.items.get(b))<0&&b++,this.items.get(b).compareTo(c)<0);a=b)this.items.set(a,this.items.get(b));this.items.set(a,c)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(a){this.items.add(null),this._size+=1;var b=this._size;for(this.items.set(0,a);a.compareTo(this.items.get(Math.trunc(b/2)))<0;b/=2)this.items.set(b,this.items.get(Math.trunc(b/2)));this.items.set(b,a)},interfaces_:function(){return[]},getClass:function(){return Hb}}),b(Ib.prototype,{visitItem:function(a){},interfaces_:function(){return[]},getClass:function(){return Ib}}),b(Jb.prototype,{insert:function(a,b){},remove:function(a,b){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return Jb}}),b(Kb.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(a){m.isTrue(null===this.bounds),this.childBoundables.add(a)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[Fb,i]},getClass:function(){return Kb}}),Kb.serialVersionUID=0x5a1e55ec41369800;var ig={reverseOrder:function(){return{compare:function(a,b){return b.compareTo(a)}}},min:function(a){return ig.sort(a),a.get(0)},sort:function(a,b){var c=a.toArray();b?ia.sort(c,b):ia.sort(c);for(var d=a.iterator(),e=0,f=c.length;e<f;e++)d.next(),d.set(c[e])},singletonList:function(a){var b=new v;return b.add(a),b}};b(Lb.prototype,{expandToQueue:function(a,b){var c=Lb.isComposite(this.boundable1),e=Lb.isComposite(this.boundable2);if(c&&e)return Lb.area(this.boundable1)>Lb.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,a,b),null):(this.expand(this.boundable2,this.boundable1,a,b),null);if(c)return this.expand(this.boundable1,this.boundable2,a,b),null;if(e)return this.expand(this.boundable2,this.boundable1,a,b),null;throw new d("neither boundable is composite")},isLeaves:function(){return!(Lb.isComposite(this.boundable1)||Lb.isComposite(this.boundable2))},compareTo:function(a){var b=a;return this._distance<b._distance?-1:this._distance>b._distance?1:0},expand:function(a,b,c,d){for(var e=a.getChildBoundables(),f=e.iterator();f.hasNext();){var g=f.next(),h=new Lb(g,b,this.itemDistance);h.getDistance()<d&&c.add(h)}},getBoundable:function(a){return 0===a?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[f]},getClass:function(){return Lb}}),Lb.area=function(a){return a.getBounds().getArea()},Lb.isComposite=function(a){return a instanceof Kb},b(Mb.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(a){return a.get(a.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var a=arguments[0],b=0,c=a.getChildBoundables().iterator();c.hasNext();){var d=c.next();d instanceof Kb?b+=this.size(d):d instanceof Gb&&(b+=1)}return b}},removeItem:function(a,b){for(var c=null,d=a.getChildBoundables().iterator();d.hasNext();){var e=d.next();e instanceof Gb&&e.getItem()===b&&(c=e)}return null!==c&&(a.getChildBoundables().remove(c),!0)},itemsTree:function(){if(0===arguments.length){this.build();var a=this.itemsTree(this.root);return null===a?new v:a}if(1===arguments.length){for(var b=arguments[0],c=new v,d=b.getChildBoundables().iterator();d.hasNext();){var e=d.next();if(e instanceof Kb){var f=this.itemsTree(e);null!==f&&c.add(f)}else e instanceof Gb?c.add(e.getItem()):m.shouldNeverReachHere()}return c.size()<=0?null:c}},insert:function(a,b){m.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new Gb(a,b))},boundablesAtLevel:function(){if(1===arguments.length){var a=arguments[0],b=new v;return this.boundablesAtLevel(a,this.root,b),b}if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];if(m.isTrue(c>-2),d.getLevel()===c)return e.add(d),null;for(var f=d.getChildBoundables().iterator();f.hasNext();){var g=f.next();g instanceof Kb?this.boundablesAtLevel(c,g,e):(m.isTrue(g instanceof Gb),-1===c&&e.add(g))}return null}},query:function(){if(1===arguments.length){var a=arguments[0];this.build();var b=new v;return this.isEmpty()?b:(this.getIntersectsOp().intersects(this.root.getBounds(),a)&&this.query(a,this.root,b),b)}if(2===arguments.length){var c=arguments[0],d=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),c)&&this.query(c,this.root,d)}else if(3===arguments.length)if(B(arguments[2],Ib)&&arguments[0]instanceof Object&&arguments[1]instanceof Kb)for(var e=arguments[0],f=arguments[1],g=arguments[2],h=f.getChildBoundables(),i=0;i<h.size();i++){var j=h.get(i);this.getIntersectsOp().intersects(j.getBounds(),e)&&(j instanceof Kb?this.query(e,j,g):j instanceof Gb?g.visitItem(j.getItem()):m.shouldNeverReachHere())}else if(B(arguments[2],s)&&arguments[0]instanceof Object&&arguments[1]instanceof Kb)for(var k=arguments[0],l=arguments[1],n=arguments[2],h=l.getChildBoundables(),i=0;i<h.size();i++){var j=h.get(i);this.getIntersectsOp().intersects(j.getBounds(),k)&&(j instanceof Kb?this.query(k,j,n):j instanceof Gb?n.add(j.getItem()):m.shouldNeverReachHere())}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),a)&&this.remove(a,this.root,b)}if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2],f=this.removeItem(d,e);if(f)return!0;for(var g=null,h=d.getChildBoundables().iterator();h.hasNext();){var i=h.next();if(this.getIntersectsOp().intersects(i.getBounds(),c)&&i instanceof Kb&&(f=this.remove(c,i,e))){g=i;break}}return null!==g&&g.getChildBoundables().isEmpty()&&d.getChildBoundables().remove(g),f}},createHigherLevels:function(a,b){m.isTrue(!a.isEmpty());var c=this.createParentBoundables(a,b+1);return 1===c.size()?c.get(0):this.createHigherLevels(c,b+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var a=arguments[0],b=0,c=a.getChildBoundables().iterator();c.hasNext();){var d=c.next();if(d instanceof Kb){var e=this.depth(d);e>b&&(b=e)}}return b+1}},createParentBoundables:function(a,b){m.isTrue(!a.isEmpty());var c=new v;c.add(this.createNode(b));var d=new v(a);ig.sort(d,this.getComparator());for(var e=d.iterator();e.hasNext();){var f=e.next();this.lastNode(c).getChildBoundables().size()===this.getNodeCapacity()&&c.add(this.createNode(b)),this.lastNode(c).addChildBoundable(f)}return c},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[i]},getClass:function(){return Mb}}),Mb.compareDoubles=function(a,b){return a>b?1:a<b?-1:0},Mb.IntersectsOp=Nb,Mb.serialVersionUID=-0x35ef64c82d4c5400,Mb.DEFAULT_NODE_CAPACITY=10,b(Ob.prototype,{distance:function(a,b){},interfaces_:function(){return[]},getClass:function(){return Ob}}),k(Pb,Mb),b(Pb.prototype,{createParentBoundablesFromVerticalSlices:function(a,b){m.isTrue(a.length>0);for(var c=new v,d=0;d<a.length;d++)c.addAll(this.createParentBoundablesFromVerticalSlice(a[d],b));return c},createNode:function(a){return new Qb(a)},size:function(){return 0===arguments.length?Mb.prototype.size.call(this):Mb.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return Mb.prototype.insert.apply(this,arguments);var a=arguments[0],b=arguments[1];return a.isNull()?null:void Mb.prototype.insert.call(this,a,b)},getIntersectsOp:function(){return Pb.intersectsOp},verticalSlices:function(a,b){for(var c=Math.trunc(Math.ceil(a.size()/b)),d=new Array(b).fill(null),e=a.iterator(),f=0;f<b;f++){d[f]=new v;for(var g=0;e.hasNext()&&g<c;){var h=e.next();d[f].add(h),g++}}return d},query:function(){if(1===arguments.length){var a=arguments[0];return Mb.prototype.query.call(this,a)}if(2===arguments.length){var b=arguments[0],c=arguments[1];Mb.prototype.query.call(this,b,c)}else if(3===arguments.length)if(B(arguments[2],Ib)&&arguments[0]instanceof Object&&arguments[1]instanceof Kb){var d=arguments[0],e=arguments[1],f=arguments[2];Mb.prototype.query.call(this,d,e,f)}else if(B(arguments[2],s)&&arguments[0]instanceof Object&&arguments[1]instanceof Kb){var g=arguments[0],h=arguments[1],i=arguments[2];Mb.prototype.query.call(this,g,h,i)}},getComparator:function(){return Pb.yComparator},createParentBoundablesFromVerticalSlice:function(a,b){return Mb.prototype.createParentBoundables.call(this,a,b)},remove:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return Mb.prototype.remove.call(this,a,b)}return Mb.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?Mb.prototype.depth.call(this):Mb.prototype.depth.apply(this,arguments)},createParentBoundables:function(a,b){m.isTrue(!a.isEmpty());var c=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),d=new v(a);ig.sort(d,Pb.xComparator);var e=this.verticalSlices(d,Math.trunc(Math.ceil(Math.sqrt(c))));return this.createParentBoundablesFromVerticalSlices(e,b)},nearestNeighbour:function(){if(1===arguments.length){if(B(arguments[0],Ob)){var a=arguments[0],b=new Lb(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(b)}if(arguments[0]instanceof Lb){var c=arguments[0];return this.nearestNeighbour(c,e.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof Pb&&B(arguments[1],Ob)){var d=arguments[0],f=arguments[1],b=new Lb(this.getRoot(),d.getRoot(),f);return this.nearestNeighbour(b)}if(arguments[0]instanceof Lb&&"number"==typeof arguments[1]){var g=arguments[0],h=arguments[1],i=h,j=null,k=new Hb;for(k.add(g);!k.isEmpty()&&i>0;){var l=k.poll(),m=l.getDistance();if(m>=i)break;l.isLeaves()?(i=m,j=l):l.expandToQueue(k,i)}return[j.getBoundable(0).getItem(),j.getBoundable(1).getItem()]}}else if(3===arguments.length){var n=arguments[0],o=arguments[1],p=arguments[2],q=new Gb(n,o),b=new Lb(this.getRoot(),q,p);return this.nearestNeighbour(b)[0]}},interfaces_:function(){return[Jb,i]},getClass:function(){return Pb}}),Pb.centreX=function(a){return Pb.avg(a.getMinX(),a.getMaxX())},Pb.avg=function(a,b){return(a+b)/2},Pb.centreY=function(a){return Pb.avg(a.getMinY(),a.getMaxY())},k(Qb,Kb),b(Qb.prototype,{computeBounds:function(){for(var a=null,b=this.getChildBoundables().iterator();b.hasNext();){var c=b.next();null===a?a=new x(c.getBounds()):a.expandToInclude(c.getBounds())}return a},interfaces_:function(){return[]},getClass:function(){return Qb}}),Pb.STRtreeNode=Qb,Pb.serialVersionUID=0x39920f7d5f261e0,Pb.xComparator={interfaces_:function(){return[h]},compare:function(a,b){return Mb.compareDoubles(Pb.centreX(a.getBounds()),Pb.centreX(b.getBounds()))}},Pb.yComparator={interfaces_:function(){return[h]},compare:function(a,b){return Mb.compareDoubles(Pb.centreY(a.getBounds()),Pb.centreY(b.getBounds()))}},Pb.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(a,b){return a.intersects(b)}},Pb.DEFAULT_NODE_CAPACITY=10,b(Rb.prototype,{interfaces_:function(){return[]},getClass:function(){return Rb}}),Rb.relativeSign=function(a,b){return a<b?-1:a>b?1:0},Rb.compare=function(a,b,c){if(b.equals2D(c))return 0;var d=Rb.relativeSign(b.x,c.x),e=Rb.relativeSign(b.y,c.y);switch(a){case 0:return Rb.compareValue(d,e);case 1:return Rb.compareValue(e,d);case 2:return Rb.compareValue(e,-d);case 3:return Rb.compareValue(-d,e);case 4:return Rb.compareValue(-d,-e);case 5:return Rb.compareValue(-e,-d);case 6:return Rb.compareValue(-e,d);case 7:return Rb.compareValue(d,-e)}return m.shouldNeverReachHere("invalid octant value"),0},Rb.compareValue=function(a,b){return a<0?-1:a>0?1:b<0?-1:b>0?1:0},b(Sb.prototype,{getCoordinate:function(){return this.coord},print:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex)},compareTo:function(a){var b=a;return this.segmentIndex<b.segmentIndex?-1:this.segmentIndex>b.segmentIndex?1:this.coord.equals2D(b.coord)?0:Rb.compare(this.segmentOctant,this.coord,b.coord)},isEndPoint:function(a){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===a},isInterior:function(){return this._isInterior},interfaces_:function(){return[f]},getClass:function(){return Sb}}),b(Tb.prototype,{getSplitCoordinates:function(){var a=new w;this.addEndpoints();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next();this.addEdgeCoordinates(c,d,a),c=d}return a.toCoordinateArray()},addCollapsedNodes:function(){var a=new v;this.findCollapsesFromInsertedNodes(a),this.findCollapsesFromExistingVertices(a);for(var b=a.iterator();b.hasNext();){var c=b.next().intValue();this.add(this.edge.getCoordinate(c),c)}},print:function(a){a.println("Intersections:");for(var b=this.iterator();b.hasNext();)b.next().print(a)},findCollapsesFromExistingVertices:function(a){for(var b=0;b<this.edge.size()-2;b++){var c=this.edge.getCoordinate(b),d=(this.edge.getCoordinate(b+1),this.edge.getCoordinate(b+2));c.equals2D(d)&&a.add(new E(b+1))}},addEdgeCoordinates:function(a,b,c){var d=b.segmentIndex-a.segmentIndex+2,e=this.edge.getCoordinate(b.segmentIndex),f=b.isInterior()||!b.coord.equals2D(e);f||d--,c.add(new n(a.coord),!1);for(var g=a.segmentIndex+1;g<=b.segmentIndex;g++)c.add(this.edge.getCoordinate(g));f&&c.add(new n(b.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(a){this.addEndpoints(),this.addCollapsedNodes();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next(),e=this.createSplitEdge(c,d);a.add(e),c=d}},findCollapseIndex:function(a,b,c){if(!a.coord.equals2D(b.coord))return!1;var d=b.segmentIndex-a.segmentIndex;return b.isInterior()||d--,1===d&&(c[0]=a.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(a){for(var b=new Array(1).fill(null),c=this.iterator(),d=c.next();c.hasNext();){var e=c.next();this.findCollapseIndex(d,e,b)&&a.add(new E(b[0])),d=e}},getEdge:function(){return this.edge},addEndpoints:function(){var a=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(a),a)},createSplitEdge:function(a,b){var c=b.segmentIndex-a.segmentIndex+2,d=this.edge.getCoordinate(b.segmentIndex),e=b.isInterior()||!b.coord.equals2D(d);e||c--;var f=new Array(c).fill(null),g=0;f[g++]=new n(a.coord);for(var h=a.segmentIndex+1;h<=b.segmentIndex;h++)f[g++]=this.edge.getCoordinate(h);return e&&(f[g]=new n(b.coord)),new Wb(f,this.edge.getData())},add:function(a,b){var c=new Sb(this.edge,a,b,this.edge.getSegmentOctant(b)),d=this.nodeMap.get(c);return null!==d?(m.isTrue(d.coord.equals2D(a),"Found equal nodes with different coordinates"),d):(this.nodeMap.put(c,c),c)},checkSplitEdgesCorrectness:function(a){var b=this.edge.getCoordinates(),c=a.get(0),d=c.getCoordinate(0);if(!d.equals2D(b[0]))throw new j("bad split edge start point at "+d);var e=a.get(a.size()-1),f=e.getCoordinates(),g=f[f.length-1];if(!g.equals2D(b[b.length-1]))throw new j("bad split edge end point at "+g)},interfaces_:function(){return[]},getClass:function(){return Tb}}),b(Ub.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex,this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[p]},getClass:function(){return Ub}}),b(Vb.prototype,{addIntersection:function(a,b){},interfaces_:function(){return[Db]},getClass:function(){return Vb}}),b(Wb.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(a){return this.pts[a]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(a){return a===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(a),this.getCoordinate(a+1))},setData:function(a){this.data=a},safeOctant:function(a,b){return a.equals2D(b)?0:Cb.octant(a,b)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];this.addIntersectionNode(a,b)}else if(4===arguments.length){var c=arguments[0],d=arguments[1],e=(arguments[2],arguments[3]),f=new n(c.getIntersection(e));this.addIntersection(f,d)}},toString:function(){return eb.toLineString(new La(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(a,b){var c=b,d=c+1;if(d<this.pts.length){var e=this.pts[d];a.equals2D(e)&&(c=d)}return this.nodeList.add(a,c)},addIntersections:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++)this.addIntersection(a,b,c,d)},interfaces_:function(){return[Vb]},getClass:function(){return Wb}}),Wb.getNodedSubstrings=function(){if(1===arguments.length){var a=arguments[0],b=new v;return Wb.getNodedSubstrings(a,b),b}if(2===arguments.length)for(var c=arguments[0],d=arguments[1],e=c.iterator();e.hasNext();){var f=e.next();f.getNodeList().addSplitEdges(d)}},b(Xb.prototype,{overlap:function(){if(2===arguments.length)arguments[0],arguments[1];else if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];a.getLineSegment(b,this.overlapSeg1),c.getLineSegment(d,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Xb}}),b(Yb.prototype,{getLineSegment:function(a,b){b.p0=this.pts[a],b.p1=this.pts[a+1]},computeSelect:function(a,b,c,d){var e=this.pts[b],f=this.pts[c];if(d.tempEnv1.init(e,f),c-b==1)return d.select(this,b),null;if(!a.intersects(d.tempEnv1))return null;var g=Math.trunc((b+c)/2);b<g&&this.computeSelect(a,b,g,d),g<c&&this.computeSelect(a,g,c,d)},getCoordinates:function(){for(var a=new Array(this.end-this.start+1).fill(null),b=0,c=this.start;c<=this.end;c++)a[b++]=this.pts[c];return a},computeOverlaps:function(a,b){this.computeOverlapsInternal(this.start,this.end,a,a.start,a.end,b)},setId:function(a){this.id=a},select:function(a,b){this.computeSelect(a,this.start,this.end,b)},getEnvelope:function(){if(null===this.env){var a=this.pts[this.start],b=this.pts[this.end];this.env=new x(a,b)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(a,b,c,d,e,f){var g=this.pts[a],h=this.pts[b],i=c.pts[d],j=c.pts[e];if(b-a==1&&e-d==1)return f.overlap(this,a,c,d),null;if(f.tempEnv1.init(g,h),f.tempEnv2.init(i,j),!f.tempEnv1.intersects(f.tempEnv2))return null;var k=Math.trunc((a+b)/2),l=Math.trunc((d+e)/2);a<k&&(d<l&&this.computeOverlapsInternal(a,k,c,d,l,f),l<e&&this.computeOverlapsInternal(a,k,c,l,e,f)),k<b&&(d<l&&this.computeOverlapsInternal(k,b,c,d,l,f),l<e&&this.computeOverlapsInternal(k,b,c,l,e,f))},interfaces_:function(){return[]},getClass:function(){return Yb}}),b(Zb.prototype,{interfaces_:function(){return[]},getClass:function(){return Zb}}),Zb.isNorthern=function(a){return a===Zb.NE||a===Zb.NW},Zb.isOpposite=function(a,b){return a!==b&&2==(a-b+4)%4},Zb.commonHalfPlane=function(a,b){if(a===b)return a;if(2==(a-b+4)%4)return-1;var c=a<b?a:b,d=a>b?a:b;return 0===c&&3===d?3:c},Zb.isInHalfPlane=function(a,b){return b===Zb.SE?a===Zb.SE||a===Zb.SW:a===b||a===b+1},Zb.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];if(0===a&&0===b)throw new d("Cannot compute the quadrant for point ( "+a+", "+b+" )");return a>=0?b>=0?Zb.NE:Zb.SE:b>=0?Zb.NW:Zb.SW}if(arguments[0]instanceof n&&arguments[1]instanceof n){var c=arguments[0],e=arguments[1];if(e.x===c.x&&e.y===c.y)throw new d("Cannot compute the quadrant for two identical points "+c);return e.x>=c.x?e.y>=c.y?Zb.NE:Zb.SE:e.y>=c.y?Zb.NW:Zb.SW}},Zb.NE=0,Zb.NW=1,Zb.SW=2,Zb.SE=3,b($b.prototype,{interfaces_:function(){return[]},getClass:function(){return $b}}),$b.getChainStartIndices=function(a){var b=0,c=new v;c.add(new E(b));do{var d=$b.findChainEnd(a,b);c.add(new E(d)),b=d}while(b<a.length-1);return $b.toIntArray(c)},$b.findChainEnd=function(a,b){for(var c=b;c<a.length-1&&a[c].equals2D(a[c+1]);)c++;if(c>=a.length-1)return a.length-1;for(var d=Zb.quadrant(a[c],a[c+1]),e=b+1;e<a.length&&(a[e-1].equals2D(a[e])||Zb.quadrant(a[e-1],a[e])===d);)e++;return e-1},$b.getChains=function(){if(1===arguments.length){var a=arguments[0];return $b.getChains(a,null)}if(2===arguments.length){for(var b=arguments[0],c=arguments[1],d=new v,e=$b.getChainStartIndices(b),f=0;f<e.length-1;f++){var g=new Yb(b,e[f],e[f+1],c);d.add(g)}return d}},$b.toIntArray=function(a){for(var b=new Array(a.size()).fill(null),c=0;c<b.length;c++)b[c]=a.get(c).intValue();return b},b(_b.prototype,{computeNodes:function(a){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return _b}}),b(ac.prototype,{setSegmentIntersector:function(a){this.segInt=a},interfaces_:function(){return[_b]},getClass:function(){return ac}}),k(bc,ac),b(bc.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return Wb.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(a){for(var b=$b.getChains(a.getCoordinates(),a),c=b.iterator();c.hasNext();){var d=c.next();d.setId(this.idCounter++),this.index.insert(d.getEnvelope(),d),this.monoChains.add(d)}},computeNodes:function(a){this.nodedSegStrings=a;for(var b=a.iterator();b.hasNext();)this.add(b.next());this.intersectChains()},intersectChains:function(){for(var a=new cc(this.segInt),b=this.monoChains.iterator();b.hasNext();)for(var c=b.next(),d=this.index.query(c.getEnvelope()),e=d.iterator();e.hasNext();){var f=e.next();if(f.getId()>c.getId()&&(c.computeOverlaps(f,a),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return bc}}),k(cc,Xb),b(cc.prototype,{overlap:function(){if(4!==arguments.length)return Xb.prototype.overlap.apply(this,arguments);var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3],e=a.getContext(),f=c.getContext();this.si.processIntersections(e,b,f,d)},interfaces_:function(){return[]},getClass:function(){return cc}}),bc.SegmentOverlapAction=cc,k(dc,j),b(dc.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return dc}}),dc.msgWithCoord=function(a,b){return null!==b?a+" [ "+b+" ]":a},b(ec.prototype,{processIntersections:function(a,b,c,d){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return ec}}),b(fc.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(a){this.isCheckEndSegmentsOnly=a},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(a){this.findAllIntersections=a},setKeepIntersections:function(a){this.keepIntersections=a},processIntersections:function(a,b,c,d){if(!this.findAllIntersections&&this.hasIntersection())return null;if(a===c&&b===d)return null;if(this.isCheckEndSegmentsOnly&&!this.isEndSegment(a,b)&&!this.isEndSegment(c,d))return null;var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this.li.computeIntersection(e,f,g,h),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=e,this.intSegments[1]=f,this.intSegments[2]=g,this.intSegments[3]=h,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(a,b){return 0===b||b>=a.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[ec]},getClass:function(){return fc}}),fc.createAllIntersectionsFinder=function(a){var b=new fc(a);return b.setFindAllIntersections(!0),b},fc.createAnyIntersectionFinder=function(a){return new fc(a)},fc.createIntersectionCounter=function(a){var b=new fc(a);return b.setFindAllIntersections(!0),b.setKeepIntersections(!1),b},b(gc.prototype,{execute:function(){return null!==this.segInt?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(a){this.findAllIntersections=a},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new fc(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var a=new bc;if(a.setSegmentIntersector(this.segInt),a.computeNodes(this.segStrings),this.segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new dc(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var a=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+eb.toLineString(a[0],a[1])+" and "+eb.toLineString(a[2],a[3])},interfaces_:function(){return[]},getClass:function(){return gc}}),gc.computeIntersections=function(a){var b=new gc(a)
;return b.setFindAllIntersections(!0),b.isValid(),b.getIntersections()},b(hc.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return hc}}),hc.toSegmentStrings=function(a){for(var b=new v,c=a.iterator();c.hasNext();){var d=c.next();b.add(new Eb(d.getCoordinates(),d))}return b},hc.checkValid=function(a){new hc(a).checkValid()},b(ic.prototype,{map:function(a){for(var b=new v,c=0;c<a.getNumGeometries();c++){var d=this.mapOp.map(a.getGeometryN(c));d.isEmpty()||b.add(d)}return a.getFactory().createGeometryCollection(cb.toGeometryArray(b))},interfaces_:function(){return[]},getClass:function(){return ic}}),ic.map=function(a,b){return new ic(b).map(a)},b(jc.prototype,{interfaces_:function(){return[]},getClass:function(){return jc}}),jc.opposite=function(a){return a===jc.LEFT?jc.RIGHT:a===jc.RIGHT?jc.LEFT:a},jc.ON=0,jc.LEFT=1,jc.RIGHT=2,b(kc.prototype,{setAllLocations:function(a){for(var b=0;b<this.location.length;b++)this.location[b]=a},isNull:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]!==A.NONE)return!1;return!0},setAllLocationsIfNull:function(a){for(var b=0;b<this.location.length;b++)this.location[b]===A.NONE&&(this.location[b]=a)},isLine:function(){return 1===this.location.length},merge:function(a){if(a.location.length>this.location.length){var b=new Array(3).fill(null);b[jc.ON]=this.location[jc.ON],b[jc.LEFT]=A.NONE,b[jc.RIGHT]=A.NONE,this.location=b}for(var c=0;c<this.location.length;c++)this.location[c]===A.NONE&&c<a.location.length&&(this.location[c]=a.location[c])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var a=this.location[jc.LEFT];this.location[jc.LEFT]=this.location[jc.RIGHT],this.location[jc.RIGHT]=a},toString:function(){var a=new D;return this.location.length>1&&a.append(A.toLocationSymbol(this.location[jc.LEFT])),a.append(A.toLocationSymbol(this.location[jc.ON])),this.location.length>1&&a.append(A.toLocationSymbol(this.location[jc.RIGHT])),a.toString()},setLocations:function(a,b,c){this.location[jc.ON]=a,this.location[jc.LEFT]=b,this.location[jc.RIGHT]=c},get:function(a){return a<this.location.length?this.location[a]:A.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]===A.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var a=arguments[0];this.setLocation(jc.ON,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.location[b]=c}},init:function(a){this.location=new Array(a).fill(null),this.setAllLocations(A.NONE)},isEqualOnSide:function(a,b){return this.location[b]===a.location[b]},allPositionsEqual:function(a){for(var b=0;b<this.location.length;b++)if(this.location[b]!==a)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return kc}}),b(lc.prototype,{getGeometryCount:function(){var a=0;return this.elt[0].isNull()||a++,this.elt[1].isNull()||a++,a},setAllLocations:function(a,b){this.elt[a].setAllLocations(b)},isNull:function(a){return this.elt[a].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var a=arguments[0];this.setAllLocationsIfNull(0,a),this.setAllLocationsIfNull(1,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.elt[b].setAllLocationsIfNull(c)}},isLine:function(a){return this.elt[a].isLine()},merge:function(a){for(var b=0;b<2;b++)null===this.elt[b]&&null!==a.elt[b]?this.elt[b]=new kc(a.elt[b]):this.elt[b].merge(a.elt[b])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var a=arguments[0];return this.elt[a].get(jc.ON)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return this.elt[b].get(c)}},toString:function(){var a=new D;return null!==this.elt[0]&&(a.append("A:"),a.append(this.elt[0].toString())),null!==this.elt[1]&&(a.append(" B:"),a.append(this.elt[1].toString())),a.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var a=arguments[0];return this.elt[a].isArea()}},isAnyNull:function(a){return this.elt[a].isAnyNull()},setLocation:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];this.elt[a].setLocation(jc.ON,b)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.elt[c].setLocation(d,e)}},isEqualOnSide:function(a,b){return this.elt[0].isEqualOnSide(a.elt[0],b)&&this.elt[1].isEqualOnSide(a.elt[1],b)},allPositionsEqual:function(a,b){return this.elt[a].allPositionsEqual(b)},toLine:function(a){this.elt[a].isArea()&&(this.elt[a]=new kc(this.elt[a].location[0]))},interfaces_:function(){return[]},getClass:function(){return lc}}),lc.toLineLabel=function(a){for(var b=new lc(A.NONE),c=0;c<2;c++)b.setLocation(c,a.getLocation(c));return b},b(mc.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var a=new Array(this.pts.size()).fill(null),b=0;b<this.pts.size();b++)a[b]=this.pts.get(b);this.ring=this.geometryFactory.createLinearRing(a),this._isHole=jb.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(a){this.startDe=a;var b=a,c=!0;do{if(null===b)throw new dc("Found null DirectedEdge");if(b.getEdgeRing()===this)throw new dc("Directed Edge visited twice during ring-building at "+b.getCoordinate());this.edges.add(b);var d=b.getLabel();m.isTrue(d.isArea()),this.mergeLabel(d),this.addPoints(b.getEdge(),b.isForward(),c),c=!1,this.setEdgeRing(b,this),b=this.getNext(b)}while(b!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(a){return this.pts.get(a)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var a=this.startDe;do{var b=a.getNode(),c=b.getEdges().getOutgoingDegree(this);c>this.maxNodeDegree&&(this.maxNodeDegree=c),a=this.getNext(a)}while(a!==this.startDe);this.maxNodeDegree*=2},addPoints:function(a,b,c){var d=a.getCoordinates();if(b){var e=1;c&&(e=0);for(var f=e;f<d.length;f++)this.pts.add(d[f])}else{var e=d.length-2;c&&(e=d.length-1);for(var f=e;f>=0;f--)this.pts.add(d[f])}},isHole:function(){return this._isHole},setInResult:function(){var a=this.startDe;do{a.getEdge().setInResult(!0),a=a.getNext()}while(a!==this.startDe)},containsPoint:function(a){var b=this.getLinearRing();if(!b.getEnvelopeInternal().contains(a))return!1;if(!jb.isPointInRing(a,b.getCoordinates()))return!1;for(var c=this.holes.iterator();c.hasNext();)if(c.next().containsPoint(a))return!1;return!0},addHole:function(a){this.holes.add(a)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var a=arguments[0];this.mergeLabel(a,0),this.mergeLabel(a,1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1],d=b.getLocation(c,jc.RIGHT);if(d===A.NONE)return null;if(this.label.getLocation(c)===A.NONE)return this.label.setLocation(c,d),null}},setShell:function(a){this.shell=a,null!==a&&a.addHole(this)},toPolygon:function(a){for(var b=new Array(this.holes.size()).fill(null),c=0;c<this.holes.size();c++)b[c]=this.holes.get(c).getLinearRing();return a.createPolygon(this.getLinearRing(),b)},interfaces_:function(){return[]},getClass:function(){return mc}}),k(nc,mc),b(nc.prototype,{setEdgeRing:function(a,b){a.setMinEdgeRing(b)},getNext:function(a){return a.getNextMin()},interfaces_:function(){return[]},getClass:function(){return nc}}),k(oc,mc),b(oc.prototype,{buildMinimalRings:function(){var a=new v,b=this.startDe;do{if(null===b.getMinEdgeRing()){var c=new nc(b,this.geometryFactory);a.add(c)}b=b.getNext()}while(b!==this.startDe);return a},setEdgeRing:function(a,b){a.setEdgeRing(b)},linkDirectedEdgesForMinimalEdgeRings:function(){var a=this.startDe;do{a.getNode().getEdges().linkMinimalDirectedEdges(this),a=a.getNext()}while(a!==this.startDe)},getNext:function(a){return a.getNext()},interfaces_:function(){return[]},getClass:function(){return oc}}),b(pc.prototype,{setVisited:function(a){this._isVisited=a},setInResult:function(a){this._isInResult=a},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(a){this.label=a},getLabel:function(){return this.label},setCovered:function(a){this._isCovered=a,this._isCoveredSet=!0},updateIM:function(a){m.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(a)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return pc}}),k(qc,pc),b(qc.prototype,{isIncidentEdgeInResult:function(){for(var a=this.getEdges().getEdges().iterator();a.hasNext();)if(a.next().getEdge().isInResult())return!0;return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(a){a.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(a){},computeMergedLocation:function(a,b){var c=A.NONE;if(c=this.label.getLocation(b),!a.isNull(b)){var d=a.getLocation(b);c!==A.BOUNDARY&&(c=d)}return c},setLabel:function(){if(2!==arguments.length)return pc.prototype.setLabel.apply(this,arguments);var a=arguments[0],b=arguments[1];null===this.label?this.label=new lc(a,b):this.label.setLocation(a,b)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof qc){var a=arguments[0];this.mergeLabel(a.label)}else if(arguments[0]instanceof lc)for(var b=arguments[0],c=0;c<2;c++){var d=this.computeMergedLocation(b,c),e=this.label.getLocation(c);e===A.NONE&&this.label.setLocation(c,d)}},add:function(a){this.edges.insert(a),a.setNode(this)},setLabelBoundary:function(a){if(null===this.label)return null;var b=A.NONE;null!==this.label&&(b=this.label.getLocation(a));var c=null;switch(b){case A.BOUNDARY:c=A.INTERIOR;break;case A.INTERIOR:c=A.BOUNDARY;break;default:c=A.BOUNDARY}this.label.setLocation(a,c)},interfaces_:function(){return[]},getClass:function(){return qc}}),b(rc.prototype,{find:function(a){return this.nodeMap.get(a)},addNode:function(){if(arguments[0]instanceof n){var a=arguments[0],b=this.nodeMap.get(a);return null===b&&(b=this.nodeFact.createNode(a),this.nodeMap.put(a,b)),b}if(arguments[0]instanceof qc){var c=arguments[0],b=this.nodeMap.get(c.getCoordinate());return null===b?(this.nodeMap.put(c.getCoordinate(),c),c):(b.mergeLabel(c),b)}},print:function(a){for(var b=this.iterator();b.hasNext();)b.next().print(a)},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(a){for(var b=new v,c=this.iterator();c.hasNext();){var d=c.next();d.getLabel().getLocation(a)===A.BOUNDARY&&b.add(d)}return b},add:function(a){var b=a.getCoordinate();this.addNode(b).add(a)},interfaces_:function(){return[]},getClass:function(){return rc}}),b(sc.prototype,{compareDirection:function(a){return this.dx===a.dx&&this.dy===a.dy?0:this.quadrant>a.quadrant?1:this.quadrant<a.quadrant?-1:jb.computeOrientation(a.p0,a.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(a){this.node=a},print:function(a){var b=Math.atan2(this.dy,this.dx),c=this.getClass().getName(),d=c.lastIndexOf("."),e=c.substring(d+1);a.print("  "+e+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+b+"   "+this.label)},compareTo:function(a){var b=a;return this.compareDirection(b)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var a=Math.atan2(this.dy,this.dx),b=this.getClass().getName(),c=b.lastIndexOf(".");return"  "+b.substring(c+1)+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+a+"   "+this.label},computeLabel:function(a){},init:function(a,b){this.p0=a,this.p1=b,this.dx=b.x-a.x,this.dy=b.y-a.y,this.quadrant=Zb.quadrant(this.dx,this.dy),m.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[f]},getClass:function(){return sc}}),k(tc,sc),b(tc.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(a){return this.depth[a]},setVisited:function(a){this._isVisited=a},computeDirectedLabel:function(){this.label=new lc(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(a,b){if(-999!==this.depth[a]&&this.depth[a]!==b)throw new dc("assigned depths do not match",this.getCoordinate());this.depth[a]=b},isInteriorAreaEdge:function(){for(var a=!0,b=0;b<2;b++)this.label.isArea(b)&&this.label.getLocation(b,jc.LEFT)===A.INTERIOR&&this.label.getLocation(b,jc.RIGHT)===A.INTERIOR||(a=!1);return a},setNextMin:function(a){this.nextMin=a},print:function(a){sc.prototype.print.call(this,a),a.print(" "+this.depth[jc.LEFT]+"/"+this.depth[jc.RIGHT]),a.print(" ("+this.getDepthDelta()+")"),this._isInResult&&a.print(" inResult")},setMinEdgeRing:function(a){this.minEdgeRing=a},isLineEdge:function(){var a=this.label.isLine(0)||this.label.isLine(1),b=!this.label.isArea(0)||this.label.allPositionsEqual(0,A.EXTERIOR),c=!this.label.isArea(1)||this.label.allPositionsEqual(1,A.EXTERIOR);return a&&b&&c},setEdgeRing:function(a){this.edgeRing=a},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var a=this.edge.getDepthDelta();return this._isForward||(a=-a),a},setInResult:function(a){this._isInResult=a},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(a){this.print(a),a.print(" "),this._isForward?this.edge.print(a):this.edge.printReverse(a)},setSym:function(a){this.sym=a},setVisitedEdge:function(a){this.setVisited(a),this.sym.setVisited(a)},setEdgeDepths:function(a,b){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var d=1;a===jc.LEFT&&(d=-1);var e=jc.opposite(a),f=c*d,g=b+f;this.setDepth(a,b),this.setDepth(e,g)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(a){this.next=a},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return tc}}),tc.depthFactor=function(a,b){return a===A.EXTERIOR&&b===A.INTERIOR?1:a===A.INTERIOR&&b===A.EXTERIOR?-1:0},b(uc.prototype,{createNode:function(a){return new qc(a,null)},interfaces_:function(){return[]},getClass:function(){return uc}}),b(vc.prototype,{printEdges:function(a){a.println("Edges:");for(var b=0;b<this.edges.size();b++){a.println("edge "+b+":");var c=this.edges.get(b);c.print(a),c.eiList.print(a)}},find:function(a){return this.nodes.find(a)},addNode:function(){if(arguments[0]instanceof qc){var a=arguments[0];return this.nodes.addNode(a)}if(arguments[0]instanceof n){var b=arguments[0];return this.nodes.addNode(b)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var a=this.nodes.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()},debugPrintln:function(a){J.out.println(a)},isBoundaryNode:function(a,b){var c=this.nodes.find(b);if(null===c)return!1;var d=c.getLabel();return null!==d&&d.getLocation(a)===A.BOUNDARY},linkAllDirectedEdges:function(){for(var a=this.nodes.iterator();a.hasNext();)a.next().getEdges().linkAllDirectedEdges()},matchInSameDirection:function(a,b,c,d){return!!a.equals(c)&&jb.computeOrientation(a,b,d)===jb.COLLINEAR&&Zb.quadrant(a,b)===Zb.quadrant(c,d)},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(a){J.out.print(a)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(a,b){for(var c=0;c<this.edges.size();c++){var d=this.edges.get(c),e=d.getCoordinates();if(this.matchInSameDirection(a,b,e[0],e[1]))return d;if(this.matchInSameDirection(a,b,e[e.length-1],e[e.length-2]))return d}return null},insertEdge:function(a){this.edges.add(a)},findEdgeEnd:function(a){for(var b=this.getEdgeEnds().iterator();b.hasNext();){var c=b.next();if(c.getEdge()===a)return c}return null},addEdges:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.edges.add(c);var d=new tc(c,!0),e=new tc(c,!1);d.setSym(e),e.setSym(d),this.add(d),this.add(e)}},add:function(a){this.nodes.add(a),this.edgeEndList.add(a)},getNodes:function(){return this.nodes.values()},findEdge:function(a,b){for(var c=0;c<this.edges.size();c++){var d=this.edges.get(c),e=d.getCoordinates();if(a.equals(e[0])&&b.equals(e[1]))return d}return null},interfaces_:function(){return[]},getClass:function(){return vc}}),vc.linkResultDirectedEdges=function(a){for(var b=a.iterator();b.hasNext();)b.next().getEdges().linkResultDirectedEdges()},b(wc.prototype,{sortShellsAndHoles:function(a,b,c){for(var d=a.iterator();d.hasNext();){var e=d.next();e.isHole()?c.add(e):b.add(e)}},computePolygons:function(a){for(var b=new v,c=a.iterator();c.hasNext();){var d=c.next(),e=d.toPolygon(this.geometryFactory);b.add(e)}return b},placeFreeHoles:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next();if(null===d.getShell()){var e=this.findEdgeRingContaining(d,a);if(null===e)throw new dc("unable to assign hole to a shell",d.getCoordinate(0));d.setShell(e)}}},buildMinimalEdgeRings:function(a,b,c){for(var d=new v,e=a.iterator();e.hasNext();){var f=e.next();if(f.getMaxNodeDegree()>2){f.linkDirectedEdgesForMinimalEdgeRings();var g=f.buildMinimalRings(),h=this.findShell(g);null!==h?(this.placePolygonHoles(h,g),b.add(h)):c.addAll(g)}else d.add(f)}return d},containsPoint:function(a){for(var b=this.shellList.iterator();b.hasNext();)if(b.next().containsPoint(a))return!0;return!1},buildMaximalEdgeRings:function(a){for(var b=new v,c=a.iterator();c.hasNext();){var d=c.next();if(d.isInResult()&&d.getLabel().isArea()&&null===d.getEdgeRing()){var e=new oc(d,this.geometryFactory);b.add(e),e.setInResult()}}return b},placePolygonHoles:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next();d.isHole()&&d.setShell(a)}},getPolygons:function(){return this.computePolygons(this.shellList)},findEdgeRingContaining:function(a,b){for(var c=a.getLinearRing(),d=c.getEnvelopeInternal(),e=c.getCoordinateN(0),f=null,g=null,h=b.iterator();h.hasNext();){var i=h.next(),j=i.getLinearRing(),k=j.getEnvelopeInternal();null!==f&&(g=f.getLinearRing().getEnvelopeInternal());var l=!1;k.contains(d)&&jb.isPointInRing(e,j.getCoordinates())&&(l=!0),l&&(null===f||g.contains(k))&&(f=i)}return f},findShell:function(a){for(var b=0,c=null,d=a.iterator();d.hasNext();){var e=d.next();e.isHole()||(c=e,b++)}return m.isTrue(b<=1,"found two shells in MinimalEdgeRing list"),c},add:function(){if(1===arguments.length){var a=arguments[0];this.add(a.getEdgeEnds(),a.getNodes())}else if(2===arguments.length){var b=arguments[0],c=arguments[1];vc.linkResultDirectedEdges(c);var d=this.buildMaximalEdgeRings(b),e=new v,f=this.buildMinimalEdgeRings(d,this.shellList,e);this.sortShellsAndHoles(f,this.shellList,e),this.placeFreeHoles(this.shellList,e)}},interfaces_:function(){return[]},getClass:function(){return wc}}),b(xc.prototype,{collectLines:function(a){for(var b=this.op.getGraph().getEdgeEnds().iterator();b.hasNext();){var c=b.next();this.collectLineEdge(c,a,this.lineEdgesList),this.collectBoundaryTouchEdge(c,a,this.lineEdgesList)}},labelIsolatedLine:function(a,b){var c=this.ptLocator.locate(a.getCoordinate(),this.op.getArgGeometry(b));a.getLabel().setLocation(b,c)},build:function(a){return this.findCoveredLineEdges(),this.collectLines(a),this.buildLines(a),this.resultLineList},collectLineEdge:function(a,b,c){var d=a.getLabel(),e=a.getEdge();a.isLineEdge()&&(a.isVisited()||!bd.isResultOfOp(d,b)||e.isCovered()||(c.add(e),a.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var a=this.op.getGraph().getNodes().iterator();a.hasNext();)a.next().getEdges().findCoveredLineEdges();for(var b=this.op.getGraph().getEdgeEnds().iterator();b.hasNext();){var c=b.next(),d=c.getEdge();if(c.isLineEdge()&&!d.isCoveredSet()){var e=this.op.isCoveredByA(c.getCoordinate());d.setCovered(e)}}},labelIsolatedLines:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=c.getLabel();c.isIsolated()&&(d.isNull(0)?this.labelIsolatedLine(c,0):this.labelIsolatedLine(c,1))}},buildLines:function(a){for(var b=this.lineEdgesList.iterator();b.hasNext();){var c=b.next(),d=(c.getLabel(),this.geometryFactory.createLineString(c.getCoordinates()));this.resultLineList.add(d),c.setInResult(!0)}},collectBoundaryTouchEdge:function(a,b,c){var d=a.getLabel();return a.isLineEdge()?null:a.isVisited()?null:a.isInteriorAreaEdge()?null:a.getEdge().isInResult()?null:(m.isTrue(!(a.isInResult()||a.getSym().isInResult())||!a.getEdge().isInResult()),void(bd.isResultOfOp(d,b)&&b===bd.INTERSECTION&&(c.add(a.getEdge()),a.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return xc}}),b(yc.prototype,{filterCoveredNodeToPoint:function(a){var b=a.getCoordinate();if(!this.op.isCoveredByLA(b)){var c=this.geometryFactory.createPoint(b);this.resultPointList.add(c)}},extractNonCoveredResultNodes:function(a){for(var b=this.op.getGraph().getNodes().iterator();b.hasNext();){var c=b.next();if(!(c.isInResult()||c.isIncidentEdgeInResult()||0!==c.getEdges().getDegree()&&a!==bd.INTERSECTION)){var d=c.getLabel();bd.isResultOfOp(d,a)&&this.filterCoveredNodeToPoint(c)}}},build:function(a){return this.extractNonCoveredResultNodes(a),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return yc}}),b(zc.prototype,{locate:function(a){},interfaces_:function(){return[]},getClass:function(){return zc}}),b(Ac.prototype,{locate:function(a){return Ac.locate(a,this.geom)},interfaces_:function(){return[zc]},getClass:function(){return Ac}}),Ac.isPointInRing=function(a,b){return!!b.getEnvelopeInternal().intersects(a)&&jb.isPointInRing(a,b.getCoordinates())},Ac.containsPointInPolygon=function(a,b){if(b.isEmpty())return!1;var c=b.getExteriorRing();if(!Ac.isPointInRing(a,c))return!1;for(var d=0;d<b.getNumInteriorRing();d++){var e=b.getInteriorRingN(d);if(Ac.isPointInRing(a,e))return!1}return!0},Ac.containsPoint=function(a,b){if(b instanceof Ca)return Ac.containsPointInPolygon(a,b);if(b instanceof ma)for(var c=new Ab(b);c.hasNext();){var d=c.next();if(d!==b&&Ac.containsPoint(a,d))return!0}return!1},Ac.locate=function(a,b){return b.isEmpty()?A.EXTERIOR:Ac.containsPoint(a,b)?A.INTERIOR:A.EXTERIOR},b(Bc.prototype,{getNextCW:function(a){this.getEdges();var b=this.edgeList.indexOf(a),c=b-1;return 0===b&&(c=this.edgeList.size()-1),this.edgeList.get(c)},propagateSideLabels:function(a){for(var b=A.NONE,c=this.iterator();c.hasNext();){var d=c.next(),e=d.getLabel();e.isArea(a)&&e.getLocation(a,jc.LEFT)!==A.NONE&&(b=e.getLocation(a,jc.LEFT))}if(b===A.NONE)return null;for(var f=b,c=this.iterator();c.hasNext();){var d=c.next(),e=d.getLabel();if(e.getLocation(a,jc.ON)===A.NONE&&e.setLocation(a,jc.ON,f),e.isArea(a)){var g=e.getLocation(a,jc.LEFT),h=e.getLocation(a,jc.RIGHT);if(h!==A.NONE){if(h!==f)throw new dc("side location conflict",d.getCoordinate());g===A.NONE&&m.shouldNeverReachHere("found single null side (at "+d.getCoordinate()+")"),f=g}else m.isTrue(e.getLocation(a,jc.LEFT)===A.NONE,"found single null side"),e.setLocation(a,jc.RIGHT,f),e.setLocation(a,jc.LEFT,f)}}},getCoordinate:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null},print:function(a){J.out.println("EdgeEndStar:   "+this.getCoordinate());for(var b=this.iterator();b.hasNext();)b.next().print(a)},isAreaLabelsConsistent:function(a){return this.computeEdgeEndLabels(a.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(a){var b=this.getEdges();if(b.size()<=0)return!0;var c=b.size()-1,d=b.get(c).getLabel(),e=d.getLocation(a,jc.LEFT);m.isTrue(e!==A.NONE,"Found unlabelled area edge");for(var f=e,g=this.iterator();g.hasNext();){var h=g.next(),i=h.getLabel();m.isTrue(i.isArea(a),"Found non-area edge");var j=i.getLocation(a,jc.LEFT),k=i.getLocation(a,jc.RIGHT);if(j===k)return!1;if(k!==f)return!1;f=j}return!0},findIndex:function(a){this.iterator();for(var b=0;b<this.edgeList.size();b++)if(this.edgeList.get(b)===a)return b;return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new v(this.edgeMap.values())),this.edgeList},getLocation:function(a,b,c){return this.ptInAreaLocation[a]===A.NONE&&(this.ptInAreaLocation[a]=Ac.locate(b,c[a].getGeometry())),this.ptInAreaLocation[a]},toString:function(){var a=new D;a.append("EdgeEndStar:   "+this.getCoordinate()),a.append("\n");for(var b=this.iterator();b.hasNext();){var c=b.next();a.append(c),a.append("\n")}return a.toString()},computeEdgeEndLabels:function(a){for(var b=this.iterator();b.hasNext();)b.next().computeLabel(a)},computeLabelling:function(a){this.computeEdgeEndLabels(a[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var b=[!1,!1],c=this.iterator();c.hasNext();)for(var d=c.next(),e=d.getLabel(),f=0;f<2;f++)e.isLine(f)&&e.getLocation(f)===A.BOUNDARY&&(b[f]=!0);for(var c=this.iterator();c.hasNext();)for(var d=c.next(),e=d.getLabel(),f=0;f<2;f++)if(e.isAnyNull(f)){var g=A.NONE;if(b[f])g=A.EXTERIOR;else{var h=d.getCoordinate();g=this.getLocation(f,h,a)}e.setAllLocationsIfNull(f,g)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(a,b){this.edgeMap.put(a,b),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return Bc}}),k(Cc,Bc),b(Cc.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var a=null,b=null,c=this.SCANNING_FOR_INCOMING,d=0;d<this.resultAreaEdgeList.size();d++){var e=this.resultAreaEdgeList.get(d),f=e.getSym();if(e.getLabel().isArea())switch(null===a&&e.isInResult()&&(a=e),c){case this.SCANNING_FOR_INCOMING:if(!f.isInResult())continue;b=f,c=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!e.isInResult())continue;b.setNext(e),c=this.SCANNING_FOR_INCOMING}}if(c===this.LINKING_TO_OUTGOING){if(null===a)throw new dc("no outgoing dirEdge found",this.getCoordinate());m.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),b.setNext(a)}},insert:function(a){var b=a;this.insertEdgeEnd(b,b)},getRightmostEdge:function(){var a=this.getEdges(),b=a.size();if(b<1)return null;var c=a.get(0);if(1===b)return c;var d=a.get(b-1),e=c.getQuadrant(),f=d.getQuadrant();return Zb.isNorthern(e)&&Zb.isNorthern(f)?c:Zb.isNorthern(e)||Zb.isNorthern(f)?0!==c.getDy()?c:0!==d.getDy()?d:(m.shouldNeverReachHere("found two horizontal edges incident on node"),null):d},print:function(a){J.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var b=this.iterator();b.hasNext();){var c=b.next();a.print("out "),c.print(a),a.println(),a.print("in "),c.getSym().print(a),a.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new v;for(var a=this.iterator();a.hasNext();){var b=a.next();(b.isInResult()||b.getSym().isInResult())&&this.resultAreaEdgeList.add(b)}return this.resultAreaEdgeList},updateLabelling:function(a){for(var b=this.iterator();b.hasNext();){var c=b.next(),d=c.getLabel();d.setAllLocationsIfNull(0,a.getLocation(0)),d.setAllLocationsIfNull(1,a.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var a=null,b=null,c=this.edgeList.size()-1;c>=0;c--){var d=this.edgeList.get(c),e=d.getSym();null===b&&(b=e),null!==a&&e.setNext(a),a=d}b.setNext(a)},computeDepths:function(){if(1===arguments.length){var a=arguments[0],b=this.findIndex(a),c=(a.getLabel(),a.getDepth(jc.LEFT)),d=a.getDepth(jc.RIGHT),e=this.computeDepths(b+1,this.edgeList.size(),c);if(this.computeDepths(0,b,e)!==d)throw new dc("depth mismatch at "+a.getCoordinate())}else if(3===arguments.length){for(var f=arguments[0],g=arguments[1],h=arguments[2],i=h,j=f;j<g;j++){var k=this.edgeList.get(j);k.getLabel(),k.setEdgeDepths(jc.RIGHT,i),i=k.getDepth(jc.LEFT)}return i}},mergeSymLabels:function(){for(var a=this.iterator();a.hasNext();){var b=a.next();b.getLabel().merge(b.getSym().getLabel())}},linkMinimalDirectedEdges:function(a){for(var b=null,c=null,d=this.SCANNING_FOR_INCOMING,e=this.resultAreaEdgeList.size()-1;e>=0;e--){var f=this.resultAreaEdgeList.get(e),g=f.getSym();switch(null===b&&f.getEdgeRing()===a&&(b=f),d){case this.SCANNING_FOR_INCOMING:if(g.getEdgeRing()!==a)continue;c=g,d=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(f.getEdgeRing()!==a)continue;c.setNextMin(f),d=this.SCANNING_FOR_INCOMING}}d===this.LINKING_TO_OUTGOING&&(m.isTrue(null!==b,"found null for first outgoing dirEdge"),m.isTrue(b.getEdgeRing()===a,"unable to link last incoming dirEdge"),c.setNextMin(b))},getOutgoingDegree:function(){if(0===arguments.length){for(var a=0,b=this.iterator();b.hasNext();){var c=b.next();c.isInResult()&&a++}return a}if(1===arguments.length){for(var d=arguments[0],a=0,b=this.iterator();b.hasNext();){var c=b.next();c.getEdgeRing()===d&&a++}return a}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var a=A.NONE,b=this.iterator();b.hasNext();){var c=b.next(),d=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){a=A.INTERIOR;break}if(d.isInResult()){a=A.EXTERIOR;break}}}if(a===A.NONE)return null;for(var e=a,b=this.iterator();b.hasNext();){var c=b.next(),d=c.getSym();c.isLineEdge()?c.getEdge().setCovered(e===A.INTERIOR):(c.isInResult()&&(e=A.EXTERIOR),d.isInResult()&&(e=A.INTERIOR))}},computeLabelling:function(a){Bc.prototype.computeLabelling.call(this,a),this.label=new lc(A.NONE);for(var b=this.iterator();b.hasNext();)for(var c=b.next(),d=c.getEdge(),e=d.getLabel(),f=0;f<2;f++){var g=e.getLocation(f);g!==A.INTERIOR&&g!==A.BOUNDARY||this.label.setLocation(f,A.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Cc}}),k(Dc,uc),b(Dc.prototype,{createNode:function(a){return new qc(a,new Cc)},interfaces_:function(){return[]},getClass:function(){return Dc}}),b(Ec.prototype,{computeIntersections:function(a,b){this.mce.computeIntersectsForChain(this.chainIndex,a.mce,a.chainIndex,b)},interfaces_:function(){return[]},getClass:function(){return Ec}}),b(Fc.prototype,{isDelete:function(){return this.eventType===Fc.DELETE},setDeleteEventIndex:function(a){this.deleteEventIndex=a},getObject:function(){return this.obj},compareTo:function(a){var b=a;return this.xValue<b.xValue?-1:this.xValue>b.xValue?1:this.eventType<b.eventType?-1:this.eventType>b.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===Fc.INSERT},isSameLabel:function(a){return null!==this.label&&this.label===a.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[f]},getClass:function(){return Fc}}),Fc.INSERT=1,Fc.DELETE=2,b(Gc.prototype,{interfaces_:function(){return[]},getClass:function(){return Gc}}),b(Hc.prototype,{isTrivialIntersection:function(a,b,c,d){if(a===c&&1===this.li.getIntersectionNum()){if(Hc.isAdjacentSegments(b,d))return!0;if(a.isClosed()){var e=a.getNumPoints()-1;if(0===b&&d===e||0===d&&b===e)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(a){this.isDoneWhenProperInt=a},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next(),e=d.getCoordinate();if(a.isIntersection(e))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(a,b){return!(null===b||!this.isBoundaryPointInternal(a,b[0])&&!this.isBoundaryPointInternal(a,b[1]))},setBoundaryNodes:function(a,b){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=a,
this.bdyNodes[1]=b},addIntersections:function(a,b,c,d){if(a===c&&b===d)return null;this.numTests++;var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this.li.computeIntersection(e,f,g,h),this.li.hasIntersection()&&(this.recordIsolated&&(a.setIsolated(!1),c.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(a,b,c,d)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(a.addIntersections(this.li,b,0),c.addIntersections(this.li,d,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Hc}}),Hc.isAdjacentSegments=function(a,b){return 1===Math.abs(a-b)},k(Ic,Gc),b(Ic.prototype,{prepareEvents:function(){ig.sort(this.events);for(var a=0;a<this.events.size();a++){var b=this.events.get(a);b.isDelete()&&b.getInsertEvent().setDeleteEventIndex(a)}},computeIntersections:function(){if(1===arguments.length){var a=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var b=0;b<this.events.size();b++){var c=this.events.get(b);if(c.isInsert()&&this.processOverlaps(b,c.getDeleteEventIndex(),c,a),a.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Hc&&B(arguments[0],s)&&B(arguments[1],s)){var d=arguments[0],e=arguments[1],f=arguments[2];this.addEdges(d,d),this.addEdges(e,e),this.computeIntersections(f)}else if("boolean"==typeof arguments[2]&&B(arguments[0],s)&&arguments[1]instanceof Hc){var g=arguments[0],h=arguments[1],i=arguments[2];i?this.addEdges(g,null):this.addEdges(g),this.computeIntersections(h)}},addEdge:function(a,b){for(var c=a.getMonotoneChainEdge(),d=c.getStartIndexes(),e=0;e<d.length-1;e++){var f=new Ec(c,e),g=new Fc(b,c.getMinX(e),f);this.events.add(g),this.events.add(new Fc(c.getMaxX(e),g))}},processOverlaps:function(a,b,c,d){for(var e=c.getObject(),f=a;f<b;f++){var g=this.events.get(f);if(g.isInsert()){var h=g.getObject();c.isSameLabel(g)||(e.computeIntersections(h,d),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.addEdge(c,c)}else if(2===arguments.length)for(var d=arguments[0],e=arguments[1],b=d.iterator();b.hasNext();){var c=b.next();this.addEdge(c,e)}},interfaces_:function(){return[]},getClass:function(){return Ic}}),b(Jc.prototype,{getMin:function(){return this.min},intersects:function(a,b){return!(this.min>b||this.max<a)},getMax:function(){return this.max},toString:function(){return eb.toLineString(new n(this.min,0),new n(this.max,0))},interfaces_:function(){return[]},getClass:function(){return Jc}}),b(Kc.prototype,{compare:function(a,b){var c=a,d=b,e=(c.min+c.max)/2,f=(d.min+d.max)/2;return e<f?-1:e>f?1:0},interfaces_:function(){return[h]},getClass:function(){return Kc}}),Jc.NodeComparator=Kc,k(Lc,Jc),b(Lc.prototype,{query:function(a,b,c){return this.intersects(a,b)?void c.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return Lc}}),k(Mc,Jc),b(Mc.prototype,{buildExtent:function(a,b){this.min=Math.min(a.min,b.min),this.max=Math.max(a.max,b.max)},query:function(a,b,c){return this.intersects(a,b)?(null!==this.node1&&this.node1.query(a,b,c),void(null!==this.node2&&this.node2.query(a,b,c))):null},interfaces_:function(){return[]},getClass:function(){return Mc}}),b(Nc.prototype,{buildTree:function(){ig.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var a=this.leaves,b=null,c=new v;;){if(this.buildLevel(a,c),1===c.size())return c.get(0);b=a,a=c,c=b}},insert:function(a,b,c){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new Lc(a,b,c))},query:function(a,b,c){this.init(),this.root.query(a,b,c)},buildRoot:function(){return null!==this.root?null:void(this.root=this.buildTree())},printNode:function(a){J.out.println(eb.toLineString(new n(a.min,this.level),new n(a.max,this.level)))},init:function(){return null!==this.root?null:void this.buildRoot()},buildLevel:function(a,b){this.level++,b.clear();for(var c=0;c<a.size();c+=2){var d=a.get(c);if(null===(c+1<a.size()?a.get(c):null))b.add(d);else{var e=new Mc(a.get(c),a.get(c+1));b.add(e)}}},interfaces_:function(){return[]},getClass:function(){return Nc}}),b(Oc.prototype,{filter:function(a){if(this.isForcedToLineString&&a instanceof Ea){var b=a.getFactory().createLineString(a.getCoordinateSequence());return this.lines.add(b),null}a instanceof ya&&this.lines.add(a)},setForceToLineString:function(a){this.isForcedToLineString=a},interfaces_:function(){return[M]},getClass:function(){return Oc}}),Oc.getGeometry=function(){if(1===arguments.length){var a=arguments[0];return a.getFactory().buildGeometry(Oc.getLines(a))}if(2===arguments.length){var b=arguments[0],c=arguments[1];return b.getFactory().buildGeometry(Oc.getLines(b,c))}},Oc.getLines=function(){if(1===arguments.length){var a=arguments[0];return Oc.getLines(a,!1)}if(2===arguments.length){if(B(arguments[0],q)&&B(arguments[1],q)){for(var b=arguments[0],c=arguments[1],d=b.iterator();d.hasNext();){var e=d.next();Oc.getLines(e,c)}return c}if(arguments[0]instanceof N&&"boolean"==typeof arguments[1]){var f=arguments[0],g=arguments[1],h=new v;return f.apply(new Oc(h,g)),h}if(arguments[0]instanceof N&&B(arguments[1],q)){var i=arguments[0],j=arguments[1];return i instanceof ya?j.add(i):i.apply(new Oc(j)),j}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&B(arguments[0],q)&&B(arguments[1],q)){for(var k=arguments[0],l=arguments[1],m=arguments[2],d=k.iterator();d.hasNext();){var e=d.next();Oc.getLines(e,l,m)}return l}if("boolean"==typeof arguments[2]&&arguments[0]instanceof N&&B(arguments[1],q)){var n=arguments[0],o=arguments[1],p=arguments[2];return n.apply(new Oc(o,p)),o}}},b(Pc.prototype,{visitItem:function(a){this.items.add(a)},getItems:function(){return this.items},interfaces_:function(){return[Ib]},getClass:function(){return Pc}}),b(Qc.prototype,{locate:function(a){var b=new ib(a),c=new Rc(b);return this.index.query(a.y,a.y,c),b.getLocation()},interfaces_:function(){return[zc]},getClass:function(){return Qc}}),b(Rc.prototype,{visitItem:function(a){var b=a;this.counter.countSegment(b.getCoordinate(0),b.getCoordinate(1))},interfaces_:function(){return[Ib]},getClass:function(){return Rc}}),b(Sc.prototype,{init:function(a){for(var b=Oc.getLines(a),c=b.iterator();c.hasNext();){var d=c.next(),e=d.getCoordinates();this.addLine(e)}},addLine:function(a){for(var b=1;b<a.length;b++){var c=new kb(a[b-1],a[b]),d=Math.min(c.p0.y,c.p1.y),e=Math.max(c.p0.y,c.p1.y);this.index.insert(d,e,c)}},query:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new Pc;return this.index.query(a,b,c),c.getItems()}if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];this.index.query(d,e,f)}},interfaces_:function(){return[]},getClass:function(){return Sc}}),Qc.SegmentVisitor=Rc,Qc.IntervalIndexedGeometry=Sc,b(Tc.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex),a.println(" dist = "+this.dist)},compareTo:function(a){var b=a;return this.compare(b.segmentIndex,b.dist)},isEndPoint:function(a){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===a},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(a,b){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<b?-1:this.dist>b?1:0},interfaces_:function(){return[f]},getClass:function(){return Tc}}),b(Uc.prototype,{print:function(a){a.println("Intersections:");for(var b=this.iterator();b.hasNext();)b.next().print(a)},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(a){this.addEndpoints();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next(),e=this.createSplitEdge(c,d);a.add(e),c=d}},addEndpoints:function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[a],a,0)},createSplitEdge:function(a,b){var c=b.segmentIndex-a.segmentIndex+2,d=this.edge.pts[b.segmentIndex],e=b.dist>0||!b.coord.equals2D(d);e||c--;var f=new Array(c).fill(null),g=0;f[g++]=new n(a.coord);for(var h=a.segmentIndex+1;h<=b.segmentIndex;h++)f[g++]=this.edge.pts[h];return e&&(f[g]=b.coord),new Yc(f,new lc(this.edge.label))},add:function(a,b,c){var d=new Tc(a,b,c),e=this.nodeMap.get(d);return null!==e?e:(this.nodeMap.put(d,d),d)},isIntersection:function(a){for(var b=this.iterator();b.hasNext();)if(b.next().coord.equals(a))return!0;return!1},interfaces_:function(){return[]},getClass:function(){return Uc}}),b(Vc.prototype,{getChainStartIndices:function(a){var b=0,c=new v;c.add(new E(b));do{var d=this.findChainEnd(a,b);c.add(new E(d)),b=d}while(b<a.length-1);return Vc.toIntArray(c)},findChainEnd:function(a,b){for(var c=Zb.quadrant(a[b],a[b+1]),d=b+1;d<a.length&&Zb.quadrant(a[d-1],a[d])===c;)d++;return d-1},interfaces_:function(){return[]},getClass:function(){return Vc}}),Vc.toIntArray=function(a){for(var b=new Array(a.size()).fill(null),c=0;c<b.length;c++)b[c]=a.get(c).intValue();return b},b(Wc.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(a){var b=this.pts[this.startIndex[a]].x,c=this.pts[this.startIndex[a+1]].x;return b>c?b:c},getMinX:function(a){var b=this.pts[this.startIndex[a]].x,c=this.pts[this.startIndex[a+1]].x;return b<c?b:c},computeIntersectsForChain:function(){if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.computeIntersectsForChain(this.startIndex[a],this.startIndex[a+1],b,b.startIndex[c],b.startIndex[c+1],d)}else if(6===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3],i=arguments[4],j=arguments[5],k=this.pts[e],l=this.pts[f],m=g.pts[h],n=g.pts[i];if(f-e==1&&i-h==1)return j.addIntersections(this.e,e,g.e,h),null;if(this.env1.init(k,l),this.env2.init(m,n),!this.env1.intersects(this.env2))return null;var o=Math.trunc((e+f)/2),p=Math.trunc((h+i)/2);e<o&&(h<p&&this.computeIntersectsForChain(e,o,g,h,p,j),p<i&&this.computeIntersectsForChain(e,o,g,p,i,j)),o<f&&(h<p&&this.computeIntersectsForChain(o,f,g,h,p,j),p<i&&this.computeIntersectsForChain(o,f,g,p,i,j))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(a,b){for(var c=0;c<this.startIndex.length-1;c++)for(var d=0;d<a.startIndex.length-1;d++)this.computeIntersectsForChain(c,a,d,b)},interfaces_:function(){return[]},getClass:function(){return Wc}}),b(Xc.prototype,{getDepth:function(a,b){return this.depth[a][b]},setDepth:function(a,b,c){this.depth[a][b]=c},isNull:function(){if(0===arguments.length){for(var a=0;a<2;a++)for(var b=0;b<3;b++)if(this.depth[a][b]!==Xc.NULL_VALUE)return!1;return!0}if(1===arguments.length){var c=arguments[0];return this.depth[c][1]===Xc.NULL_VALUE}if(2===arguments.length){var d=arguments[0],e=arguments[1];return this.depth[d][e]===Xc.NULL_VALUE}},normalize:function(){for(var a=0;a<2;a++)if(!this.isNull(a)){var b=this.depth[a][1];this.depth[a][2]<b&&(b=this.depth[a][2]),b<0&&(b=0);for(var c=1;c<3;c++){var d=0;this.depth[a][c]>b&&(d=1),this.depth[a][c]=d}}},getDelta:function(a){return this.depth[a][jc.RIGHT]-this.depth[a][jc.LEFT]},getLocation:function(a,b){return this.depth[a][b]<=0?A.EXTERIOR:A.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<2;b++)for(var c=1;c<3;c++){var d=a.getLocation(b,c);d!==A.EXTERIOR&&d!==A.INTERIOR||(this.isNull(b,c)?this.depth[b][c]=Xc.depthAtLocation(d):this.depth[b][c]+=Xc.depthAtLocation(d))}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];g===A.INTERIOR&&this.depth[e][f]++}},interfaces_:function(){return[]},getClass:function(){return Xc}}),Xc.depthAtLocation=function(a){return a===A.EXTERIOR?0:a===A.INTERIOR?1:Xc.NULL_VALUE},Xc.NULL_VALUE=-1,k(Yc,pc),b(Yc.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var a=new Array(2).fill(null);return a[0]=this.pts[0],a[1]=this.pts[1],new Yc(a,lc.toLineLabel(this.label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(a){this._isIsolated=a},setName:function(a){this.name=a},equals:function(a){if(!(a instanceof Yc))return!1;var b=a;if(this.pts.length!==b.pts.length)return!1;for(var c=!0,d=!0,e=this.pts.length,f=0;f<this.pts.length;f++)if(this.pts[f].equals2D(b.pts[f])||(c=!1),this.pts[f].equals2D(b.pts[--e])||(d=!1),!c&&!d)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var a=arguments[0];return this.pts[a]}},print:function(a){a.print("edge "+this.name+": "),a.print("LINESTRING (");for(var b=0;b<this.pts.length;b++)b>0&&a.print(","),a.print(this.pts[b].x+" "+this.pts[b].y);a.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(a){Yc.updateIM(this.label,a)},isCollapsed:function(){return!!this.label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(a){a.print("edge "+this.name+": ");for(var b=this.pts.length-1;b>=0;b--)a.print(this.pts[b]+" ");a.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new Wc(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new x;for(var a=0;a<this.pts.length;a++)this.env.expandToInclude(this.pts[a])}return this.env},addIntersection:function(a,b,c,d){var e=new n(a.getIntersection(d)),f=b,g=a.getEdgeDistance(c,d),h=f+1;if(h<this.pts.length){var i=this.pts[h];e.equals2D(i)&&(f=h,g=0)}this.eiList.add(e,f,g)},toString:function(){var a=new D;a.append("edge "+this.name+": "),a.append("LINESTRING (");for(var b=0;b<this.pts.length;b++)b>0&&a.append(","),a.append(this.pts[b].x+" "+this.pts[b].y);return a.append(")  "+this.label+" "+this.depthDelta),a.toString()},isPointwiseEqual:function(a){if(this.pts.length!==a.pts.length)return!1;for(var b=0;b<this.pts.length;b++)if(!this.pts[b].equals2D(a.pts[b]))return!1;return!0},setDepthDelta:function(a){this.depthDelta=a},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++)this.addIntersection(a,b,c,d)},interfaces_:function(){return[]},getClass:function(){return Yc}}),Yc.updateIM=function(){if(2!==arguments.length)return pc.prototype.updateIM.apply(this,arguments);var a=arguments[0],b=arguments[1];b.setAtLeastIfValid(a.getLocation(0,jc.ON),a.getLocation(1,jc.ON),1),a.isArea()&&(b.setAtLeastIfValid(a.getLocation(0,jc.LEFT),a.getLocation(1,jc.LEFT),2),b.setAtLeastIfValid(a.getLocation(0,jc.RIGHT),a.getLocation(1,jc.RIGHT),2))},k(Zc,vc),b(Zc.prototype,{insertBoundaryPoint:function(a,b){var c=this.nodes.addNode(b),d=c.getLabel(),e=1;A.NONE,d.getLocation(a,jc.ON)===A.BOUNDARY&&e++;var f=Zc.determineBoundary(this.boundaryNodeRule,e);d.setLocation(a,f)},computeSelfNodes:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return this.computeSelfNodes(a,b,!1)}if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2],f=new Hc(c,!0,!1);f.setIsDoneIfProperInt(e);var g=this.createEdgeSetIntersector(),h=this.parentGeom instanceof Ea||this.parentGeom instanceof Ca||this.parentGeom instanceof Fa,i=d||!h;return g.computeIntersections(this.edges,f,i),this.addSelfIntersectionNodes(this.argIndex),f}},computeSplitEdges:function(a){for(var b=this.edges.iterator();b.hasNext();)b.next().eiList.addSplitEdges(a)},computeEdgeIntersections:function(a,b,c){var d=new Hc(b,c,!0);return d.setBoundaryNodes(this.getBoundaryNodes(),a.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this.edges,a.edges,d),d},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof Aa){var a=arguments[0],b=a.getCoordinate();this.insertPoint(this.argIndex,b,A.INTERIOR)}else if(arguments[0]instanceof n){var c=arguments[0];this.insertPoint(this.argIndex,c,A.INTERIOR)}},addPolygon:function(a){this.addPolygonRing(a.getExteriorRing(),A.EXTERIOR,A.INTERIOR);for(var b=0;b<a.getNumInteriorRing();b++){var c=a.getInteriorRingN(b);this.addPolygonRing(c,A.INTERIOR,A.EXTERIOR)}},addEdge:function(a){this.insertEdge(a);var b=a.getCoordinates();this.insertPoint(this.argIndex,b[0],A.BOUNDARY),this.insertPoint(this.argIndex,b[b.length-1],A.BOUNDARY)},addLineString:function(a){var b=U.removeRepeatedPoints(a.getCoordinates());if(b.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=b[0],null;var c=new Yc(b,new lc(this.argIndex,A.INTERIOR));this.lineEdgeMap.put(a,c),this.insertEdge(c),m.isTrue(b.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,b[0]),this.insertBoundaryPoint(this.argIndex,b[b.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var a=this.getBoundaryNodes(),b=new Array(a.size()).fill(null),c=0,d=a.iterator();d.hasNext();){var e=d.next();b[c++]=e.getCoordinate().copy()}return b},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(a,b,c){return this.isBoundaryNode(a,b)?null:void(c===A.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(a,b):this.insertPoint(a,b,c))},addPolygonRing:function(a,b,c){if(a.isEmpty())return null;var d=U.removeRepeatedPoints(a.getCoordinates());if(d.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=d[0],null;var e=b,f=c;jb.isCCW(d)&&(e=c,f=b);var g=new Yc(d,new lc(this.argIndex,A.BOUNDARY,e,f));this.lineEdgeMap.put(a,g),this.insertEdge(g),this.insertPoint(this.argIndex,d[0],A.BOUNDARY)},insertPoint:function(a,b,c){var d=this.nodes.addNode(b),e=d.getLabel();null===e?d.label=new lc(a,c):e.setLocation(a,c)},createEdgeSetIntersector:function(){return new Ic},addSelfIntersectionNodes:function(a){for(var b=this.edges.iterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.eiList.iterator();e.hasNext();){var f=e.next();this.addSelfIntersectionNode(a,f.coord,d)}},add:function(){if(1!==arguments.length)return vc.prototype.add.apply(this,arguments);var a=arguments[0];if(a.isEmpty())return null;if(a instanceof Fa&&(this.useBoundaryDeterminationRule=!1),a instanceof Ca)this.addPolygon(a);else if(a instanceof ya)this.addLineString(a);else if(a instanceof Aa)this.addPoint(a);else if(a instanceof Da)this.addCollection(a);else if(a instanceof na)this.addCollection(a);else if(a instanceof Fa)this.addCollection(a);else{if(!(a instanceof ma))throw new UnsupportedOperationException(a.getClass().getName());this.addCollection(a)}},addCollection:function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);this.add(c)}},locate:function(a){return B(this.parentGeom,Ba)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new Qc(this.parentGeom)),this.areaPtLocator.locate(a)):this.ptLocator.locate(a,this.parentGeom)},findEdge:function(){if(1===arguments.length){var a=arguments[0];return this.lineEdgeMap.get(a)}return vc.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Zc}}),Zc.determineBoundary=function(a,b){return a.isInBoundary(b)?A.BOUNDARY:A.INTERIOR},b($c.prototype,{getArgGeometry:function(a){return this.arg[a].getGeometry()},setComputationPrecision:function(a){this.resultPrecisionModel=a,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return $c}}),b(_c.prototype,{compareTo:function(a){var b=a;return _c.compareOriented(this.pts,this._orientation,b.pts,b._orientation)},interfaces_:function(){return[f]},getClass:function(){return _c}}),_c.orientation=function(a){return 1===U.increasingDirection(a)},_c.compareOriented=function(a,b,c,d){for(var e=b?1:-1,f=d?1:-1,g=b?a.length:-1,h=d?c.length:-1,i=b?0:a.length-1,j=d?0:c.length-1;;){var k=a[i].compareTo(c[j]);if(0!==k)return k;i+=e,j+=f;var l=i===g,m=j===h;if(l&&!m)return-1;if(!l&&m)return 1;if(l&&m)return 0}},b(ad.prototype,{print:function(a){a.print("MULTILINESTRING ( ");for(var b=0;b<this.edges.size();b++){var c=this.edges.get(b);b>0&&a.print(","),a.print("(");for(var d=c.getCoordinates(),e=0;e<d.length;e++)e>0&&a.print(","),a.print(d[e].x+" "+d[e].y);a.println(")")}a.print(")  ")},addAll:function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next())},findEdgeIndex:function(a){for(var b=0;b<this.edges.size();b++)if(this.edges.get(b).equals(a))return b;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(a){return this.edges.get(a)},findEqualEdge:function(a){var b=new _c(a.getCoordinates());return this.ocaMap.get(b)},add:function(a){this.edges.add(a);var b=new _c(a.getCoordinates());this.ocaMap.put(b,a)},interfaces_:function(){return[]},getClass:function(){return ad}}),k(bd,$c),b(bd.prototype,{insertUniqueEdge:function(a){var b=this.edgeList.findEqualEdge(a);if(null!==b){var c=b.getLabel(),d=a.getLabel();b.isPointwiseEqual(a)||(d=new lc(a.getLabel()),d.flip());var e=b.getDepth();e.isNull()&&e.add(c),e.add(d),c.merge(d)}else this.edgeList.add(a)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var a=this.graph.getEdgeEnds().iterator();a.hasNext();){var b=a.next(),c=b.getSym();b.isInResult()&&c.isInResult()&&(b.setInResult(!1),c.setInResult(!1))}},isCoveredByLA:function(a){return!!this.isCovered(a,this.resultLineList)||!!this.isCovered(a,this.resultPolyList)},computeGeometry:function(a,b,c,d){var e=new v;return e.addAll(a),e.addAll(b),e.addAll(c),e.isEmpty()?bd.createEmptyResult(d,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(e)},mergeSymLabels:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();)a.next().getEdges().mergeSymLabels()},isCovered:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next();if(this.ptLocator.locate(a,d)!==A.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var a=new v,b=this.edgeList.iterator();b.hasNext();){var c=b.next();c.isCollapsed()&&(b.remove(),a.add(c.getCollapsedEdge()))}this.edgeList.addAll(a)},updateNodeLabelling:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();){var b=a.next(),c=b.getEdges().getLabel();b.getLabel().merge(c)}},getResultGeometry:function(a){return this.computeOverlay(a),this.resultGeom},insertUniqueEdges:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.insertUniqueEdge(c)}},computeOverlay:function(a){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var b=new v;this.arg[0].computeSplitEdges(b),this.arg[1].computeSplitEdges(b),this.insertUniqueEdges(b),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),hc.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(a),this.cancelDuplicateResultEdges();var c=new wc(this.geomFact);c.add(this.graph),this.resultPolyList=c.getPolygons();var d=new xc(this,this.geomFact,this.ptLocator);this.resultLineList=d.build(a);var e=new yc(this,this.geomFact,this.ptLocator);this.resultPointList=e.build(a),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,a)},labelIncompleteNode:function(a,b){var c=this.ptLocator.locate(a.getCoordinate(),this.arg[b].getGeometry());a.getLabel().setLocation(b,c)},copyPoints:function(a){for(var b=this.arg[a].getNodeIterator();b.hasNext();){var c=b.next();this.graph.addNode(c.getCoordinate()).setLabel(a,c.getLabel().getLocation(a))}},findResultAreaEdges:function(a){for(var b=this.graph.getEdgeEnds().iterator();b.hasNext();){var c=b.next(),d=c.getLabel();d.isArea()&&!c.isInteriorAreaEdge()&&bd.isResultOfOp(d.getLocation(0,jc.RIGHT),d.getLocation(1,jc.RIGHT),a)&&c.setInResult(!0)}},computeLabelsFromDepths:function(){for(var a=this.edgeList.iterator();a.hasNext();){var b=a.next(),c=b.getLabel(),d=b.getDepth();if(!d.isNull()){d.normalize();for(var e=0;e<2;e++)c.isNull(e)||!c.isArea()||d.isNull(e)||(0===d.getDelta(e)?c.toLine(e):(m.isTrue(!d.isNull(e,jc.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(e,jc.LEFT,d.getLocation(e,jc.LEFT)),m.isTrue(!d.isNull(e,jc.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(e,jc.RIGHT,d.getLocation(e,jc.RIGHT))))}}},computeLabelling:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();)a.next().getEdges().computeLabelling(this.arg);this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var a=0,b=this.graph.getNodes().iterator();b.hasNext();){var c=b.next(),d=c.getLabel();c.isIsolated()&&(a++,d.isNull(0)?this.labelIncompleteNode(c,0):this.labelIncompleteNode(c,1)),c.getEdges().updateLabelling(d)}},isCoveredByA:function(a){return!!this.isCovered(a,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return bd}}),bd.overlayOp=function(a,b,c){return new bd(a,b).getResultGeometry(c)},bd.intersection=function(a,b){if(a.isEmpty()||b.isEmpty())return bd.createEmptyResult(bd.INTERSECTION,a,b,a.getFactory());if(a.isGeometryCollection()){var c=b;return ic.map(a,{interfaces_:function(){return[MapOp]},map:function(a){return a.intersection(c)}})}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),dd.overlayOp(a,b,bd.INTERSECTION)},bd.symDifference=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&b.isEmpty())return bd.createEmptyResult(bd.SYMDIFFERENCE,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),dd.overlayOp(a,b,bd.SYMDIFFERENCE)},bd.resultDimension=function(a,b,c){var d=b.getDimension(),e=c.getDimension(),f=-1;switch(a){case bd.INTERSECTION:f=Math.min(d,e);break;case bd.UNION:f=Math.max(d,e);break;case bd.DIFFERENCE:f=d;break;case bd.SYMDIFFERENCE:f=Math.max(d,e)}return f},bd.createEmptyResult=function(a,b,c,d){var e=null;switch(bd.resultDimension(a,b,c)){case-1:e=d.createGeometryCollection(new Array(0).fill(null));break;case 0:e=d.createPoint();break;case 1:e=d.createLineString();break;case 2:e=d.createPolygon()}return e},bd.difference=function(a,b){return a.isEmpty()?bd.createEmptyResult(bd.DIFFERENCE,a,b,a.getFactory()):b.isEmpty()?a.copy():(a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),dd.overlayOp(a,b,bd.DIFFERENCE))},bd.isResultOfOp=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=a.getLocation(0),d=a.getLocation(1);return bd.isResultOfOp(c,d,b)}if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];switch(e===A.BOUNDARY&&(e=A.INTERIOR),f===A.BOUNDARY&&(f=A.INTERIOR),g){case bd.INTERSECTION:return e===A.INTERIOR&&f===A.INTERIOR;case bd.UNION:return e===A.INTERIOR||f===A.INTERIOR;case bd.DIFFERENCE:return e===A.INTERIOR&&f!==A.INTERIOR;case bd.SYMDIFFERENCE:return e===A.INTERIOR&&f!==A.INTERIOR||e!==A.INTERIOR&&f===A.INTERIOR}return!1}},bd.INTERSECTION=1,bd.UNION=2,bd.DIFFERENCE=3,bd.SYMDIFFERENCE=4,b(cd.prototype,{selfSnap:function(a){return new ub(a).snapTo(a,this.snapTolerance)},removeCommonBits:function(a){this.cbr=new xb,this.cbr.add(a[0]),this.cbr.add(a[1]);var b=new Array(2).fill(null);return b[0]=this.cbr.removeCommonBits(a[0].copy()),b[1]=this.cbr.removeCommonBits(a[1].copy()),b},prepareResult:function(a){return this.cbr.addCommonBits(a),a},getResultGeometry:function(a){var b=this.snap(this.geom),c=bd.overlayOp(b[0],b[1],a);return this.prepareResult(c)},checkValid:function(a){a.isValid()||J.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=ub.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(a){var b=this.removeCommonBits(a);return ub.snap(b[0],b[1],this.snapTolerance)},interfaces_:function(){return[]},getClass:function(){return cd}}),cd.overlayOp=function(a,b,c){return new cd(a,b).getResultGeometry(c)},cd.union=function(a,b){return cd.overlayOp(a,b,bd.UNION)},cd.intersection=function(a,b){return cd.overlayOp(a,b,bd.INTERSECTION)},cd.symDifference=function(a,b){return cd.overlayOp(a,b,bd.SYMDIFFERENCE)},cd.difference=function(a,b){return cd.overlayOp(a,b,bd.DIFFERENCE)},b(dd.prototype,{getResultGeometry:function(a){var b=null,c=!1,d=null;try{b=bd.overlayOp(this.geom[0],this.geom[1],a),c=!0}catch(a){if(!(a instanceof j))throw a;d=a}if(!c)try{b=cd.overlayOp(this.geom[0],this.geom[1],a)}catch(a){throw a instanceof j?d:a}return b},interfaces_:function(){return[]},getClass:function(){return dd}}),dd.overlayOp=function(a,b,c){return new dd(a,b).getResultGeometry(c)},dd.union=function(a,b){return dd.overlayOp(a,b,bd.UNION)},dd.intersection=function(a,b){return dd.overlayOp(a,b,bd.INTERSECTION)},dd.symDifference=function(a,b){return dd.overlayOp(a,b,bd.SYMDIFFERENCE)},dd.difference=function(a,b){return dd.overlayOp(a,b,bd.DIFFERENCE)},b(ed.prototype,{addPolygon:function(a){if(a.isEmpty())return null;var b=null,c=0,d=this.horizontalBisector(a);if(0===d.getLength())c=0,b=d.getCoordinate();else{var e=dd.overlayOp(d,a,bd.INTERSECTION),f=this.widestGeometry(e);c=f.getEnvelopeInternal().getWidth(),b=ed.centre(f.getEnvelopeInternal())}(null===this.interiorPoint||c>this.maxWidth)&&(this.interiorPoint=b,this.maxWidth=c)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof ma){var a=arguments[0];if(a.isEmpty())return a;for(var b=a.getGeometryN(0),c=1;c<a.getNumGeometries();c++)a.getGeometryN(c).getEnvelopeInternal().getWidth()>b.getEnvelopeInternal().getWidth()&&(b=a.getGeometryN(c));return b}if(arguments[0]instanceof N){var d=arguments[0];return d instanceof ma?this.widestGeometry(d):d}},horizontalBisector:function(a){var b=a.getEnvelopeInternal(),c=fd.getBisectorY(a);return this.factory.createLineString([new n(b.getMinX(),c),new n(b.getMaxX(),c)])},add:function(a){if(a instanceof Ca)this.addPolygon(a);else if(a instanceof ma)for(var b=a,c=0;c<b.getNumGeometries();c++)this.add(b.getGeometryN(c))},interfaces_:function(){return[]},getClass:function(){return ed}}),ed.centre=function(a){return new n(ed.avg(a.getMinX(),a.getMaxX()),ed.avg(a.getMinY(),a.getMaxY()))},ed.avg=function(a,b){return(a+b)/2},b(fd.prototype,{updateInterval:function(a){a<=this.centreY?a>this.loY&&(this.loY=a):a>this.centreY&&a<this.hiY&&(this.hiY=a)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var a=0;a<this.poly.getNumInteriorRing();a++)this.process(this.poly.getInteriorRingN(a));return ed.avg(this.hiY,this.loY)},process:function(a){for(var b=a.getCoordinateSequence(),c=0;c<b.size();c++){var d=b.getY(c);this.updateInterval(d)}},interfaces_:function(){return[]},getClass:function(){return fd}}),fd.getBisectorY=function(a){return new fd(a).getBisectorY()},ed.SafeBisectorFinder=fd,b(gd.prototype,{addEndpoints:function(){if(arguments[0]instanceof N){var a=arguments[0];if(a instanceof ya)this.addEndpoints(a.getCoordinates());else if(a instanceof ma)for(var b=a,c=0;c<b.getNumGeometries();c++)this.addEndpoints(b.getGeometryN(c))}else if(arguments[0]instanceof Array){var d=arguments[0];this.add(d[0]),this.add(d[d.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){
if(arguments[0]instanceof N){var a=arguments[0];if(a instanceof ya)this.addInterior(a.getCoordinates());else if(a instanceof ma)for(var b=a,c=0;c<b.getNumGeometries();c++)this.addInterior(b.getGeometryN(c))}else if(arguments[0]instanceof Array)for(var d=arguments[0],c=1;c<d.length-1;c++)this.add(d[c])},add:function(a){var b=a.distance(this.centroid);b<this.minDistance&&(this.interiorPoint=new n(a),this.minDistance=b)},interfaces_:function(){return[]},getClass:function(){return gd}}),b(hd.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof N){var a=arguments[0];if(a instanceof Aa)this.add(a.getCoordinate());else if(a instanceof ma)for(var b=a,c=0;c<b.getNumGeometries();c++)this.add(b.getGeometryN(c))}else if(arguments[0]instanceof n){var d=arguments[0],e=d.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new n(d),this.minDistance=e)}},interfaces_:function(){return[]},getClass:function(){return hd}}),b(id.prototype,{select:function(){if(1===arguments.length)arguments[0];else if(2===arguments.length){var a=arguments[0],b=arguments[1];a.getLineSegment(b,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return id}}),b(jd.prototype,{hasChildren:function(){for(var a=0;a<2;a++)if(null!==this.subnode[a])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(a){a.addAll(this.items);for(var b=0;b<2;b++)null!==this.subnode[b]&&this.subnode[b].addAllItems(a);return a},size:function(){for(var a=0,b=0;b<2;b++)null!==this.subnode[b]&&(a+=this.subnode[b].size());return a+this.items.size()},addAllItemsFromOverlapping:function(a,b){return null===a||this.isSearchMatch(a)?(b.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(a,b),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(a,b))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(a,b){if(!this.isSearchMatch(a))return!1;for(var c=!1,d=0;d<2;d++)if(null!==this.subnode[d]&&(c=this.subnode[d].remove(a,b))){this.subnode[d].isPrunable()&&(this.subnode[d]=null);break}return c||(c=this.items.remove(b))},getItems:function(){return this.items},depth:function(){for(var a=0,b=0;b<2;b++)if(null!==this.subnode[b]){var c=this.subnode[b].depth();c>a&&(a=c)}return a+1},nodeSize:function(){for(var a=0,b=0;b<2;b++)null!==this.subnode[b]&&(a+=this.subnode[b].nodeSize());return a+1},add:function(a){this.items.add(a)},interfaces_:function(){return[]},getClass:function(){return jd}}),jd.getSubnodeIndex=function(a,b){var c=-1;return a.min>=b&&(c=1),a.max<=b&&(c=0),c},b(kd.prototype,{expandToInclude:function(a){a.max>this.max&&(this.max=a.max),a.min<this.min&&(this.min=a.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var a=arguments[0];return this.overlaps(a.min,a.max)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return!(this.min>c||this.max<b)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof kd){var a=arguments[0];return this.contains(a.min,a.max)}if("number"==typeof arguments[0]){var b=arguments[0];return b>=this.min&&b<=this.max}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return c>=this.min&&d<=this.max}},init:function(a,b){this.min=a,this.max=b,a>b&&(this.min=b,this.max=a)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return kd}}),ld.exponent=function(a){return md(64,a)-1023},ld.powerOf2=function(a){return Math.pow(2,a)},b(nd.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(a){for(this.level=nd.computeLevel(a),this.interval=new kd,this.computeInterval(this.level,a);!this.interval.contains(a);)this.level+=1,this.computeInterval(this.level,a)},computeInterval:function(a,b){var c=ld.powerOf2(a);this.pt=Math.floor(b.getMin()/c)*c,this.interval.init(this.pt,this.pt+c)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return nd}}),nd.computeLevel=function(a){var b=a.getWidth();return ld.exponent(b)+1},k(od,jd),b(od.prototype,{getInterval:function(){return this.interval},find:function(a){var b=jd.getSubnodeIndex(a,this.centre);return-1===b?this:null!==this.subnode[b]?this.subnode[b].find(a):this},insert:function(a){m.isTrue(null===this.interval||this.interval.contains(a.interval));var b=jd.getSubnodeIndex(a.interval,this.centre);if(a.level===this.level-1)this.subnode[b]=a;else{var c=this.createSubnode(b);c.insert(a),this.subnode[b]=c}},isSearchMatch:function(a){return a.overlaps(this.interval)},getSubnode:function(a){return null===this.subnode[a]&&(this.subnode[a]=this.createSubnode(a)),this.subnode[a]},getNode:function(a){var b=jd.getSubnodeIndex(a,this.centre);return-1!==b?this.getSubnode(b).getNode(a):this},createSubnode:function(a){var b=0,c=0;switch(a){case 0:b=this.interval.getMin(),c=this.centre;break;case 1:b=this.centre,c=this.interval.getMax()}return new od(new kd(b,c),this.level-1)},interfaces_:function(){return[]},getClass:function(){return od}}),od.createNode=function(a){var b=new nd(a);return new od(b.getInterval(),b.getLevel())},od.createExpanded=function(a,b){var c=new kd(b);null!==a&&c.expandToInclude(a.interval);var d=od.createNode(c);return null!==a&&d.insert(a),d},b(pd.prototype,{interfaces_:function(){return[]},getClass:function(){return pd}});pd.isZeroWidth=function(a,b){var c=b-a;if(0===c)return!0;var d=Math.max(Math.abs(a),Math.abs(b)),e=c/d;return ld.exponent(e)<=pd.MIN_BINARY_EXPONENT},pd.MIN_BINARY_EXPONENT=-50,k(qd,jd),b(qd.prototype,{insert:function(a,b){var c=jd.getSubnodeIndex(a,qd.origin);if(-1===c)return this.add(b),null;var d=this.subnode[c];if(null===d||!d.getInterval().contains(a)){var e=od.createExpanded(d,a);this.subnode[c]=e}this.insertContained(this.subnode[c],a,b)},isSearchMatch:function(a){return!0},insertContained:function(a,b,c){m.isTrue(a.getInterval().contains(b));var d=pd.isZeroWidth(b.getMin(),b.getMax()),e=null;e=d?a.find(b):a.getNode(b),e.add(c)},interfaces_:function(){return[]},getClass:function(){return qd}}),qd.origin=0,b(rd.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(a,b){this.collectStats(a);var c=rd.ensureExtent(a,this.minExtent);this.root.insert(c,b)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];return this.query(new kd(a,a))}if(arguments[0]instanceof kd){var b=arguments[0],c=new v;return this.query(b,c),c}}else if(2===arguments.length){var d=arguments[0],e=arguments[1];this.root.addAllItemsFromOverlapping(d,e)}},iterator:function(){var a=new v;return this.root.addAllItems(a),a.iterator()},remove:function(a,b){var c=rd.ensureExtent(a,this.minExtent);return this.root.remove(c,b)},collectStats:function(a){var b=a.getWidth();b<this.minExtent&&b>0&&(this.minExtent=b)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return rd}}),rd.ensureExtent=function(a,b){var c=a.getMin(),d=a.getMax();return c!==d?a:(c===d&&(c-=b/2,d=c+b/2),new kd(c,d))},b(sd.prototype,{isInside:function(a){},interfaces_:function(){return[]},getClass:function(){return sd}}),b(td.prototype,{testLineSegment:function(a,b){var c=null,d=null,e=null,f=null,g=b.p0,h=b.p1;c=g.x-a.x,d=g.y-a.y,e=h.x-a.x,f=h.y-a.y,(d>0&&f<=0||f>0&&d<=0)&&0<hb.signOfDet2x2(c,d,e,f)/(f-d)&&this.crossings++},buildIndex:function(){this.tree=new rd;for(var a=U.removeRepeatedPoints(this.ring.getCoordinates()),b=$b.getChains(a),c=0;c<b.size();c++){var d=b.get(c),e=d.getEnvelope();this.interval.min=e.getMinY(),this.interval.max=e.getMaxY(),this.tree.insert(this.interval,d)}},testMonotoneChain:function(a,b,c){c.select(a,b)},isInside:function(a){this.crossings=0;var b=new x(e.NEGATIVE_INFINITY,e.POSITIVE_INFINITY,a.y,a.y);this.interval.min=a.y,this.interval.max=a.y;for(var c=this.tree.query(this.interval),d=new ud(this,a),f=c.iterator();f.hasNext();){var g=f.next();this.testMonotoneChain(b,d,g)}return this.crossings%2==1},interfaces_:function(){return[sd]},getClass:function(){return td}}),k(ud,id),b(ud.prototype,{select:function(){if(1!==arguments.length)return id.prototype.select.apply(this,arguments);var a=arguments[0];this.mcp.testLineSegment(this.p,a)},interfaces_:function(){return[]},getClass:function(){return ud}}),td.MCSelecter=ud,b(vd.prototype,{interfaces_:function(){return[]},getClass:function(){return vd}}),vd.toDegrees=function(a){return 180*a/Math.PI},vd.normalize=function(a){for(;a>Math.PI;)a-=vd.PI_TIMES_2;for(;a<=-Math.PI;)a+=vd.PI_TIMES_2;return a},vd.angle=function(){if(1===arguments.length){var a=arguments[0];return Math.atan2(a.y,a.x)}if(2===arguments.length){var b=arguments[0],c=arguments[1],d=c.x-b.x,e=c.y-b.y;return Math.atan2(e,d)}},vd.isAcute=function(a,b,c){var d=a.x-b.x,e=a.y-b.y;return d*(c.x-b.x)+e*(c.y-b.y)>0},vd.isObtuse=function(a,b,c){var d=a.x-b.x,e=a.y-b.y;return d*(c.x-b.x)+e*(c.y-b.y)<0},vd.interiorAngle=function(a,b,c){var d=vd.angle(b,a),e=vd.angle(b,c);return Math.abs(e-d)},vd.normalizePositive=function(a){if(a<0){for(;a<0;)a+=vd.PI_TIMES_2;a>=vd.PI_TIMES_2&&(a=0)}else{for(;a>=vd.PI_TIMES_2;)a-=vd.PI_TIMES_2;a<0&&(a=0)}return a},vd.angleBetween=function(a,b,c){var d=vd.angle(b,a),e=vd.angle(b,c);return vd.diff(d,e)},vd.diff=function(a,b){var c=null;return c=a<b?b-a:a-b,c>Math.PI&&(c=2*Math.PI-c),c},vd.toRadians=function(a){return a*Math.PI/180},vd.getTurn=function(a,b){var c=Math.sin(b-a);return c>0?vd.COUNTERCLOCKWISE:c<0?vd.CLOCKWISE:vd.NONE},vd.angleBetweenOriented=function(a,b,c){var d=vd.angle(b,a),e=vd.angle(b,c),f=e-d;return f<=-Math.PI?f+vd.PI_TIMES_2:f>Math.PI?f-vd.PI_TIMES_2:f},vd.PI_TIMES_2=2*Math.PI,vd.PI_OVER_2=Math.PI/2,vd.PI_OVER_4=Math.PI/4,vd.COUNTERCLOCKWISE=jb.COUNTERCLOCKWISE,vd.CLOCKWISE=jb.CLOCKWISE,vd.NONE=jb.COLLINEAR,b(wd.prototype,{area:function(){return wd.area(this.p0,this.p1,this.p2)},signedArea:function(){return wd.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(a){if(null===a)throw new d("Supplied point is null.");return wd.interpolateZ(a,this.p0,this.p1,this.p2)},longestSideLength:function(){return wd.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return wd.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return wd.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return wd.area3D(this.p0,this.p1,this.p2)},centroid:function(){return wd.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return wd.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return wd}}),wd.area=function(a,b,c){return Math.abs(((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2)},wd.signedArea=function(a,b,c){return((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2},wd.det=function(a,b,c,d){return a*d-b*c},wd.interpolateZ=function(a,b,c,d){var e=b.x,f=b.y,g=c.x-e,h=d.x-e,i=c.y-f,j=d.y-f,k=g*j-h*i,l=a.x-e,m=a.y-f,n=(j*l-h*m)/k,o=(-i*l+g*m)/k;return b.z+n*(c.z-b.z)+o*(d.z-b.z)},wd.longestSideLength=function(a,b,c){var d=a.distance(b),e=b.distance(c),f=c.distance(a),g=d;return e>g&&(g=e),f>g&&(g=f),g},wd.isAcute=function(a,b,c){return!!vd.isAcute(a,b,c)&&!!vd.isAcute(b,c,a)&&!!vd.isAcute(c,a,b)},wd.circumcentre=function(a,b,c){var d=c.x,e=c.y,f=a.x-d,g=a.y-e,h=b.x-d,i=b.y-e,j=2*wd.det(f,g,h,i);return new n(d-wd.det(g,f*f+g*g,i,h*h+i*i)/j,e+wd.det(f,f*f+g*g,h,h*h+i*i)/j)},wd.perpendicularBisector=function(a,b){var c=b.x-a.x,d=b.y-a.y;return new K(new K(a.x+c/2,a.y+d/2,1),new K(a.x-d+c/2,a.y+c+d/2,1))},wd.angleBisector=function(a,b,c){var d=b.distance(a),e=b.distance(c),f=d/(d+e),g=c.x-a.x,h=c.y-a.y;return new n(a.x+f*g,a.y+f*h)},wd.area3D=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,f=b.z-a.z,g=c.x-a.x,h=c.y-a.y,i=c.z-a.z,j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=j*j+k*k+l*l;return Math.sqrt(m)/2},wd.centroid=function(a,b,c){return new n((a.x+b.x+c.x)/3,(a.y+b.y+c.y)/3)},wd.inCentre=function(a,b,c){var d=b.distance(c),e=a.distance(c),f=a.distance(b),g=d+e+f;return new n((d*a.x+e*b.x+f*c.x)/g,(d*a.y+e*b.y+f*c.y)/g)},b(xd.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var a=this.extremalPts[0],b=this.extremalPts[1];return this.input.getFactory().createLineString([a,b])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var a=this.input.getCoordinates();return this.extremalPts=[new n(a[0])],null}var b=this.input.convexHull(),c=b.getCoordinates(),a=c;if(c[0].equals2D(c[c.length-1])&&(a=new Array(c.length-1).fill(null),U.copyDeep(c,0,a,0,c.length-1)),a.length<=2)return this.extremalPts=U.copyDeep(a),null;for(var d=xd.lowestPoint(a),e=xd.pointWitMinAngleWithX(a,d),f=0;f<a.length;f++){var g=xd.pointWithMinAngleWithSegment(a,d,e);if(vd.isObtuse(d,g,e))return this.extremalPts=[new n(d),new n(e)],null;if(vd.isObtuse(g,d,e))d=g;else{if(!vd.isObtuse(g,e,d))return this.extremalPts=[new n(d),new n(e),new n(g)],null;e=g}}m.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null!==this.extremalPts?null:(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var a=this.extremalPts[0],b=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([a,b])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var a=this.input.getFactory().createPoint(this.centre);return 0===this.radius?a:a.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new n((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=wd.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return xd}}),xd.pointWitMinAngleWithX=function(a,b){for(var c=e.MAX_VALUE,d=null,f=0;f<a.length;f++){var g=a[f];if(g!==b){var h=g.x-b.x,i=g.y-b.y;i<0&&(i=-i);var j=Math.sqrt(h*h+i*i),k=i/j;k<c&&(c=k,d=g)}}return d},xd.lowestPoint=function(a){for(var b=a[0],c=1;c<a.length;c++)a[c].y<b.y&&(b=a[c]);return b},xd.pointWithMinAngleWithSegment=function(a,b,c){for(var d=e.MAX_VALUE,f=null,g=0;g<a.length;g++){var h=a[g];if(h!==b&&h!==c){var i=vd.angleBetween(b,h,c);i<d&&(d=i,f=h)}}return f},b(yd.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var a=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([a,this.minWidthPt])},computeWidthConvex:function(a){this.convexHullPts=a instanceof Ca?a.getExteriorRing().getCoordinates():a.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(a){this.minWidth=e.MAX_VALUE;for(var b=1,c=new kb,d=0;d<a.length-1;d++)c.p0=a[d],c.p1=a[d+1],b=this.findMaxPerpDistance(a,c,b)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var a=new qb(this.inputGeom).getConvexHull();this.computeWidthConvex(a)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(a,b,c){for(var d=b.distancePerpendicular(a[c]),e=d,f=c,g=f;e>=d;)d=e,f=g,g=yd.nextIndex(a,f),e=b.distancePerpendicular(a[g]);return d<this.minWidth&&(this.minPtIndex=f,this.minWidth=d,this.minWidthPt=a[this.minPtIndex],this.minBaseSeg=new kb(b)),f},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var a=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,b=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,c=e.MAX_VALUE,d=-e.MAX_VALUE,f=e.MAX_VALUE,g=-e.MAX_VALUE,h=0;h<this.convexHullPts.length;h++){var i=yd.computeC(a,b,this.convexHullPts[h]);i>d&&(d=i),i<c&&(c=i);var j=yd.computeC(-b,a,this.convexHullPts[h]);j>g&&(g=j),j<f&&(f=j)}var k=yd.computeSegmentForLine(-a,-b,g),l=yd.computeSegmentForLine(-a,-b,f),m=yd.computeSegmentForLine(-b,a,d),n=yd.computeSegmentForLine(-b,a,c),o=m.lineIntersection(k),p=n.lineIntersection(k),q=n.lineIntersection(l),r=m.lineIntersection(l),s=this.inputGeom.getFactory().createLinearRing([o,p,q,r,o]);return this.inputGeom.getFactory().createPolygon(s,null)},interfaces_:function(){return[]},getClass:function(){return yd}}),yd.nextIndex=function(a,b){return b++,b>=a.length&&(b=0),b},yd.computeC=function(a,b,c){return a*c.y-b*c.x},yd.getMinimumDiameter=function(a){return new yd(a).getDiameter()},yd.getMinimumRectangle=function(a){return new yd(a).getMinimumRectangle()},yd.computeSegmentForLine=function(a,b,c){var d=null,e=null;return Math.abs(b)>Math.abs(a)?(d=new n(0,c/b),e=new n(1,c/b-a/b)):(d=new n(c/a,0),e=new n(c/a-b/a,1)),new kb(d,e)};var jg=Object.freeze({Centroid:mb,CGAlgorithms:jb,ConvexHull:qb,InteriorPointArea:ed,InteriorPointLine:gd,InteriorPointPoint:hd,RobustLineIntersector:gb,MCPointInRing:td,MinimumBoundingCircle:xd,MinimumDiameter:yd});b(zd.prototype,{getResultGeometry:function(){return new Ad(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(a){if(a<=0)throw new d("Tolerance must be positive");this.distanceTolerance=a},interfaces_:function(){return[]},getClass:function(){return zd}}),zd.densifyPoints=function(a,b,c){for(var d=new kb,e=new w,f=0;f<a.length-1;f++){d.p0=a[f],d.p1=a[f+1],e.add(d.p0,!1);var g=d.getLength(),h=Math.trunc(g/b)+1;if(h>1)for(var i=g/h,j=1;j<h;j++){var k=j*i/g,l=d.pointAlong(k);c.makePrecise(l),e.add(l,!1)}}return e.add(a[a.length-1],!1),e.toCoordinateArray()},zd.densify=function(a,b){var c=new zd(a);return c.setDistanceTolerance(b),c.getResultGeometry()},k(Ad,sb),b(Ad.prototype,{transformMultiPolygon:function(a,b){var c=sb.prototype.transformMultiPolygon.call(this,a,b);return this.createValidArea(c)},transformPolygon:function(a,b){var c=sb.prototype.transformPolygon.call(this,a,b);return b instanceof Fa?c:this.createValidArea(c)},transformCoordinates:function(a,b){var c=a.toCoordinateArray(),d=zd.densifyPoints(c,this.distanceTolerance,b.getPrecisionModel());return b instanceof ya&&1===d.length&&(d=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(d)},createValidArea:function(a){return a.buffer(0)},interfaces_:function(){return[]},getClass:function(){return Ad}}),zd.DensifyTransformer=Ad;var kg=Object.freeze({Densifier:zd});b(Bd.prototype,{find:function(a){var b=this;do{if(null===b)return null;if(b.dest().equals2D(a))return b;b=b.oNext()}while(b!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(a){if(this.oNext()===this)return this.insertAfter(a),null;var b=this.compareTo(a),c=this;do{var d=c.oNext();if(d.compareTo(a)!==b||d===this)return c.insertAfter(a),null;c=d}while(c!==this);m.shouldNeverReachHere()},insertAfter:function(a){m.equals(this._orig,a.orig());var b=this.oNext();this._sym.setNext(a),a.sym().setNext(b)},degree:function(){var a=0,b=this;do{a++,b=b.oNext()}while(b!==this);return a},equals:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return this._orig.equals2D(a)&&this._sym._orig.equals(b)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(a){var b=this.deltaX(),c=this.deltaY(),d=a.deltaX(),e=a.deltaY();if(b===d&&c===e)return 0;var f=Zb.quadrant(b,c),g=Zb.quadrant(d,e);return f>g?1:f<g?-1:jb.computeOrientation(a._orig,a.dest(),this.dest())},prevNode:function(){for(var a=this;2===a.degree();)if((a=a.prev())===this)return null;return a},compareTo:function(a){var b=a;return this.compareAngularDirection(b)},next:function(){return this._next},setSym:function(a){this._sym=a},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(a){this._next=a},init:function(a){this.setSym(a),a.setSym(this),this.setNext(a),a.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return Bd}}),Bd.init=function(a,b){if(null!==a._sym||null!==b._sym||null!==a._next||null!==b._next)throw new IllegalStateException("Edges are already initialized");return a.init(b),a},Bd.create=function(a,b){var c=new Bd(a),d=new Bd(b);return c.init(d),c},k(Cd,Bd),b(Cd.prototype,{mark:function(){this._isMarked=!0},setMark:function(a){this._isMarked=a},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return Cd}}),Cd.setMarkBoth=function(a,b){a.setMark(b),a.sym().setMark(b)},Cd.isMarked=function(a){return a.isMarked()},Cd.setMark=function(a,b){a.setMark(b)},Cd.markBoth=function(a){a.mark(),a.sym().mark()},Cd.mark=function(a){a.mark()},b(Dd.prototype,{insert:function(a,b,c){var d=this.create(a,b);null!==c?c.insert(d):this.vertexMap.put(a,d);var e=this.vertexMap.get(b);return null!==e?e.insert(d.sym()):this.vertexMap.put(b,d.sym()),d},create:function(a,b){var c=this.createEdge(a),d=this.createEdge(b);return Bd.init(c,d),c},createEdge:function(a){return new Bd(a)},addEdge:function(a,b){if(!Dd.isValidEdge(a,b))return null;var c=this.vertexMap.get(a),d=null;return null!==c&&(d=c.find(b)),null!==d?d:this.insert(a,b,c)},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(a,b){var c=this.vertexMap.get(a);return null===c?null:c.find(b)},interfaces_:function(){return[]},getClass:function(){return Dd}}),Dd.isValidEdge=function(a,b){return 0!==b.compareTo(a)},k(Ed,Cd),b(Ed.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return Ed}}),k(Fd,Dd),b(Fd.prototype,{createEdge:function(a){return new Ed(a)},interfaces_:function(){return[]},getClass:function(){return Fd}}),b(Gd.prototype,{addLine:function(a){this.lines.add(this.factory.createLineString(a.toCoordinateArray()))},updateRingStartEdge:function(a){return a.isStart()||(a=a.sym(),a.isStart())?null===this.ringStartEdge?(this.ringStartEdge=a,null):void(a.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=a)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(a){var b=a.prevNode();null===b&&(b=a),this.stackEdges(b),this.buildLines()},buildRing:function(a){var b=new w,c=a;for(b.add(c.orig().copy(),!1);2===c.sym().degree();){var d=c.next();if(d===a)break;b.add(d.orig().copy(),!1),c=d}b.add(c.dest().copy(),!1),this.addLine(b)},buildLine:function(a){var b=new w,c=a;for(this.ringStartEdge=null,Cd.markBoth(c),b.add(c.orig().copy(),!1);2===c.sym().degree();){this.updateRingStartEdge(c);var d=c.next();if(d===a)return this.buildRing(this.ringStartEdge),null;b.add(d.orig().copy(),!1),c=d,Cd.markBoth(c)}b.add(c.dest().copy(),!1),this.stackEdges(c.sym()),this.addLine(b)},stackEdges:function(a){var b=a;do{Cd.isMarked(b)||this.nodeEdgeStack.add(b),b=b.oNext()}while(b!==a)},computeResult:function(){for(var a=this.graph.getVertexEdges(),b=a.iterator();b.hasNext();){var c=b.next();Cd.isMarked(c)||this.process(c)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var a=this.nodeEdgeStack.pop();Cd.isMarked(a)||this.buildLine(a)}},add:function(){if(arguments[0]instanceof N)arguments[0].apply({interfaces_:function(){return[M]},filter:function(a){a instanceof ya&&this.add(a)}});else if(B(arguments[0],q))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.add(c)}else if(arguments[0]instanceof ya){var d=arguments[0];null===this.factory&&(this.factory=d.getFactory());for(var e=d.getCoordinateSequence(),f=!1,b=1;b<e.size();b++){var g=this.graph.addEdge(e.getCoordinate(b-1),e.getCoordinate(b));null!==g&&(f||(g.setStart(),f=!0))}}},interfaces_:function(){return[]},getClass:function(){return Gd}}),Gd.dissolve=function(a){var b=new Gd;return b.add(a),b.getResult()};var lg=Object.freeze({LineDissolver:Gd}),mg=Object.freeze({GeometryGraph:Zc});b(Hd.prototype,{hasChildren:function(){for(var a=0;a<4;a++)if(null!==this.subnode[a])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(a){a.addAll(this.items);for(var b=0;b<4;b++)null!==this.subnode[b]&&this.subnode[b].addAllItems(a);return a},getNodeCount:function(){for(var a=0,b=0;b<4;b++)null!==this.subnode[b]&&(a+=this.subnode[b].size());return a+1},size:function(){for(var a=0,b=0;b<4;b++)null!==this.subnode[b]&&(a+=this.subnode[b].size());return a+this.items.size()},addAllItemsFromOverlapping:function(a,b){if(!this.isSearchMatch(a))return null;b.addAll(this.items);for(var c=0;c<4;c++)null!==this.subnode[c]&&this.subnode[c].addAllItemsFromOverlapping(a,b)},visitItems:function(a,b){for(var c=this.items.iterator();c.hasNext();)b.visitItem(c.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(a,b){if(!this.isSearchMatch(a))return!1;for(var c=!1,d=0;d<4;d++)if(null!==this.subnode[d]&&(c=this.subnode[d].remove(a,b))){this.subnode[d].isPrunable()&&(this.subnode[d]=null);break}return c||(c=this.items.remove(b))},visit:function(a,b){if(!this.isSearchMatch(a))return null;this.visitItems(a,b);for(var c=0;c<4;c++)null!==this.subnode[c]&&this.subnode[c].visit(a,b)},getItems:function(){return this.items},depth:function(){for(var a=0,b=0;b<4;b++)if(null!==this.subnode[b]){var c=this.subnode[b].depth();c>a&&(a=c)}return a+1},isEmpty:function(){var a=!0;this.items.isEmpty()||(a=!1);for(var b=0;b<4;b++)null!==this.subnode[b]&&(this.subnode[b].isEmpty()||(a=!1));return a},add:function(a){this.items.add(a)},interfaces_:function(){return[i]},getClass:function(){return Hd}}),Hd.getSubnodeIndex=function(a,b,c){var d=-1;return a.getMinX()>=b&&(a.getMinY()>=c&&(d=3),a.getMaxY()<=c&&(d=1)),a.getMaxX()<=b&&(a.getMinY()>=c&&(d=2),a.getMaxY()<=c&&(d=0)),d},b(Id.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var a=arguments[0];for(this.level=Id.computeQuadLevel(a),this.env=new x,this.computeKey(this.level,a);!this.env.contains(a);)this.level+=1,this.computeKey(this.level,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1],d=ld.powerOf2(b);this.pt.x=Math.floor(c.getMinX()/d)*d,this.pt.y=Math.floor(c.getMinY()/d)*d,this.env.init(this.pt.x,this.pt.x+d,this.pt.y,this.pt.y+d)}},getEnvelope:function(){return this.env},getCentre:function(){return new n((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Id}}),Id.computeQuadLevel=function(a){var b=a.getWidth(),c=a.getHeight(),d=b>c?b:c;return ld.exponent(d)+1},k(Jd,Hd),b(Jd.prototype,{find:function(a){var b=Hd.getSubnodeIndex(a,this.centrex,this.centrey);return-1===b?this:null!==this.subnode[b]?this.subnode[b].find(a):this},isSearchMatch:function(a){return this.env.intersects(a)},getSubnode:function(a){return null===this.subnode[a]&&(this.subnode[a]=this.createSubnode(a)),this.subnode[a]},getEnvelope:function(){return this.env},getNode:function(a){var b=Hd.getSubnodeIndex(a,this.centrex,this.centrey);return-1!==b?this.getSubnode(b).getNode(a):this},createSubnode:function(a){var b=0,c=0,d=0,e=0;switch(a){case 0:b=this.env.getMinX(),c=this.centrex,d=this.env.getMinY(),e=this.centrey;break;case 1:b=this.centrex,c=this.env.getMaxX(),d=this.env.getMinY(),e=this.centrey;break;case 2:b=this.env.getMinX(),c=this.centrex,d=this.centrey,e=this.env.getMaxY();break;case 3:b=this.centrex,c=this.env.getMaxX(),d=this.centrey,e=this.env.getMaxY()}return new Jd(new x(b,c,d,e),this.level-1)},insertNode:function(a){m.isTrue(null===this.env||this.env.contains(a.env));var b=Hd.getSubnodeIndex(a.env,this.centrex,this.centrey);if(a.level===this.level-1)this.subnode[b]=a;else{var c=this.createSubnode(b);c.insertNode(a),this.subnode[b]=c}},interfaces_:function(){return[]},getClass:function(){return Jd}}),Jd.createNode=function(a){var b=new Id(a);return new Jd(b.getEnvelope(),b.getLevel())},Jd.createExpanded=function(a,b){var c=new x(b);null!==a&&c.expandToInclude(a.env);var d=Jd.createNode(c);return null!==a&&d.insertNode(a),d},k(Kd,Hd),b(Kd.prototype,{insert:function(a,b){var c=Hd.getSubnodeIndex(a,Kd.origin.x,Kd.origin.y);if(-1===c)return this.add(b),null;var d=this.subnode[c];if(null===d||!d.getEnvelope().contains(a)){var e=Jd.createExpanded(d,a);this.subnode[c]=e}this.insertContained(this.subnode[c],a,b)},isSearchMatch:function(a){return!0},insertContained:function(a,b,c){m.isTrue(a.getEnvelope().contains(b));var d=pd.isZeroWidth(b.getMinX(),b.getMaxX()),e=pd.isZeroWidth(b.getMinY(),b.getMaxY()),f=null;f=d||e?a.find(b):a.getNode(b),f.add(c)},interfaces_:function(){return[]},getClass:function(){return Kd}}),Kd.origin=new n(0,0),b(Ld.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(a,b){this.collectStats(a);var c=Ld.ensureExtent(a,this.minExtent);this.root.insert(c,b)},query:function(){if(1===arguments.length){var a=arguments[0],b=new Pc;return this.query(a,b),b.getItems()}if(2===arguments.length){var c=arguments[0],d=arguments[1];this.root.visit(c,d)}},queryAll:function(){var a=new v;return this.root.addAllItems(a),a},remove:function(a,b){var c=Ld.ensureExtent(a,this.minExtent);return this.root.remove(c,b)},collectStats:function(a){var b=a.getWidth();b<this.minExtent&&b>0&&(this.minExtent=b);var c=a.getHeight();c<this.minExtent&&c>0&&(this.minExtent=c)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[Jb,i]},getClass:function(){return Ld}}),Ld.ensureExtent=function(a,b){var c=a.getMinX(),d=a.getMaxX(),e=a.getMinY(),f=a.getMaxY();return c!==d&&e!==f?a:(c===d&&(c-=b/2,d=c+b/2),e===f&&(e-=b/2,f=e+b/2),new x(c,d,e,f))},Ld.serialVersionUID=-0x678b60c967a25400;var ng=Object.freeze({Quadtree:Ld}),og=Object.freeze({STRtree:Pb}),pg=Object.freeze({quadtree:ng,strtree:og}),qg=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];b(Md.prototype,{read:function(a){var b=void 0;b="string"==typeof a?JSON.parse(a):a;var c=b.type;if(!rg[c])throw new Error("Unknown GeoJSON type: "+b.type)
;return-1!==qg.indexOf(c)?rg[c].apply(this,[b.coordinates]):"GeometryCollection"===c?rg[c].apply(this,[b.geometries]):rg[c].apply(this,[b])},write:function(a){var b=a.getGeometryType();if(!sg[b])throw new Error("Geometry is not supported");return sg[b].apply(this,[a])}});var rg={Feature:function(a){var b={};for(var c in a)b[c]=a[c];if(a.geometry){var d=a.geometry.type;if(!rg[d])throw new Error("Unknown GeoJSON type: "+a.type);b.geometry=this.read(a.geometry)}return a.bbox&&(b.bbox=rg.bbox.apply(this,[a.bbox])),b},FeatureCollection:function(a){var b={};if(a.features){b.features=[];for(var c=0;c<a.features.length;++c)b.features.push(this.read(a.features[c]))}return a.bbox&&(b.bbox=this.parse.bbox.apply(this,[a.bbox])),b},coordinates:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(new n(d[0],d[1]))}return b},bbox:function(a){return this.geometryFactory.createLinearRing([new n(a[0],a[1]),new n(a[2],a[1]),new n(a[2],a[3]),new n(a[0],a[3]),new n(a[0],a[1])])},Point:function(a){var b=new n(a[0],a[1]);return this.geometryFactory.createPoint(b)},MultiPoint:function(a){for(var b=[],c=0;c<a.length;++c)b.push(rg.Point.apply(this,[a[c]]));return this.geometryFactory.createMultiPoint(b)},LineString:function(a){var b=rg.coordinates.apply(this,[a]);return this.geometryFactory.createLineString(b)},MultiLineString:function(a){for(var b=[],c=0;c<a.length;++c)b.push(rg.LineString.apply(this,[a[c]]));return this.geometryFactory.createMultiLineString(b)},Polygon:function(a){for(var b=rg.coordinates.apply(this,[a[0]]),c=this.geometryFactory.createLinearRing(b),d=[],e=1;e<a.length;++e){var f=a[e],g=rg.coordinates.apply(this,[f]),h=this.geometryFactory.createLinearRing(g);d.push(h)}return this.geometryFactory.createPolygon(c,d)},MultiPolygon:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(rg.Polygon.apply(this,[d]))}return this.geometryFactory.createMultiPolygon(b)},GeometryCollection:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(this.read(d))}return this.geometryFactory.createGeometryCollection(b)}},sg={coordinate:function(a){return[a.x,a.y]},Point:function(a){return{type:"Point",coordinates:sg.coordinate.apply(this,[a.getCoordinate()])}},MultiPoint:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],e=sg.Point.apply(this,[d]);b.push(e.coordinates)}return{type:"MultiPoint",coordinates:b}},LineString:function(a){for(var b=[],c=a.getCoordinates(),d=0;d<c.length;++d){var e=c[d];b.push(sg.coordinate.apply(this,[e]))}return{type:"LineString",coordinates:b}},MultiLineString:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],e=sg.LineString.apply(this,[d]);b.push(e.coordinates)}return{type:"MultiLineString",coordinates:b}},Polygon:function(a){var b=[],c=sg.LineString.apply(this,[a.shell]);b.push(c.coordinates);for(var d=0;d<a.holes.length;++d){var e=a.holes[d],f=sg.LineString.apply(this,[e]);b.push(f.coordinates)}return{type:"Polygon",coordinates:b}},MultiPolygon:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],e=sg.Polygon.apply(this,[d]);b.push(e.coordinates)}return{type:"MultiPolygon",coordinates:b}},GeometryCollection:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],e=d.getGeometryType();b.push(sg[e].apply(this,[d]))}return{type:"GeometryCollection",geometries:b}}};b(Nd.prototype,{read:function(a){var b=this.parser.read(a);return this.precisionModel.getType()===ab.FIXED&&this.reducePrecision(b),b},reducePrecision:function(a){var b,c;if(a.coordinate)this.precisionModel.makePrecise(a.coordinate);else if(a.points)for(b=0,c=a.points.length;b<c;b++)this.precisionModel.makePrecise(a.points[b]);else if(a.geometries)for(b=0,c=a.geometries.length;b<c;b++)this.reducePrecision(a.geometries[b])}}),b(Od.prototype,{write:function(a){return this.parser.write(a)}}),b(Pd.prototype,{read:function(a){var b=this.parser.read(a);return this.precisionModel.getType()===ab.FIXED&&this.reducePrecision(b),b},reducePrecision:function(a){if(a.coordinate)this.precisionModel.makePrecise(a.coordinate);else if(a.points)for(var b=0,c=a.points.coordinates.length;b<c;b++)this.precisionModel.makePrecise(a.points.coordinates[b]);else if(a.geometries)for(var d=0,e=a.geometries.length;d<e;d++)this.reducePrecision(a.geometries[d])}}),b(Rd.prototype,{read:function(a){var b=this.ol;return a instanceof b.geom.Point?this.convertFromPoint(a):a instanceof b.geom.LineString?this.convertFromLineString(a):a instanceof b.geom.LinearRing?this.convertFromLinearRing(a):a instanceof b.geom.Polygon?this.convertFromPolygon(a):a instanceof b.geom.MultiPoint?this.convertFromMultiPoint(a):a instanceof b.geom.MultiLineString?this.convertFromMultiLineString(a):a instanceof b.geom.MultiPolygon?this.convertFromMultiPolygon(a):a instanceof b.geom.GeometryCollection?this.convertFromCollection(a):void 0},convertFromPoint:function(a){var b=a.getCoordinates();return this.geometryFactory.createPoint(new n(b[0],b[1]))},convertFromLineString:function(a){return this.geometryFactory.createLineString(a.getCoordinates().map(function(a){return new n(a[0],a[1])}))},convertFromLinearRing:function(a){return this.geometryFactory.createLinearRing(a.getCoordinates().map(function(a){return new n(a[0],a[1])}))},convertFromPolygon:function(a){for(var b=a.getLinearRings(),c=null,d=[],e=0;e<b.length;e++){var f=this.convertFromLinearRing(b[e]);0===e?c=f:d.push(f)}return this.geometryFactory.createPolygon(c,d)},convertFromMultiPoint:function(a){var b=a.getPoints().map(function(a){return this.convertFromPoint(a)},this);return this.geometryFactory.createMultiPoint(b)},convertFromMultiLineString:function(a){var b=a.getLineStrings().map(function(a){return this.convertFromLineString(a)},this);return this.geometryFactory.createMultiLineString(b)},convertFromMultiPolygon:function(a){var b=a.getPolygons().map(function(a){return this.convertFromPolygon(a)},this);return this.geometryFactory.createMultiPolygon(b)},convertFromCollection:function(a){var b=a.getGeometries().map(function(a){return this.read(a)},this);return this.geometryFactory.createGeometryCollection(b)},write:function(a){return"Point"===a.getGeometryType()?this.convertToPoint(a.getCoordinate()):"LineString"===a.getGeometryType()?this.convertToLineString(a):"LinearRing"===a.getGeometryType()?this.convertToLinearRing(a):"Polygon"===a.getGeometryType()?this.convertToPolygon(a):"MultiPoint"===a.getGeometryType()?this.convertToMultiPoint(a):"MultiLineString"===a.getGeometryType()?this.convertToMultiLineString(a):"MultiPolygon"===a.getGeometryType()?this.convertToMultiPolygon(a):"GeometryCollection"===a.getGeometryType()?this.convertToCollection(a):void 0},convertToPoint:function(a){return new this.ol.geom.Point([a.x,a.y])},convertToLineString:function(a){var b=a.points.coordinates.map(Qd);return new this.ol.geom.LineString(b)},convertToLinearRing:function(a){var b=a.points.coordinates.map(Qd);return new this.ol.geom.LinearRing(b)},convertToPolygon:function(a){for(var b=[a.shell.points.coordinates.map(Qd)],c=0;c<a.holes.length;c++)b.push(a.holes[c].points.coordinates.map(Qd));return new this.ol.geom.Polygon(b)},convertToMultiPoint:function(a){return new this.ol.geom.MultiPoint(a.getCoordinates().map(Qd))},convertToMultiLineString:function(a){for(var b=[],c=0;c<a.geometries.length;c++)b.push(this.convertToLineString(a.geometries[c]).getCoordinates());return new this.ol.geom.MultiLineString(b)},convertToMultiPolygon:function(a){for(var b=[],c=0;c<a.geometries.length;c++)b.push(this.convertToPolygon(a.geometries[c]).getCoordinates());return new this.ol.geom.MultiPolygon(b)},convertToCollection:function(a){for(var b=[],c=0;c<a.geometries.length;c++){var d=a.geometries[c];b.push(this.write(d))}return new this.ol.geom.GeometryCollection(b)}});var tg=Object.freeze({GeoJSONReader:Nd,GeoJSONWriter:Od,OL3Parser:Rd,WKTReader:Pd,WKTWriter:eb});b(Sd.prototype,{rescale:function(){if(B(arguments[0],q))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.rescale(c.getCoordinates())}else if(arguments[0]instanceof Array){var d=arguments[0];2===d.length&&(new n(d[0]),new n(d[1]));for(var b=0;b<d.length;b++)d[b].x=d[b].x/this.scaleFactor+this.offsetX,d[b].y=d[b].y/this.scaleFactor+this.offsetY;2===d.length&&d[0].equals2D(d[1])&&J.out.println(d)}},scale:function(){if(B(arguments[0],q)){for(var a=arguments[0],b=new v,c=a.iterator();c.hasNext();){var d=c.next();b.add(new Wb(this.scale(d.getCoordinates()),d.getData()))}return b}if(arguments[0]instanceof Array){for(var e=arguments[0],f=new Array(e.length).fill(null),c=0;c<e.length;c++)f[c]=new n(Math.round((e[c].x-this.offsetX)*this.scaleFactor),Math.round((e[c].y-this.offsetY)*this.scaleFactor),e[c].z);return U.removeRepeatedPoints(f)}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var a=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(a),a},computeNodes:function(a){var b=a;this.isScaled&&(b=this.scale(a)),this.noder.computeNodes(b)},interfaces_:function(){return[_b]},getClass:function(){return Sd}});var ug=Object.freeze({MCIndexNoder:bc,ScaledNoder:Sd,SegmentString:Db});b(Td.prototype,{isSimpleMultiPoint:function(a){if(a.isEmpty())return!0;for(var b=new ha,c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c),e=d.getCoordinate();if(b.contains(e))return this.nonSimpleLocation=e,!1;b.add(e)}return!0},isSimplePolygonal:function(a){for(var b=Oc.getLines(a),c=b.iterator();c.hasNext();){var d=c.next();if(!this.isSimpleLinearGeometry(d))return!1}return!0},hasClosedEndpointIntersection:function(a){for(var b=new ea,c=a.getEdgeIterator();c.hasNext();){var d=c.next(),e=(d.getMaximumSegmentIndex(),d.isClosed()),f=d.getCoordinate(0);this.addEndpoint(b,f,e);var g=d.getCoordinate(d.getNumPoints()-1);this.addEndpoint(b,g,e)}for(var c=b.values().iterator();c.hasNext();){var h=c.next();if(h.isClosed&&2!==h.degree)return this.nonSimpleLocation=h.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(a){if(a.isEmpty())return!0;var b=new Zc(0,a),c=new gb,d=b.computeSelfNodes(c,!0);return!(d.hasIntersection()&&(d.hasProperIntersection()?(this.nonSimpleLocation=d.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(b)||this.isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(b)))},hasNonEndpointIntersection:function(a){for(var b=a.getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getMaximumSegmentIndex(),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next();if(!f.isEndPoint(d))return this.nonSimpleLocation=f.getCoordinate(),!0}return!1},addEndpoint:function(a,b,c){var d=a.get(b);null===d&&(d=new Ud(b),a.put(b,d)),d.addEndpoint(c)},computeSimple:function(a){return this.nonSimpleLocation=null,!!a.isEmpty()||(a instanceof ya?this.isSimpleLinearGeometry(a):a instanceof na?this.isSimpleLinearGeometry(a):a instanceof Da?this.isSimpleMultiPoint(a):B(a,Ba)?this.isSimplePolygonal(a):!(a instanceof ma)||this.isSimpleGeometryCollection(a))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);if(!this.computeSimple(c))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return Td}}),b(Ud.prototype,{addEndpoint:function(a){this.degree++,this.isClosed|=a},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Ud}}),Td.EndpointInfo=Ud,b(Vd.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(a){this.quadrantSegments=a,0===this.quadrantSegments&&(this.joinStyle=Vd.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=Vd.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),a<=0&&(this.quadrantSegments=1),this.joinStyle!==Vd.JOIN_ROUND&&(this.quadrantSegments=Vd.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(a){this.joinStyle=a},setSimplifyFactor:function(a){this.simplifyFactor=a<0?0:a},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(a){this.endCapStyle=a},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(a){this.mitreLimit=a},setSingleSided:function(a){this._isSingleSided=a},interfaces_:function(){return[]},getClass:function(){return Vd}}),Vd.bufferDistanceError=function(a){var b=Math.PI/2/a;return 1-Math.cos(b/2)},Vd.CAP_ROUND=1,Vd.CAP_FLAT=2,Vd.CAP_SQUARE=3,Vd.JOIN_ROUND=1,Vd.JOIN_MITRE=2,Vd.JOIN_BEVEL=3,Vd.DEFAULT_QUADRANT_SEGMENTS=8,Vd.DEFAULT_MITRE_LIMIT=5,Vd.DEFAULT_SIMPLIFY_FACTOR=.01,b(Wd.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(a,b){var c=this.getRightmostSideOfSegment(a,b);return c<0&&(c=this.getRightmostSideOfSegment(a,b-1)),c<0&&(this.minCoord=null,this.checkForRightmostCoordinate(a)),c},findRightmostEdgeAtVertex:function(){var a=this.minDe.getEdge().getCoordinates();m.isTrue(this.minIndex>0&&this.minIndex<a.length,"rightmost point expected to be interior vertex of edge");var b=a[this.minIndex-1],c=a[this.minIndex+1],d=jb.computeOrientation(this.minCoord,c,b),e=!1;b.y<this.minCoord.y&&c.y<this.minCoord.y&&d===jb.COUNTERCLOCKWISE?e=!0:b.y>this.minCoord.y&&c.y>this.minCoord.y&&d===jb.CLOCKWISE&&(e=!0),e&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(a,b){var c=a.getEdge(),d=c.getCoordinates();if(b<0||b+1>=d.length)return-1;if(d[b].y===d[b+1].y)return-1;var e=jc.LEFT;return d[b].y<d[b+1].y&&(e=jc.RIGHT),e},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(a){for(var b=a.getEdge().getCoordinates(),c=0;c<b.length-1;c++)(null===this.minCoord||b[c].x>this.minCoord.x)&&(this.minDe=a,this.minIndex=c,this.minCoord=b[c])},findRightmostEdgeAtNode:function(){var a=this.minDe.getNode(),b=a.getEdges();this.minDe=b.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();c.isForward()&&this.checkForRightmostCoordinate(c)}m.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe,this.getRightmostSide(this.minDe,this.minIndex)===jc.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return Wd}}),Xd.prototype.addLast=function(a){this.array_.push(a)},Xd.prototype.removeFirst=function(){return this.array_.shift()},Xd.prototype.isEmpty=function(){return 0===this.array_.length},b(Yd.prototype,{clearVisitedEdges:function(){for(var a=this.dirEdgeList.iterator();a.hasNext();)a.next().setVisited(!1)},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(a){for(var b=null,c=a.getEdges().iterator();c.hasNext();){var d=c.next();if(d.isVisited()||d.getSym().isVisited()){b=d;break}}if(null===b)throw new dc("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(b);for(var c=a.getEdges().iterator();c.hasNext();){var d=c.next();d.setVisited(!0),this.copySymDepths(d)}},computeDepth:function(a){this.clearVisitedEdges();var b=this.finder.getEdge();b.getNode(),b.getLabel(),b.setEdgeDepths(jc.RIGHT,a),this.copySymDepths(b),this.computeDepths(b)},create:function(a){this.addReachable(a),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var a=this.dirEdgeList.iterator();a.hasNext();){var b=a.next();b.getDepth(jc.RIGHT)>=1&&b.getDepth(jc.LEFT)<=0&&!b.isInteriorAreaEdge()&&b.setInResult(!0)}},computeDepths:function(a){var b=new $,c=new Xd,d=a.getNode();for(c.addLast(d),b.add(d),a.setVisited(!0);!c.isEmpty();){var e=c.removeFirst();b.add(e),this.computeNodeDepth(e);for(var f=e.getEdges().iterator();f.hasNext();){var g=f.next(),h=g.getSym();if(!h.isVisited()){var i=h.getNode();b.contains(i)||(c.addLast(i),b.add(i))}}}},compareTo:function(a){var b=a;return this.rightMostCoord.x<b.rightMostCoord.x?-1:this.rightMostCoord.x>b.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var a=new x,b=this.dirEdgeList.iterator();b.hasNext();)for(var c=b.next(),d=c.getEdge().getCoordinates(),e=0;e<d.length-1;e++)a.expandToInclude(d[e]);this.env=a}return this.env},addReachable:function(a){var b=new ob;for(b.add(a);!b.empty();){var c=b.pop();this.add(c,b)}},copySymDepths:function(a){var b=a.getSym();b.setDepth(jc.LEFT,a.getDepth(jc.RIGHT)),b.setDepth(jc.RIGHT,a.getDepth(jc.LEFT))},add:function(a,b){a.setVisited(!0),this.nodes.add(a);for(var c=a.getEdges().iterator();c.hasNext();){var d=c.next();this.dirEdgeList.add(d);var e=d.getSym(),f=e.getNode();f.isVisited()||b.push(f)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[f]},getClass:function(){return Yd}}),b(Zd.prototype,{isDeletable:function(a,b,c,d){var e=this.inputLine[a],f=this.inputLine[b],g=this.inputLine[c];return!!this.isConcave(e,f,g)&&!!this.isShallow(e,f,g,d)&&this.isShallowSampled(e,f,a,c,d)},deleteShallowConcavities:function(){for(var a=1,b=(this.inputLine.length,this.findNextNonDeletedIndex(a)),c=this.findNextNonDeletedIndex(b),d=!1;c<this.inputLine.length;){var e=!1;this.isDeletable(a,b,c,this.distanceTol)&&(this.isDeleted[b]=Zd.DELETE,e=!0,d=!0),a=e?c:b,b=this.findNextNonDeletedIndex(a),c=this.findNextNonDeletedIndex(b)}return d},isShallowConcavity:function(a,b,c,d){return jb.computeOrientation(a,b,c)===this.angleOrientation&&jb.distancePointLine(b,a,c)<d},isShallowSampled:function(a,b,c,d,e){var f=Math.trunc((d-c)/Zd.NUM_PTS_TO_CHECK);f<=0&&(f=1);for(var g=c;g<d;g+=f)if(!this.isShallow(a,b,this.inputLine[g],e))return!1;return!0},isConcave:function(a,b,c){return jb.computeOrientation(a,b,c)===this.angleOrientation},simplify:function(a){this.distanceTol=Math.abs(a),a<0&&(this.angleOrientation=jb.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var b=!1;do{b=this.deleteShallowConcavities()}while(b);return this.collapseLine()},findNextNonDeletedIndex:function(a){for(var b=a+1;b<this.inputLine.length&&this.isDeleted[b]===Zd.DELETE;)b++;return b},isShallow:function(a,b,c,d){return jb.distancePointLine(b,a,c)<d},collapseLine:function(){for(var a=new w,b=0;b<this.inputLine.length;b++)this.isDeleted[b]!==Zd.DELETE&&a.add(this.inputLine[b]);return a.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Zd}}),Zd.simplify=function(a,b){return new Zd(a).simplify(b)},Zd.INIT=0,Zd.DELETE=1,Zd.KEEP=1,Zd.NUM_PTS_TO_CHECK=10,b($d.prototype,{getCoordinates:function(){return this.ptList.toArray($d.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(a){this.precisionModel=a},addPt:function(a){var b=new n(a);return this.precisionModel.makePrecise(b),this.isRedundant(b)?null:void this.ptList.add(b)},reverse:function(){},addPts:function(a,b){if(b)for(var c=0;c<a.length;c++)this.addPt(a[c]);else for(var c=a.length-1;c>=0;c--)this.addPt(a[c])},isRedundant:function(a){if(this.ptList.size()<1)return!1;var b=this.ptList.get(this.ptList.size()-1);return a.distance(b)<this.minimimVertexDistance},toString:function(){return(new cb).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this.ptList.size()<1)return null;var a=new n(this.ptList.get(0)),b=this.ptList.get(this.ptList.size()-1);return this.ptList.size()>=2&&this.ptList.get(this.ptList.size()-2),a.equals(b)?null:void this.ptList.add(a)},setMinimumVertexDistance:function(a){this.minimimVertexDistance=a},interfaces_:function(){return[]},getClass:function(){return $d}}),$d.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),b(_d.prototype,{addNextSegment:function(a,b){if(this.s0=this.s1,this.s1=this.s2,this.s2=a,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var c=jb.computeOrientation(this.s0,this.s1,this.s2),d=c===jb.CLOCKWISE&&this.side===jc.LEFT||c===jb.COUNTERCLOCKWISE&&this.side===jc.RIGHT;0===c?this.addCollinear(b):d?this.addOutsideTurn(c,b):this.addInsideTurn(c,b)},addLineEndCap:function(a,b){var c=new kb(a,b),d=new kb;this.computeOffsetSegment(c,jc.LEFT,this.distance,d);var e=new kb;this.computeOffsetSegment(c,jc.RIGHT,this.distance,e);var f=b.x-a.x,g=b.y-a.y,h=Math.atan2(g,f);switch(this.bufParams.getEndCapStyle()){case Vd.CAP_ROUND:this.segList.addPt(d.p1),this.addFilletArc(b,h+Math.PI/2,h-Math.PI/2,jb.CLOCKWISE,this.distance),this.segList.addPt(e.p1);break;case Vd.CAP_FLAT:this.segList.addPt(d.p1),this.segList.addPt(e.p1);break;case Vd.CAP_SQUARE:var i=new n;i.x=Math.abs(this.distance)*Math.cos(h),i.y=Math.abs(this.distance)*Math.sin(h);var j=new n(d.p1.x+i.x,d.p1.y+i.y),k=new n(e.p1.x+i.x,e.p1.y+i.y);this.segList.addPt(j),this.segList.addPt(k)}},getCoordinates:function(){return this.segList.getCoordinates()},addMitreJoin:function(a,b,c,d){var e=!0,f=null;try{f=K.intersection(b.p0,b.p1,c.p0,c.p1),(d<=0?1:f.distance(a)/Math.abs(d))>this.bufParams.getMitreLimit()&&(e=!1)}catch(a){if(!(a instanceof z))throw a;f=new n(0,0),e=!1}e?this.segList.addPt(f):this.addLimitedMitreJoin(b,c,d,this.bufParams.getMitreLimit())},addFilletCorner:function(a,b,c,d,e){var f=b.x-a.x,g=b.y-a.y,h=Math.atan2(g,f),i=c.x-a.x,j=c.y-a.y,k=Math.atan2(j,i);d===jb.CLOCKWISE?h<=k&&(h+=2*Math.PI):h>=k&&(h-=2*Math.PI),this.segList.addPt(b),this.addFilletArc(a,h,k,d,e),this.segList.addPt(c)},addOutsideTurn:function(a,b){return this.offset0.p1.distance(this.offset1.p0)<this.distance*_d.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===Vd.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===Vd.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(b&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,a,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(a){this.segList.addPt(new n(a.x+this.distance,a.y+this.distance)),this.segList.addPt(new n(a.x+this.distance,a.y-this.distance)),this.segList.addPt(new n(a.x-this.distance,a.y-this.distance)),this.segList.addPt(new n(a.x-this.distance,a.y+this.distance)),this.segList.closeRing()},addSegments:function(a,b){this.segList.addPts(a,b)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(a,b,c){this.s1=a,this.s2=b,this.side=c,this.seg1.setCoordinates(a,b),this.computeOffsetSegment(this.seg1,c,this.distance,this.offset1)},addLimitedMitreJoin:function(a,b,c,d){var e=this.seg0.p1,f=vd.angle(e,this.seg0.p0),g=(vd.angle(e,this.seg1.p1),vd.angleBetweenOriented(this.seg0.p0,e,this.seg1.p1)),h=g/2,i=vd.normalize(f+h),j=vd.normalize(i+Math.PI),k=d*c,l=k*Math.abs(Math.sin(h)),m=c-l,o=e.x+k*Math.cos(j),p=e.y+k*Math.sin(j),q=new n(o,p),r=new kb(e,q),s=r.pointAlongOffset(1,m),t=r.pointAlongOffset(1,-m);this.side===jc.LEFT?(this.segList.addPt(s),this.segList.addPt(t)):(this.segList.addPt(t),this.segList.addPt(s))},computeOffsetSegment:function(a,b,c,d){var e=b===jc.LEFT?1:-1,f=a.p1.x-a.p0.x,g=a.p1.y-a.p0.y,h=Math.sqrt(f*f+g*g),i=e*c*f/h,j=e*c*g/h;d.p0.x=a.p0.x-j,d.p0.y=a.p0.y+i,d.p1.x=a.p1.x-j,d.p1.y=a.p1.y+i},addFilletArc:function(a,b,c,d,e){var f=d===jb.CLOCKWISE?-1:1,g=Math.abs(b-c),h=Math.trunc(g/this.filletAngleQuantum+.5);if(h<1)return null;var i=null,j=null;i=0,j=g/h;for(var k=i,l=new n;k<g;){var m=b+f*k;l.x=a.x+e*Math.cos(m),l.y=a.y+e*Math.sin(m),this.segList.addPt(l),k+=j}},addInsideTurn:function(a,b){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*_d.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var c=new n((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(c);var d=new n((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(d)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(a){var b=new n(a.x+this.distance,a.y);this.segList.addPt(b),this.addFilletArc(a,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(a,b){this.segList.addPt(a.p1),this.segList.addPt(b.p0)},init:function(a){this.distance=a,this.maxCurveSegmentError=a*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new $d,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(a*_d.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(a){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2),this.li.getIntersectionNum()>=2&&(this.bufParams.getJoinStyle()===Vd.JOIN_BEVEL||this.bufParams.getJoinStyle()===Vd.JOIN_MITRE?(a&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,jb.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return _d}}),_d.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,_d.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,_d.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,_d.MAX_CLOSING_SEG_LEN_FACTOR=80,b(ae.prototype,{getOffsetCurve:function(a,b){if(this.distance=b,0===b)return null;var c=b<0,d=Math.abs(b),e=this.getSegGen(d);a.length<=1?this.computePointCurve(a[0],e):this.computeOffsetCurve(a,c,e);var f=e.getCoordinates();return c&&U.reverse(f),f},computeSingleSidedBufferCurve:function(a,b,c){var d=this.simplifyTolerance(this.distance);if(b){c.addSegments(a,!0);var e=Zd.simplify(a,-d),f=e.length-1;c.initSideSegments(e[f],e[f-1],jc.LEFT),c.addFirstSegment();for(var g=f-2;g>=0;g--)c.addNextSegment(e[g],!0)}else{c.addSegments(a,!1);var h=Zd.simplify(a,d),i=h.length-1;c.initSideSegments(h[0],h[1],jc.LEFT),c.addFirstSegment();for(var g=2;g<=i;g++)c.addNextSegment(h[g],!0)}c.addLastSegment(),c.closeRing()},computeRingBufferCurve:function(a,b,c){var d=this.simplifyTolerance(this.distance);b===jc.RIGHT&&(d=-d);var e=Zd.simplify(a,d),f=e.length-1;c.initSideSegments(e[f-1],e[0],b);for(var g=1;g<=f;g++){var h=1!==g;c.addNextSegment(e[g],h)}c.closeRing()},computeLineBufferCurve:function(a,b){var c=this.simplifyTolerance(this.distance),d=Zd.simplify(a,c),e=d.length-1;b.initSideSegments(d[0],d[1],jc.LEFT);for(var f=2;f<=e;f++)b.addNextSegment(d[f],!0);b.addLastSegment(),b.addLineEndCap(d[e-1],d[e]);var g=Zd.simplify(a,-c),h=g.length-1;b.initSideSegments(g[h],g[h-1],jc.LEFT);for(var f=h-2;f>=0;f--)b.addNextSegment(g[f],!0);b.addLastSegment(),b.addLineEndCap(g[1],g[0]),b.closeRing()},computePointCurve:function(a,b){switch(this.bufParams.getEndCapStyle()){case Vd.CAP_ROUND:b.createCircle(a);break;case Vd.CAP_SQUARE:b.createSquare(a)}},getLineCurve:function(a,b){if(this.distance=b,b<0&&!this.bufParams.isSingleSided())return null;if(0===b)return null;var c=Math.abs(b),d=this.getSegGen(c);if(a.length<=1)this.computePointCurve(a[0],d);else if(this.bufParams.isSingleSided()){var e=b<0;this.computeSingleSidedBufferCurve(a,e,d)}else this.computeLineBufferCurve(a,d);return d.getCoordinates()},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(a){return a*this.bufParams.getSimplifyFactor()},getRingCurve:function(a,b,c){if(this.distance=c,a.length<=2)return this.getLineCurve(a,c);if(0===c)return ae.copyCoordinates(a);var d=this.getSegGen(c);return this.computeRingBufferCurve(a,b,d),d.getCoordinates()},computeOffsetCurve:function(a,b,c){var d=this.simplifyTolerance(this.distance);if(b){var e=Zd.simplify(a,-d),f=e.length-1;c.initSideSegments(e[f],e[f-1],jc.LEFT),c.addFirstSegment();for(var g=f-2;g>=0;g--)c.addNextSegment(e[g],!0)}else{var h=Zd.simplify(a,d),i=h.length-1;c.initSideSegments(h[0],h[1],jc.LEFT),c.addFirstSegment();for(var g=2;g<=i;g++)c.addNextSegment(h[g],!0)}c.addLastSegment()},getSegGen:function(a){return new _d(this.precisionModel,this.bufParams,a)},interfaces_:function(){return[]},getClass:function(){return ae}}),ae.copyCoordinates=function(a){for(var b=new Array(a.length).fill(null),c=0;c<b.length;c++)b[c]=new n(a[c]);return b},b(be.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var a=arguments[0],b=new v,c=this.subgraphs.iterator();c.hasNext();){var d=c.next(),e=d.getEnvelope();a.y<e.getMinY()||a.y>e.getMaxY()||this.findStabbedSegments(a,d.getDirectedEdges(),b)}return b}if(3===arguments.length)if(B(arguments[2],s)&&arguments[0]instanceof n&&arguments[1]instanceof tc)for(var f=arguments[0],g=arguments[1],h=arguments[2],i=g.getEdge().getCoordinates(),c=0;c<i.length-1;c++){this.seg.p0=i[c],this.seg.p1=i[c+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var j=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(j<f.x||this.seg.isHorizontal()||f.y<this.seg.p0.y||f.y>this.seg.p1.y||jb.computeOrientation(this.seg.p0,this.seg.p1,f)===jb.RIGHT)){var k=g.getDepth(jc.LEFT);this.seg.p0.equals(i[c])||(k=g.getDepth(jc.RIGHT));var l=new ce(this.seg,k);h.add(l)}}else if(B(arguments[2],s)&&arguments[0]instanceof n&&B(arguments[1],s))for(var m=arguments[0],o=arguments[1],p=arguments[2],c=o.iterator();c.hasNext();){var q=c.next();q.isForward()&&this.findStabbedSegments(m,q,p)}},getDepth:function(a){var b=this.findStabbedSegments(a);return 0===b.size()?0:ig.min(b).leftDepth},interfaces_:function(){return[]},getClass:function(){return be}}),b(ce.prototype,{compareTo:function(a){var b=a;if(this.upwardSeg.minX()>=b.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=b.upwardSeg.minX())return-1;var c=this.upwardSeg.orientationIndex(b.upwardSeg);return 0!==c?c:(c=-1*b.upwardSeg.orientationIndex(this.upwardSeg),0!==c?c:this.upwardSeg.compareTo(b.upwardSeg))},compareX:function(a,b){var c=a.p0.compareTo(b.p0);return 0!==c?c:a.p1.compareTo(b.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[f]},getClass:function(){return ce}}),be.DepthSegment=ce,b(de.prototype,{addPoint:function(a){if(this.distance<=0)return null;var b=a.getCoordinates(),c=this.curveBuilder.getLineCurve(b,this.distance);this.addCurve(c,A.EXTERIOR,A.INTERIOR)},addPolygon:function(a){var b=this.distance,c=jc.LEFT;this.distance<0&&(b=-this.distance,c=jc.RIGHT);var d=a.getExteriorRing(),e=U.removeRepeatedPoints(d.getCoordinates());if(this.distance<0&&this.isErodedCompletely(d,this.distance))return null;if(this.distance<=0&&e.length<3)return null;this.addPolygonRing(e,b,c,A.EXTERIOR,A.INTERIOR);for(var f=0;f<a.getNumInteriorRing();f++){var g=a.getInteriorRingN(f),h=U.removeRepeatedPoints(g.getCoordinates());this.distance>0&&this.isErodedCompletely(g,-this.distance)||this.addPolygonRing(h,b,jc.opposite(c),A.INTERIOR,A.EXTERIOR)}},isTriangleErodedCompletely:function(a,b){var c=new wd(a[0],a[1],a[2]),d=c.inCentre();return jb.distancePointLine(d,c.p0,c.p1)<Math.abs(b)},addLineString:function(a){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var b=U.removeRepeatedPoints(a.getCoordinates()),c=this.curveBuilder.getLineCurve(b,this.distance);this.addCurve(c,A.EXTERIOR,A.INTERIOR)},addCurve:function(a,b,c){
if(null===a||a.length<2)return null;var d=new Wb(a,new lc(0,A.BOUNDARY,b,c));this.curveList.add(d)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(a,b,c,d,e){if(0===b&&a.length<Ea.MINIMUM_VALID_SIZE)return null;var f=d,g=e;a.length>=Ea.MINIMUM_VALID_SIZE&&jb.isCCW(a)&&(f=e,g=d,c=jc.opposite(c));var h=this.curveBuilder.getRingCurve(a,c,b);this.addCurve(h,f,g)},add:function(a){if(a.isEmpty())return null;if(a instanceof Ca)this.addPolygon(a);else if(a instanceof ya)this.addLineString(a);else if(a instanceof Aa)this.addPoint(a);else if(a instanceof Da)this.addCollection(a);else if(a instanceof na)this.addCollection(a);else if(a instanceof Fa)this.addCollection(a);else{if(!(a instanceof ma))throw new UnsupportedOperationException(a.getClass().getName());this.addCollection(a)}},isErodedCompletely:function(a,b){var c=a.getCoordinates();if(c.length<4)return b<0;if(4===c.length)return this.isTriangleErodedCompletely(c,b);var d=a.getEnvelopeInternal(),e=Math.min(d.getHeight(),d.getWidth());return b<0&&2*Math.abs(b)>e},addCollection:function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);this.add(c)}},interfaces_:function(){return[]},getClass:function(){return de}}),b(ee.prototype,{isTrivialIntersection:function(a,b,c,d){if(a===c&&1===this.li.getIntersectionNum()){if(ee.isAdjacentSegments(b,d))return!0;if(a.isClosed()){var e=a.size()-1;if(0===b&&d===e||0===d&&b===e)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(a,b,c,d){if(a===c&&b===d)return null;this.numTests++;var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this.li.computeIntersection(e,f,g,h),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(a,b,c,d)||(this._hasIntersection=!0,a.addIntersections(this.li,b,0),c.addIntersections(this.li,d,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[ec]},getClass:function(){return ee}}),ee.isAdjacentSegments=function(a,b){return 1===Math.abs(a-b)},b(fe.prototype,{setWorkingPrecisionModel:function(a){this.workingPrecisionModel=a},insertUniqueEdge:function(a){var b=this.edgeList.findEqualEdge(a);if(null!==b){var c=b.getLabel(),d=a.getLabel();b.isPointwiseEqual(a)||(d=new lc(a.getLabel()),d.flip()),c.merge(d);var e=fe.depthDelta(d),f=b.getDepthDelta(),g=f+e;b.setDepthDelta(g)}else this.edgeList.add(a),a.setDepthDelta(fe.depthDelta(a.getLabel()))},buildSubgraphs:function(a,b){for(var c=new v,d=a.iterator();d.hasNext();){var e=d.next(),f=e.getRightmostCoordinate(),g=new be(c),h=g.getDepth(f);e.computeDepth(h),e.findResultEdges(),c.add(e),b.add(e.getDirectedEdges(),e.getNodes())}},createSubgraphs:function(a){for(var b=new v,c=a.getNodes().iterator();c.hasNext();){var d=c.next();if(!d.isVisited()){var e=new Yd;e.create(d),b.add(e)}}return ig.sort(b,ig.reverseOrder()),b},createEmptyResultGeometry:function(){return this.geomFact.createPolygon()},getNoder:function(a){if(null!==this.workingNoder)return this.workingNoder;var b=new bc,c=new gb;return c.setPrecisionModel(a),b.setSegmentIntersector(new ee(c)),b},buffer:function(a,b){var c=this.workingPrecisionModel;null===c&&(c=a.getPrecisionModel()),this.geomFact=a.getFactory();var d=new ae(c,this.bufParams),e=new de(a,b,d),f=e.getCurves();if(f.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(f,c),this.graph=new vc(new Dc),this.graph.addEdges(this.edgeList.getEdges());var g=this.createSubgraphs(this.graph),h=new wc(this.geomFact);this.buildSubgraphs(g,h);var i=h.getPolygons();return i.size()<=0?this.createEmptyResultGeometry():this.geomFact.buildGeometry(i)},computeNodedEdges:function(a,b){var c=this.getNoder(b);c.computeNodes(a);for(var d=c.getNodedSubstrings(),e=d.iterator();e.hasNext();){var f=e.next(),g=f.getCoordinates();if(2!==g.length||!g[0].equals2D(g[1])){var h=f.getData(),i=new Yc(f.getCoordinates(),new lc(h));this.insertUniqueEdge(i)}}},setNoder:function(a){this.workingNoder=a},interfaces_:function(){return[]},getClass:function(){return fe}}),fe.depthDelta=function(a){var b=a.getLocation(0,jc.LEFT),c=a.getLocation(0,jc.RIGHT);return b===A.INTERIOR&&c===A.EXTERIOR?1:b===A.EXTERIOR&&c===A.INTERIOR?-1:0},fe.convertSegStrings=function(a){for(var b=new cb,c=new v;a.hasNext();){var d=a.next(),e=b.createLineString(d.getCoordinates());c.add(e)}return b.buildGeometry(c)},b(ge.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var a=this.segStrings.iterator();a.hasNext();){var b=a.next(),c=b.getCoordinates();this.checkEndPtVertexIntersections(c[0],this.segStrings),this.checkEndPtVertexIntersections(c[c.length-1],this.segStrings)}else if(2===arguments.length)for(var d=arguments[0],e=arguments[1],a=e.iterator();a.hasNext();)for(var b=a.next(),c=b.getCoordinates(),f=1;f<c.length-1;f++)if(c[f].equals(d))throw new j("found endpt/interior pt intersection at index "+f+" :pt "+d)},checkInteriorIntersections:function(){if(0===arguments.length)for(var a=this.segStrings.iterator();a.hasNext();)for(var b=a.next(),c=this.segStrings.iterator();c.hasNext();){var d=c.next();this.checkInteriorIntersections(b,d)}else if(2===arguments.length)for(var e=arguments[0],f=arguments[1],g=e.getCoordinates(),h=f.getCoordinates(),i=0;i<g.length-1;i++)for(var k=0;k<h.length-1;k++)this.checkInteriorIntersections(e,i,f,k);else if(4===arguments.length){var l=arguments[0],m=arguments[1],n=arguments[2],o=arguments[3];if(l===n&&m===o)return null;var p=l.getCoordinates()[m],q=l.getCoordinates()[m+1],r=n.getCoordinates()[o],s=n.getCoordinates()[o+1];if(this.li.computeIntersection(p,q,r,s),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,p,q)||this.hasInteriorIntersection(this.li,r,s)))throw new j("found non-noded intersection at "+p+"-"+q+" and "+r+"-"+s)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var a=this.segStrings.iterator();a.hasNext();){var b=a.next();this.checkCollapses(b)}else if(1===arguments.length)for(var c=arguments[0],d=c.getCoordinates(),a=0;a<d.length-2;a++)this.checkCollapse(d[a],d[a+1],d[a+2])},hasInteriorIntersection:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++){var e=a.getIntersection(d);if(!e.equals(b)&&!e.equals(c))return!0}return!1},checkCollapse:function(a,b,c){if(a.equals(c))throw new j("found non-noded collapse at "+ge.fact.createLineString([a,b,c]))},interfaces_:function(){return[]},getClass:function(){return ge}}),ge.fact=new cb,b(he.prototype,{intersectsScaled:function(a,b){var c=Math.min(a.x,b.x),d=Math.max(a.x,b.x),e=Math.min(a.y,b.y),f=Math.max(a.y,b.y),g=this.maxx<c||this.minx>d||this.maxy<e||this.miny>f;if(g)return!1;var h=this.intersectsToleranceSquare(a,b);return m.isTrue(!(g&&h),"Found bad envelope test"),h},initCorners:function(a){this.minx=a.x-.5,this.maxx=a.x+.5,this.miny=a.y-.5,this.maxy=a.y+.5,this.corner[0]=new n(this.maxx,this.maxy),this.corner[1]=new n(this.minx,this.maxy),this.corner[2]=new n(this.minx,this.miny),this.corner[3]=new n(this.maxx,this.miny)},intersects:function(a,b){return 1===this.scaleFactor?this.intersectsScaled(a,b):(this.copyScaled(a,this.p0Scaled),this.copyScaled(b,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(a){return Math.round(a*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(a,b){b.x=this.scale(a.x),b.y=this.scale(a.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var a=he.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new x(this.originalPt.x-a,this.originalPt.x+a,this.originalPt.y-a,this.originalPt.y+a)}return this.safeEnv},intersectsPixelClosure:function(a,b){return this.li.computeIntersection(a,b,this.corner[0],this.corner[1]),!!(this.li.hasIntersection()||(this.li.computeIntersection(a,b,this.corner[1],this.corner[2]),this.li.hasIntersection()||(this.li.computeIntersection(a,b,this.corner[2],this.corner[3]),this.li.hasIntersection()||(this.li.computeIntersection(a,b,this.corner[3],this.corner[0]),this.li.hasIntersection()))))},intersectsToleranceSquare:function(a,b){var c=!1,d=!1;return this.li.computeIntersection(a,b,this.corner[0],this.corner[1]),!!(this.li.isProper()||(this.li.computeIntersection(a,b,this.corner[1],this.corner[2]),this.li.isProper()||(this.li.hasIntersection()&&(c=!0),this.li.computeIntersection(a,b,this.corner[2],this.corner[3]),this.li.isProper()||(this.li.hasIntersection()&&(d=!0),this.li.computeIntersection(a,b,this.corner[3],this.corner[0]),this.li.isProper()||c&&d||a.equals(this.pt)||b.equals(this.pt)))))},addSnappedNode:function(a,b){var c=a.getCoordinate(b),d=a.getCoordinate(b+1);return!!this.intersects(c,d)&&(a.addIntersection(this.getCoordinate(),b),!0)},interfaces_:function(){return[]},getClass:function(){return he}}),he.SAFE_ENV_EXPANSION_FACTOR=.75,b(ie.prototype,{snap:function(){if(1===arguments.length){var a=arguments[0];return this.snap(a,null,-1)}if(3===arguments.length){var b=arguments[0],c=arguments[1],d=arguments[2],e=b.getSafeEnvelope(),f=new je(b,c,d);return this.index.query(e,{interfaces_:function(){return[Ib]},visitItem:function(a){a.select(e,f)}}),f.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return ie}}),k(je,id),b(je.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return id.prototype.select.apply(this,arguments);var a=arguments[0],b=arguments[1],c=a.getContext();return null!==this.parentEdge&&c===this.parentEdge&&b===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(c,b))},interfaces_:function(){return[]},getClass:function(){return je}}),ie.HotPixelSnapAction=je,b(ke.prototype,{processIntersections:function(a,b,c,d){if(a===c&&b===d)return null;var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];if(this.li.computeIntersection(e,f,g,h),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var i=0;i<this.li.getIntersectionNum();i++)this.interiorIntersections.add(this.li.getIntersection(i));a.addIntersections(this.li,b,0),c.addIntersections(this.li,d,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[ec]},getClass:function(){return ke}}),b(le.prototype,{checkCorrectness:function(a){var b=Wb.getNodedSubstrings(a),c=new ge(b);try{c.checkValid()}catch(a){if(!(a instanceof y))throw a;a.printStackTrace()}},getNodedSubstrings:function(){return Wb.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(a,b){var c=this.findInteriorIntersections(a,b);this.computeIntersectionSnaps(c),this.computeVertexSnaps(a)},findInteriorIntersections:function(a,b){var c=new ke(b);return this.noder.setSegmentIntersector(c),this.noder.computeNodes(a),c.getInteriorIntersections()},computeVertexSnaps:function(){if(B(arguments[0],q))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.computeVertexSnaps(c)}else if(arguments[0]instanceof Wb)for(var d=arguments[0],e=d.getCoordinates(),f=0;f<e.length;f++){var g=new he(e[f],this.scaleFactor,this.li),h=this.pointSnapper.snap(g,d,f);h&&d.addIntersection(e[f],f)}},computeNodes:function(a){this.nodedSegStrings=a,this.noder=new bc,this.pointSnapper=new ie(this.noder.getIndex()),this.snapRound(a,this.li)},computeIntersectionSnaps:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=new he(c,this.scaleFactor,this.li);this.pointSnapper.snap(d)}},interfaces_:function(){return[_b]},getClass:function(){return le}}),b(me.prototype,{bufferFixedPrecision:function(a){var b=new Sd(new le(new ab(1)),a.getScale()),c=new fe(this.bufParams);c.setWorkingPrecisionModel(a),c.setNoder(b),this.resultGeometry=c.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var a=me.MAX_PRECISION_DIGITS;a>=0;a--){try{this.bufferReducedPrecision(a)}catch(a){if(!(a instanceof dc))throw a;this.saveException=a}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var b=arguments[0],c=me.precisionScaleFactor(this.argGeom,this.distance,b),d=new ab(c);this.bufferFixedPrecision(d)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var a=this.argGeom.getFactory().getPrecisionModel();a.getType()===ab.FIXED?this.bufferFixedPrecision(a):this.bufferReducedPrecision()},setQuadrantSegments:function(a){this.bufParams.setQuadrantSegments(a)},bufferOriginalPrecision:function(){try{var a=new fe(this.bufParams);this.resultGeometry=a.buffer(this.argGeom,this.distance)}catch(a){if(!(a instanceof j))throw a;this.saveException=a}},getResultGeometry:function(a){return this.distance=a,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(a){this.bufParams.setEndCapStyle(a)},interfaces_:function(){return[]},getClass:function(){return me}}),me.bufferOp=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new me(a),d=c.getResultGeometry(b);return d}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof N&&"number"==typeof arguments[1]){var e=arguments[0],f=arguments[1],g=arguments[2],h=new me(e);h.setQuadrantSegments(g);var d=h.getResultGeometry(f);return d}if(arguments[2]instanceof Vd&&arguments[0]instanceof N&&"number"==typeof arguments[1]){var i=arguments[0],j=arguments[1],k=arguments[2],h=new me(i,k),d=h.getResultGeometry(j);return d}}else if(4===arguments.length){var l=arguments[0],m=arguments[1],n=arguments[2],o=arguments[3],h=new me(l);h.setQuadrantSegments(n),h.setEndCapStyle(o);var d=h.getResultGeometry(m);return d}},me.precisionScaleFactor=function(a,b,c){var d=a.getEnvelopeInternal(),e=C.max(Math.abs(d.getMaxX()),Math.abs(d.getMaxY()),Math.abs(d.getMinX()),Math.abs(d.getMinY())),f=b>0?b:0,g=e+2*f,h=Math.trunc(Math.log(g)/Math.log(10)+1),i=c-h;return Math.pow(10,i)},me.CAP_ROUND=Vd.CAP_ROUND,me.CAP_BUTT=Vd.CAP_FLAT,me.CAP_FLAT=Vd.CAP_FLAT,me.CAP_SQUARE=Vd.CAP_SQUARE,me.MAX_PRECISION_DIGITS=12;var vg=Object.freeze({BufferOp:me,BufferParameters:Vd});b(ne.prototype,{filter:function(a){a instanceof Ca&&this.comps.add(a)},interfaces_:function(){return[ka]},getClass:function(){return ne}}),ne.getPolygons=function(){if(1===arguments.length){var a=arguments[0];return ne.getPolygons(a,new v)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return b instanceof Ca?c.add(b):b instanceof ma&&b.apply(new ne(c)),c}},b(oe.prototype,{isInsideArea:function(){return this.segIndex===oe.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return oe}}),oe.INSIDE_AREA=-1,b(pe.prototype,{filter:function(a){a instanceof Aa&&this.pts.add(a)},interfaces_:function(){return[ka]},getClass:function(){return pe}}),pe.getPoints=function(){if(1===arguments.length){var a=arguments[0];return a instanceof Aa?ig.singletonList(a):pe.getPoints(a,new v)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return b instanceof Aa?c.add(b):b instanceof ma&&b.apply(new pe(c)),c}},b(qe.prototype,{filter:function(a){(a instanceof Aa||a instanceof ya||a instanceof Ca)&&this.locations.add(new oe(a,0,a.getCoordinate()))},interfaces_:function(){return[ka]},getClass:function(){return qe}}),qe.getLocations=function(a){var b=new v;return a.apply(new qe(b)),b},b(re.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var a=new Array(2).fill(null);if(this.computeContainmentDistance(0,a),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1],d=1-b,e=ne.getPolygons(this.geom[b]);if(e.size()>0){var f=qe.getLocations(this.geom[d]);if(this.computeContainmentDistance(f,e,c),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[d]=c[0],this.minDistanceLocation[b]=c[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&B(arguments[0],s)&&B(arguments[1],s)){for(var g=arguments[0],h=arguments[1],i=arguments[2],j=0;j<g.size();j++)for(var k=g.get(j),l=0;l<h.size();l++)if(this.computeContainmentDistance(k,h.get(l),i),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof oe&&arguments[1]instanceof Ca){var m=arguments[0],n=arguments[1],o=arguments[2],p=m.getCoordinate();if(A.EXTERIOR!==this.ptLocator.locate(p,n))return this.minDistance=0,o[0]=m,o[1]=new oe(n,p),null}},computeMinDistanceLinesPoints:function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),f=0;f<b.size();f++){var g=b.get(f);if(this.computeMinDistance(e,g,c),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var a=new Array(2).fill(null),b=Oc.getLines(this.geom[0]),c=Oc.getLines(this.geom[1]),d=pe.getPoints(this.geom[0]),e=pe.getPoints(this.geom[1]);return this.computeMinDistanceLines(b,c,a),this.updateMinDistance(a,!1),this.minDistance<=this.terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(b,e,a),this.updateMinDistance(a,!1),this.minDistance<=this.terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(c,d,a),this.updateMinDistance(a,!0),this.minDistance<=this.terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistancePoints(d,e,a),void this.updateMinDistance(a,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(a,b){return null===a[0]?null:void(b?(this.minDistanceLocation[0]=a[1],this.minDistanceLocation[1]=a[0]):(this.minDistanceLocation[0]=a[0],this.minDistanceLocation[1]=a[1]))},nearestPoints:function(){return this.computeMinDistance(),[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof ya&&arguments[1]instanceof Aa){var a=arguments[0],b=arguments[1],c=arguments[2];if(a.getEnvelopeInternal().distance(b.getEnvelopeInternal())>this.minDistance)return null;for(var d=a.getCoordinates(),e=b.getCoordinate(),f=0;f<d.length-1;f++){var g=jb.distancePointLine(e,d[f],d[f+1]);if(g<this.minDistance){this.minDistance=g;var h=new kb(d[f],d[f+1]),i=h.closestPoint(e);c[0]=new oe(a,f,i),c[1]=new oe(b,0,e)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof ya&&arguments[1]instanceof ya){var j=arguments[0],k=arguments[1],l=arguments[2];if(j.getEnvelopeInternal().distance(k.getEnvelopeInternal())>this.minDistance)return null;for(var d=j.getCoordinates(),m=k.getCoordinates(),f=0;f<d.length-1;f++)for(var n=0;n<m.length-1;n++){var g=jb.distanceLineLine(d[f],d[f+1],m[n],m[n+1]);if(g<this.minDistance){this.minDistance=g;var o=new kb(d[f],d[f+1]),p=new kb(m[n],m[n+1]),q=o.closestPoints(p);l[0]=new oe(j,f,q[0]),l[1]=new oe(k,n,q[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),f=0;f<b.size();f++){var g=b.get(f),h=e.getCoordinate().distance(g.getCoordinate());if(h<this.minDistance&&(this.minDistance=h,c[0]=new oe(e,0,e.getCoordinate()),c[1]=new oe(g,0,g.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new d("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),f=0;f<b.size();f++){var g=b.get(f);if(this.computeMinDistance(e,g,c),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return re}}),re.distance=function(a,b){return new re(a,b).distance()},re.isWithinDistance=function(a,b,c){return new re(a,b,c).distance()<=c},re.nearestPoints=function(a,b){return new re(a,b).nearestPoints()};var wg=Object.freeze({DistanceOp:re});b(se.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var a=0,b=0,c=new w,d=this.directedEdges.iterator();d.hasNext();){var e=d.next();e.getEdgeDirection()?a++:b++,c.add(e.getEdge().getLine().getCoordinates(),!1,e.getEdgeDirection())}this.coordinates=c.toCoordinateArray(),b>a&&U.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(a){this.directedEdges.add(a)},interfaces_:function(){return[]},getClass:function(){return se}}),b(te.prototype,{setVisited:function(a){this._isVisited=a},isMarked:function(){return this._isMarked},setData:function(a){this.data=a},getData:function(){return this.data},setMarked:function(a){this._isMarked=a},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(a){this.data=a},interfaces_:function(){return[]},getClass:function(){return te}}),te.getComponentWithVisitedState=function(a,b){for(;a.hasNext();){var c=a.next();if(c.isVisited()===b)return c}return null},te.setVisited=function(a,b){for(;a.hasNext();)a.next().setVisited(b)},te.setMarked=function(a,b){for(;a.hasNext();)a.next().setMarked(b)},k(ue,te),b(ue.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(a){return this.quadrant>a.quadrant?1:this.quadrant<a.quadrant?-1:jb.computeOrientation(a.p0,a.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(a){var b=this.getClass().getName(),c=b.lastIndexOf("."),d=b.substring(c+1);a.print("  "+d+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(a){var b=a;return this.compareDirection(b)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(a){this.parentEdge=a},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(a){this.sym=a},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[f]},getClass:function(){return ue}}),ue.toEdges=function(a){for(var b=new v,c=a.iterator();c.hasNext();)b.add(c.next().parentEdge);return b},k(ve,ue),b(ve.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(m.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return ve}}),k(we,te),b(we.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(a,b){this.dirEdge=[a,b],a.setEdge(this),b.setEdge(this),a.setSym(b),b.setSym(a),a.getFromNode().addOutEdge(a),b.getFromNode().addOutEdge(b)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var a=arguments[0];return this.dirEdge[a]}if(arguments[0]instanceof ye){var b=arguments[0];return this.dirEdge[0].getFromNode()===b?this.dirEdge[0]:this.dirEdge[1].getFromNode()===b?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(a){return this.dirEdge[0].getFromNode()===a?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===a?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return we}}),b(xe.prototype,{getNextEdge:function(a){var b=this.getIndex(a);return this.outEdges.get(this.getIndex(b+1))},getCoordinate:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(ig.sort(this.outEdges),this.sorted=!0)},remove:function(a){this.outEdges.remove(a)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(a){var b=this.getIndex(a);return this.outEdges.get(this.getIndex(b-1))},getIndex:function(){if(arguments[0]instanceof we){var a=arguments[0];this.sortEdges();for(var b=0;b<this.outEdges.size();b++){var c=this.outEdges.get(b);if(c.getEdge()===a)return b}return-1}if(arguments[0]instanceof ue){var d=arguments[0];this.sortEdges();for(var b=0;b<this.outEdges.size();b++){var c=this.outEdges.get(b);if(c===d)return b}return-1}if(Number.isInteger(arguments[0])){var e=arguments[0],f=e%this.outEdges.size();return f<0&&(f+=this.outEdges.size()),f}},add:function(a){this.outEdges.add(a),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return xe}}),k(ye,te),b(ye.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(a){this.deStar.add(a)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(0===arguments.length)this.pt=null;else if(1===arguments.length){var a=arguments[0];this.deStar.remove(a)}},getIndex:function(a){return this.deStar.getIndex(a)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return ye}}),ye.getEdgesBetween=function(a,b){var c=ue.toEdges(a.getOutEdges().getEdges()),d=new $(c),e=ue.toEdges(b.getOutEdges().getEdges());return d.retainAll(e),d},k(ze,we),b(ze.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return ze}}),b(Ae.prototype,{find:function(a){return this.nodeMap.get(a)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(a){return this.nodeMap.remove(a)},values:function(){return this.nodeMap.values()},add:function(a){return this.nodeMap.put(a.getCoordinate(),a),a},interfaces_:function(){return[]},getClass:function(){return Ae}}),b(Be.prototype,{findNodesOfDegree:function(a){for(var b=new v,c=this.nodeIterator();c.hasNext();){var d=c.next();d.getDegree()===a&&b.add(d)}return b},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof we){var a=arguments[0];this.remove(a.getDirEdge(0)),this.remove(a.getDirEdge(1)),this.edges.remove(a),a.remove()}else if(arguments[0]instanceof ue){var b=arguments[0],c=b.getSym();null!==c&&c.setSym(null),b.getFromNode().remove(b),b.remove(),this.dirEdges.remove(b)}else if(arguments[0]instanceof ye){for(var d=arguments[0],e=d.getOutEdges().getEdges(),f=e.iterator();f.hasNext();){var g=f.next(),c=g.getSym();null!==c&&this.remove(c),this.dirEdges.remove(g);var h=g.getEdge();null!==h&&this.edges.remove(h)}this.nodeMap.remove(d.getCoordinate()),d.remove()}},findNode:function(a){return this.nodeMap.find(a)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof we){var a=arguments[0];return this.edges.contains(a)}if(arguments[0]instanceof ue){var b=arguments[0];return this.dirEdges.contains(b)}},add:function(){if(arguments[0]instanceof ye){var a=arguments[0];this.nodeMap.add(a)}else if(arguments[0]instanceof we){var b=arguments[0];this.edges.add(b),this.add(b.getDirEdge(0)),this.add(b.getDirEdge(1))}else if(arguments[0]instanceof ue){var c=arguments[0];this.dirEdges.add(c)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return Be}}),k(Ce,Be),b(Ce.prototype,{addEdge:function(a){if(a.isEmpty())return null;var b=U.removeRepeatedPoints(a.getCoordinates());if(b.length<=1)return null;var c=b[0],d=b[b.length-1],e=this.getNode(c),f=this.getNode(d),g=new ve(e,f,b[1],!0),h=new ve(f,e,b[b.length-2],!1),i=new ze(a);i.setDirectedEdges(g,h),this.add(i)},getNode:function(a){var b=this.findNode(a);return null===b&&(b=new ye(a),this.add(b)),b},interfaces_:function(){return[]},getClass:function(){return Ce}}),b(De.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();){var b=a.next();b.isMarked()||(m.isTrue(2===b.getDegree()),this.buildEdgeStringsStartingAt(b),b.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();){var b=a.next();2!==b.getDegree()&&(this.buildEdgeStringsStartingAt(b),b.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(a){for(var b=a.getOutEdges().iterator();b.hasNext();){var c=b.next();c.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(c))}},merge:function(){if(null!==this.mergedLineStrings)return null;te.setMarked(this.graph.nodeIterator(),!1),te.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new v,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new v;for(var a=this.edgeStrings.iterator();a.hasNext();){var b=a.next();this.mergedLineStrings.add(b.toLineString())}},buildEdgeStringStartingWith:function(a){var b=new se(this.factory),c=a;do{b.add(c),c.getEdge().setMarked(!0),c=c.getNext()}while(null!==c&&c!==a);return b},add:function(){if(arguments[0]instanceof N)arguments[0].apply({interfaces_:function(){return[M]},filter:function(a){a instanceof ya&&this.add(a)}});else if(B(arguments[0],q)){var a=arguments[0];this.mergedLineStrings=null;for(var b=a.iterator();b.hasNext();){var c=b.next();this.add(c)}}else if(arguments[0]instanceof ya){var d=arguments[0];null===this.factory&&(this.factory=d.getFactory()),this.graph.addEdge(d)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return De}});var xg=Object.freeze({LineMerger:De}),yg=Object.freeze({OverlayOp:bd});k(Ee,ue),b(Ee.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(a){this.edgeRing=a},setLabel:function(a){this.label=a},getLabel:function(){return this.label},setNext:function(a){this.next=a},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return Ee}}),k(Fe,we),b(Fe.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Fe}}),b(Ge.prototype,{visitInteriorRing:function(a,b){var c=a.getCoordinates(),d=c[0],e=Ge.findDifferentPoint(c,d),f=b.findEdgeInSameDirection(d,e),g=b.findEdgeEnd(f),h=null;g.getLabel().getLocation(0,jc.RIGHT)===A.INTERIOR?h=g:g.getSym().getLabel().getLocation(0,jc.RIGHT)===A.INTERIOR&&(h=g.getSym()),m.isTrue(null!==h,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(h)},visitShellInteriors:function(a,b){if(a instanceof Ca){var c=a;this.visitInteriorRing(c.getExteriorRing(),b)}if(a instanceof Fa)for(var d=a,e=0;e<d.getNumGeometries();e++){var c=d.getGeometryN(e);this.visitInteriorRing(c.getExteriorRing(),b)}},getCoordinate:function(){
return this.disconnectedRingcoord},setInteriorEdgesInResult:function(a){for(var b=a.getEdgeEnds().iterator();b.hasNext();){var c=b.next();c.getLabel().getLocation(0,jc.RIGHT)===A.INTERIOR&&c.setInResult(!0)}},visitLinkedDirectedEdges:function(a){var b=a,c=a;do{m.isTrue(null!==c,"found null Directed Edge"),c.setVisited(!0),c=c.getNext()}while(c!==b)},buildEdgeRings:function(a){for(var b=new v,c=a.iterator();c.hasNext();){var d=c.next();if(d.isInResult()&&null===d.getEdgeRing()){var e=new oc(d,this.geometryFactory);e.linkDirectedEdgesForMinimalEdgeRings();var f=e.buildMinimalRings();b.addAll(f)}}return b},hasUnvisitedShellEdge:function(a){for(var b=0;b<a.size();b++){var c=a.get(b);if(!c.isHole()){var d=c.getEdges(),e=d.get(0);if(e.getLabel().getLocation(0,jc.RIGHT)===A.INTERIOR)for(var f=0;f<d.size();f++)if(e=d.get(f),!e.isVisited())return this.disconnectedRingcoord=e.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var a=new v;this.geomGraph.computeSplitEdges(a);var b=new vc(new Dc);b.addEdges(a),this.setInteriorEdgesInResult(b),b.linkResultDirectedEdges();var c=this.buildEdgeRings(b.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),b),!this.hasUnvisitedShellEdge(c)},interfaces_:function(){return[]},getClass:function(){return Ge}}),Ge.findDifferentPoint=function(a,b){for(var c=0;c<a.length;c++)if(!a[c].equals(b))return a[c];return null},b(He.prototype,{createEdgeEndForNext:function(a,b,c,d){var e=c.segmentIndex+1;if(e>=a.getNumPoints()&&null===d)return null;var f=a.getCoordinate(e);null!==d&&d.segmentIndex===c.segmentIndex&&(f=d.coord);var g=new sc(a,c.coord,f,new lc(a.getLabel()));b.add(g)},createEdgeEndForPrev:function(a,b,c,d){var e=c.segmentIndex;if(0===c.dist){if(0===e)return null;e--}var f=a.getCoordinate(e);null!==d&&d.segmentIndex>=e&&(f=d.coord);var g=new lc(a.getLabel());g.flip();var h=new sc(a,c.coord,f,g);b.add(h)},computeEdgeEnds:function(){if(1===arguments.length){for(var a=arguments[0],b=new v,c=a;c.hasNext();){var d=c.next();this.computeEdgeEnds(d,b)}return b}if(2===arguments.length){var e=arguments[0],f=arguments[1],g=e.getEdgeIntersectionList();g.addEndpoints();var h=g.iterator(),i=null,j=null;if(!h.hasNext())return null;var k=h.next();do{i=j,j=k,k=null,h.hasNext()&&(k=h.next()),null!==j&&(this.createEdgeEndForPrev(e,f,j,i),this.createEdgeEndForNext(e,f,j,k))}while(null!==j)}},interfaces_:function(){return[]},getClass:function(){return He}}),k(Ie,sc),b(Ie.prototype,{insert:function(a){this.edgeEnds.add(a)},print:function(a){a.println("EdgeEndBundle--\x3e Label: "+this.label);for(var b=this.iterator();b.hasNext();)b.next().print(a),a.println()},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(a,b){for(var c=0,d=!1,e=this.iterator();e.hasNext();){var f=e.next(),g=f.getLabel().getLocation(a);g===A.BOUNDARY&&c++,g===A.INTERIOR&&(d=!0)}var g=A.NONE;d&&(g=A.INTERIOR),c>0&&(g=Zc.determineBoundary(b,c)),this.label.setLocation(a,g)},computeLabelSide:function(a,b){for(var c=this.iterator();c.hasNext();){var d=c.next();if(d.getLabel().isArea()){var e=d.getLabel().getLocation(a,b);if(e===A.INTERIOR)return this.label.setLocation(a,b,A.INTERIOR),null;e===A.EXTERIOR&&this.label.setLocation(a,b,A.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(a){this.computeLabelSide(a,jc.LEFT),this.computeLabelSide(a,jc.RIGHT)},updateIM:function(a){Yc.updateIM(this.label,a)},computeLabel:function(a){for(var b=!1,c=this.iterator();c.hasNext();)c.next().getLabel().isArea()&&(b=!0);this.label=b?new lc(A.NONE,A.NONE,A.NONE):new lc(A.NONE);for(var d=0;d<2;d++)this.computeLabelOn(d,a),b&&this.computeLabelSides(d)},interfaces_:function(){return[]},getClass:function(){return Ie}}),k(Je,Bc),b(Je.prototype,{updateIM:function(a){for(var b=this.iterator();b.hasNext();)b.next().updateIM(a)},insert:function(a){var b=this.edgeMap.get(a);null===b?(b=new Ie(a),this.insertEdgeEnd(a,b)):b.insert(a)},interfaces_:function(){return[]},getClass:function(){return Je}}),k(Ke,qc),b(Ke.prototype,{updateIMFromEdges:function(a){this.edges.updateIM(a)},computeIM:function(a){a.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Ke}}),k(Le,uc),b(Le.prototype,{createNode:function(a){return new Ke(a,new Je)},interfaces_:function(){return[]},getClass:function(){return Le}}),b(Me.prototype,{insertEdgeEnds:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.nodes.add(c)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(a,b){for(var c=a.getNodeIterator();c.hasNext();){var d=c.next();this.nodes.addNode(d.getCoordinate()).setLabel(b,d.getLabel().getLocation(b))}},build:function(a){this.computeIntersectionNodes(a,0),this.copyNodesAndLabels(a,0);var b=new He,c=b.computeEdgeEnds(a.getEdgeIterator());this.insertEdgeEnds(c)},computeIntersectionNodes:function(a,b){for(var c=a.getEdgeIterator();c.hasNext();)for(var d=c.next(),e=d.getLabel().getLocation(b),f=d.getEdgeIntersectionList().iterator();f.hasNext();){var g=f.next(),h=this.nodes.addNode(g.coord);e===A.BOUNDARY?h.setLabelBoundary(b):h.getLabel().isNull(b)&&h.setLabel(b,A.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Me}}),b(Ne.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var a=this.nodeGraph.getNodeIterator();a.hasNext();){var b=a.next();if(!b.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=b.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var a=this.nodeGraph.getNodeIterator();a.hasNext();)for(var b=a.next(),c=b.getEdges().iterator();c.hasNext();){var d=c.next();if(d.getEdgeEnds().size()>1)return this.invalidPoint=d.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var a=this.geomGraph.computeSelfNodes(this.li,!0,!0);return a.hasProperIntersection()?(this.invalidPoint=a.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return Ne}}),b(Oe.prototype,{buildIndex:function(){this.index=new Pb;for(var a=0;a<this.rings.size();a++){var b=this.rings.get(a),c=b.getEnvelopeInternal();this.index.insert(c,b)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var a=0;a<this.rings.size();a++)for(var b=this.rings.get(a),c=b.getCoordinates(),d=this.index.query(b.getEnvelopeInternal()),e=0;e<d.size();e++){var f=d.get(e),g=f.getCoordinates();if(b!==f&&b.getEnvelopeInternal().intersects(f.getEnvelopeInternal())){var h=Qe.findPtNotNode(c,f,this.graph);if(null!==h){var i=jb.isPointInRing(h,g);if(i)return this.nestedPt=h,!1}}}return!0},add:function(a){this.rings.add(a),this.totalEnv.expandToInclude(a.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return Oe}}),b(Pe.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return Pe.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var a="";return null!==this.pt&&(a=" at or near point "+this.pt),this.getMessage()+a},interfaces_:function(){return[]},getClass:function(){return Pe}}),Pe.ERROR=0,Pe.REPEATED_POINT=1,Pe.HOLE_OUTSIDE_SHELL=2,Pe.NESTED_HOLES=3,Pe.DISCONNECTED_INTERIOR=4,Pe.SELF_INTERSECTION=5,Pe.RING_SELF_INTERSECTION=6,Pe.NESTED_SHELLS=7,Pe.DUPLICATE_RINGS=8,Pe.TOO_FEW_POINTS=9,Pe.INVALID_COORDINATE=10,Pe.RING_NOT_CLOSED=11,Pe.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],b(Qe.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var a=arguments[0],b=0;b<a.length;b++)if(!Qe.isValid(a[b]))return this.validErr=new Pe(Pe.INVALID_COORDINATE,a[b]),null}else if(arguments[0]instanceof Ca){var c=arguments[0];if(this.checkInvalidCoordinates(c.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(var b=0;b<c.getNumInteriorRing();b++)if(this.checkInvalidCoordinates(c.getInteriorRingN(b).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(a,b){for(var c=new Oe(b),d=0;d<a.getNumInteriorRing();d++){var e=a.getInteriorRingN(d);c.add(e)}c.isNonNested()||(this.validErr=new Pe(Pe.NESTED_HOLES,c.getNestedPoint()))},checkConsistentArea:function(a){var b=new Ne(a);return b.isNodeConsistentArea()?void(b.hasDuplicateRings()&&(this.validErr=new Pe(Pe.DUPLICATE_RINGS,b.getInvalidPoint()))):(this.validErr=new Pe(Pe.SELF_INTERSECTION,b.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(a,b,c){var d=a.getCoordinates(),e=b.getCoordinates(),f=Qe.findPtNotNode(d,b,c);if(null!==f&&!jb.isPointInRing(f,e))return f;var g=Qe.findPtNotNode(e,a,c);return null!==g?jb.isPointInRing(g,d)?g:null:(m.shouldNeverReachHere("points in shell and hole appear to be equal"),null)},checkNoSelfIntersectingRings:function(a){for(var b=a.getEdgeIterator();b.hasNext();){var c=b.next();if(this.checkNoSelfIntersectingRing(c.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(a){var b=new Ge(a);b.isInteriorsConnected()||(this.validErr=new Pe(Pe.DISCONNECTED_INTERIOR,b.getCoordinate()))},checkNoSelfIntersectingRing:function(a){for(var b=new ha,c=!0,d=a.iterator();d.hasNext();){var e=d.next();if(c)c=!1;else{if(b.contains(e.coord))return this.validErr=new Pe(Pe.RING_SELF_INTERSECTION,e.coord),null;b.add(e.coord)}}},checkHolesInShell:function(a,b){for(var c=a.getExteriorRing(),d=new td(c),e=0;e<a.getNumInteriorRing();e++){var f=a.getInteriorRingN(e),g=Qe.findPtNotNode(f.getCoordinates(),c,b);if(null===g)return null;if(!d.isInside(g))return this.validErr=new Pe(Pe.HOLE_OUTSIDE_SHELL,g),null}},checkTooFewPoints:function(a){if(a.hasTooFewPoints())return this.validErr=new Pe(Pe.TOO_FEW_POINTS,a.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof Aa){var a=arguments[0];this.checkInvalidCoordinates(a.getCoordinates())}else if(arguments[0]instanceof Da){var b=arguments[0];this.checkInvalidCoordinates(b.getCoordinates())}else if(arguments[0]instanceof Ea){var c=arguments[0];if(this.checkInvalidCoordinates(c.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(c),null!==this.validErr)return null;var d=new Zc(0,c);if(this.checkTooFewPoints(d),null!==this.validErr)return null;var e=new gb;d.computeSelfNodes(e,!0,!0),this.checkNoSelfIntersectingRings(d)}else if(arguments[0]instanceof ya){var f=arguments[0];if(this.checkInvalidCoordinates(f.getCoordinates()),null!==this.validErr)return null;var d=new Zc(0,f);this.checkTooFewPoints(d)}else if(arguments[0]instanceof Ca){var g=arguments[0];if(this.checkInvalidCoordinates(g),null!==this.validErr)return null;if(this.checkClosedRings(g),null!==this.validErr)return null;var d=new Zc(0,g);if(this.checkTooFewPoints(d),null!==this.validErr)return null;if(this.checkConsistentArea(d),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(d),null!==this.validErr))return null;if(this.checkHolesInShell(g,d),null!==this.validErr)return null;if(this.checkHolesNotNested(g,d),null!==this.validErr)return null;this.checkConnectedInteriors(d)}else if(arguments[0]instanceof Fa){for(var h=arguments[0],i=0;i<h.getNumGeometries();i++){var j=h.getGeometryN(i);if(this.checkInvalidCoordinates(j),null!==this.validErr)return null;if(this.checkClosedRings(j),null!==this.validErr)return null}var d=new Zc(0,h);if(this.checkTooFewPoints(d),null!==this.validErr)return null;if(this.checkConsistentArea(d),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(d),null!==this.validErr))return null;for(var i=0;i<h.getNumGeometries();i++){var j=h.getGeometryN(i);if(this.checkHolesInShell(j,d),null!==this.validErr)return null}for(var i=0;i<h.getNumGeometries();i++){var j=h.getGeometryN(i);if(this.checkHolesNotNested(j,d),null!==this.validErr)return null}if(this.checkShellsNotNested(h,d),null!==this.validErr)return null;this.checkConnectedInteriors(d)}else if(arguments[0]instanceof ma)for(var k=arguments[0],i=0;i<k.getNumGeometries();i++){var l=k.getGeometryN(i);if(this.checkValid(l),null!==this.validErr)return null}else if(arguments[0]instanceof N){var m=arguments[0];if(this.validErr=null,m.isEmpty())return null;if(m instanceof Aa)this.checkValid(m);else if(m instanceof Da)this.checkValid(m);else if(m instanceof Ea)this.checkValid(m);else if(m instanceof ya)this.checkValid(m);else if(m instanceof Ca)this.checkValid(m);else if(m instanceof Fa)this.checkValid(m);else{if(!(m instanceof ma))throw new UnsupportedOperationException(m.getClass().getName());this.checkValid(m)}}},setSelfTouchingRingFormingHoleValid:function(a){this.isSelfTouchingRingFormingHoleValid=a},checkShellNotNested:function(a,b,c){var d=a.getCoordinates(),e=b.getExteriorRing(),f=e.getCoordinates(),g=Qe.findPtNotNode(d,e,c);if(null===g)return null;if(!jb.isPointInRing(g,f))return null;if(b.getNumInteriorRing()<=0)return this.validErr=new Pe(Pe.NESTED_SHELLS,g),null;for(var h=null,i=0;i<b.getNumInteriorRing();i++){var j=b.getInteriorRingN(i);if(null===(h=this.checkShellInsideHole(a,j,c)))return null}this.validErr=new Pe(Pe.NESTED_SHELLS,h)},checkClosedRings:function(a){if(this.checkClosedRing(a.getExteriorRing()),null!==this.validErr)return null;for(var b=0;b<a.getNumInteriorRing();b++)if(this.checkClosedRing(a.getInteriorRingN(b)),null!==this.validErr)return null},checkClosedRing:function(a){if(!a.isClosed()){var b=null;a.getNumPoints()>=1&&(b=a.getCoordinateN(0)),this.validErr=new Pe(Pe.RING_NOT_CLOSED,b)}},checkShellsNotNested:function(a,b){for(var c=0;c<a.getNumGeometries();c++)for(var d=a.getGeometryN(c),e=d.getExteriorRing(),f=0;f<a.getNumGeometries();f++)if(c!==f){var g=a.getGeometryN(f);if(this.checkShellNotNested(e,g,b),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return Qe}}),Qe.findPtNotNode=function(a,b,c){for(var d=c.findEdge(b),e=d.getEdgeIntersectionList(),f=0;f<a.length;f++){var g=a[f];if(!e.isIntersection(g))return g}return null},Qe.isValid=function(){if(arguments[0]instanceof N)return new Qe(arguments[0]).isValid();if(arguments[0]instanceof n){var a=arguments[0];return!(e.isNaN(a.x)||e.isInfinite(a.x)||e.isNaN(a.y)||e.isInfinite(a.y))}},b(Re.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var a=new w,b=this.deList.iterator();b.hasNext();){var c=b.next(),d=c.getEdge();Re.addEdge(d.getLine().getCoordinates(),c.getEdgeDirection(),a)}this.ringPts=a.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),Qe.isValid(this.ring))},build:function(a){var b=a;do{this.add(b),b.setRing(this),b=b.getNext(),m.isTrue(null!==b,"found null DE in ring"),m.isTrue(b===a||!b.isInRing(),"found DE already in ring")}while(b!==a)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var a=null;if(null!==this.holes){a=new Array(this.holes.size()).fill(null);for(var b=0;b<this.holes.size();b++)a[b]=this.holes.get(b)}return this.factory.createPolygon(this.ring,a)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Ea){var a=arguments[0];null===this.holes&&(this.holes=new v),this.holes.add(a)}else if(arguments[0]instanceof Re){var b=arguments[0];b.setShell(this);var c=b.getRing();null===this.holes&&(this.holes=new v),this.holes.add(c)}},setIncluded:function(a){this._isIncluded=a,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var a=0;a<this.deList.size();a++){var b=this.deList.get(a),c=b.getSym().getRing();if(c.isOuterHole())return c}return null},computeHole:function(){var a=this.getRing();this._isHole=jb.isCCW(a.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return eb.toLineString(new La(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(a){this.deList.add(a)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&J.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(a){if(!(a instanceof y))throw a;J.out.println(this.ringPts)}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var a=0;a<this.deList.size();a++){var b=this.deList.get(a),c=b.getSym().getRing().getShell();if(null!==c&&c.isIncludedSet())return this.setIncluded(!c.isIncluded()),null}},setShell:function(a){this.shell=a},setProcessed:function(a){this._isProcessed=a},interfaces_:function(){return[]},getClass:function(){return Re}}),Re.findDirEdgesInRing=function(a){var b=a,c=new v;do{c.add(b),b=b.getNext(),m.isTrue(null!==b,"found null DE in ring"),m.isTrue(b===a||!b.isInRing(),"found DE already in ring")}while(b!==a);return c},Re.addEdge=function(a,b,c){if(b)for(var d=0;d<a.length;d++)c.add(a[d],!1);else for(var d=a.length-1;d>=0;d--)c.add(a[d],!1)},Re.findEdgeRingContaining=function(a,b){for(var c=a.getRing(),d=c.getEnvelopeInternal(),e=c.getCoordinateN(0),f=null,g=null,h=b.iterator();h.hasNext();){var i=h.next(),j=i.getRing(),k=j.getEnvelopeInternal();if(!k.equals(d)&&k.contains(d)){e=U.ptNotInList(c.getCoordinates(),j.getCoordinates());var l=!1;jb.isPointInRing(e,j.getCoordinates())&&(l=!0),l&&(null===f||g.contains(k))&&(f=i,g=f.getRing().getEnvelopeInternal())}}return f},b(Se.prototype,{compare:function(a,b){var c=a,d=b;return c.getRing().getEnvelope().compareTo(d.getRing().getEnvelope())},interfaces_:function(){return[h]},getClass:function(){return Se}}),Re.EnvelopeComparator=Se,k(Te,Be),b(Te.prototype,{findEdgeRing:function(a){var b=new Re(this.factory);return b.build(a),b},computeDepthParity:function(){if(0===arguments.length)for(;;)return null;else 1===arguments.length&&arguments[0]},computeNextCWEdges:function(){for(var a=this.nodeIterator();a.hasNext();){var b=a.next();Te.computeNextCWEdges(b)}},addEdge:function(a){if(a.isEmpty())return null;var b=U.removeRepeatedPoints(a.getCoordinates());if(b.length<2)return null;var c=b[0],d=b[b.length-1],e=this.getNode(c),f=this.getNode(d),g=new Ee(e,f,b[1],!0),h=new Ee(f,e,b[b.length-2],!1),i=new Fe(a);i.setDirectedEdges(g,h),this.add(i)},deleteCutEdges:function(){this.computeNextCWEdges(),Te.findLabeledEdgeRings(this.dirEdges);for(var a=new v,b=this.dirEdges.iterator();b.hasNext();){var c=b.next();if(!c.isMarked()){var d=c.getSym();if(c.getLabel()===d.getLabel()){c.setMarked(!0),d.setMarked(!0);var e=c.getEdge();a.add(e.getLine())}}}return a},getEdgeRings:function(){this.computeNextCWEdges(),Te.label(this.dirEdges,-1);var a=Te.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(a);for(var b=new v,c=this.dirEdges.iterator();c.hasNext();){var d=c.next();if(!d.isMarked()&&!d.isInRing()){var e=this.findEdgeRing(d);b.add(e)}}return b},getNode:function(a){var b=this.findNode(a);return null===b&&(b=new ye(a),this.add(b)),b},convertMaximalToMinimalEdgeRings:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=c.getLabel(),e=Te.findIntersectionNodes(c,d);if(null!==e)for(var f=e.iterator();f.hasNext();){var g=f.next();Te.computeNextCCWEdges(g,d)}}},deleteDangles:function(){for(var a=this.findNodesOfDegree(1),b=new $,c=new ob,d=a.iterator();d.hasNext();)c.push(d.next());for(;!c.isEmpty();){var e=c.pop();Te.deleteAllEdges(e);for(var f=e.getOutEdges().getEdges(),d=f.iterator();d.hasNext();){var g=d.next();g.setMarked(!0);var h=g.getSym();null!==h&&h.setMarked(!0);var i=g.getEdge();b.add(i.getLine());var j=g.getToNode();1===Te.getDegreeNonDeleted(j)&&c.push(j)}}return b},interfaces_:function(){return[]},getClass:function(){return Te}}),Te.findLabeledEdgeRings=function(a){for(var b=new v,c=1,d=a.iterator();d.hasNext();){var e=d.next();if(!(e.isMarked()||e.getLabel()>=0)){b.add(e);var f=Re.findDirEdgesInRing(e);Te.label(f,c),c++}}return b},Te.getDegreeNonDeleted=function(a){for(var b=a.getOutEdges().getEdges(),c=0,d=b.iterator();d.hasNext();)d.next().isMarked()||c++;return c},Te.deleteAllEdges=function(a){for(var b=a.getOutEdges().getEdges(),c=b.iterator();c.hasNext();){var d=c.next();d.setMarked(!0);var e=d.getSym();null!==e&&e.setMarked(!0)}},Te.label=function(a,b){for(var c=a.iterator();c.hasNext();)c.next().setLabel(b)},Te.computeNextCWEdges=function(a){for(var b=a.getOutEdges(),c=null,d=null,e=b.getEdges().iterator();e.hasNext();){var f=e.next();if(!f.isMarked()){if(null===c&&(c=f),null!==d){var g=d.getSym();g.setNext(f)}d=f}}if(null!==d){var g=d.getSym();g.setNext(c)}},Te.computeNextCCWEdges=function(a,b){for(var c=a.getOutEdges(),d=null,e=null,f=c.getEdges(),g=f.size()-1;g>=0;g--){var h=f.get(g),i=h.getSym(),j=null;h.getLabel()===b&&(j=h);var k=null;i.getLabel()===b&&(k=i),null===j&&null===k||(null!==k&&(e=k),null!==j&&(null!==e&&(e.setNext(j),e=null),null===d&&(d=j)))}null!==e&&(m.isTrue(null!==d),e.setNext(d))},Te.getDegree=function(a,b){for(var c=a.getOutEdges().getEdges(),d=0,e=c.iterator();e.hasNext();)e.next().getLabel()===b&&d++;return d},Te.findIntersectionNodes=function(a,b){var c=a,d=null;do{var e=c.getFromNode();Te.getDegree(e,b)>1&&(null===d&&(d=new v),d.add(e)),c=c.getNext(),m.isTrue(null!==c,"found null DE in ring"),m.isTrue(c===a||!c.isInRing(),"found DE already in ring")}while(c!==a);return d},b(Ue.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new cb),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(cb.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(a,b,c){for(var d=a.iterator();d.hasNext();){var e=d.next();e.isValid()?b.add(e):c.add(e.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new v,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var a=this.graph.getEdgeRings(),b=new v;this.invalidRingLines=new v,this.isCheckingRingsValid?this.findValidRings(a,b,this.invalidRingLines):b=a,this.findShellsAndHoles(b),Ue.assignHolesToShells(this.holeList,this.shellList),ig.sort(this.shellList,new Re.EnvelopeComparator);var c=!0;this.extractOnlyPolygonal&&(Ue.findDisjointShells(this.shellList),c=!1),this.polyList=Ue.extractPolygons(this.shellList,c)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(B(arguments[0],q))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.add(c)}else if(arguments[0]instanceof ya){var d=arguments[0];this.geomFactory=d.getFactory(),null===this.graph&&(this.graph=new Te(this.geomFactory)),this.graph.addEdge(d)}else if(arguments[0]instanceof N){var e=arguments[0];e.apply(this.lineStringAdder)}},setCheckRingsValid:function(a){this.isCheckingRingsValid=a},findShellsAndHoles:function(a){this.holeList=new v,this.shellList=new v;for(var b=a.iterator();b.hasNext();){var c=b.next();c.computeHole(),c.isHole()?this.holeList.add(c):this.shellList.add(c)}},interfaces_:function(){return[]},getClass:function(){return Ue}}),Ue.findOuterShells=function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=c.getOuterHole();null===d||d.isProcessed()||(c.setIncluded(!0),d.setProcessed(!0))}},Ue.extractPolygons=function(a,b){for(var c=new v,d=a.iterator();d.hasNext();){var e=d.next();(b||e.isIncluded())&&c.add(e.getPolygon())}return c},Ue.assignHolesToShells=function(a,b){for(var c=a.iterator();c.hasNext();){var d=c.next();Ue.assignHoleToShell(d,b)}},Ue.assignHoleToShell=function(a,b){var c=Re.findEdgeRingContaining(a,b);null!==c&&c.addHole(a)},Ue.findDisjointShells=function(a){Ue.findOuterShells(a);var b=null;do{b=!1;for(var c=a.iterator();c.hasNext();){var d=c.next();d.isIncludedSet()||(d.updateIncluded(),d.isIncludedSet()||(b=!0))}}while(b)},b(Ve.prototype,{filter:function(a){a instanceof ya&&this.p.add(a)},interfaces_:function(){return[M]},getClass:function(){return Ve}}),Ue.LineStringAdder=Ve;var zg=Object.freeze({Polygonizer:Ue});b(We.prototype,{insertEdgeEnds:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.nodes.add(c)}},computeProperIntersectionIM:function(a,b){var c=this.arg[0].getGeometry().getDimension(),d=this.arg[1].getGeometry().getDimension(),e=a.hasProperIntersection(),f=a.hasProperInteriorIntersection();2===c&&2===d?e&&b.setAtLeast("212101212"):2===c&&1===d?(e&&b.setAtLeast("FFF0FFFF2"),f&&b.setAtLeast("1FFFFF1FF")):1===c&&2===d?(e&&b.setAtLeast("F0FFFFFF2"),f&&b.setAtLeast("1F1FFFFFF")):1===c&&1===d&&f&&b.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(a,b){for(var c=this.arg[a].getEdgeIterator();c.hasNext();){var d=c.next();d.isIsolated()&&(this.labelIsolatedEdge(d,b,this.arg[b].getGeometry()),this.isolatedEdges.add(d))}},labelIsolatedEdge:function(a,b,c){if(c.getDimension()>0){var d=this.ptLocator.locate(a.getCoordinate(),c);a.getLabel().setAllLocations(b,d)}else a.getLabel().setAllLocations(b,A.EXTERIOR)},computeIM:function(){var a=new lb;if(a.set(A.EXTERIOR,A.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(a),a;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var b=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(b,a);var c=new He,d=c.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(d);var e=c.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(e),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(a),a},labelNodeEdges:function(){for(var a=this.nodes.iterator();a.hasNext();)a.next().getEdges().computeLabelling(this.arg)},copyNodesAndLabels:function(a){for(var b=this.arg[a].getNodeIterator();b.hasNext();){var c=b.next();this.nodes.addNode(c.getCoordinate()).setLabel(a,c.getLabel().getLocation(a))}},labelIntersectionNodes:function(a){for(var b=this.arg[a].getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next(),g=this.nodes.find(f.coord);g.getLabel().isNull(a)&&(d===A.BOUNDARY?g.setLabelBoundary(a):g.setLabel(a,A.INTERIOR))}},labelIsolatedNode:function(a,b){var c=this.ptLocator.locate(a.getCoordinate(),this.arg[b].getGeometry());a.getLabel().setAllLocations(b,c)},computeIntersectionNodes:function(a){for(var b=this.arg[a].getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next(),g=this.nodes.addNode(f.coord);d===A.BOUNDARY?g.setLabelBoundary(a):g.getLabel().isNull(a)&&g.setLabel(a,A.INTERIOR)}},labelIsolatedNodes:function(){for(var a=this.nodes.iterator();a.hasNext();){var b=a.next(),c=b.getLabel();m.isTrue(c.getGeometryCount()>0,"node with empty label found"),b.isIsolated()&&(c.isNull(0)?this.labelIsolatedNode(b,0):this.labelIsolatedNode(b,1))}},updateIM:function(a){for(var b=this.isolatedEdges.iterator();b.hasNext();)b.next().updateIM(a);for(var c=this.nodes.iterator();c.hasNext();){var d=c.next();d.updateIM(a),d.updateIMFromEdges(a)}},computeDisjointIM:function(a){var b=this.arg[0].getGeometry();b.isEmpty()||(a.set(A.INTERIOR,A.EXTERIOR,b.getDimension()),a.set(A.BOUNDARY,A.EXTERIOR,b.getBoundaryDimension()));var c=this.arg[1].getGeometry();c.isEmpty()||(a.set(A.EXTERIOR,A.INTERIOR,c.getDimension()),a.set(A.EXTERIOR,A.BOUNDARY,c.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return We}}),b(Xe.prototype,{isContainedInBoundary:function(a){if(a instanceof Ca)return!1;if(a instanceof Aa)return this.isPointContainedInBoundary(a);if(a instanceof ya)return this.isLineStringContainedInBoundary(a);for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);if(!this.isContainedInBoundary(c))return!1}return!0},isLineSegmentContainedInBoundary:function(a,b){if(a.equals(b))return this.isPointContainedInBoundary(a);if(a.x===b.x){if(a.x===this.rectEnv.getMinX()||a.x===this.rectEnv.getMaxX())return!0}else if(a.y===b.y&&(a.y===this.rectEnv.getMinY()||a.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(a){for(var b=a.getCoordinateSequence(),c=new n,d=new n,e=0;e<b.size()-1;e++)if(b.getCoordinate(e,c),b.getCoordinate(e+1,d),!this.isLineSegmentContainedInBoundary(c,d))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof Aa){var a=arguments[0];return this.isPointContainedInBoundary(a.getCoordinate())}if(arguments[0]instanceof n){var b=arguments[0];return b.x===this.rectEnv.getMinX()||b.x===this.rectEnv.getMaxX()||b.y===this.rectEnv.getMinY()||b.y===this.rectEnv.getMaxY()}},contains:function(a){return!!this.rectEnv.contains(a.getEnvelopeInternal())&&!this.isContainedInBoundary(a)},interfaces_:function(){return[]},getClass:function(){return Xe}}),Xe.contains=function(a,b){return new Xe(a).contains(b)},b(Ye.prototype,{intersects:function(a,b){var c=new x(a,b);if(!this.rectEnv.intersects(c))return!1;if(this.rectEnv.intersects(a))return!0;if(this.rectEnv.intersects(b))return!0;if(a.compareTo(b)>0){var d=a;a=b,b=d}var e=!1;return b.y>a.y&&(e=!0),e?this.li.computeIntersection(a,b,this.diagDown0,this.diagDown1):this.li.computeIntersection(a,b,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return Ye}}),b(Ze.prototype,{applyTo:function(a){for(var b=0;b<a.getNumGeometries()&&!this._isDone;b++){var c=a.getGeometryN(b);if(c instanceof ma)this.applyTo(c);else if(this.visit(c),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Ze}}),b($e.prototype,{intersects:function(a){if(!this.rectEnv.intersects(a.getEnvelopeInternal()))return!1;var b=new _e(this.rectEnv);if(b.applyTo(a),b.intersects())return!0;var c=new af(this.rectangle);if(c.applyTo(a),c.containsPoint())return!0;var d=new bf(this.rectangle);return d.applyTo(a),!!d.intersects()},interfaces_:function(){return[]},getClass:function(){return $e}}),$e.intersects=function(a,b){return new $e(a).intersects(b)},k(_e,Ze),b(_e.prototype,{isDone:function(){return!0===this._intersects},visit:function(a){var b=a.getEnvelopeInternal();return this.rectEnv.intersects(b)?this.rectEnv.contains(b)?(this._intersects=!0,null):b.getMinX()>=this.rectEnv.getMinX()&&b.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):b.getMinY()>=this.rectEnv.getMinY()&&b.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return _e}}),k(af,Ze),b(af.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(a){if(!(a instanceof Ca))return null;var b=a.getEnvelopeInternal();if(!this.rectEnv.intersects(b))return null;for(var c=new n,d=0;d<4;d++)if(this.rectSeq.getCoordinate(d,c),
b.contains(c)&&Ac.containsPointInPolygon(c,a))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return af}}),k(bf,Ze),b(bf.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return!0===this.hasIntersection},visit:function(a){var b=a.getEnvelopeInternal();if(!this.rectEnv.intersects(b))return null;var c=Oc.getLines(a);this.checkIntersectionWithLineStrings(c)},checkIntersectionWithLineStrings:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();if(this.checkIntersectionWithSegments(c),this.hasIntersection)return null}},checkIntersectionWithSegments:function(a){for(var b=a.getCoordinateSequence(),c=1;c<b.size();c++)if(b.getCoordinate(c-1,this.p0),b.getCoordinate(c,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return bf}}),k(cf,$c),b(cf.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return cf}}),cf.covers=function(a,b){return!!a.getEnvelopeInternal().covers(b.getEnvelopeInternal())&&(!!a.isRectangle()||cf.relate(a,b).isCovers())},cf.intersects=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&(a.isRectangle()?$e.intersects(a,b):b.isRectangle()?$e.intersects(b,a):cf.relate(a,b).isIntersects())},cf.touches=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&cf.relate(a,b).isTouches(a.getDimension(),b.getDimension())},cf.within=function(a,b){return b.contains(a)},cf.coveredBy=function(a,b){return cf.covers(b,a)},cf.relate=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new cf(a,b),d=c.getIntersectionMatrix();return d}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof N&&arguments[1]instanceof N){var e=arguments[0],f=arguments[1],g=arguments[2];return cf.relateWithCheck(e,f).matches(g)}if(B(arguments[2],P)&&arguments[0]instanceof N&&arguments[1]instanceof N){var h=arguments[0],i=arguments[1],j=arguments[2],c=new cf(h,i,j),d=c.getIntersectionMatrix();return d}}},cf.overlaps=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&cf.relate(a,b).isOverlaps(a.getDimension(),b.getDimension())},cf.disjoint=function(a,b){return!a.intersects(b)},cf.relateWithCheck=function(a,b){return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),cf.relate(a,b)},cf.crosses=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&cf.relate(a,b).isCrosses(a.getDimension(),b.getDimension())},cf.contains=function(a,b){return!!a.getEnvelopeInternal().contains(b.getEnvelopeInternal())&&(a.isRectangle()?Xe.contains(a,b):cf.relate(a,b).isContains())};var Ag=Object.freeze({RelateOp:cf});b(df.prototype,{extractElements:function(a,b){if(null===a)return null;for(var c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c);this.skipEmpty&&d.isEmpty()||b.add(d)}},combine:function(){for(var a=new v,b=this.inputGeoms.iterator();b.hasNext();){var c=b.next();this.extractElements(c,a)}return 0===a.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(a)},interfaces_:function(){return[]},getClass:function(){return df}}),df.combine=function(){if(1===arguments.length){var a=arguments[0],b=new df(a);return b.combine()}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=new df(df.createList(c,d));return b.combine()}if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],b=new df(df.createList(e,f,g));return b.combine()}},df.extractFactory=function(a){return a.isEmpty()?null:a.iterator().next().getFactory()},df.createList=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new v;return c.add(a),c.add(b),c}if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],c=new v;return c.add(d),c.add(e),c.add(f),c}},b(ef.prototype,{union:function(){for(var a=new Bb,b=new ha,c=0;c<this.pointGeom.getNumGeometries();c++){var d=this.pointGeom.getGeometryN(c),e=d.getCoordinate();a.locate(e,this.otherGeom)===A.EXTERIOR&&b.add(e)}if(0===b.size())return this.otherGeom;var f=null,g=U.toCoordinateArray(b);return f=1===g.length?this.geomFact.createPoint(g[0]):this.geomFact.createMultiPointFromCoords(g),df.combine(f,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return ef}}),ef.union=function(a,b){return new ef(a,b).union()},b(ff.prototype,{filter:function(a){-1!==this.sortIndex&&a.getSortIndex()!==this.sortIndex||this.comps.add(a)},interfaces_:function(){return[ka]},getClass:function(){return ff}}),ff.extract=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return ff.extract(a,b,new v)}if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];return c.getSortIndex()===d?e.add(c):c instanceof ma&&c.apply(new ff(d,e)),e}},b(gf.prototype,{reduceToGeometries:function(a){for(var b=new v,c=a.iterator();c.hasNext();){var d=c.next(),e=null;B(d,s)?e=this.unionTree(d):d instanceof N&&(e=d),b.add(e)}return b},extractByEnvelope:function(a,b,c){for(var d=new v,e=0;e<b.getNumGeometries();e++){var f=b.getGeometryN(e);f.getEnvelopeInternal().intersects(a)?d.add(f):c.add(f)}return this.geomFactory.buildGeometry(d)},unionOptimized:function(a,b){var c=a.getEnvelopeInternal(),d=b.getEnvelopeInternal();if(!c.intersects(d))return df.combine(a,b);if(a.getNumGeometries()<=1&&b.getNumGeometries()<=1)return this.unionActual(a,b);var e=c.intersection(d);return this.unionUsingEnvelopeIntersection(a,b,e)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var a=new Pb(gf.STRTREE_NODE_CAPACITY),b=this.inputPolys.iterator();b.hasNext();){var c=b.next();a.insert(c.getEnvelopeInternal(),c)}this.inputPolys=null;var d=a.itemsTree();return this.unionTree(d)},binaryUnion:function(){if(1===arguments.length){var a=arguments[0];return this.binaryUnion(a,0,a.size())}if(3===arguments.length){var b=arguments[0],c=arguments[1],d=arguments[2];if(d-c<=1){var e=gf.getGeometry(b,c);return this.unionSafe(e,null)}if(d-c==2)return this.unionSafe(gf.getGeometry(b,c),gf.getGeometry(b,c+1));var f=Math.trunc((d+c)/2),e=this.binaryUnion(b,c,f),g=this.binaryUnion(b,f,d);return this.unionSafe(e,g)}},repeatedUnion:function(a){for(var b=null,c=a.iterator();c.hasNext();){var d=c.next();b=null===b?d.copy():b.union(d)}return b},unionSafe:function(a,b){return null===a&&null===b?null:null===a?b.copy():null===b?a.copy():this.unionOptimized(a,b)},unionActual:function(a,b){return gf.restrictToPolygons(a.union(b))},unionTree:function(a){var b=this.reduceToGeometries(a);return this.binaryUnion(b)},unionUsingEnvelopeIntersection:function(a,b,c){var d=new v,e=this.extractByEnvelope(c,a,d),f=this.extractByEnvelope(c,b,d),g=this.unionActual(e,f);return d.add(g),df.combine(d)},bufferUnion:function(){if(1===arguments.length){var a=arguments[0],b=a.get(0).getFactory(),c=b.buildGeometry(a),d=c.buffer(0);return d}if(2===arguments.length){var e=arguments[0],f=arguments[1],b=e.getFactory(),c=b.createGeometryCollection([e,f]),d=c.buffer(0);return d}},interfaces_:function(){return[]},getClass:function(){return gf}}),gf.restrictToPolygons=function(a){if(B(a,Ba))return a;var b=ne.getPolygons(a);return 1===b.size()?b.get(0):a.getFactory().createMultiPolygon(cb.toPolygonArray(b))},gf.getGeometry=function(a,b){return b>=a.size()?null:a.get(b)},gf.union=function(a){return new gf(a).union()},gf.STRTREE_NODE_CAPACITY=4,b(hf.prototype,{unionNoOpt:function(a){var b=this.geomFact.createPoint();return dd.overlayOp(a,b,bd.UNION)},unionWithNull:function(a,b){return null===a&&null===b?null:null===b?a:null===a?b:a.union(b)},extract:function(){if(B(arguments[0],q))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.extract(c)}else if(arguments[0]instanceof N){var d=arguments[0];null===this.geomFact&&(this.geomFact=d.getFactory()),ff.extract(d,N.SORTINDEX_POLYGON,this.polygons),ff.extract(d,N.SORTINDEX_LINESTRING,this.lines),ff.extract(d,N.SORTINDEX_POINT,this.points)}},union:function(){if(null===this.geomFact)return null;var a=null;if(this.points.size()>0){var b=this.geomFact.buildGeometry(this.points);a=this.unionNoOpt(b)}var c=null;if(this.lines.size()>0){var d=this.geomFact.buildGeometry(this.lines);c=this.unionNoOpt(d)}var e=null;this.polygons.size()>0&&(e=gf.union(this.polygons));var f=this.unionWithNull(c,e),g=null;return g=null===a?f:null===f?a:ef.union(a,f),null===g?this.geomFact.createGeometryCollection():g},interfaces_:function(){return[]},getClass:function(){return hf}}),hf.union=function(){if(1===arguments.length){if(B(arguments[0],q)){var a=arguments[0],b=new hf(a);return b.union()}if(arguments[0]instanceof N){var c=arguments[0],b=new hf(c);return b.union()}}else if(2===arguments.length){var d=arguments[0],e=arguments[1],b=new hf(d,e);return b.union()}};var Bg=Object.freeze({UnaryUnionOp:hf}),Cg=Object.freeze({IsValidOp:Qe,ConsistentAreaTester:Ne}),Dg=Object.freeze({BoundaryOp:oa,IsSimpleOp:Td,buffer:vg,distance:wg,linemerge:xg,overlay:yg,polygonize:zg,relate:Ag,union:Bg,valid:Cg});k(jf,Ga.CoordinateOperation),b(jf.prototype,{editCoordinates:function(a,b){if(0===a.length)return null;for(var c=new Array(a.length).fill(null),d=0;d<a.length;d++){var e=new n(a[d]);this.targetPM.makePrecise(e),c[d]=e}var f=new w(c,!1),g=f.toCoordinateArray(),h=0;b instanceof ya&&(h=2),b instanceof Ea&&(h=4);var i=c;return this.removeCollapsed&&(i=null),g.length<h?i:g},interfaces_:function(){return[]},getClass:function(){return jf}}),b(kf.prototype,{fixPolygonalTopology:function(a){var b=a;this.changePrecisionModel||(b=this.changePM(a,this.targetPM));var c=b.buffer(0),d=c;return this.changePrecisionModel||(d=this.changePM(c,a.getPrecisionModel())),d},reducePointwise:function(a){var b=null;b=this.changePrecisionModel?new Ga(this.createFactory(a.getFactory(),this.targetPM)):new Ga;var c=this.removeCollapsed;return a.getDimension()>=2&&(c=!0),b.edit(a,new jf(this.targetPM,c))},changePM:function(a,b){return this.createEditor(a.getFactory(),b).edit(a,new Ga.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(a){this.removeCollapsed=a},createFactory:function(a,b){return new cb(b,a.getSRID(),a.getCoordinateSequenceFactory())},setChangePrecisionModel:function(a){this.changePrecisionModel=a},reduce:function(a){var b=this.reducePointwise(a);return this.isPointwise?b:B(b,Ba)?b.isValid()?b:this.fixPolygonalTopology(b):b},setPointwise:function(a){this.isPointwise=a},createEditor:function(a,b){return a.getPrecisionModel()===b?new Ga:new Ga(this.createFactory(a,b))},interfaces_:function(){return[]},getClass:function(){return kf}}),kf.reduce=function(a,b){return new kf(b).reduce(a)},kf.reducePointwise=function(a,b){var c=new kf(b);return c.setPointwise(!0),c.reduce(a)};var Eg=Object.freeze({GeometryPrecisionReducer:kf});b(lf.prototype,{simplifySection:function(a,b){if(a+1===b)return null;this.seg.p0=this.pts[a],this.seg.p1=this.pts[b];for(var c=-1,d=a,e=a+1;e<b;e++){var f=this.seg.distance(this.pts[e]);f>c&&(c=f,d=e)}if(c<=this.distanceTolerance)for(var e=a+1;e<b;e++)this.usePt[e]=!1;else this.simplifySection(a,d),this.simplifySection(d,b)},setDistanceTolerance:function(a){this.distanceTolerance=a},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var a=0;a<this.pts.length;a++)this.usePt[a]=!0;this.simplifySection(0,this.pts.length-1);for(var b=new w,a=0;a<this.pts.length;a++)this.usePt[a]&&b.add(new n(this.pts[a]));return b.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return lf}}),lf.simplify=function(a,b){var c=new lf(a);return c.setDistanceTolerance(b),c.simplify()},b(mf.prototype,{setEnsureValid:function(a){this.isEnsureValidTopology=a},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new nf(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(a){if(a<0)throw new d("Tolerance must be non-negative");this.distanceTolerance=a},interfaces_:function(){return[]},getClass:function(){return mf}}),mf.simplify=function(a,b){var c=new mf(a);return c.setDistanceTolerance(b),c.getResultGeometry()},k(nf,sb),b(nf.prototype,{transformPolygon:function(a,b){if(a.isEmpty())return null;var c=sb.prototype.transformPolygon.call(this,a,b);return b instanceof Fa?c:this.createValidArea(c)},createValidArea:function(a){return this.isEnsureValidTopology?a.buffer(0):a},transformCoordinates:function(a,b){var c=a.toCoordinateArray(),d=null;return d=0===c.length?new Array(0).fill(null):lf.simplify(c,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(d)},transformMultiPolygon:function(a,b){var c=sb.prototype.transformMultiPolygon.call(this,a,b);return this.createValidArea(c)},transformLinearRing:function(a,b){var c=b instanceof Ca,d=sb.prototype.transformLinearRing.call(this,a,b);return!c||d instanceof Ea?d:null},interfaces_:function(){return[]},getClass:function(){return nf}}),mf.DPTransformer=nf,k(of,kb),b(of.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return of}}),b(pf.prototype,{addToResult:function(a){this.resultSegs.add(a)},asLineString:function(){return this.parentLine.getFactory().createLineString(pf.extractCoordinates(this.resultSegs))},getResultSize:function(){var a=this.resultSegs.size();return 0===a?0:a+1},getParent:function(){return this.parentLine},getSegment:function(a){return this.segs[a]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(pf.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var a=this.parentLine.getCoordinates();this.segs=new Array(a.length-1).fill(null);for(var b=0;b<a.length-1;b++){var c=new of(a[b],a[b+1],this.parentLine,b);this.segs[b]=c}},getResultCoordinates:function(){return pf.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return pf}}),pf.extractCoordinates=function(a){for(var b=new Array(a.size()+1).fill(null),c=null,d=0;d<a.size();d++)c=a.get(d),b[d]=c.p0;return b[b.length-1]=c.p1,b},b(qf.prototype,{remove:function(a){this.index.remove(new x(a.p0,a.p1),a)},add:function(){if(arguments[0]instanceof pf)for(var a=arguments[0],b=a.getSegments(),c=0;c<b.length;c++){var d=b[c];this.add(d)}else if(arguments[0]instanceof kb){var e=arguments[0];this.index.insert(new x(e.p0,e.p1),e)}},query:function(a){var b=new x(a.p0,a.p1),c=new rf(a);return this.index.query(b,c),c.getItems()},interfaces_:function(){return[]},getClass:function(){return qf}}),b(rf.prototype,{visitItem:function(a){var b=a;x.intersects(b.p0,b.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(a)},getItems:function(){return this.items},interfaces_:function(){return[Ib]},getClass:function(){return rf}}),b(sf.prototype,{flatten:function(a,b){var c=this.linePts[a],d=this.linePts[b],e=new kb(c,d);return this.remove(this.line,a,b),this.outputIndex.add(e),e},hasBadIntersection:function(a,b,c){return!!this.hasBadOutputIntersection(c)||!!this.hasBadInputIntersection(a,b,c)},setDistanceTolerance:function(a){this.distanceTolerance=a},simplifySection:function(a,b,c){c+=1;var d=new Array(2).fill(null);if(a+1===b){var e=this.line.getSegment(a);return this.line.addToResult(e),null}var f=!0;this.line.getResultSize()<this.line.getMinimumSize()&&c+1<this.line.getMinimumSize()&&(f=!1);var g=new Array(1).fill(null),h=this.findFurthestPoint(this.linePts,a,b,g);g[0]>this.distanceTolerance&&(f=!1);var i=new kb;if(i.p0=this.linePts[a],i.p1=this.linePts[b],d[0]=a,d[1]=b,this.hasBadIntersection(this.line,d,i)&&(f=!1),f){var e=this.flatten(a,b);return this.line.addToResult(e),null}this.simplifySection(a,h,c),this.simplifySection(h,b,c)},hasBadOutputIntersection:function(a){for(var b=this.outputIndex.query(a),c=b.iterator();c.hasNext();){var d=c.next();if(this.hasInteriorIntersection(d,a))return!0}return!1},findFurthestPoint:function(a,b,c,d){var e=new kb;e.p0=a[b],e.p1=a[c];for(var f=-1,g=b,h=b+1;h<c;h++){var i=a[h],j=e.distance(i);j>f&&(f=j,g=h)}return d[0]=f,g},simplify:function(a){this.line=a,this.linePts=a.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(a,b,c){for(var d=b;d<c;d++){var e=a.getSegment(d);this.inputIndex.remove(e)}},hasInteriorIntersection:function(a,b){return this.li.computeIntersection(a.p0,a.p1,b.p0,b.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(a,b,c){for(var d=this.inputIndex.query(c),e=d.iterator();e.hasNext();){var f=e.next();if(this.hasInteriorIntersection(f,c)){if(sf.isInLineSection(a,b,f))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return sf}}),sf.isInLineSection=function(a,b,c){if(c.getParent()!==a.getParent())return!1;var d=c.getIndex();return d>=b[0]&&d<b[1]},b(tf.prototype,{setDistanceTolerance:function(a){this.distanceTolerance=a},simplify:function(a){for(var b=a.iterator();b.hasNext();)this.inputIndex.add(b.next());for(var b=a.iterator();b.hasNext();){var c=new sf(this.inputIndex,this.outputIndex);c.setDistanceTolerance(this.distanceTolerance),c.simplify(b.next())}},interfaces_:function(){return[]},getClass:function(){return tf}}),b(uf.prototype,{getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():(this.linestringMap=new _a,this.inputGeom.apply(new wf(this)),this.lineSimplifier.simplify(this.linestringMap.values()),new vf(this.linestringMap).transform(this.inputGeom))},setDistanceTolerance:function(a){if(a<0)throw new d("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(a)},interfaces_:function(){return[]},getClass:function(){return uf}}),uf.simplify=function(a,b){var c=new uf(a);return c.setDistanceTolerance(b),c.getResultGeometry()},k(vf,sb),b(vf.prototype,{transformCoordinates:function(a,b){if(0===a.size())return null;if(b instanceof ya){var c=this.linestringMap.get(b);return this.createCoordinateSequence(c.getResultCoordinates())}return sb.prototype.transformCoordinates.call(this,a,b)},interfaces_:function(){return[]},getClass:function(){return vf}}),b(wf.prototype,{filter:function(a){if(a instanceof ya){var b=a;if(b.isEmpty())return null;var c=b.isClosed()?4:2,d=new pf(b,c);this.tps.linestringMap.put(b,d)}},interfaces_:function(){return[M]},getClass:function(){return wf}}),uf.LineStringTransformer=vf,uf.LineStringMapBuilderFilter=wf;var Fg=Object.freeze({DouglasPeuckerSimplifier:mf,TopologyPreservingSimplifier:uf});b(xf.prototype,{splitAt:function(){if(1===arguments.length){var a=arguments[0],b=this.minimumLen/this.segLen;if(a.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(b),null;if(a.distance(this.seg.p1)<this.minimumLen)return this.splitPt=xf.pointAlongReverse(this.seg,b),null;this.splitPt=a}else if(2===arguments.length){var c=arguments[0],d=arguments[1],e=this.getConstrainedLength(c),f=e/this.segLen;d.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(f):this.splitPt=xf.pointAlongReverse(this.seg,f)}},setMinimumLength:function(a){this.minimumLen=a},getConstrainedLength:function(a){return a<this.minimumLen?this.minimumLen:a},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return xf}}),xf.pointAlongReverse=function(a,b){var c=new n;return c.x=a.p1.x-b*(a.p1.x-a.p0.x),c.y=a.p1.y-b*(a.p1.y-a.p0.y),c},b(yf.prototype,{findSplitPoint:function(a,b){},interfaces_:function(){return[]},getClass:function(){return yf}}),b(zf.prototype,{findSplitPoint:function(a,b){var c=a.getLineSegment(),d=c.getLength(),e=d/2,f=new xf(c),g=zf.projectedSplitPoint(a,b),h=2*g.distance(b)*.8,i=h;return i>e&&(i=e),f.setMinimumLength(i),f.splitAt(g),f.getSplitPoint()},interfaces_:function(){return[yf]},getClass:function(){return zf}}),zf.projectedSplitPoint=function(a,b){return a.getLineSegment().project(b)},b(Af.prototype,{interfaces_:function(){return[]},getClass:function(){return Af}}),Af.triArea=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x)},Af.isInCircleDDNormalized=function(a,b,c,d){var e=G.valueOf(a.x).selfSubtract(d.x),f=G.valueOf(a.y).selfSubtract(d.y),g=G.valueOf(b.x).selfSubtract(d.x),h=G.valueOf(b.y).selfSubtract(d.y),i=G.valueOf(c.x).selfSubtract(d.x),j=G.valueOf(c.y).selfSubtract(d.y),k=e.multiply(h).selfSubtract(g.multiply(f)),l=g.multiply(j).selfSubtract(i.multiply(h)),m=i.multiply(f).selfSubtract(e.multiply(j)),n=e.multiply(e).selfAdd(f.multiply(f)),o=g.multiply(g).selfAdd(h.multiply(h)),p=i.multiply(i).selfAdd(j.multiply(j));return n.selfMultiply(l).selfAdd(o.selfMultiply(m)).selfAdd(p.selfMultiply(k)).doubleValue()>0},Af.checkRobustInCircle=function(a,b,c,d){var e=Af.isInCircleNonRobust(a,b,c,d),f=Af.isInCircleDDSlow(a,b,c,d),g=Af.isInCircleCC(a,b,c,d),h=wd.circumcentre(a,b,c);J.out.println("p radius diff a = "+Math.abs(d.distance(h)-a.distance(h))/a.distance(h)),e===f&&e===g||(J.out.println("inCircle robustness failure (double result = "+e+", DD result = "+f+", CC result = "+g+")"),J.out.println(eb.toLineString(new La([a,b,c,d]))),J.out.println("Circumcentre = "+eb.toPoint(h)+" radius = "+a.distance(h)),J.out.println("p radius diff a = "+Math.abs(d.distance(h)/a.distance(h)-1)),J.out.println("p radius diff b = "+Math.abs(d.distance(h)/b.distance(h)-1)),J.out.println("p radius diff c = "+Math.abs(d.distance(h)/c.distance(h)-1)),J.out.println())},Af.isInCircleDDFast=function(a,b,c,d){var e=G.sqr(a.x).selfAdd(G.sqr(a.y)).selfMultiply(Af.triAreaDDFast(b,c,d)),f=G.sqr(b.x).selfAdd(G.sqr(b.y)).selfMultiply(Af.triAreaDDFast(a,c,d)),g=G.sqr(c.x).selfAdd(G.sqr(c.y)).selfMultiply(Af.triAreaDDFast(a,b,d)),h=G.sqr(d.x).selfAdd(G.sqr(d.y)).selfMultiply(Af.triAreaDDFast(a,b,c));return e.selfSubtract(f).selfAdd(g).selfSubtract(h).doubleValue()>0},Af.isInCircleCC=function(a,b,c,d){var e=wd.circumcentre(a,b,c),f=a.distance(e);return d.distance(e)-f<=0},Af.isInCircleNormalized=function(a,b,c,d){var e=a.x-d.x,f=a.y-d.y,g=b.x-d.x,h=b.y-d.y,i=c.x-d.x,j=c.y-d.y;return(e*e+f*f)*(g*j-i*h)+(g*g+h*h)*(i*f-e*j)+(i*i+j*j)*(e*h-g*f)>0},Af.isInCircleDDSlow=function(a,b,c,d){var e=G.valueOf(d.x),f=G.valueOf(d.y),g=G.valueOf(a.x),h=G.valueOf(a.y),i=G.valueOf(b.x),j=G.valueOf(b.y),k=G.valueOf(c.x),l=G.valueOf(c.y),m=g.multiply(g).add(h.multiply(h)).multiply(Af.triAreaDDSlow(i,j,k,l,e,f)),n=i.multiply(i).add(j.multiply(j)).multiply(Af.triAreaDDSlow(g,h,k,l,e,f)),o=k.multiply(k).add(l.multiply(l)).multiply(Af.triAreaDDSlow(g,h,i,j,e,f)),p=e.multiply(e).add(f.multiply(f)).multiply(Af.triAreaDDSlow(g,h,i,j,k,l));return m.subtract(n).add(o).subtract(p).doubleValue()>0},Af.isInCircleNonRobust=function(a,b,c,d){return(a.x*a.x+a.y*a.y)*Af.triArea(b,c,d)-(b.x*b.x+b.y*b.y)*Af.triArea(a,c,d)+(c.x*c.x+c.y*c.y)*Af.triArea(a,b,d)-(d.x*d.x+d.y*d.y)*Af.triArea(a,b,c)>0},Af.isInCircleRobust=function(a,b,c,d){return Af.isInCircleNormalized(a,b,c,d)},Af.triAreaDDSlow=function(a,b,c,d,e,f){return c.subtract(a).multiply(f.subtract(b)).subtract(d.subtract(b).multiply(e.subtract(a)))},Af.triAreaDDFast=function(a,b,c){var d=G.valueOf(b.x).selfSubtract(a.x).selfMultiply(G.valueOf(c.y).selfSubtract(a.y)),e=G.valueOf(b.y).selfSubtract(a.y).selfMultiply(G.valueOf(c.x).selfSubtract(a.x));return d.selfSubtract(e)},b(Bf.prototype,{circleCenter:function(a,b){var c=new Bf(this.getX(),this.getY()),d=this.bisector(c,a),e=this.bisector(a,b),f=new K(d,e),g=null;try{g=new Bf(f.getX(),f.getY())}catch(d){if(!(d instanceof z))throw d;J.err.println("a: "+c+"  b: "+a+"  c: "+b),J.err.println(d)}return g},dot:function(a){return this.p.x*a.getX()+this.p.y*a.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(a,b){var c=b.getX()-a.getX(),d=b.getY()-a.getY();return new K(new K(a.getX()+c/2,a.getY()+d/2,1),new K(a.getX()-d+c/2,a.getY()+c+d/2,1))},equals:function(){if(1===arguments.length){var a=arguments[0];return this.p.x===a.getX()&&this.p.y===a.getY()}if(2===arguments.length){var b=arguments[0],c=arguments[1];return this.p.distance(b.getCoordinate())<c}},getCoordinate:function(){return this.p},isInCircle:function(a,b,c){return Af.isInCircleRobust(a.p,b.p,c.p,this.p)},interpolateZValue:function(a,b,c){var d=a.getX(),e=a.getY(),f=b.getX()-d,g=c.getX()-d,h=b.getY()-e,i=c.getY()-e,j=f*i-g*h,k=this.getX()-d,l=this.getY()-e,m=(i*k-g*l)/j,n=(-h*k+f*l)/j;return a.getZ()+m*(b.getZ()-a.getZ())+n*(c.getZ()-a.getZ())},midPoint:function(a){return new Bf((this.p.x+a.getX())/2,(this.p.y+a.getY())/2,(this.p.z+a.getZ())/2)},rightOf:function(a){return this.isCCW(a.dest(),a.orig())},isCCW:function(a,b){return(a.p.x-this.p.x)*(b.p.y-this.p.y)-(a.p.y-this.p.y)*(b.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(a){return this.p.x*a.getY()-this.p.y*a.getX()},setZ:function(a){this.p.z=a},times:function(a){return new Bf(a*this.p.x,a*this.p.y)},cross:function(){return new Bf(this.p.y,-this.p.x)},leftOf:function(a){return this.isCCW(a.orig(),a.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(a){return new Bf(this.p.x-a.getX(),this.p.y-a.getY())},getY:function(){return this.p.y},classify:function(a,b){var c=this,d=b.sub(a),e=c.sub(a),f=d.crossProduct(e);return f>0?Bf.LEFT:f<0?Bf.RIGHT:d.getX()*e.getX()<0||d.getY()*e.getY()<0?Bf.BEHIND:d.magn()<e.magn()?Bf.BEYOND:a.equals(c)?Bf.ORIGIN:b.equals(c)?Bf.DESTINATION:Bf.BETWEEN},sum:function(a){return new Bf(this.p.x+a.getX(),this.p.y+a.getY())},distance:function(a,b){return Math.sqrt(Math.pow(b.getX()-a.getX(),2)+Math.pow(b.getY()-a.getY(),2))},circumRadiusRatio:function(a,b){var c=this.circleCenter(a,b),d=this.distance(c,a),e=this.distance(this,a),f=this.distance(a,b);return f<e&&(e=f),f=this.distance(b,this),f<e&&(e=f),d/e},interfaces_:function(){return[]},getClass:function(){return Bf}}),Bf.interpolateZ=function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=b.distance(c),e=a.distance(b),f=c.z-b.z;return b.z+f*(e/d)}if(4===arguments.length){var g=arguments[0],h=arguments[1],i=arguments[2],j=arguments[3],k=h.x,l=h.y,m=i.x-k,n=j.x-k,o=i.y-l,p=j.y-l,q=m*p-n*o,r=g.x-k,s=g.y-l,t=(p*r-n*s)/q,u=(-o*r+m*s)/q;return h.z+t*(i.z-h.z)+u*(j.z-h.z)}},Bf.LEFT=0,Bf.RIGHT=1,Bf.BEYOND=2,Bf.BEHIND=3,Bf.BETWEEN=4,Bf.ORIGIN=5,Bf.DESTINATION=6,k(Cf,Bf),b(Cf.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(a){this._isOnConstraint=a},merge:function(a){a._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=a.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(a){this._isOnConstraint=!0,this.constraint=a},interfaces_:function(){return[]},getClass:function(){return Cf}}),b(Df.prototype,{equalsNonOriented:function(a){return!!this.equalsOriented(a)||!!this.equalsOriented(a.sym())},toLineSegment:function(){return new kb(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(a){return!(!this.orig().getCoordinate().equals2D(a.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(a.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(a){this.vertex=a},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(a){this.sym().setOrig(a)},setData:function(a){this.data=a},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var a=this.vertex.getCoordinate(),b=this.dest().getCoordinate();return eb.toLineString(a,b)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(a){this.next=a},interfaces_:function(){return[]},getClass:function(){return Df}}),Df.makeEdge=function(a,b){var c=new Df,d=new Df,e=new Df,f=new Df;c._rot=d,d._rot=e,e._rot=f,f._rot=c,c.setNext(c),d.setNext(f),e.setNext(e),f.setNext(d);var g=c;return g.setOrig(a),g.setDest(b),g},Df.swap=function(a){var b=a.oPrev(),c=a.sym().oPrev();Df.splice(a,b),Df.splice(a.sym(),c),Df.splice(a,b.lNext()),Df.splice(a.sym(),c.lNext()),a.setOrig(b.dest()),a.setDest(c.dest())},Df.splice=function(a,b){var c=a.oNext().rot(),d=b.oNext().rot(),e=b.oNext(),f=a.oNext(),g=d.oNext(),h=c.oNext();a.setNext(e),b.setNext(f),c.setNext(g),d.setNext(h)},Df.connect=function(a,b){var c=Df.makeEdge(a.dest(),b.orig());return Df.splice(c,a.lNext()),Df.splice(c.sym(),b),c},b(Ef.prototype,{insertSite:function(a){var b=this.subdiv.locate(a);if(this.subdiv.isVertexOfEdge(b,a))return b;this.subdiv.isOnEdge(b,a.getCoordinate())&&(b=b.oPrev(),this.subdiv.delete(b.oNext()));var c=this.subdiv.makeEdge(b.orig(),a);Df.splice(c,b);var d=c;do{c=this.subdiv.connect(b,c.sym()),b=c.oPrev()}while(b.lNext()!==d);for(;;){var e=b.oPrev();if(e.dest().rightOf(b)&&a.isInCircle(b.orig(),e.dest(),b.dest()))Df.swap(b),b=b.oPrev();else{if(b.oNext()===d)return c;b=b.oNext().lPrev()}}},insertSites:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.insertSite(c)}},interfaces_:function(){return[]},getClass:function(){return Ef}}),b(Ff.prototype,{locate:function(a){},interfaces_:function(){return[]},getClass:function(){return Ff}}),b(Gf.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(a){this.lastEdge.isLive()||this.init();var b=this.subdiv.locateFromEdge(a,this.lastEdge);return this.lastEdge=b,b},findEdge:function(){return this.subdiv.getEdges().iterator().next()},interfaces_:function(){return[Ff]},getClass:function(){return Gf}}),k(Hf,j),b(Hf.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return Hf}}),Hf.msgWithSpatial=function(a,b){return null!==b?a+" [ "+b+" ]":a},b(If.prototype,{visit:function(a){},interfaces_:function(){return[]},getClass:function(){return If}}),b(Jf.prototype,{getTriangleVertices:function(a){var b=new Mf;return this.visitTriangles(b,a),b.getTriangleVertices()},isFrameVertex:function(a){return!!a.equals(this.frameVertex[0])||!!a.equals(this.frameVertex[1])||!!a.equals(this.frameVertex[2])},isVertexOfEdge:function(a,b){return!(!b.equals(a.orig(),this.tolerance)&&!b.equals(a.dest(),this.tolerance))},connect:function(a,b){var c=Df.connect(a,b);return this.quadEdges.add(c),c},getVoronoiCellPolygon:function(a,b){var c=new v,d=a;do{var e=a.rot().orig().getCoordinate();c.add(e),a=a.oPrev()}while(a!==d);var f=new w;f.addAll(c,!1),f.closeRing(),f.size()<4&&(J.out.println(f),f.add(f.get(f.size()-1),!0));var g=f.toCoordinateArray(),h=b.createPolygon(b.createLinearRing(g),null),i=d.orig();return h.setUserData(i.getCoordinate()),h},setLocator:function(a){this.locator=a},initSubdiv:function(){var a=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),b=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);Df.splice(a.sym(),b);var c=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return Df.splice(b.sym(),c),Df.splice(c.sym(),a),a},isFrameBorderEdge:function(a){var b=new Array(3).fill(null);Jf.getTriangleEdges(a,b);var c=new Array(3).fill(null);Jf.getTriangleEdges(a.sym(),c);var d=a.lNext().dest();if(this.isFrameVertex(d))return!0
;var e=a.sym().lNext().dest();return!!this.isFrameVertex(e)},makeEdge:function(a,b){var c=Df.makeEdge(a,b);return this.quadEdges.add(c),c},visitTriangles:function(a,b){this.visitedKey++;var c=new ob;c.push(this.startingEdge);for(var d=new $;!c.empty();){var e=c.pop();if(!d.contains(e)){var f=this.fetchTriangleToVisit(e,c,b,d);null!==f&&a.visit(f)}}},isFrameEdge:function(a){return!(!this.isFrameVertex(a.orig())&&!this.isFrameVertex(a.dest()))},isOnEdge:function(a,b){return this.seg.setCoordinates(a.orig().getCoordinate(),a.dest().getCoordinate()),this.seg.distance(b)<this.edgeCoincidenceTolerance},getEnvelope:function(){return new x(this.frameEnv)},createFrame:function(a){var b=a.getWidth(),c=a.getHeight(),d=0;d=b>c?10*b:10*c,this.frameVertex[0]=new Bf((a.getMaxX()+a.getMinX())/2,a.getMaxY()+d),this.frameVertex[1]=new Bf(a.getMinX()-d,a.getMinY()-d),this.frameVertex[2]=new Bf(a.getMaxX()+d,a.getMinY()-d),this.frameEnv=new x(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(a){var b=new Nf;return this.visitTriangles(b,a),b.getTriangles()},getVertices:function(a){for(var b=new $,c=this.quadEdges.iterator();c.hasNext();){var d=c.next(),e=d.orig();!a&&this.isFrameVertex(e)||b.add(e);var f=d.dest();!a&&this.isFrameVertex(f)||b.add(f)}return b},fetchTriangleToVisit:function(a,b,c,d){var e=a,f=0,g=!1;do{this.triEdges[f]=e,this.isFrameEdge(e)&&(g=!0);var h=e.sym();d.contains(h)||b.push(h),d.add(e),f++,e=e.lNext()}while(e!==a);return g&&!c?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var a=arguments[0],b=this.getPrimaryEdges(!1),c=new Array(b.size()).fill(null),d=0,e=b.iterator();e.hasNext();){var f=e.next();c[d++]=a.createLineString([f.orig().getCoordinate(),f.dest().getCoordinate()])}return a.createMultiLineString(c)}},getVertexUniqueEdges:function(a){for(var b=new v,c=new $,d=this.quadEdges.iterator();d.hasNext();){var e=d.next(),f=e.orig();c.contains(f)||(c.add(f),!a&&this.isFrameVertex(f)||b.add(e));var g=e.sym(),h=g.orig();c.contains(h)||(c.add(h),!a&&this.isFrameVertex(h)||b.add(g))}return b},getTriangleEdges:function(a){var b=new Lf;return this.visitTriangles(b,a),b.getTriangleEdges()},getPrimaryEdges:function(a){this.visitedKey++;var b=new v,c=new ob;c.push(this.startingEdge);for(var d=new $;!c.empty();){var e=c.pop();if(!d.contains(e)){var f=e.getPrimary();!a&&this.isFrameEdge(f)||b.add(f),c.push(e.oNext()),c.push(e.sym().oNext()),d.add(e),d.add(e.sym())}}return b},delete:function(a){Df.splice(a,a.oPrev()),Df.splice(a.sym(),a.sym().oPrev());var b=a.sym(),c=a.rot(),d=a.rot().sym();this.quadEdges.remove(a),this.quadEdges.remove(b),this.quadEdges.remove(c),this.quadEdges.remove(d),a.delete(),b.delete(),c.delete(),d.delete()},locateFromEdge:function(a,b){for(var c=0,d=this.quadEdges.size(),e=b;;){if(++c>d)throw new Hf(e.toLineSegment());if(a.equals(e.orig())||a.equals(e.dest()))break;if(a.rightOf(e))e=e.sym();else if(a.rightOf(e.oNext())){if(a.rightOf(e.dPrev()))break;e=e.dPrev()}else e=e.oNext()}return e},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(a){this.visitTriangles(new Kf,!0);for(var b=new v,c=this.getVertexUniqueEdges(!1),d=c.iterator();d.hasNext();){var e=d.next();b.add(this.getVoronoiCellPolygon(e,a))}return b},getVoronoiDiagram:function(a){var b=this.getVoronoiCellPolygons(a);return a.createGeometryCollection(cb.toGeometryArray(b))},getTriangles:function(a){for(var b=this.getTriangleCoordinates(!1),c=new Array(b.size()).fill(null),d=0,e=b.iterator();e.hasNext();){var f=e.next();c[d++]=a.createPolygon(a.createLinearRing(f),null)}return a.createGeometryCollection(c)},insertSite:function(a){var b=this.locate(a);if(a.equals(b.orig(),this.tolerance)||a.equals(b.dest(),this.tolerance))return b;var c=this.makeEdge(b.orig(),a);Df.splice(c,b);var d=c;do{c=this.connect(b,c.sym()),b=c.oPrev()}while(b.lNext()!==d);return d},locate:function(){if(1===arguments.length){if(arguments[0]instanceof Bf){var a=arguments[0];return this.locator.locate(a)}if(arguments[0]instanceof n){var b=arguments[0];return this.locator.locate(new Bf(b))}}else if(2===arguments.length){var c=arguments[0],d=arguments[1],e=this.locator.locate(new Bf(c));if(null===e)return null;var f=e;e.dest().getCoordinate().equals2D(c)&&(f=e.sym());var g=f;do{if(g.dest().getCoordinate().equals2D(d))return g;g=g.oNext()}while(g!==f);return null}},interfaces_:function(){return[]},getClass:function(){return Jf}}),Jf.getTriangleEdges=function(a,b){if(b[0]=a,b[1]=b[0].lNext(),b[2]=b[1].lNext(),b[2].lNext()!==b[0])throw new d("Edges do not form a triangle")},b(Kf.prototype,{visit:function(a){for(var b=a[0].orig().getCoordinate(),c=a[1].orig().getCoordinate(),d=a[2].orig().getCoordinate(),e=wd.circumcentre(b,c,d),f=new Bf(e),g=0;g<3;g++)a[g].rot().setOrig(f)},interfaces_:function(){return[If]},getClass:function(){return Kf}}),b(Lf.prototype,{getTriangleEdges:function(){return this.triList},visit:function(a){this.triList.add(a.clone())},interfaces_:function(){return[If]},getClass:function(){return Lf}}),b(Mf.prototype,{visit:function(a){this.triList.add([a[0].orig(),a[1].orig(),a[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[If]},getClass:function(){return Mf}}),b(Nf.prototype,{checkTriangleSize:function(a){a.length>=2?eb.toLineString(a[0],a[1]):a.length>=1&&eb.toPoint(a[0])},visit:function(a){this.coordList.clear();for(var b=0;b<3;b++){var c=a[b].orig();this.coordList.add(c.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var d=this.coordList.toCoordinateArray();if(4!==d.length)return null;this.triCoords.add(d)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[If]},getClass:function(){return Nf}}),Jf.TriangleCircumcentreVisitor=Kf,Jf.TriangleEdgesListVisitor=Lf,Jf.TriangleVertexListVisitor=Mf,Jf.TriangleCoordinatesVisitor=Nf,Jf.EDGE_COINCIDENCE_TOL_FACTOR=1e3,b(Of.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){return this.ls.getCoordinate(1).z},getStartZ:function(){return this.ls.getCoordinate(0).z},intersection:function(a){return this.ls.intersection(a.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){return this.ls.getCoordinate(1).y},getStartX:function(){return this.ls.getCoordinate(0).x},equalsTopo:function(a){return this.ls.equalsTopo(a.getLineSegment())},getStartY:function(){return this.ls.getCoordinate(0).y},setData:function(a){this.data=a},getData:function(){return this.data},getEndX:function(){return this.ls.getCoordinate(1).x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return Of}}),b(Pf.prototype,{visit:function(a){},interfaces_:function(){return[]},getClass:function(){return Pf}}),b(Qf.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(a){this.left=a},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(a){this.right=a},interfaces_:function(){return[]},getClass:function(){return Qf}}),b(Rf.prototype,{insert:function(){if(1===arguments.length){var a=arguments[0];return this.insert(a,null)}if(2===arguments.length){var b=arguments[0],c=arguments[1];if(null===this.root)return this.root=new Qf(b,c),this.root;if(this.tolerance>0){var d=this.findBestMatchNode(b);if(null!==d)return d.increment(),d}return this.insertExact(b,c)}},query:function(){var a=arguments,b=this;if(1===arguments.length){var c=arguments[0],d=new v;return this.query(c,d),d}if(2===arguments.length)if(arguments[0]instanceof x&&B(arguments[1],s))!function(){var c=a[0],d=a[1];b.queryNode(b.root,c,!0,{interfaces_:function(){return[Pf]},visit:function(a){d.add(a)}})}();else if(arguments[0]instanceof x&&B(arguments[1],Pf)){var e=arguments[0],f=arguments[1];this.queryNode(this.root,e,!0,f)}},queryNode:function(a,b,c,d){if(null===a)return null;var e=null,f=null,g=null;c?(e=b.getMinX(),f=b.getMaxX(),g=a.getX()):(e=b.getMinY(),f=b.getMaxY(),g=a.getY());var h=e<g,i=g<=f;h&&this.queryNode(a.getLeft(),b,!c,d),b.contains(a.getCoordinate())&&d.visit(a),i&&this.queryNode(a.getRight(),b,!c,d)},findBestMatchNode:function(a){var b=new Sf(a,this.tolerance);return this.query(b.queryEnvelope(),b),b.getNode()},isEmpty:function(){return null===this.root},insertExact:function(a,b){for(var c=this.root,d=this.root,e=!0,f=!0;null!==c;){if(null!==c&&a.distance(c.getCoordinate())<=this.tolerance)return c.increment(),c;f=e?a.x<c.getX():a.y<c.getY(),d=c,c=f?c.getLeft():c.getRight(),e=!e}this.numberOfNodes=this.numberOfNodes+1;var g=new Qf(a,b);return f?d.setLeft(g):d.setRight(g),g},interfaces_:function(){return[]},getClass:function(){return Rf}}),Rf.toCoordinates=function(){if(1===arguments.length){var a=arguments[0];return Rf.toCoordinates(a,!1)}if(2===arguments.length){for(var b=arguments[0],c=arguments[1],d=new w,e=b.iterator();e.hasNext();)for(var f=e.next(),g=c?f.getCount():1,h=0;h<g;h++)d.add(f.getCoordinate(),!0);return d.toCoordinateArray()}},b(Sf.prototype,{visit:function(a){var b=this.p.distance(a.getCoordinate());if(!(b<=this.tolerance))return null;var c=!1;(null===this.matchNode||b<this.matchDist||null!==this.matchNode&&b===this.matchDist&&a.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(c=!0),c&&(this.matchNode=a,this.matchDist=b)},queryEnvelope:function(){var a=new x(this.p);return a.expandBy(this.tolerance),a},getNode:function(){return this.matchNode},interfaces_:function(){return[Pf]},getClass:function(){return Sf}}),Rf.BestMatchVisitor=Sf,b(Tf.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var a=0,b=0;do{b=this.enforceGabriel(this.segments),a++}while(b>0&&a<Tf.MAX_SPLIT_ITER)},insertSites:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.insertSite(c)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var a=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),b=0,c=this.initialVertices.iterator();c.hasNext();){var d=c.next();a[b++]=d.getCoordinate()}for(var e=this.segVertices.iterator();e.hasNext();){var d=e.next();a[b++]=d.getCoordinate()}return a},setConstraints:function(a,b){this.segments=a,this.segVertices=b},computeConvexHull:function(){var a=new cb,b=this.getPointArray(),c=new qb(b,a);this.convexHull=c.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(a){var b=a.getStart(),c=a.getEnd(),d=new n((b.x+c.x)/2,(b.y+c.y)/2),f=b.distance(d),g=new x(d);g.expandBy(f);for(var h=this.kdt.query(g),i=null,j=e.MAX_VALUE,k=h.iterator();k.hasNext();){var l=k.next(),m=l.getCoordinate();if(!m.equals2D(b)&&!m.equals2D(c)){var o=d.distance(m);if(o<f){var p=o;(null===i||p<j)&&(i=m,j=p)}}}return i},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(a){this.splitFinder=a},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(a){for(var b=new v,c=0,d=new v,e=a.iterator();e.hasNext();){var f=e.next(),g=this.findNonGabrielPoint(f);if(null!==g){this.splitPt=this.splitFinder.findSplitPoint(f,g);var h=this.createVertex(this.splitPt,f),i=(this.insertSite(h),new Of(f.getStartX(),f.getStartY(),f.getStartZ(),h.getX(),h.getY(),h.getZ(),f.getData())),j=new Of(h.getX(),h.getY(),h.getZ(),f.getEndX(),f.getEndY(),f.getEndZ(),f.getData());b.add(i),b.add(j),d.add(f),c+=1}}return a.removeAll(d),a.addAll(b),c},createVertex:function(){if(1===arguments.length){var a=arguments[0],b=null;return b=null!==this.vertexFactory?this.vertexFactory.createVertex(a,null):new Cf(a)}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=null;return b=null!==this.vertexFactory?this.vertexFactory.createVertex(c,d):new Cf(c),b.setOnConstraint(!0),b}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var a=Tf.computeVertexEnvelope(this.initialVertices),b=Tf.computeVertexEnvelope(this.segVertices),c=new x(a);c.expandToInclude(b);var d=.2*c.getWidth(),e=.2*c.getHeight(),f=Math.max(d,e);this.computeAreaEnv=new x(c),this.computeAreaEnv.expandBy(f)},setVertexFactory:function(a){this.vertexFactory=a},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new Jf(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new Gf(this.subdiv)),this.incDel=new Ef(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof Cf){var a=arguments[0],b=this.kdt.insert(a.getCoordinate(),a);if(b.isRepeated()){var c=b.getData();return c.merge(a),c}return this.incDel.insertSite(a),a}if(arguments[0]instanceof n){var d=arguments[0];this.insertSite(this.createVertex(d))}},interfaces_:function(){return[]},getClass:function(){return Tf}}),Tf.computeVertexEnvelope=function(a){for(var b=new x,c=a.iterator();c.hasNext();){var d=c.next();b.expandToInclude(d.getCoordinate())}return b},Tf.MAX_SPLIT_ITER=99,b(Uf.prototype,{create:function(){if(null!==this.subdiv)return null;var a=Uf.envelope(this.siteCoords),b=Uf.toVertices(this.siteCoords);this.subdiv=new Jf(a,this.tolerance),new Ef(this.subdiv).insertSites(b)},setTolerance:function(a){this.tolerance=a},setSites:function(){if(arguments[0]instanceof N){var a=arguments[0];this.siteCoords=Uf.extractUniqueCoordinates(a)}else if(B(arguments[0],q)){var b=arguments[0];this.siteCoords=Uf.unique(U.toCoordinateArray(b))}},getEdges:function(a){return this.create(),this.subdiv.getEdges(a)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(a){return this.create(),this.subdiv.getTriangles(a)},interfaces_:function(){return[]},getClass:function(){return Uf}}),Uf.extractUniqueCoordinates=function(a){if(null===a)return new w;var b=a.getCoordinates();return Uf.unique(b)},Uf.envelope=function(a){for(var b=new x,c=a.iterator();c.hasNext();){var d=c.next();b.expandToInclude(d)}return b},Uf.unique=function(a){var b=U.copyDeep(a);return ia.sort(b),new w(b,!1)},Uf.toVertices=function(a){for(var b=new v,c=a.iterator();c.hasNext();){var d=c.next();b.add(new Bf(d))}return b},b(Vf.prototype,{createSiteVertices:function(a){for(var b=new v,c=a.iterator();c.hasNext();){var d=c.next();this.constraintVertexMap.containsKey(d)||b.add(new Cf(d))}return b},create:function(){if(null!==this.subdiv)return null;var a=Uf.envelope(this.siteCoords),b=new v;null!==this.constraintLines&&(a.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),b=Vf.createConstraintSegments(this.constraintLines));var c=this.createSiteVertices(this.siteCoords),d=new Tf(c,this.tolerance);d.setConstraints(b,new v(this.constraintVertexMap.values())),d.formInitialDelaunay(),d.enforceConstraints(),this.subdiv=d.getSubdivision()},setTolerance:function(a){this.tolerance=a},setConstraints:function(a){this.constraintLines=a},setSites:function(a){this.siteCoords=Uf.extractUniqueCoordinates(a)},getEdges:function(a){return this.create(),this.subdiv.getEdges(a)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(a){return this.create(),this.subdiv.getTriangles(a)},createVertices:function(a){for(var b=a.getCoordinates(),c=0;c<b.length;c++){var d=new Cf(b[c]);this.constraintVertexMap.put(b[c],d)}},interfaces_:function(){return[]},getClass:function(){return Vf}}),Vf.createConstraintSegments=function(){if(1===arguments.length){for(var a=arguments[0],b=Oc.getLines(a),c=new v,d=b.iterator();d.hasNext();){var e=d.next();Vf.createConstraintSegments(e,c)}return c}if(2===arguments.length)for(var f=arguments[0],g=arguments[1],h=f.getCoordinates(),d=1;d<h.length;d++)g.add(new Of(h[d-1],h[d]))},b(Wf.prototype,{create:function(){if(null!==this.subdiv)return null;var a=Uf.envelope(this.siteCoords);this.diagramEnv=a;var b=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(b),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var c=Uf.toVertices(this.siteCoords);this.subdiv=new Jf(a,this.tolerance),new Ef(this.subdiv).insertSites(c)},getDiagram:function(a){this.create();var b=this.subdiv.getVoronoiDiagram(a);return Wf.clipGeometryCollection(b,this.diagramEnv)},setTolerance:function(a){this.tolerance=a},setSites:function(){if(arguments[0]instanceof N){var a=arguments[0];this.siteCoords=Uf.extractUniqueCoordinates(a)}else if(B(arguments[0],q)){var b=arguments[0];this.siteCoords=Uf.unique(U.toCoordinateArray(b))}},setClipEnvelope:function(a){this.clipEnv=a},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return Wf}}),Wf.clipGeometryCollection=function(a,b){for(var c=a.getFactory().toGeometry(b),d=new v,e=0;e<a.getNumGeometries();e++){var f=a.getGeometryN(e),g=null;b.contains(f.getEnvelopeInternal())?g=f:b.intersects(f.getEnvelopeInternal())&&(g=c.intersection(f),g.setUserData(f.getUserData())),null===g||g.isEmpty()||d.add(g)}return a.getFactory().createGeometryCollection(cb.toGeometryArray(d))};var Gg=Object.freeze({Vertex:Bf}),Hg=Object.freeze({ConformingDelaunayTriangulationBuilder:Vf,DelaunayTriangulationBuilder:Uf,VoronoiDiagramBuilder:Wf,quadedge:Gg});b(Xf.prototype,{interfaces_:function(){return[]},getClass:function(){return Xf}}),Xf.union=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&b.isEmpty())return bd.createEmptyResult(bd.UNION,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),dd.overlayOp(a,b,bd.UNION)},b(N.prototype,{equalsTopo:function(a){return!!this.getEnvelopeInternal().equals(a.getEnvelopeInternal())&&cf.relate(this,a).isEquals(this.getDimension(),a.getDimension())},union:function(){if(0===arguments.length)return hf.union(this);if(1===arguments.length){var a=arguments[0];return Xf.union(this,a)}},isValid:function(){return Qe.isValid(this)},intersection:function(a){if(this.isEmpty()||a.isEmpty())return bd.createEmptyResult(bd.INTERSECTION,this,a,this.factory);if(this.isGeometryCollection()){var b=a;return ic.map(this,{interfaces_:function(){return[MapOp]},map:function(a){return a.intersection(b)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(a),dd.overlayOp(this,a,bd.INTERSECTION)},covers:function(a){return cf.covers(this,a)},coveredBy:function(a){return cf.coveredBy(this,a)},touches:function(a){return cf.touches(this,a)},intersects:function(a){return cf.intersects(this,a)},within:function(a){return cf.within(this,a)},overlaps:function(a){return cf.overlaps(this,a)},disjoint:function(a){return cf.disjoint(this,a)},crosses:function(a){return cf.crosses(this,a)},buffer:function(){if(1===arguments.length){var a=arguments[0];return me.bufferOp(this,a)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return me.bufferOp(this,b,c)}if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];return me.bufferOp(this,d,e,f)}},convexHull:function(){return new qb(this).getConvexHull()},relate:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return cf.relate.apply(cf,[this].concat(b))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var a=mb.getCentroid(this);return this.createPointFromInternalCoord(a,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var a=null,b=this.getDimension();if(0===b){var c=new hd(this);a=c.getInteriorPoint()}else if(1===b){var c=new gd(this);a=c.getInteriorPoint()}else{var c=new ed(this);a=c.getInteriorPoint()}return this.createPointFromInternalCoord(a,this)},symDifference:function(a){if(this.isEmpty()||a.isEmpty()){if(this.isEmpty()&&a.isEmpty())return bd.createEmptyResult(bd.SYMDIFFERENCE,this,a,this.factory);if(this.isEmpty())return a.copy();if(a.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(a),dd.overlayOp(this,a,bd.SYMDIFFERENCE)},createPointFromInternalCoord:function(a,b){return b.getPrecisionModel().makePrecise(a),b.getFactory().createPoint(a)},toText:function(){return(new eb).write(this)},toString:function(){this.toText()},contains:function(a){return cf.contains(this,a)},difference:function(a){return this.isEmpty()?bd.createEmptyResult(bd.DIFFERENCE,this,a,this.factory):a.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(a),dd.overlayOp(this,a,bd.DIFFERENCE))},isSimple:function(){return new Td(this).isSimple()},isWithinDistance:function(a,b){return!(this.getEnvelopeInternal().distance(a.getEnvelopeInternal())>b)&&re.isWithinDistance(this,a,b)},distance:function(a){return re.distance(this,a)},isEquivalentClass:function(a){return this.getClass()===a.getClass()}}),a.version="1.3.0 (6e65adb)",a.algorithm=jg,a.densify=kg,a.dissolve=lg,a.geom=hg,a.geomgraph=mg,a.index=pg,a.io=tg,a.noding=ug,a.operation=Dg,a.precision=Eg,a.simplify=Fg,a.triangulate=Hg,Object.defineProperty(a,"__esModule",{value:!0})})},{}],40:[function(a,b,c){!function(){function a(a){for(var b=[],c=[],d=0;d<a[0].length;d++)b.push(a[0][d][1]),c.push(a[0][d][0]);return b=b.sort(function(a,b){return a-b}),c=c.sort(function(a,b){return a-b}),[[b[0],c[0]],[b[b.length-1],c[c.length-1]]]}function c(a,b,c){for(var d=[[0,0]],e=0;e<c.length;e++){for(var f=0;f<c[e].length;f++)d.push(c[e][f]);d.push(c[e][0]),d.push([0,0])}for(var g=!1,e=0,f=d.length-1;e<d.length;f=e++)d[e][0]>b!=d[f][0]>b&&a<(d[f][1]-d[e][1])*(b-d[e][0])/(d[f][0]-d[e][0])+d[e][1]&&(g=!g);return g}var d=this.gju={};void 0!==b&&b.exports&&(b.exports=d),d.lineStringsIntersect=function(a,b){for(var c=[],d=0;d<=a.coordinates.length-2;++d)for(var e=0;e<=b.coordinates.length-2;++e){var f={x:a.coordinates[d][1],y:a.coordinates[d][0]},g={x:a.coordinates[d+1][1],y:a.coordinates[d+1][0]},h={x:b.coordinates[e][1],y:b.coordinates[e][0]},i={x:b.coordinates[e+1][1],y:b.coordinates[e+1][0]},j=(i.x-h.x)*(f.y-h.y)-(i.y-h.y)*(f.x-h.x),k=(g.x-f.x)*(f.y-h.y)-(g.y-f.y)*(f.x-h.x),l=(i.y-h.y)*(g.x-f.x)-(i.x-h.x)*(g.y-f.y);if(0!=l){var m=j/l,n=k/l;0<=m&&m<=1&&0<=n&&n<=1&&c.push({type:"Point",coordinates:[f.x+m*(g.x-f.x),f.y+m*(g.y-f.y)]})}}return 0==c.length&&(c=!1),c},d.pointInBoundingBox=function(a,b){return!(a.coordinates[1]<b[0][0]||a.coordinates[1]>b[1][0]||a.coordinates[0]<b[0][1]||a.coordinates[0]>b[1][1])},d.pointInPolygon=function(b,e){for(var f="Polygon"==e.type?[e.coordinates]:e.coordinates,g=!1,h=0;h<f.length;h++)d.pointInBoundingBox(b,a(f[h]))&&(g=!0);if(!g)return!1;for(var i=!1,h=0;h<f.length;h++)c(b.coordinates[1],b.coordinates[0],f[h])&&(i=!0);return i},d.pointInMultiPolygon=function(b,e){for(var f="MultiPolygon"==e.type?[e.coordinates]:e.coordinates,g=!1,h=!1,i=0;i<f.length;i++){for(var j=f[i],k=0;k<j.length;k++)g||d.pointInBoundingBox(b,a(j[k]))&&(g=!0);if(!g)return!1;for(var k=0;k<j.length;k++)h||c(b.coordinates[1],b.coordinates[0],j[k])&&(h=!0)}return h},d.numberToRadius=function(a){return a*Math.PI/180},d.numberToDegree=function(a){return 180*a/Math.PI},d.drawCircle=function(a,b,c){for(var e=[b.coordinates[1],b.coordinates[0]],f=a/1e3/6371,g=[d.numberToRadius(e[0]),d.numberToRadius(e[1])],c=c||15,h=[[e[0],e[1]]],i=0;i<c;i++){var j=2*Math.PI*i/c,k=Math.asin(Math.sin(g[0])*Math.cos(f)+Math.cos(g[0])*Math.sin(f)*Math.cos(j)),l=g[1]+Math.atan2(Math.sin(j)*Math.sin(f)*Math.cos(g[0]),Math.cos(f)-Math.sin(g[0])*Math.sin(k));h[i]=[],h[i][1]=d.numberToDegree(k),h[i][0]=d.numberToDegree(l)}return{type:"Polygon",coordinates:[h]}},d.rectangleCentroid=function(a){var b=a.coordinates[0],c=b[0][0],d=b[0][1];return{type:"Point",coordinates:[c+(b[2][0]-c)/2,d+(b[2][1]-d)/2]}},d.pointDistance=function(a,b){var c=a.coordinates[0],e=a.coordinates[1],f=b.coordinates[0],g=b.coordinates[1],h=d.numberToRadius(g-e),i=d.numberToRadius(f-c),j=Math.pow(Math.sin(h/2),2)+Math.cos(d.numberToRadius(e))*Math.cos(d.numberToRadius(g))*Math.pow(Math.sin(i/2),2);return 2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j))*6371*1e3},d.geometryWithinRadius=function(a,b,c){if("Point"==a.type)return d.pointDistance(a,b)<=c;if("LineString"==a.type||"Polygon"==a.type){var e,f={};e="Polygon"==a.type?a.coordinates[0]:a.coordinates;for(var g in e)if(f.coordinates=e[g],d.pointDistance(f,b)>c)return!1}return!0},d.area=function(a){for(var b,c,d=0,e=a.coordinates[0],f=e.length-1,g=0;g<e.length;f=g++){var b={x:e[g][1],y:e[g][0]},c={x:e[f][1],y:e[f][0]};d+=b.x*c.y,d-=b.y*c.x}return d/=2},d.centroid=function(a){for(var b,c,e,f=0,g=0,h=a.coordinates[0],i=h.length-1,j=0;j<h.length;i=j++){var c={x:h[j][1],y:h[j][0]},e={x:h[i][1],y:h[i][0]};b=c.x*e.y-e.x*c.y,f+=(c.x+e.x)*b,g+=(c.y+e.y)*b}return b=6*d.area(a),{type:"Point",coordinates:[g/b,f/b]}},d.simplify=function(a,b){b=b||20,a=a.map(function(a){return{lng:a.coordinates[0],lat:a.coordinates[1]}});var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=Math.PI/180*.5,w=new Array,x=new Array,y=new Array;if(a.length<3)return a;for(c=a.length,l=360*b/(2*Math.PI*6378137),l*=l,e=0,x[0]=0,y[0]=c-1,d=1;d>0;)if(f=x[d-1],g=y[d-1],d--,g-f>1){for(m=a[g].lng()-a[f].lng(),n=a[g].lat()-a[f].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),m*=Math.cos(v*(a[g].lat()+a[f].lat())),o=m*m+n*n,h=f+1,i=f,k=-1;h<g;h++)p=a[h].lng()-a[f].lng(),q=a[h].lat()-a[f].lat(),Math.abs(p)>180&&(p=360-Math.abs(p)),p*=Math.cos(v*(a[h].lat()+a[f].lat())),r=p*p+q*q,s=a[h].lng()-a[g].lng(),t=a[h].lat()-a[g].lat(),Math.abs(s)>180&&(s=360-Math.abs(s)),s*=Math.cos(v*(a[h].lat()+a[g].lat())),u=s*s+t*t,(j=r>=o+u?u:u>=o+r?r:(p*n-q*m)*(p*n-q*m)/o)>k&&(i=h,k=j);k<l?(w[e]=f,e++):(d++,x[d-1]=i,y[d-1]=g,d++,x[d-1]=f,y[d-1]=i)}else w[e]=f,e++;w[e]=c-1,e++;for(var z=new Array,h=0;h<e;h++)z.push(a[w[h]]);return z.map(function(a){return{type:"Point",coordinates:[a.lng,a.lat]}})},d.destinationPoint=function(a,b,c){c/=6371,b=d.numberToRadius(b);var e=d.numberToRadius(a.coordinates[0]),f=d.numberToRadius(a.coordinates[1]),g=Math.asin(Math.sin(f)*Math.cos(c)+Math.cos(f)*Math.sin(c)*Math.cos(b)),h=e+Math.atan2(Math.sin(b)*Math.sin(c)*Math.cos(f),Math.cos(c)-Math.sin(f)*Math.sin(g));return h=(h+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[d.numberToDegree(h),d.numberToDegree(g)]}}}()},{}],41:[function(a,b,c){"use strict";function d(a,b,c){var d,e;if(!Array.isArray(b))throw new Error("Get closest expects an array as second argument");return b.forEach(function(b,f){var g=c(b,a);g>=0&&(void 0===e||g<e)&&(e=g,d=f)}),d}b.exports={number:function(a,b){return d(a,b,function(a,b){return Math.abs(a-b)})},greaterNumber:function(a,b){return d(a,b,function(a,b){return a-b})},lowerNumber:function(a,b){return d(a,b,function(a,b){return b-a})},custom:function(a,b,c){return d(a,b,c)}}},{}],42:[function(a,b,c){"use strict";function d(a,b,c,g,h){for(c=c||0,g=g||a.length-1,h=h||f;g>c;){if(g-c>600){var i=g-c+1,j=b-c+1,k=Math.log(i),l=.5*Math.exp(2*k/3),m=.5*Math.sqrt(k*l*(i-l)/i)*(j-i/2<0?-1:1);d(a,b,Math.max(c,Math.floor(b-j*l/i+m)),Math.min(g,Math.floor(b+(i-j)*l/i+m)),h)}var n=a[b],o=c,p=g;for(e(a,c,b),h(a[g],n)>0&&e(a,c,g);o<p;){for(e(a,o,p),o++,p--;h(a[o],n)<0;)o++;for(;h(a[p],n)>0;)p--}0===h(a[c],n)?e(a,c,p):(p++,e(a,p,g)),p<=b&&(c=p+1),b<=p&&(g=p-1)}}function e(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function f(a,b){return a<b?-1:a>b?1:0}b.exports=d},{}],43:[function(a,b,c){"use strict";function d(a,b){if(!(this instanceof d))return new d(a,b);this._maxEntries=Math.max(4,a||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),b&&this._initFormat(b),this.clear()}function e(a,b,c){if(!c)return b.indexOf(a);for(var d=0;d<b.length;d++)if(c(a,b[d]))return d;return-1}function f(a,b){g(a,0,a.children.length,b,a)}function g(a,b,c,d,e){e||(e=q(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var f,g=b;g<c;g++)f=a.children[g],h(e,a.leaf?d(f):f);return e}function h(a,b){return a.minX=Math.min(a.minX,b.minX),a.minY=Math.min(a.minY,b.minY),a.maxX=Math.max(a.maxX,b.maxX),a.maxY=Math.max(a.maxY,b.maxY),a}function i(a,b){return a.minX-b.minX}function j(a,b){return a.minY-b.minY}function k(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function l(a){return a.maxX-a.minX+(a.maxY-a.minY)}function m(a,b){return(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))}function n(a,b){var c=Math.max(a.minX,b.minX),d=Math.max(a.minY,b.minY),e=Math.min(a.maxX,b.maxX),f=Math.min(a.maxY,b.maxY);return Math.max(0,e-c)*Math.max(0,f-d)}function o(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function p(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function q(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function r(a,b,c,d,e){for(var f,g=[b,c];g.length;)c=g.pop(),b=g.pop(),c-b<=d||(f=b+Math.ceil((c-b)/d/2)*d,s(a,f,b,c,e),g.push(b,f,f,c))}b.exports=d;var s=a("quickselect");d.prototype={all:function(){return this._all(this.data,[])},search:function(a){var b=this.data,c=[],d=this.toBBox;if(!p(a,b))return c;for(var e,f,g,h,i=[];b;){for(e=0,f=b.children.length;e<f;e++)g=b.children[e],h=b.leaf?d(g):g,p(a,h)&&(b.leaf?c.push(g):o(a,h)?this._all(g,c):i.push(g));b=i.pop()}return c},collides:function(a){var b=this.data,c=this.toBBox;if(!p(a,b))return!1;for(var d,e,f,g,h=[];b;){for(d=0,e=b.children.length;d<e;d++)if(f=b.children[d],g=b.leaf?c(f):f,p(a,g)){if(b.leaf||o(a,g))return!0;h.push(f)}b=h.pop()}return!1},load:function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}var d=this._build(a.slice(),0,a.length-1,0);if(this.data.children.length)if(this.data.height===d.height)this._splitRoot(this.data,d);else{if(this.data.height<d.height){var e=this.data;this.data=d,d=e}this._insert(d,this.data.height-d.height-1,!0)}else this.data=d;return this},insert:function(a){return a&&this._insert(a,this.data.height-1),this},clear:function(){return this.data=q([]),this},remove:function(a,b){if(!a)return this;for(var c,d,f,g,h=this.data,i=this.toBBox(a),j=[],k=[];h||j.length;){if(h||(h=j.pop(),d=j[j.length-1],c=k.pop(),g=!0),h.leaf&&-1!==(f=e(a,h.children,b)))return h.children.splice(f,1),j.push(h),this._condense(j),this;g||h.leaf||!o(h,i)?d?(c++,h=d.children[c],g=!1):h=null:(j.push(h),k.push(c),c=0,d=h,h=h.children[0])}return this},toBBox:function(a){return a},compareMinX:i,compareMinY:j,toJSON:function(){return this.data},fromJSON:function(a){return this.data=a,this},_all:function(a,b){for(var c=[];a;)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function(a,b,c,d){var e,g=c-b+1,h=this._maxEntries;if(g<=h)return e=q(a.slice(b,c+1)),f(e,this.toBBox),e;d||(d=Math.ceil(Math.log(g)/Math.log(h)),h=Math.ceil(g/Math.pow(h,d-1))),e=q([]),e.leaf=!1,e.height=d;var i,j,k,l,m=Math.ceil(g/h),n=m*Math.ceil(Math.sqrt(h));for(r(a,b,c,n,this.compareMinX),i=b;i<=c;i+=n)for(k=Math.min(i+n-1,c),r(a,i,k,m,this.compareMinY),j=i;j<=k;j+=m)l=Math.min(j+m-1,k),e.children.push(this._build(a,j,l,d-1));return f(e,this.toBBox),e},_chooseSubtree:function(a,b,c,d){for(var e,f,g,h,i,j,l,n;d.push(b),!b.leaf&&d.length-1!==c;){for(l=n=1/0,e=0,f=b.children.length;e<f;e++)g=b.children[e],i=k(g),j=m(a,g)-i,j<n?(n=j,l=i<l?i:l,h=g):j===n&&i<l&&(l=i,h=g);b=h||b.children[0]}return b},_insert:function(a,b,c){var d=this.toBBox,e=c?a:d(a),f=[],g=this._chooseSubtree(e,this.data,b,f);for(g.children.push(a),h(g,e);b>=0&&f[b].children.length>this._maxEntries;)this._split(f,b),b--;this._adjustParentBBoxes(e,f,b)},_split:function(a,b){var c=a[b],d=c.children.length,e=this._minEntries;this._chooseSplitAxis(c,e,d)
;var g=this._chooseSplitIndex(c,e,d),h=q(c.children.splice(g,c.children.length-g));h.height=c.height,h.leaf=c.leaf,f(c,this.toBBox),f(h,this.toBBox),b?a[b-1].children.push(h):this._splitRoot(c,h)},_splitRoot:function(a,b){this.data=q([a,b]),this.data.height=a.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},_chooseSplitIndex:function(a,b,c){var d,e,f,h,i,j,l,m;for(j=l=1/0,d=b;d<=c-b;d++)e=g(a,0,d,this.toBBox),f=g(a,d,c,this.toBBox),h=n(e,f),i=k(e)+k(f),h<j?(j=h,m=d,l=i<l?i:l):h===j&&i<l&&(l=i,m=d);return m},_chooseSplitAxis:function(a,b,c){var d=a.leaf?this.compareMinX:i,e=a.leaf?this.compareMinY:j;this._allDistMargin(a,b,c,d)<this._allDistMargin(a,b,c,e)&&a.children.sort(d)},_allDistMargin:function(a,b,c,d){a.children.sort(d);var e,f,i=this.toBBox,j=g(a,0,b,i),k=g(a,c-b,c,i),m=l(j)+l(k);for(e=b;e<c-b;e++)f=a.children[e],h(j,a.leaf?i(f):f),m+=l(j);for(e=c-b-1;e>=b;e--)f=a.children[e],h(k,a.leaf?i(f):f),m+=l(k);return m},_adjustParentBBoxes:function(a,b,c){for(var d=c;d>=0;d--)h(b[d],a)},_condense:function(a){for(var b,c=a.length-1;c>=0;c--)0===a[c].children.length?c>0?(b=a[c-1].children,b.splice(b.indexOf(a[c]),1)):this.clear():f(a[c],this.toBBox)},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0])),this.compareMinY=new Function("a","b",b.join(a[1])),this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}}},{quickselect:42}],44:[function(a,b,c){b.exports=function(a){for(var b,c,d=0,e=1,f=a.length;e<f;)b=c||a[0],c=a[e],d+=(c[0]-b[0])*(c[1]+b[1]),e++;return d>0}},{}],45:[function(a,b,c){function d(a,b){var c=a[0],d=a[1],e=b[0],f=b[1];return g([c,e,f,c])!=g([d,e,f,d])&&g([c,d,e,c])!=g([c,d,f,c])}function e(a,b){for(var c=0;c<a.length-1;c++)for(var e=[a[c],a[c+1]],f=0;f<b.length-1;f++){var g=[b[f],b[f+1]];if(d(e,g))return!0}return!1}function f(a){var b=[[[]]];switch(a.geometry.type){case"LineString":b=[[a.geometry.coordinates]];break;case"Polygon":b=[a.geometry.coordinates];break;case"MultiPolygon":b=a.geometry.coordinates}return b}var g=a("turf-is-clockwise");b.exports=function(a,b){var c=f(a),d=f(b);return c.some(function(a){return d.some(function(b){return a.some(function(a){return b.some(function(b){return e(a,b)})})})})}},{"turf-is-clockwise":44}],46:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],47:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],48:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],49:[function(a,b,c){function d(a){if("Feature"===a.type&&"Polygon"===a.geometry.type){var c=[];e(a,function(a){c.push(a)});var d,j,k,l,m,n,o,p,q=f(a),r=q.geometry.coordinates,s=0,t=0,u=0,v=c.map(function(a){return[a[0]-r[0],a[1]-r[1]]});for(d=0;d<c.length-1;d++)j=v[d],l=j[0],n=j[1],k=v[d+1],m=k[0],o=k[1],p=l*o-m*n,u+=p,s+=(l+m)*p,t+=(n+o)*p;if(0===u)return q;var w=.5*u,x=1/(6*w);return i([r[0]+x*s,r[1]+x*t])}var y=g(h(a));return y?b.exports(y):f(a)}var e=a("@turf/meta").coordEach,f=a("@turf/centroid"),g=a("@turf/convex"),h=a("@turf/explode"),i=a("@turf/helpers").point;b.exports=d},{"@turf/centroid":50,"@turf/convex":53,"@turf/explode":72,"@turf/helpers":75,"@turf/meta":76}],50:[function(a,b,c){var d=a("@turf/meta").coordEach,e=a("@turf/helpers").point;b.exports=function(a){var b=0,c=0,f=0;return d(a,function(a){b+=a[0],c+=a[1],f++},!0),e([b/f,c/f])}},{"@turf/helpers":51,"@turf/meta":52}],51:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],52:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],53:[function(a,b,c){var d=a("@turf/meta").coordEach,e=a("convex-hull"),f=a("@turf/helpers").polygon;b.exports=function(a){var b=[];d(a,function(a){b.push([a[0],a[1]])});var c=e(b);if(c.length>=3){for(var g=[],h=0;h<c.length;h++)g.push(b[c[h][0]]);return g.push(b[c[c.length-1][1]]),f([g])}}},{"@turf/helpers":54,"@turf/meta":55,"convex-hull":58}],54:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],55:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],56:[function(a,b,c){"use strict";function d(a,b){for(var c=new Array(b+1),d=0;d<a.length;++d)c[d]=a[d];for(var d=0;d<=a.length;++d){for(var e=a.length;e<=b;++e){for(var g=new Array(b),h=0;h<b;++h)g[h]=Math.pow(e+1-d,h);c[e]=g}if(f.apply(void 0,c))return!0}return!1}function e(a){var b=a.length;if(0===b)return[];if(1===b)return[0];for(var c=a[0].length,e=[a[0]],f=[0],g=1;g<b;++g)if(e.push(a[g]),d(e,c)){if(f.push(g),f.length===c+1)return f}else e.pop();return f}b.exports=e;var f=a("robust-orientation")},{"robust-orientation":64}],57:[function(a,b,c){"use strict";"use restrict";function d(a){var b=32;return a&=-a,a&&b--,65535&a&&(b-=16),16711935&a&&(b-=8),252645135&a&&(b-=4),858993459&a&&(b-=2),1431655765&a&&(b-=1),b}c.INT_BITS=32,c.INT_MAX=2147483647,c.INT_MIN=-1<<31,c.sign=function(a){return(a>0)-(a<0)},c.abs=function(a){var b=a>>31;return(a^b)-b},c.min=function(a,b){return b^(a^b)&-(a<b)},c.max=function(a,b){return a^(a^b)&-(a<b)},c.isPow2=function(a){return!(a&a-1||!a)},c.log2=function(a){var b,c;return b=(a>65535)<<4,a>>>=b,c=(a>255)<<3,a>>>=c,b|=c,c=(a>15)<<2,a>>>=c,b|=c,c=(a>3)<<1,a>>>=c,(b|=c)|a>>1},c.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},c.popCount=function(a){return a-=a>>>1&1431655765,16843009*((a=(858993459&a)+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},c.countTrailingZeros=d,c.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,1+(a|=a>>>16)},c.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},c.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var e=new Array(256);!function(a){for(var b=0;b<256;++b){var c=b,d=b,e=7;for(c>>>=1;c;c>>>=1)d<<=1,d|=1&c,--e;a[b]=d<<e&255}}(e),c.reverse=function(a){return e[255&a]<<24|e[a>>>8&255]<<16|e[a>>>16&255]<<8|e[a>>>24&255]},c.interleave2=function(a,b){return a&=65535,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b&=65535,b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1},c.deinterleave2=function(a,b){return a=a>>>b&1431655765,a=858993459&(a|a>>>1),a=252645135&(a|a>>>2),a=16711935&(a|a>>>4),(a=65535&(a|a>>>16))<<16>>16},c.interleave3=function(a,b,c){return a&=1023,a=4278190335&(a|a<<16),a=251719695&(a|a<<8),a=3272356035&(a|a<<4),a=1227133513&(a|a<<2),b&=1023,b=4278190335&(b|b<<16),b=251719695&(b|b<<8),b=3272356035&(b|b<<4),b=1227133513&(b|b<<2),a|=b<<1,c&=1023,c=4278190335&(c|c<<16),c=251719695&(c|c<<8),c=3272356035&(c|c<<4),c=1227133513&(c|c<<2),a|c<<2},c.deinterleave3=function(a,b){return a=a>>>b&1227133513,a=3272356035&(a|a>>>2),a=251719695&(a|a>>>4),a=4278190335&(a|a>>>8),(a=1023&(a|a>>>16))<<22>>22},c.nextCombination=function(a){var b=a|a-1;return b+1|(~b&-~b)-1>>>d(a)+1}},{}],58:[function(a,b,c){"use strict";function d(a){var b=a.length;if(0===b)return[];if(1===b)return[[0]];var c=a[0].length;return 0===c?[]:1===c?e(a):2===c?f(a):g(a,c)}var e=a("./lib/ch1d"),f=a("./lib/ch2d"),g=a("./lib/chnd");b.exports=d},{"./lib/ch1d":59,"./lib/ch2d":60,"./lib/chnd":61}],59:[function(a,b,c){"use strict";function d(a){for(var b=0,c=0,d=1;d<a.length;++d)a[d][0]<a[b][0]&&(b=d),a[d][0]>a[c][0]&&(c=d);return b<c?[[b],[c]]:b>c?[[c],[b]]:[[b]]}b.exports=d},{}],60:[function(a,b,c){"use strict";function d(a){var b=e(a),c=b.length;if(c<=2)return[];for(var d=new Array(c),f=b[c-1],g=0;g<c;++g){var h=b[g];d[g]=[f,h],f=h}return d}b.exports=d;var e=a("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":63}],61:[function(a,b,c){"use strict";function d(a,b){for(var c=a.length,d=new Array(c),e=0;e<b.length;++e)d[e]=a[b[e]];for(var f=b.length,e=0;e<c;++e)b.indexOf(e)<0&&(d[f++]=a[e]);return d}function e(a,b){for(var c=a.length,d=b.length,e=0;e<c;++e)for(var f=a[e],g=0;g<f.length;++g){var h=f[g];if(h<d)f[g]=b[h];else{h-=d;for(var i=0;i<d;++i)h>=b[i]&&(h+=1);f[g]=h}}return a}function f(a,b){try{return g(a,!0)}catch(j){var c=h(a);if(c.length<=b)return[];var f=d(a,c),i=g(f,!0);return e(i,c)}}b.exports=f;var g=a("incremental-convex-hull"),h=a("affine-hull")},{"affine-hull":56,"incremental-convex-hull":62}],62:[function(a,b,c){"use strict";function d(a,b,c){this.vertices=a,this.adjacent=b,this.boundary=c,this.lastVisited=-1}function e(a,b,c){this.vertices=a,this.cell=b,this.index=c}function f(a,b){return k(a.vertices,b.vertices)}function g(a){for(var b=["function orient(){var tuple=this.tuple;return test("],c=0;c<=a;++c)c>0&&b.push(","),b.push("tuple[",c,"]");b.push(")}return orient");var d=new Function("test",b.join("")),e=j[a+1];return e||(e=j),d(e)}function h(a,b,c){this.dimension=a,this.vertices=b,this.simplices=c,this.interior=c.filter(function(a){return!a.boundary}),this.tuple=new Array(a+1);for(var d=0;d<=a;++d)this.tuple[d]=this.vertices[d];var e=l[a];e||(e=l[a]=g(a)),this.orient=e}function i(a,b){var c=a.length;if(0===c)throw new Error("Must have at least d+1 points");var e=a[0].length;if(c<=e)throw new Error("Must input at least d+1 points");var f=a.slice(0,e+1),g=j.apply(void 0,f);if(0===g)throw new Error("Input not in general position");for(var i=new Array(e+1),k=0;k<=e;++k)i[k]=k;g<0&&(i[0]=1,i[1]=0);for(var l=new d(i,new Array(e+1),!1),m=l.adjacent,n=new Array(e+2),k=0;k<=e;++k){for(var o=i.slice(),p=0;p<=e;++p)p===k&&(o[p]=-1);var q=o[0];o[0]=o[1],o[1]=q;var r=new d(o,new Array(e+1),!0);m[k]=r,n[k]=r}n[e+1]=l;for(var k=0;k<=e;++k)for(var o=m[k].vertices,s=m[k].adjacent,p=0;p<=e;++p){var t=o[p];if(t<0)s[p]=l;else for(var u=0;u<=e;++u)m[u].vertices.indexOf(t)<0&&(s[p]=m[u])}for(var v=new h(e,f,n),w=!!b,k=e+1;k<c;++k)v.insert(a[k],w);return v.boundary()}b.exports=i;var j=a("robust-orientation"),k=a("simplicial-complex").compareCells;d.prototype.flip=function(){var a=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=a;var b=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=b};var l=[],m=h.prototype;m.handleBoundaryDegeneracy=function(a,b){var c=this.dimension,d=this.vertices.length-1,e=this.tuple,f=this.vertices,g=[a];for(a.lastVisited=-d;g.length>0;){a=g.pop();for(var h=(a.vertices,a.adjacent),i=0;i<=c;++i){var j=h[i];if(j.boundary&&!(j.lastVisited<=-d)){for(var k=j.vertices,l=0;l<=c;++l){var m=k[l];e[l]=m<0?b:f[m]}var n=this.orient();if(n>0)return j;j.lastVisited=-d,0===n&&g.push(j)}}}return null},m.walk=function(a,b){var c=this.vertices.length-1,d=this.dimension,e=this.vertices,f=this.tuple,g=b?this.interior.length*Math.random()|0:this.interior.length-1,h=this.interior[g];a:for(;!h.boundary;){for(var i=h.vertices,j=h.adjacent,k=0;k<=d;++k)f[k]=e[i[k]];h.lastVisited=c;for(var k=0;k<=d;++k){var l=j[k];if(!(l.lastVisited>=c)){var m=f[k];f[k]=a;var n=this.orient();if(f[k]=m,n<0){h=l;continue a}l.boundary?l.lastVisited=-c:l.lastVisited=c}}return}return h},m.addPeaks=function(a,b){var c=this.vertices.length-1,g=this.dimension,h=this.vertices,i=this.tuple,j=this.interior,k=this.simplices,l=[b];b.lastVisited=c,b.vertices[b.vertices.indexOf(-1)]=c,b.boundary=!1,j.push(b);for(var m=[];l.length>0;){var b=l.pop(),n=b.vertices,o=b.adjacent,p=n.indexOf(c);if(!(p<0))for(var q=0;q<=g;++q)if(q!==p){var r=o[q];if(r.boundary&&!(r.lastVisited>=c)){var s=r.vertices;if(r.lastVisited!==-c){for(var t=0,u=0;u<=g;++u)s[u]<0?(t=u,i[u]=a):i[u]=h[s[u]];var v=this.orient();if(v>0){s[t]=c,r.boundary=!1,j.push(r),l.push(r),r.lastVisited=c;continue}r.lastVisited=-c}var w=r.adjacent,x=n.slice(),y=o.slice(),z=new d(x,y,!0);k.push(z);var A=w.indexOf(b);if(!(A<0)){w[A]=z,y[p]=r,x[q]=-1,y[q]=b,o[q]=z,z.flip();for(var u=0;u<=g;++u){var B=x[u];if(!(B<0||B===c)){for(var C=new Array(g-1),D=0,E=0;E<=g;++E){var F=x[E];F<0||E===u||(C[D++]=F)}m.push(new e(C,z,u))}}}}}}m.sort(f);for(var q=0;q+1<m.length;q+=2){var G=m[q],H=m[q+1],I=G.index,J=H.index;I<0||J<0||(G.cell.adjacent[G.index]=H.cell,H.cell.adjacent[H.index]=G.cell)}},m.insert=function(a,b){var c=this.vertices;c.push(a);var d=this.walk(a,b);if(d){for(var e=this.dimension,f=this.tuple,g=0;g<=e;++g){var h=d.vertices[g];f[g]=h<0?a:c[h]}var i=this.orient(f);i<0||(0!==i||(d=this.handleBoundaryDegeneracy(d,a)))&&this.addPeaks(a,d)}},m.boundary=function(){for(var a=this.dimension,b=[],c=this.simplices,d=c.length,e=0;e<d;++e){var f=c[e];if(f.boundary){for(var g=new Array(a),h=f.vertices,i=0,j=0,k=0;k<=a;++k)h[k]>=0?g[i++]=h[k]:j=1&k;if(j===(1&a)){var l=g[0];g[0]=g[1],g[1]=l}b.push(g)}}return b}},{"robust-orientation":64,"simplicial-complex":68}],63:[function(a,b,c){"use strict";function d(a){var b=a.length;if(b<3){for(var c=new Array(b),d=0;d<b;++d)c[d]=d;return 2===b&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:c}for(var f=new Array(b),d=0;d<b;++d)f[d]=d;f.sort(function(b,c){return a[b][0]-a[c][0]||a[b][1]-a[c][1]});for(var g=[f[0],f[1]],h=[f[0],f[1]],d=2;d<b;++d){for(var i=f[d],j=a[i],k=g.length;k>1&&e(a[g[k-2]],a[g[k-1]],j)<=0;)k-=1,g.pop();for(g.push(i),k=h.length;k>1&&e(a[h[k-2]],a[h[k-1]],j)>=0;)k-=1,h.pop();h.push(i)}for(var c=new Array(h.length+g.length-2),l=0,d=0,m=g.length;d<m;++d)c[l++]=g[d];for(var n=h.length-2;n>0;--n)c[l++]=h[n];return c}b.exports=d;var e=a("robust-orientation")[3]},{"robust-orientation":64}],64:[function(a,b,c){"use strict";function d(a,b){for(var c=new Array(a.length-1),d=1;d<a.length;++d)for(var e=c[d-1]=new Array(a.length-1),f=0,g=0;f<a.length;++f)f!==b&&(e[g++]=a[d][f]);return c}function e(a){for(var b=new Array(a),c=0;c<a;++c){b[c]=new Array(a);for(var d=0;d<a;++d)b[c][d]=["m",d,"[",a-c-1,"]"].join("")}return b}function f(a){return 1&a?"-":""}function g(a){if(1===a.length)return a[0];if(2===a.length)return["sum(",a[0],",",a[1],")"].join("");var b=a.length>>1;return["sum(",g(a.slice(0,b)),",",g(a.slice(b)),")"].join("")}function h(a){if(2===a.length)return[["sum(prod(",a[0][0],",",a[1][1],"),prod(-",a[0][1],",",a[1][0],"))"].join("")];for(var b=[],c=0;c<a.length;++c)b.push(["scale(",g(h(d(a,c))),",",f(c),a[0][c],")"].join(""));return b}function i(a){for(var b=[],c=[],f=e(a),i=[],j=0;j<a;++j)0==(1&j)?b.push.apply(b,h(d(f,j))):c.push.apply(c,h(d(f,j))),i.push("m"+j);var o=g(b),p=g(c),q="orientation"+a+"Exact",r=["function ",q,"(",i.join(),"){var p=",o,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",q].join("");return new Function("sum","prod","scale","sub",r)(l,k,m,n)}function j(a){var b=q[a.length];return b||(b=q[a.length]=i(a.length)),b.apply(void 0,a)}var k=a("two-product"),l=a("robust-sum"),m=a("robust-scale"),n=a("robust-subtract"),o=i(3),p=i(4),q=[function(){return 0},function(){return 0},function(a,b){return b[0]-a[0]},function(a,b,c){var d,e=(a[1]-c[1])*(b[0]-c[0]),f=(a[0]-c[0])*(b[1]-c[1]),g=e-f;if(e>0){if(f<=0)return g;d=e+f}else{if(!(e<0))return g;if(f>=0)return g;d=-(e+f)}var h=3.3306690738754716e-16*d;return g>=h||g<=-h?g:o(a,b,c)},function(a,b,c,d){var e=a[0]-d[0],f=b[0]-d[0],g=c[0]-d[0],h=a[1]-d[1],i=b[1]-d[1],j=c[1]-d[1],k=a[2]-d[2],l=b[2]-d[2],m=c[2]-d[2],n=f*j,o=g*i,q=g*h,r=e*j,s=e*i,t=f*h,u=k*(n-o)+l*(q-r)+m*(s-t),v=(Math.abs(n)+Math.abs(o))*Math.abs(k)+(Math.abs(q)+Math.abs(r))*Math.abs(l)+(Math.abs(s)+Math.abs(t))*Math.abs(m),w=7.771561172376103e-16*v;return u>w||-u>w?u:p(a,b,c,d)}];!function(){for(;q.length<=5;)q.push(i(q.length));for(var a=[],c=["slow"],d=0;d<=5;++d)a.push("a"+d),c.push("o"+d);for(var e=["function getOrientation(",a.join(),"){switch(arguments.length){case 0:case 1:return 0;"],d=2;d<=5;++d)e.push("case ",d,":return o",d,"(",a.slice(0,d).join(),");");e.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),c.push(e.join(""));var f=Function.apply(void 0,c);b.exports=f.apply(void 0,[j].concat(q));for(var d=0;d<=5;++d)b.exports[d]=q[d]}()},{"robust-scale":65,"robust-subtract":66,"robust-sum":67,"two-product":69}],65:[function(a,b,c){"use strict";function d(a,b){var c=a.length;if(1===c){var d=e(a[0],b);return d[0]?d:[d[1]]}var g=new Array(2*c),h=[.1,.1],i=[.1,.1],j=0;e(a[0],b,h),h[0]&&(g[j++]=h[0]);for(var k=1;k<c;++k){e(a[k],b,i);var l=h[1];f(l,i[0],h),h[0]&&(g[j++]=h[0]);var m=i[1],n=h[1],o=m+n,p=o-m,q=n-p;h[1]=o,q&&(g[j++]=q)}return h[1]&&(g[j++]=h[1]),0===j&&(g[j++]=0),g.length=j,g}var e=a("two-product"),f=a("two-sum");b.exports=d},{"two-product":69,"two-sum":70}],66:[function(a,b,c){"use strict";function d(a,b){var c=a+b,d=c-a,e=c-d,f=b-d,g=a-e,h=g+f;return h?[h,c]:[c]}function e(a,b){var c=0|a.length,e=0|b.length;if(1===c&&1===e)return d(a[0],-b[0]);var f,g,h=c+e,i=new Array(h),j=0,k=0,l=0,m=Math.abs,n=a[k],o=m(n),p=-b[l],q=m(p);o<q?(g=n,(k+=1)<c&&(n=a[k],o=m(n))):(g=p,(l+=1)<e&&(p=-b[l],q=m(p))),k<c&&o<q||l>=e?(f=n,(k+=1)<c&&(n=a[k],o=m(n))):(f=p,(l+=1)<e&&(p=-b[l],q=m(p)));for(var r,s,t,u,v,w=f+g,x=w-f,y=g-x,z=y,A=w;k<c&&l<e;)o<q?(f=n,(k+=1)<c&&(n=a[k],o=m(n))):(f=p,(l+=1)<e&&(p=-b[l],q=m(p))),g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r;for(;k<c;)f=n,g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,(k+=1)<c&&(n=a[k]);for(;l<e;)f=p,g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,(l+=1)<e&&(p=-b[l]);return z&&(i[j++]=z),A&&(i[j++]=A),j||(i[j++]=0),i.length=j,i}b.exports=e},{}],67:[function(a,b,c){"use strict";function d(a,b){var c=a+b,d=c-a,e=c-d,f=b-d,g=a-e,h=g+f;return h?[h,c]:[c]}function e(a,b){var c=0|a.length,e=0|b.length;if(1===c&&1===e)return d(a[0],b[0]);var f,g,h=c+e,i=new Array(h),j=0,k=0,l=0,m=Math.abs,n=a[k],o=m(n),p=b[l],q=m(p);o<q?(g=n,(k+=1)<c&&(n=a[k],o=m(n))):(g=p,(l+=1)<e&&(p=b[l],q=m(p))),k<c&&o<q||l>=e?(f=n,(k+=1)<c&&(n=a[k],o=m(n))):(f=p,(l+=1)<e&&(p=b[l],q=m(p)));for(var r,s,t,u,v,w=f+g,x=w-f,y=g-x,z=y,A=w;k<c&&l<e;)o<q?(f=n,(k+=1)<c&&(n=a[k],o=m(n))):(f=p,(l+=1)<e&&(p=b[l],q=m(p))),g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r;for(;k<c;)f=n,g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,(k+=1)<c&&(n=a[k]);for(;l<e;)f=p,g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,(l+=1)<e&&(p=b[l]);return z&&(i[j++]=z),A&&(i[j++]=A),j||(i[j++]=0),i.length=j,i}b.exports=e},{}],68:[function(a,b,c){"use strict";"use restrict";function d(a){for(var b=0,c=Math.max,d=0,e=a.length;d<e;++d)b=c(b,a[d].length);return b-1}function e(a){for(var b=-1,c=Math.max,d=0,e=a.length;d<e;++d)for(var f=a[d],g=0,h=f.length;g<h;++g)b=c(b,f[g]);return b+1}function f(a){for(var b=new Array(a.length),c=0,d=a.length;c<d;++c)b[c]=a[c].slice(0);return b}function g(a,b){var c=a.length,d=a.length-b.length,e=Math.min;if(d)return d;switch(c){case 0:return 0;case 1:return a[0]-b[0];case 2:var f=a[0]+a[1]-b[0]-b[1];return f||e(a[0],a[1])-e(b[0],b[1]);case 3:var g=a[0]+a[1],h=b[0]+b[1];if(f=g+a[2]-(h+b[2]))return f;var i=e(a[0],a[1]),j=e(b[0],b[1]),f=e(i,a[2])-e(j,b[2]);return f||e(i+a[2],g)-e(j+b[2],h);default:var k=a.slice(0);k.sort();var l=b.slice(0);l.sort();for(var m=0;m<c;++m)if(d=k[m]-l[m])return d;return 0}}function h(a,b){return g(a[0],b[0])}function i(a,b){if(b){for(var c=a.length,d=new Array(c),e=0;e<c;++e)d[e]=[a[e],b[e]];d.sort(h);for(var e=0;e<c;++e)a[e]=d[e][0],b[e]=d[e][1];return a}return a.sort(g),a}function j(a){if(0===a.length)return[];for(var b=1,c=a.length,d=1;d<c;++d){var e=a[d];if(g(e,a[d-1])){if(d===b){b++;continue}a[b++]=e}}return a.length=b,a}function k(a,b){for(var c=0,d=a.length-1,e=-1;c<=d;){var f=c+d>>1,h=g(a[f],b);h<=0?(0===h&&(e=f),c=f+1):h>0&&(d=f-1)}return e}function l(a,b){for(var c=new Array(a.length),d=0,e=c.length;d<e;++d)c[d]=[];for(var f=[],d=0,h=b.length;d<h;++d)for(var i=b[d],j=i.length,l=1,m=1<<j;l<m;++l){f.length=t.popCount(l);for(var n=0,o=0;o<j;++o)l&1<<o&&(f[n++]=i[o]);var p=k(a,f);if(!(p<0))for(;c[p++].push(d),!(p>=a.length||0!==g(a[p],f)););}return c}function m(a,b){if(!b)return l(j(o(a,0)),a,0);for(var c=new Array(b),d=0;d<b;++d)c[d]=[];for(var d=0,e=a.length;d<e;++d)for(var f=a[d],g=0,h=f.length;g<h;++g)c[f[g]].push(d);return c}function n(a){for(var b=[],c=0,d=a.length;c<d;++c)for(var e=a[c],f=0|e.length,g=1,h=1<<f;g<h;++g){for(var j=[],k=0;k<f;++k)g>>>k&1&&j.push(e[k]);b.push(j)}return i(b)}function o(a,b){if(b<0)return[];for(var c=[],d=(1<<b+1)-1,e=0;e<a.length;++e)for(var f=a[e],g=d;g<1<<f.length;g=t.nextCombination(g)){for(var h=new Array(b+1),j=0,k=0;k<f.length;++k)g&1<<k&&(h[j++]=f[k]);c.push(h)}return i(c)}function p(a){for(var b=[],c=0,d=a.length;c<d;++c)for(var e=a[c],f=0,g=e.length;f<g;++f){for(var h=new Array(e.length-1),j=0,k=0;j<g;++j)j!==f&&(h[k++]=e[j]);b.push(h)}return i(b)}function q(a,b){for(var c=new u(b),d=0;d<a.length;++d)for(var e=a[d],f=0;f<e.length;++f)for(var g=f+1;g<e.length;++g)c.link(e[f],e[g]);for(var h=[],i=c.ranks,d=0;d<i.length;++d)i[d]=-1;for(var d=0;d<a.length;++d){var j=c.find(a[d][0]);i[j]<0?(i[j]=h.length,h.push([a[d].slice(0)])):h[i[j]].push(a[d].slice(0))}return h}function r(a){for(var b=j(i(o(a,0))),c=new u(b.length),d=0;d<a.length;++d)for(var e=a[d],f=0;f<e.length;++f)for(var g=k(b,[e[f]]),h=f+1;h<e.length;++h)c.link(g,k(b,[e[h]]));for(var l=[],m=c.ranks,d=0;d<m.length;++d)m[d]=-1;for(var d=0;d<a.length;++d){var n=c.find(k(b,[a[d][0]]));m[n]<0?(m[n]=l.length,l.push([a[d].slice(0)])):l[m[n]].push(a[d].slice(0))}return l}function s(a,b){return b?q(a,b):r(a)}var t=a("bit-twiddle"),u=a("union-find");c.dimension=d,c.countVertices=e,c.cloneCells=f,c.compareCells=g,c.normalize=i,c.unique=j,c.findCell=k,c.incidence=l,c.dual=m,c.explode=n,c.skeleton=o,c.boundary=p,c.connectedComponents=s},{"bit-twiddle":57,"union-find":71}],69:[function(a,b,c){"use strict";function d(a,b,c){var d=a*b,f=e*a,g=f-a,h=f-g,i=a-h,j=e*b,k=j-b,l=j-k,m=b-l,n=d-h*l,o=n-i*l,p=o-h*m,q=i*m-p;return c?(c[0]=q,c[1]=d,c):[q,d]}b.exports=d;var e=+(Math.pow(2,27)+1)},{}],70:[function(a,b,c){"use strict";function d(a,b,c){var d=a+b,e=d-a,f=d-e,g=b-e,h=a-f;return c?(c[0]=h+g,c[1]=d,c):[h+g,d]}b.exports=d},{}],71:[function(a,b,c){"use strict";"use restrict";function d(a){this.roots=new Array(a),this.ranks=new Array(a);for(var b=0;b<a;++b)this.roots[b]=b,this.ranks[b]=0}b.exports=d;var e=d.prototype;Object.defineProperty(e,"length",{get:function(){return this.roots.length}}),e.makeSet=function(){var a=this.roots.length;return this.roots.push(a),this.ranks.push(0),a},e.find=function(a){for(var b=a,c=this.roots;c[a]!==a;)a=c[a];for(;c[b]!==a;){var d=c[b];c[b]=a,b=d}return a},e.link=function(a,b){var c=this.find(a),d=this.find(b);if(c!==d){var e=this.ranks,f=this.roots,g=e[c],h=e[d];g<h?f[c]=d:h<g?f[d]=c:(f[d]=c,++e[c])}}},{}],72:[function(a,b,c){var d=a("@turf/helpers").featureCollection,e=a("@turf/meta").featureEach,f=a("@turf/meta").coordEach,g=a("@turf/helpers").point;b.exports=function(a){var b=[];return"FeatureCollection"===a.type?e(a,function(a){f(a,function(c){b.push(g(c,a.properties))})}):f(a,function(c){b.push(g(c,a.properties))}),d(b)}},{"@turf/helpers":73,"@turf/meta":74}],73:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],74:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],75:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],76:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],77:[function(a,b,c){var d=a("@turf/bbox"),e=a("@turf/helpers").point;b.exports=function(a){var b=d(a),c=(b[0]+b[2])/2,f=(b[1]+b[3])/2;return e([c,f])}},{"@turf/bbox":78,"@turf/helpers":80}],78:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":79,dup:22}],79:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],80:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],81:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":82,"@turf/meta":83,dup:50}],82:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],83:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],84:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{"@turf/destination":85,"@turf/helpers":88,dup:30}],85:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":86,"@turf/invariant":87,dup:5}],86:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],87:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],88:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],89:[function(a,b,c){var d=a("@turf/bbox"),e=a("@turf/inside"),f=a("rbush");b.exports=function(a,b,c,g){var h=f(6),i=b.features.map(function(a){return{minX:a.geometry.coordinates[0],minY:a.geometry.coordinates[1],maxX:a.geometry.coordinates[0],maxY:a.geometry.coordinates[1],property:a.properties[c]}});return h.load(i),a.features.forEach(function(a){a.properties||(a.properties={});var b=d(a),c=h.search({minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]}),f=[];c.forEach(function(b){e({type:"Point",coordinates:[b.minX,b.minY]},a)&&f.push(b.property)}),a.properties[g]=f}),a}},{"@turf/bbox":90,"@turf/inside":92,rbush:95}],90:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":91,dup:22}],91:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],92:[function(a,b,c){function d(a,b,c){var d=!1;b[0][0]===b[b.length-1][0]&&b[0][1]===b[b.length-1][1]&&(b=b.slice(0,b.length-1));for(var e=0,f=b.length-1;e<b.length;f=e++){var g=b[e][0],h=b[e][1],i=b[f][0],j=b[f][1];if(a[1]*(g-i)+h*(i-a[0])+j*(a[0]-g)==0&&(g-a[0])*(i-a[0])<=0&&(h-a[1])*(j-a[1])<=0)return!c;h>a[1]!=j>a[1]&&a[0]<(i-g)*(a[1]-h)/(j-h)+g&&(d=!d)}return d}function e(a,b){return b[0]<=a[0]&&b[1]<=a[1]&&b[2]>=a[0]&&b[3]>=a[1]}var f=a("@turf/invariant"),g=f.getCoord,h=f.getCoords;b.exports=function(a,b){if(!a)throw new Error("point is required");if(!b)throw new Error("polygon is required");var c=g(a),f=h(b),i=b.geometry?b.geometry.type:b.type,j=b.bbox;if(j&&!1===e(c,j))return!1;"Polygon"===i&&(f=[f]);for(var k=0,l=!1;k<f.length&&!l;k++)if(d(c,f[k][0])){for(var m=!1,n=1;n<f[k].length&&!m;)d(c,f[k][n],!0)&&(m=!0),n++;m||(l=!0)}return l}},{"@turf/invariant":93}],93:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],94:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],95:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:94}],96:[function(a,b,c){var d=a("@turf/meta");b.exports=function(a){function b(a,b,d){d?c[b].coordinates=c[b].coordinates.concat(a.geometry.coordinates):c[b].coordinates.push(a.geometry.coordinates),c[b].properties.push(a.properties)}var c={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},e=Object.keys(c).reduce(function(a,b){return a[b.replace("Multi","")]=b,a},{});return d.featureEach(a,function(a){a.geometry&&(c[a.geometry.type]?b(a,a.geometry.type,!0):e[a.geometry.type]&&b(a,e[a.geometry.type],!1))}),{type:"FeatureCollection",features:Object.keys(c).filter(function(a){return c[a].coordinates.length}).sort().map(function(a){return{type:"Feature",properties:{collectedProperties:c[a].properties},geometry:{type:a,coordinates:c[a].coordinates}}})}}},{"@turf/meta":97}],97:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],98:[function(a,b,c){function d(a,b,c){function d(a){var d=a.geometry.coordinates[0][0],e=a.geometry.coordinates[0][1],f=a.geometry.coordinates[0][2],g=h(d,e,c),i=h(e,f,c),j=h(d,f,c);return g<=b&&i<=b&&j<=b}if("number"!=typeof b)throw new Error("maxEdge parameter is required");var g=f(a),i=g.features.filter(d);if(g.features=i,g.features.length<1)throw new Error("too few polygons found to compute concave hull");return e(g)}function e(a){for(var b=JSON.parse(JSON.stringify(a.features[0])),c=a.features,d=0,e=c.length;d<e;d++){var f=c[d];f.geometry&&(b=g(b,f))}return b}var f=a("@turf/tin"),g=a("@turf/union"),h=a("@turf/distance");b.exports=d},{"@turf/distance":99,"@turf/tin":102,"@turf/union":104}],99:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":100,"@turf/invariant":101,dup:8}],100:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],101:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],102:[function(a,b,c){function d(a,b,c){this.a=a,this.b=b,this.c=c;var d,e,f=b.x-a.x,g=b.y-a.y,h=c.x-a.x,i=c.y-a.y,j=f*(a.x+b.x)+g*(a.y+b.y),k=h*(a.x+c.x)+i*(a.y+c.y),l=2*(f*(c.y-b.y)-g*(c.x-b.x));this.x=(i*j-g*k)/l,this.y=(f*k-h*j)/l,d=this.x-a.x,e=this.y-a.y,this.r=d*d+e*e}function e(a,b){return b.x-a.x}function f(a){var b,c,d,e,f,g=a.length;a:for(;g;)for(c=a[--g],b=a[--g],d=g;d;)if(f=a[--d],e=a[--d],b===e&&c===f||b===f&&c===e){a.splice(g,2),a.splice(d,2),g-=2;continue a}}function g(a){if(a.length<3)return[];a.sort(e);for(var b,c,g,h,i,j,k=a.length-1,l=a[k].x,m=a[0].x,n=a[k].y,o=n;k--;)a[k].y<n&&(n=a[k].y),a[k].y>o&&(o=a[k].y);var p,q=m-l,r=o-n,s=q>r?q:r,t=.5*(m+l),u=.5*(o+n),v=[new d({x:t-20*s,y:u-s,__sentinel:!0},{x:t,y:u+20*s,__sentinel:!0},{x:t+20*s,y:u-s,__sentinel:!0})],w=[],x=[];for(k=a.length;k--;){for(x.length=0,p=v.length;p--;)q=a[k].x-v[p].x,q>0&&q*q>v[p].r?(w.push(v[p]),v.splice(p,1)):(r=a[k].y-v[p].y,q*q+r*r>v[p].r||(x.push(v[p].a,v[p].b,v[p].b,v[p].c,v[p].c,v[p].a),v.splice(p,1)));for(f(x),p=x.length;p;)c=x[--p],b=x[--p],g=a[k],h=c.x-b.x,i=c.y-b.y,j=2*(h*(g.y-c.y)-i*(g.x-c.x)),Math.abs(j)>1e-12&&v.push(new d(b,c,g))}for(Array.prototype.push.apply(w,v),k=w.length;k--;)(w[k].a.__sentinel||w[k].b.__sentinel||w[k].c.__sentinel)&&w.splice(k,1);return w}var h=a("@turf/helpers").polygon,i=a("@turf/helpers").featureCollection;b.exports=function(a,b){return i(g(a.features.map(function(a){var c={x:a.geometry.coordinates[0],y:a.geometry.coordinates[1]};return b&&(c.z=a.properties[b]),c})).map(function(a){return h([[[a.a.x,a.a.y],[a.b.x,a.b.y],[a.c.x,a.c.y],[a.a.x,a.a.y]]],{a:a.a.z,b:a.b.z,c:a.c.z})}))}},{"@turf/helpers":103}],103:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],104:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38,jsts:105}],105:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],106:[function(a,b,c){arguments[4][53][0].apply(c,arguments)},{"@turf/helpers":107,"@turf/meta":108,"convex-hull":111,dup:53}],107:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],108:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],109:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56,"robust-orientation":117}],110:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57}],111:[function(a,b,c){arguments[4][58][0].apply(c,arguments)},{"./lib/ch1d":112,"./lib/ch2d":113,"./lib/chnd":114,dup:58}],112:[function(a,b,c){arguments[4][59][0].apply(c,arguments)},{dup:59}],113:[function(a,b,c){arguments[4][60][0].apply(c,arguments)},{dup:60,"monotone-convex-hull-2d":116}],114:[function(a,b,c){arguments[4][61][0].apply(c,arguments)},{"affine-hull":109,dup:61,"incremental-convex-hull":115}],115:[function(a,b,c){arguments[4][62][0].apply(c,arguments)},{dup:62,"robust-orientation":117,"simplicial-complex":121}],116:[function(a,b,c){arguments[4][63][0].apply(c,arguments)},{dup:63,"robust-orientation":117}],117:[function(a,b,c){arguments[4][64][0].apply(c,arguments)},{dup:64,"robust-scale":118,"robust-subtract":119,"robust-sum":120,"two-product":122}],118:[function(a,b,c){arguments[4][65][0].apply(c,arguments)},{dup:65,"two-product":122,"two-sum":123}],119:[function(a,b,c){arguments[4][66][0].apply(c,arguments)},{dup:66}],120:[function(a,b,c){arguments[4][67][0].apply(c,arguments)},{dup:67}],121:[function(a,b,c){arguments[4][68][0].apply(c,arguments)},{"bit-twiddle":110,dup:68,"union-find":124}],122:[function(a,b,c){arguments[4][69][0].apply(c,arguments)},{dup:69}],123:[function(a,b,c){arguments[4][70][0].apply(c,arguments)},{dup:70}],124:[function(a,b,c){arguments[4][71][0].apply(c,arguments)},{dup:71}],125:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":126,"@turf/invariant":127,dup:5}],126:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],127:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],128:[function(a,b,c){var d=a("jsts");b.exports=function(a,b){var c=JSON.parse(JSON.stringify(a)),e=JSON.parse(JSON.stringify(b));"Feature"!==c.type&&(c={type:"Feature",properties:{},geometry:c}),"Feature"!==e.type&&(e={type:"Feature",properties:{},geometry:e})
;var f=new d.io.GeoJSONReader,g=f.read(JSON.stringify(c.geometry)),h=f.read(JSON.stringify(e.geometry)),i=g.difference(h);if(!i.isEmpty()){var j=new d.io.GeoJSONWriter,k=j.write(i);return c.geometry=i,{type:"Feature",properties:c.properties,geometry:k}}}},{jsts:129}],129:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],130:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{"@turf/bbox":131,"@turf/union":133,dup:35,"geojson-utils":135,"get-closest":136,rbush:138,"turf-overlaps":140}],131:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":132,dup:22}],132:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],133:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38,jsts:134}],134:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],135:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],136:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],137:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],138:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:137}],139:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{dup:44}],140:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45,"turf-is-clockwise":139}],141:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":142,"@turf/invariant":143,dup:8}],142:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],143:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],144:[function(a,b,c){var d=a("@turf/bbox"),e=a("@turf/bbox-polygon");b.exports=function(a){return e(d(a))}},{"@turf/bbox":147,"@turf/bbox-polygon":145}],145:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":146,dup:20}],146:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],147:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":148,dup:22}],148:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],149:[function(a,b,c){arguments[4][72][0].apply(c,arguments)},{"@turf/helpers":150,"@turf/meta":151,dup:72}],150:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],151:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],152:[function(a,b,c){function d(a){switch(a.geometry?a.geometry.type:a.type){case"MultiPoint":return e(a);case"MultiPolygon":return g(a);case"MultiLineString":return f(a);case"FeatureCollection":return h(a);case"GeometryCollection":return i(a);case"Point":case"LineString":case"Polygon":return q([a])}}function e(a){var b=[];return l(a).forEach(function(c){b.push(n(c,a.properties))}),q(b)}function f(a){var b=[];return l(a).forEach(function(c){b.push(o(c,a.properties))}),q(b)}function g(a){var b=[];return l(a).forEach(function(c){b.push(p(c,a.properties))}),q(b)}function h(a){var b=[];return j(a,function(a){switch(a.geometry.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":j(d(a),function(a){b.push(a)});break;default:b.push(a)}}),q(b)}function i(a){var b=[];return k(a,function(a){switch(a.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":j(d(a),function(a){b.push(a)});break;default:var c={type:"Feature",properties:{},geometry:a};b.push(c)}}),q(b)}var j=a("@turf/meta").featureEach,k=a("@turf/meta").geomEach,l=a("@turf/invariant").getCoords,m=a("@turf/helpers"),n=m.point,o=m.lineString,p=m.polygon,q=m.featureCollection;b.exports=d},{"@turf/helpers":153,"@turf/invariant":154,"@turf/meta":155}],153:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],154:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],155:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],156:[function(a,b,c){var d=a("@turf/meta").coordEach;b.exports=function(a,b){if(!a)throw new Error("geojson is required");return!1!==b&&void 0!==b||(a=JSON.parse(JSON.stringify(a))),d(a,function(a){var b=a[0],c=a[1];a[0]=c,a[1]=b}),a}},{"@turf/meta":157}],157:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],158:[function(a,b,c){"use strict";var d=Math.PI/180,e=180/Math.PI,f=function(a,b){this.lon=a,this.lat=b,this.x=d*a,this.y=d*b};f.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},f.prototype.antipode=function(){var a=-1*this.lat,b=this.lon<0?180+this.lon:-1*(180-this.lon);return new f(b,a)};var g=function(){this.coords=[],this.length=0};g.prototype.move_to=function(a){this.length++,this.coords.push(a)};var h=function(a){this.properties=a||{},this.geometries=[]};h.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var a=[],b=0;b<this.geometries.length;b++)a.push(this.geometries[b].coords);return{geometry:{type:"MultiLineString",coordinates:a},type:"Feature",properties:this.properties}},h.prototype.wkt=function(){for(var a="",b="LINESTRING(",c=function(a){b+=a[0]+" "+a[1]+","},d=0;d<this.geometries.length;d++){if(0===this.geometries[d].coords.length)return"LINESTRING(empty)";this.geometries[d].coords.forEach(c),a+=b.substring(0,b.length-1)+")"}return a};var i=function(a,b,c){if(!a||void 0===a.x||void 0===a.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!b||void 0===b.x||void 0===b.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new f(a.x,a.y),this.end=new f(b.x,b.y),this.properties=c||{};var d=this.start.x-this.end.x,e=this.start.y-this.end.y,g=Math.pow(Math.sin(e/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(d/2),2);if(this.g=2*Math.asin(Math.sqrt(g)),this.g===Math.PI)throw new Error("it appears "+a.view()+" and "+b.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+a+" and "+b)};i.prototype.interpolate=function(a){var b=Math.sin((1-a)*this.g)/Math.sin(this.g),c=Math.sin(a*this.g)/Math.sin(this.g),d=b*Math.cos(this.start.y)*Math.cos(this.start.x)+c*Math.cos(this.end.y)*Math.cos(this.end.x),f=b*Math.cos(this.start.y)*Math.sin(this.start.x)+c*Math.cos(this.end.y)*Math.sin(this.end.x),g=b*Math.sin(this.start.y)+c*Math.sin(this.end.y),h=e*Math.atan2(g,Math.sqrt(Math.pow(d,2)+Math.pow(f,2)));return[e*Math.atan2(f,d),h]},i.prototype.Arc=function(a,b){var c=[];if(!a||a<=2)c.push([this.start.lon,this.start.lat]),c.push([this.end.lon,this.end.lat]);else for(var d=1/(a-1),e=0;e<a;++e){var f=d*e,i=this.interpolate(f);c.push(i)}for(var j=!1,k=0,l=b&&b.offset?b.offset:10,m=180-l,n=-180+l,o=360-l,p=1;p<c.length;++p){var q=c[p-1][0],r=c[p][0],s=Math.abs(r-q);s>o&&(r>m&&q<n||q>m&&r<n)?j=!0:s>k&&(k=s)}var t=[];if(j&&k<l){var u=[];t.push(u);for(var v=0;v<c.length;++v){var w=parseFloat(c[v][0]);if(v>0&&Math.abs(w-c[v-1][0])>o){var x=parseFloat(c[v-1][0]),y=parseFloat(c[v-1][1]),z=parseFloat(c[v][0]),A=parseFloat(c[v][1]);if(x>-180&&x<n&&180===z&&v+1<c.length&&c[v-1][0]>-180&&c[v-1][0]<n){u.push([-180,c[v][1]]),v++,u.push([c[v][0],c[v][1]]);continue}if(x>m&&x<180&&-180===z&&v+1<c.length&&c[v-1][0]>m&&c[v-1][0]<180){u.push([180,c[v][1]]),v++,u.push([c[v][0],c[v][1]]);continue}if(x<n&&z>m){var B=x;x=z,z=B;var C=y;y=A,A=C}if(x>m&&z<n&&(z+=360),x<=180&&z>=180&&x<z){var D=(180-x)/(z-x),E=D*A+(1-D)*y;u.push([c[v-1][0]>m?180:-180,E]),u=[],u.push([c[v-1][0]>m?-180:180,E]),t.push(u)}else u=[],t.push(u);u.push([w,c[v][1]])}else u.push([c[v][0],c[v][1]])}}else{var F=[];t.push(F);for(var G=0;G<c.length;++G)F.push([c[G][0],c[G][1]])}for(var H=new h(this.properties),I=0;I<t.length;++I){var J=new g;H.geometries.push(J);for(var K=t[I],L=0;L<K.length;++L)J.move_to(K[L])}return H},b.exports.Coord=f,b.exports.Arc=h,b.exports.GreatCircle=i},{}],159:[function(a,b,c){var d=a("./arc"),e=a("@turf/invariant").getCoord;b.exports=function(a,b,c,f,g){return a=e(a),b=e(b),c=c||{},f=f||100,g=g||10,new d.GreatCircle({x:a[0],y:a[1]},{x:b[0],y:b[1]},c).Arc(f,{offset:g}).json()}},{"./arc":158,"@turf/invariant":160}],160:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],161:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],162:[function(a,b,c){function d(a,b,c){for(var d=[],e=0;e<6;e++){var f=a[0]+b*j[e],h=a[1]+c*k[e];d.push([f,h])}return d.push(d[0]),g([d])}function e(a,b,c){for(var d=[],e=0;e<6;e++){var f=[];f.push(a),f.push([a[0]+b*j[e],a[1]+c*k[e]]),f.push([a[0]+b*j[(e+1)%6],a[1]+c*k[(e+1)%6]]),f.push(a),d.push(g([f]))}return d}for(var f=a("@turf/helpers").point,g=a("@turf/helpers").polygon,h=a("@turf/distance"),i=a("@turf/helpers").featureCollection,j=[],k=[],l=0;l<6;l++){var m=2*Math.PI/6*l;j.push(Math.cos(m)),k.push(Math.sin(m))}b.exports=function(a,b,c,g){var j=b/h(f([a[0],a[1]]),f([a[2],a[1]]),c),k=j*(a[2]-a[0]),l=b/h(f([a[0],a[1]]),f([a[0],a[3]]),c),m=l*(a[3]-a[1]),n=k/2,o=2*n,p=Math.sqrt(3)/2*m,q=a[2]-a[0],r=a[3]-a[1],s=.75*o,t=p,u=q/(o-n/2),v=Math.ceil(u);Math.round(u)===v&&v++;var w=(v*s-n/2-q)/2-n/2,x=Math.ceil(r/p),y=(r-x*p)/2,z=x*p-r>p/2;z&&(y-=p/4);for(var A=i([]),B=0;B<v;B++)for(var C=0;C<=x;C++){var D=B%2==1;if(!(0===C&&D||0===C&&z)){var E=B*s+a[0]-w,F=C*t+a[1]+y;D&&(F-=p/2),g?A.features.push.apply(A.features,e([E,F],k/2,m/2)):A.features.push(d([E,F],k/2,m/2))}}return A}},{"@turf/distance":163,"@turf/helpers":166}],163:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":164,"@turf/invariant":165,dup:8}],164:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],165:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],166:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],167:[function(a,b,c){var d=a("@turf/distance"),e=a("@turf/square-grid"),f=a("@turf/centroid"),g=a("@turf/bbox");b.exports=function(a,b,c,h,i){if(0!==a.features.filter(function(a){return a.properties&&a.properties.hasOwnProperty(b)}).length){for(var j=e(g(a),h,i),k=j.features.length,l=0;l<k;l++){for(var m=0,n=0,o=0;o<a.features.length;o++){var p=d(f(j.features[l]),a.features[o],i);0===p&&(m=a.features[o].properties[b]);var q=1/Math.pow(p,c);n+=q,m+=q*a.features[o].properties[b]}j.features[l].properties.z=m/n}return j}console.log("Specified Data Field is Missing")}},{"@turf/bbox":168,"@turf/centroid":170,"@turf/distance":173,"@turf/square-grid":176}],168:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":169,dup:22}],169:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],170:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":171,"@turf/meta":172,dup:50}],171:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],172:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],173:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":174,"@turf/invariant":175,dup:8}],174:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],175:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],176:[function(a,b,c){var d=a("@turf/helpers").featureCollection,e=a("@turf/helpers").point,f=a("@turf/helpers").polygon,g=a("@turf/distance"),h=a("@turf/bbox");b.exports=function(a,b,c,i){var j=[];if(!a)throw new Error("bbox is required");if(Array.isArray(a)||(a=h(a)),4!==a.length)throw new Error("bbox must contain 4 numbers");var k=a[0],l=a[1],m=a[2],n=a[3],o=g(e([k,l]),e([m,l]),c),p=g(e([k,l]),e([k,n]),c),q=Math.ceil(o/b),r=Math.ceil(p/b),s=b/o,t=s*(m-k);!0===i&&(t*=o/b/q);var u=b/p,v=u*(n-l);!0===i&&(v*=p/b/r);for(var w=k,x=0;x<q;x++){for(var y=l,z=0;z<r;z++){var A=f([[[w,y],[w,y+v],[w+t,y+v],[w+t,y],[w,y]]]);j.push(A),y+=v}w+=t}return d(j)}},{"@turf/bbox":177,"@turf/distance":179,"@turf/helpers":182}],177:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":178,dup:22}],178:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],179:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":180,"@turf/invariant":181,dup:8}],180:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],181:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],182:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],183:[function(a,b,c){arguments[4][92][0].apply(c,arguments)},{"@turf/invariant":184,dup:92}],184:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],185:[function(a,b,c){var d=a("jsts");b.exports=function(a,b){var c,e;c="Feature"===a.type?a.geometry:a,e="Feature"===b.type?b.geometry:b;var f=new d.io.GeoJSONReader,g=f.read(JSON.stringify(c)),h=f.read(JSON.stringify(e)),i=g.intersection(h);if(!i.isEmpty())return{type:"Feature",properties:{},geometry:(new d.io.GeoJSONWriter).write(i)}}},{jsts:186}],186:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],187:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],188:[function(a,b,c){function d(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d<h}function e(a){for(var b=a.head;b;){var c=b.next;b.next=b.prev,b.prev=c,b=c}var c=a.head;a.head=a.tail,a.tail=c}function f(a){this.level=a,this.s=null,this.count=0}function g(a){if(a)this.drawContour=a;else{var b=this;b.contours={},this.drawContour=function(a,c,d,e,g,h){var i=b.contours[h];i||(i=b.contours[h]=new f(g)),i.addSegment({x:a,y:c},{x:d,y:e})},this.contourList=function(){var a=[],c=b.contours;for(var d in c)for(var e=c[d].s,f=c[d].level;e;){var g=e.head,h=[];for(h.level=f,h.k=d;g&&g.p;)h.push(g.p),g=g.next;a.push(h),e=e.next}return a.sort(function(a,b){return a.k-b.k}),a}}this.h=new Array(5),this.sh=new Array(5),this.xh=new Array(5),this.yh=new Array(5)}b.exports=g;var h=1e-10;f.prototype.remove_seq=function(a){a.prev?a.prev.next=a.next:this.s=a.next,a.next&&(a.next.prev=a.prev),--this.count},f.prototype.addSegment=function(a,b){for(var c=this.s,f=null,g=null,h=!1,i=!1;c&&(null==f&&(d(a,c.head.p)?(f=c,h=!0):d(a,c.tail.p)&&(f=c)),null==g&&(d(b,c.head.p)?(g=c,i=!0):d(b,c.tail.p)&&(g=c)),null==g||null==f);)c=c.next;switch((null!=f?1:0)|(null!=g?2:0)){case 0:var j={p:a,prev:null},k={p:b,next:null};j.next=k,k.prev=j,f={head:j,tail:k,next:this.s,prev:null,closed:!1},this.s&&(this.s.prev=f),this.s=f,++this.count;break;case 1:var l={p:b};h?(l.next=f.head,l.prev=null,f.head.prev=l,f.head=l):(l.next=null,l.prev=f.tail,f.tail.next=l,f.tail=l);break;case 2:var l={p:a};i?(l.next=g.head,l.prev=null,g.head.prev=l,g.head=l):(l.next=null,l.prev=g.tail,g.tail.next=l,g.tail=l);break;case 3:if(f===g){var l={p:f.tail.p,next:f.head,prev:null};f.head.prev=l,f.head=l,f.closed=!0;break}switch((h?1:0)|(i?2:0)){case 0:e(f);case 1:g.tail.next=f.head,f.head.prev=g.tail,g.tail=f.tail,this.remove_seq(f);break;case 3:e(f);case 2:f.tail.next=g.head,g.head.prev=f.tail,f.tail=g.tail,this.remove_seq(g)}}},g.prototype.contour=function(a,b,c,d,e,f,g,i,j){var k=this.h,l=this.sh,m=this.xh,n=this.yh,o=this.drawContour;this.contours={};for(var p,q,r,s,t,u,v=function(a,b){return(k[b]*m[a]-k[a]*m[b])/(k[b]-k[a])},w=function(a,b){return(k[b]*n[a]-k[a]*n[b])/(k[b]-k[a])},x=0,y=0,z=0,A=0,B=[0,1,1,0],C=[0,0,1,1],D=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],E=e-1;E>=d;E--)for(var F=b;F<=c-1;F++){var G,H;if(G=Math.min(a[F][E],a[F][E+1]),H=Math.min(a[F+1][E],a[F+1][E+1]),t=Math.min(G,H),G=Math.max(a[F][E],a[F][E+1]),H=Math.max(a[F+1][E],a[F+1][E+1]),(u=Math.max(G,H))>=j[0]&&t<=j[i-1])for(var I=0;I<i;I++)if(j[I]>=t&&j[I]<=u){for(var J=4;J>=0;J--)J>0?(k[J]=a[F+B[J-1]][E+C[J-1]]-j[I],m[J]=f[F+B[J-1]],n[J]=g[E+C[J-1]]):(k[0]=.25*(k[1]+k[2]+k[3]+k[4]),m[0]=.5*(f[F]+f[F+1]),n[0]=.5*(g[E]+g[E+1])),k[J]>h?l[J]=1:k[J]<-h?l[J]=-1:l[J]=0;for(J=1;J<=4;J++)if(p=J,q=0,r=4!=J?J+1:1,0!=(s=D[l[p]+1][l[q]+1][l[r]+1])){switch(s){case 1:x=m[p],z=n[p],y=m[q],A=n[q];break;case 2:x=m[q],z=n[q],y=m[r],A=n[r];break;case 3:x=m[r],z=n[r],y=m[p],A=n[p];break;case 4:x=m[p],z=n[p],y=v(q,r),A=w(q,r);break;case 5:x=m[q],z=n[q],y=v(r,p),A=w(r,p);break;case 6:x=m[r],z=n[r],y=v(p,q),A=w(p,q);break;case 7:x=v(p,q),z=w(p,q),y=v(q,r),A=w(q,r);break;case 8:x=v(q,r),z=w(q,r),y=v(r,p),A=w(r,p);break;case 9:x=v(r,p),z=w(r,p),y=v(p,q),A=w(p,q)}o(x,z,y,A,j[I],I)}}}}},{}],189:[function(a,b,c){var d=a("@turf/tin"),e=a("@turf/inside"),f=a("@turf/point-grid"),g=a("@turf/distance"),h=a("@turf/bbox"),i=a("@turf/planepoint"),j=a("@turf/helpers").featureCollection,k=a("@turf/helpers").lineString,l=a("@turf/helpers").point,m=a("@turf/square"),n=a("./conrec");b.exports=function(a,b,c,o){for(var p=d(a,b),q=h(a),r=m(q),s=g(l([r[0],r[1]]),l([r[2],r[1]]),"kilometers")/c,t=f(r,s,"kilometers"),u=[],v=0;v<t.features.length;v++)for(var w=t.features[v],x=0;x<p.features.length;x++){var y=p.features[x];e(w,y)&&(w.properties={},w.properties[b]=i(w,y))}for(var z=Math.sqrt(t.features.length),A=0;A<z;A++){for(var B=t.features.slice(A*z,(A+1)*z),C=[],D=0;D<B.length;D++)B[D].properties?C.push(B[D].properties[b]):C.push(0);u.push(C)}for(var E=(r[2]-r[0])/z,F=[],G=[],H=0;H<z;H++)F.push(H*E+r[0]),G.push(H*E+r[1]);var I=new n;I.contour(u,0,c,0,c,F,G,o.length,o);var J=I.contourList(),K=j([]);return J.forEach(function(a){if(a.length>2){var c=[];a.forEach(function(a){c.push([a.x,a.y])});var d=k(c);d.properties={},d.properties[b]=a.level,K.features.push(d)}}),K}},{"./conrec":188,"@turf/bbox":190,"@turf/distance":192,"@turf/helpers":195,"@turf/inside":196,"@turf/planepoint":198,"@turf/point-grid":199,"@turf/square":206,"@turf/tin":210}],190:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":191,dup:22}],191:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],192:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":193,"@turf/invariant":194,dup:8}],193:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],194:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],195:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],196:[function(a,b,c){arguments[4][92][0].apply(c,arguments)},{"@turf/invariant":197,dup:92}],197:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],198:[function(a,b,c){b.exports=function(a,b){var c=a.geometry.coordinates[0],d=a.geometry.coordinates[1],e=b.geometry.coordinates[0][0][0],f=b.geometry.coordinates[0][0][1],g=b.properties.a,h=b.geometry.coordinates[0][1][0],i=b.geometry.coordinates[0][1][1],j=b.properties.b,k=b.geometry.coordinates[0][2][0],l=b.geometry.coordinates[0][2][1],m=b.properties.c;return(m*(c-e)*(d-i)+g*(c-h)*(d-l)+j*(c-k)*(d-f)-j*(c-e)*(d-l)-m*(c-h)*(d-f)-g*(c-k)*(d-i))/((c-e)*(d-i)+(c-h)*(d-l)+(c-k)*(d-f)-(c-e)*(d-l)-(c-h)*(d-f)-(c-k)*(d-i))}},{}],199:[function(a,b,c){var d=a("@turf/helpers").point,e=a("@turf/helpers").featureCollection,f=a("@turf/distance"),g=a("@turf/bbox");b.exports=function(a,b,c,h){var i=[];if(!a)throw new Error("bbox is required");if(Array.isArray(a)||(a=g(a)),4!==a.length)throw new Error("bbox must contain 4 numbers");var j=a[0],k=a[1],l=a[2],m=a[3],n=b/f(d([j,k]),d([l,k]),c),o=n*(l-j),p=b/f(d([j,k]),d([j,m]),c),q=p*(m-k);if(!0===h)var r=l-j,s=m-k,t=Math.floor(r/o),u=Math.floor(s/q),v=(r-t*o)/2,w=(s-u*q)/2;var x=j;for(!0===h&&(x+=v);x<=l;){var y=k;for(!0===h&&(y+=w);y<=m;)i.push(d([x,y])),y+=q;x+=o}return e(i)}},{"@turf/bbox":200,"@turf/distance":202,"@turf/helpers":205}],200:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":201,dup:22}],201:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],202:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":203,"@turf/invariant":204,dup:8}],203:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],204:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],205:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],206:[function(a,b,c){var d=a("@turf/distance");b.exports=function(a){var b=a[0],c=a[1],e=a[2],f=a[3];if(d(a.slice(0,2),[e,c])>=d(a.slice(0,2),[b,f])){var g=(c+f)/2;return[b,g-(e-b)/2,e,g+(e-b)/2]}var h=(b+e)/2;return[h-(f-c)/2,c,h+(f-c)/2,f]}},{"@turf/distance":207}],207:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":208,"@turf/invariant":209,dup:8}],208:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],209:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],210:[function(a,b,c){arguments[4][102][0].apply(c,arguments)},{"@turf/helpers":211,dup:102}],211:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],212:[function(a,b,c){function d(a,b,c,d,e,f,g,h){var i,j,k,l,m,n={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(i=(h-f)*(c-a)-(g-e)*(d-b))?null!==n.x&&null!==n.y&&n:(j=b-f,k=a-e,l=(g-e)*j-(h-f)*k,m=(c-a)*j-(d-b)*k,j=l/i,k=m/i,n.x=a+j*(c-a),n.y=b+j*(d-b),j>=0&&j<=1&&(n.onLine1=!0),k>=0&&k<=1&&(n.onLine2=!0),!(!n.onLine1||!n.onLine2)&&[n.x,n.y])}var e=a("@turf/helpers").point;b.exports=function(a){var b,c,f={type:"FeatureCollection",features:[]};if(c="Feature"===a.type?a.geometry:a,"LineString"===c.type)b=[c.coordinates];else if("MultiLineString"===c.type)b=c.coordinates;else if("MultiPolygon"===c.type)b=[].concat.apply([],c.coordinates);else{if("Polygon"!==c.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");b=c.coordinates}return b.forEach(function(a){b.forEach(function(b){for(var c=0;c<a.length-1;c++)for(var g=0;g<b.length-1;g++)if(a!==b||1!==Math.abs(c-g)&&Math.abs(c-g)!==a.length-2){var h=d(a[c][0],a[c][1],a[c+1][0],a[c+1][1],b[g][0],b[g][1],b[g+1][0],b[g+1][1]);h&&f.features.push(e([h[0],h[1]]))}})}),f}},{"@turf/helpers":213}],213:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],214:[function(a,b,c){function d(a){var b=a%360;return b<0&&(b+=360),b}var e=a("@turf/destination"),f=a("@turf/circle"),g=a("@turf/helpers").lineString;b.exports=function(a,b,c,h,i,j){if(!a)throw new Error("center is required");if(void 0===c||null===c)throw new Error("bearing1 is required");if(void 0===h||null===h)throw new Error("bearing2 is required");if(!b)throw new Error("radius is required");i=i||64;var k=d(c),l=d(h),m=a.properties;if(k===l)return g(f(a,b,i,j).geometry.coordinates[0],m);for(var n=k,o=k<l?l:l+360,p=n,q=[],r=0;p<o;)q.push(e(a,b,p,j).geometry.coordinates),r++,p=n+360*r/i;return p>o&&q.push(e(a,b,o,j).geometry.coordinates),g(q,m)}},{"@turf/circle":215,"@turf/destination":220,"@turf/helpers":223}],215:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{"@turf/destination":216,"@turf/helpers":219,dup:30}],216:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":217,"@turf/invariant":218,dup:5}],217:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],218:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],219:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],220:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":221,"@turf/invariant":222,dup:5}],221:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],222:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],223:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],224:[function(a,b,c){function d(a,b,c){var d=[],g=f(a,c);if(g<=b)return[a];for(var h=Math.floor(g/b)+1,i=0;i<h;i++){var j=e(a,b*i,b*(i+1),c);d.push(j)}return d}var e=a("@turf/line-slice-along"),f=a("@turf/line-distance"),g=a("@turf/helpers").featureCollection,h=a("@turf/meta").featureEach,i=a("@turf/flatten");b.exports=function(a,b,c,e){var f=[],j=arguments[4];return h(a,function(a){"MultiLineString"===a.geometry.type&&(a=i(a)),h(a,function(a){e&&(a.geometry.coordinates=a.geometry.coordinates.reverse()),d(a,b,c).forEach(function(a,b){if(!0===j){var c=b%2==0?"F":"0",d=b%2==0?"0":"F";a.properties.stroke="#"+c+"0"+d,a.properties["stroke-width"]=6}f.push(a)})})}),g(f)}},{"@turf/flatten":225,"@turf/helpers":229,"@turf/line-distance":230,"@turf/line-slice-along":240,"@turf/meta":250}],225:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":226,"@turf/invariant":227,"@turf/meta":228,dup:152}],226:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],227:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],228:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],229:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],230:[function(a,b,c){function d(a,b){var c=0;g(a,function(a){g(j(a),function(a){h(a,function(d,e){var f=k([d,e],a.properties);return b(f,c),c++,e})})})}function e(a,b,c){var e=c;return d(a,function(a,d){e=0===d&&void 0===c?a:b(e,a,d)}),e}var f=a("@turf/distance"),g=a("@turf/meta").featureEach,h=a("@turf/meta").coordReduce,i=a("@turf/meta").geomEach,j=a("@turf/flatten"),k=a("@turf/helpers").lineString,l=a("@turf/helpers").point;b.exports=function(a,b){if(!a)throw new Error("geojson is required");return i(a,function(a){if("Point"===a.type)throw new Error("geojson cannot be a Point");if("MultiPoint"===a.type)throw new Error("geojson cannot be a MultiPoint")}),e(a,function(a,c){var d=c.geometry.coordinates,e=l(d[0]),g=l(d[1]);return a+f(e,g,b)},0)}},{"@turf/distance":231,"@turf/flatten":234,"@turf/helpers":238,"@turf/meta":239}],231:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":232,"@turf/invariant":233,dup:8}],232:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],233:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],234:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":235,"@turf/invariant":236,"@turf/meta":237,dup:152}],235:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],236:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],237:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],238:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],239:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],240:[function(a,b,c){var d=a("@turf/bearing"),e=a("@turf/distance"),f=a("@turf/destination"),g=a("@turf/helpers").lineString;b.exports=function(a,b,c,h){var i,j=[];if("Feature"===a.type)i=a.geometry.coordinates;else{if("LineString"!==a.type)throw new Error("input must be a LineString Feature or Geometry");i=a.coordinates}for(var k,l,m,n=0,o=0;o<i.length&&!(b>=n&&o===i.length-1);o++){if(n>b&&0===j.length){if(!(k=b-n))return j.push(i[o]),g(j);l=d(i[o],i[o-1])-180,m=f(i[o],k,l,h),j.push(m.geometry.coordinates)}if(n>=c)return(k=c-n)?(l=d(i[o],i[o-1])-180,m=f(i[o],k,l,h),j.push(m.geometry.coordinates),g(j)):(j.push(i[o]),g(j));if(n>=b&&j.push(i[o]),o===i.length-1)return g(j);n+=e(i[o],i[o+1],h)}return g(i[i.length-1])}},{"@turf/bearing":241,"@turf/destination":243,"@turf/distance":246,"@turf/helpers":249}],241:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":242,dup:3}],242:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],243:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":244,"@turf/invariant":245,dup:5}],244:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],245:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],246:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":247,"@turf/invariant":248,dup:8}],247:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],248:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],249:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],250:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],251:[function(a,b,c){arguments[4][230][0].apply(c,arguments)},{"@turf/distance":252,"@turf/flatten":255,"@turf/helpers":259,"@turf/meta":260,dup:230}],252:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":253,"@turf/invariant":254,dup:8}],253:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],254:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],255:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":256,"@turf/invariant":257,"@turf/meta":258,dup:152}],256:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],257:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],258:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],259:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],260:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],261:[function(a,b,c){function d(a,b){var c=h(a),d=h(b);if(2!==c.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==d.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var e=c[0][0],f=c[0][1],g=c[1][0],i=c[1][1],k=d[0][0],l=d[0][1],m=d[1][0],n=d[1][1],o=(n-l)*(g-e)-(m-k)*(i-f),p=(m-k)*(f-l)-(n-l)*(e-k),q=(g-e)*(f-l)-(i-f)*(e-k);if(0===o)return null;var r=p/o,s=q/o;return r>=0&&r<=1&&s>=0&&s<=1?j([e+r*(g-e),f+r*(i-f)]):null}var e=a("@turf/meta"),f=a("geojson-rbush"),g=a("@turf/helpers"),h=a("@turf/invariant").getCoords,i=a("@turf/line-segment"),j=g.point,k=e.featureEach,l=g.featureCollection;b.exports=function(a,b){var c={},e=[];if("LineString"===a.geometry.type&&"LineString"===b.geometry.type&&2===a.geometry.coordinates.length&&2===b.geometry.coordinates.length){var g=d(a,b);return g&&e.push(g),l(e)}var j=f();return j.load(i(b)),k(i(a),function(a){k(j.search(a),function(b){var f=d(a,b);if(f){var g=h(f).join(",");c[g]||(c[g]=!0,e.push(f))}})}),l(e)}},{"@turf/helpers":264,"@turf/invariant":265,"@turf/line-segment":266,"@turf/meta":274,"geojson-rbush":275}],262:[function(a,b,c){var d=a("@turf/meta").coordEach;b.exports=function(a){var b=[1/0,1/0,-1/0,-1/0];return d(a,function(a){b[0]>a[0]&&(b[0]=a[0]),b[1]>a[1]&&(b[1]=a[1]),b[2]<a[0]&&(b[2]=a[0]),b[3]<a[1]&&(b[3]=a[1])}),b}},{"@turf/meta":263}],263:[function(a,b,c){function d(a,b,c){var e,f,g,h,i,j,k,l,m,n,o=0,p=0,q="FeatureCollection"===a.type,r="Feature"===a.type,s=q?a.features.length:1;for(e=0;e<s;e++)for(m=q?a.features[e].geometry:r?a.geometry:a,n="GeometryCollection"===m.type,k=n?m.geometries.length:1,h=0;h<k;h++)if(j=n?m.geometries[h]:m,l=j.coordinates,o=!c||"Polygon"!==j.type&&"MultiPolygon"!==j.type?0:1,"Point"===j.type)b(l,p),p++;else if("LineString"===j.type||"MultiPoint"===j.type)for(f=0;f<l.length;f++)b(l[f],p),p++;else if("Polygon"===j.type||"MultiLineString"===j.type)for(f=0;f<l.length;f++)for(g=0;g<l[f].length-o;g++)b(l[f][g],p),p++;else if("MultiPolygon"===j.type)for(f=0;f<l.length;f++)for(g=0;g<l[f].length;g++)for(i=0;i<l[f][g].length-o;i++)b(l[f][g][i],p),p++;else{if("GeometryCollection"!==j.type)throw new Error("Unknown Geometry Type");for(f=0;f<j.geometries.length;f++)d(j.geometries[f],b,c)}}function e(a,b,c,e){var f=c;return d(a,function(a,d){f=0===d&&void 0===c?a:b(f,a,d)},e),f}function f(a,b){var c;switch(a.type){case"FeatureCollection":for(c=0;c<a.features.length;c++)b(a.features[c].properties,c);break;case"Feature":b(a.properties,0)}}function g(a,b,c){var d=c;return f(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}function h(a,b){if("Feature"===a.type)b(a,0);else if("FeatureCollection"===a.type)for(var c=0;c<a.features.length;c++)b(a.features[c],c)}function i(a,b,c){var d=c;return h(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}function j(a){var b=[];return d(a,function(a){b.push(a)}),b}function k(a,b){var c,d,e,f,g,h,i,j=0,k="FeatureCollection"===a.type,l="Feature"===a.type,m=k?a.features.length:1;for(c=0;c<m;c++)for(h=k?a.features[c].geometry:l?a.geometry:a,i="GeometryCollection"===h.type,g=i?h.geometries.length:1,e=0;e<g;e++)if(f=i?h.geometries[e]:h,"Point"===f.type||"LineString"===f.type||"MultiPoint"===f.type||"Polygon"===f.type||"MultiLineString"===f.type||"MultiPolygon"===f.type)b(f,j),j++;else{if("GeometryCollection"!==f.type)throw new Error("Unknown Geometry Type");for(d=0;d<f.geometries.length;d++)b(f.geometries[d],j),j++}}function l(a,b,c){var d=c;return k(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}b.exports.coordEach=d,b.exports.coordReduce=e,b.exports.propEach=f,
b.exports.propReduce=g,b.exports.featureEach=h,b.exports.featureReduce=i,b.exports.coordAll=j,b.exports.geomEach=k,b.exports.geomReduce=l},{}],264:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],265:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],266:[function(a,b,c){function d(a,b){var c=[];return a.reduce(function(a,d){var f=h([a,d],b);return f.bbox=e(a,d),c.push(f),d}),c}function e(a,b){var c=a[0],d=a[1],e=b[0],f=b[1];return[c<e?c:e,d<f?d:f,c>e?c:e,d>f?d:f]}var f=a("@turf/flatten"),g=a("@turf/meta").featureEach,h=a("@turf/helpers").lineString,i=a("@turf/helpers").featureCollection,j=a("@turf/invariant").getCoords;b.exports=function(a){var b=[],c=0;return g(a,function(a){g(f(a),function(a){var e=[];switch(a.geometry?a.geometry.type:a.type){case"Polygon":e=j(a);break;case"LineString":e=[j(a)]}e.forEach(function(e){d(e,a.properties).forEach(function(a){a.id=c,b.push(a),c++})})})}),i(b)}},{"@turf/flatten":267,"@turf/helpers":271,"@turf/invariant":272,"@turf/meta":273}],267:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":268,"@turf/invariant":269,"@turf/meta":270,dup:152}],268:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],269:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],270:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],271:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],272:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],273:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],274:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],275:[function(a,b,c){var d=a("@turf/bbox"),e=a("@turf/helpers").featureCollection,f=a("@turf/meta").featureEach,g=a("rbush");b.exports=function(a){var b=g(a);return b.insert=function(a){return a.bbox=a.bbox?a.bbox:d(a),g.prototype.insert.call(this,a)},b.load=function(a){var b=[];return f(a,function(a){a.bbox=a.bbox?a.bbox:d(a),b.push(a)}),g.prototype.load.call(this,b)},b.remove=function(a){return g.prototype.remove.call(this,a)},b.clear=function(){return g.prototype.clear.call(this)},b.search=function(a){var b=g.prototype.search.call(this,this.toBBox(a));return e(b)},b.collides=function(a){return g.prototype.collides.call(this,this.toBBox(a))},b.all=function(){var a=g.prototype.all.call(this);return e(a)},b.toJSON=function(){return g.prototype.toJSON.call(this)},b.fromJSON=function(a){return g.prototype.fromJSON.call(this,a)},b.toBBox=function(a){var b=a.bbox?a.bbox:d(a);return{minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]}},b}},{"@turf/bbox":262,"@turf/helpers":276,"@turf/meta":277,rbush:279}],276:[function(a,b,c){function d(a,b){if(!a)throw new Error("No geometry passed");return{type:"Feature",properties:b||{},geometry:a}}b.exports.feature=d,b.exports.point=function(a,b){if(!a)throw new Error("No coordinates passed");if(void 0===a.length)throw new Error("Coordinates must be an array");if(a.length<2)throw new Error("Coordinates must be at least 2 numbers long");if("number"!=typeof a[0]||"number"!=typeof a[1])throw new Error("Coordinates must numbers");return d({type:"Point",coordinates:a},b)},b.exports.polygon=function(a,b){if(!a)throw new Error("No coordinates passed");for(var c=0;c<a.length;c++){var e=a[c];if(e.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<e[e.length-1].length;f++)if(e[e.length-1][f]!==e[0][f])throw new Error("First and last Position are not equivalent.")}return d({type:"Polygon",coordinates:a},b)},b.exports.lineString=function(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"LineString",coordinates:a},b)},b.exports.featureCollection=function(a){if(!a)throw new Error("No features passed");return{type:"FeatureCollection",features:a}},b.exports.multiLineString=function(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"MultiLineString",coordinates:a},b)},b.exports.multiPoint=function(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"MultiPoint",coordinates:a},b)},b.exports.multiPolygon=function(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"MultiPolygon",coordinates:a},b)},b.exports.geometryCollection=function(a,b){if(!a)throw new Error("No geometries passed");return d({type:"GeometryCollection",geometries:a},b)};var e={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:20908792.65};b.exports.radiansToDistance=function(a,b){var c=e[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a*c},b.exports.distanceToRadians=function(a,b){var c=e[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a/c},b.exports.distanceToDegrees=function(a,b){var c=e[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a/c*57.2958}},{}],277:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],278:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],279:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:278}],280:[function(a,b,c){function d(a,b){var c=f(b),d=f(a),e=d[0],g=d[d.length-1];return h(c[0],e)?a.geometry.coordinates.unshift(c[1]):h(c[0],g)?a.geometry.coordinates.push(c[1]):h(c[1],e)?a.geometry.coordinates.unshift(c[0]):h(c[1],g)&&a.geometry.coordinates.push(c[0]),a}var e=a("@turf/line-segment"),f=a("@turf/invariant").getCoords,g=a("geojson-rbush"),h=a("deep-equal"),i=a("@turf/helpers").featureCollection,j=a("@turf/meta").featureEach;b.exports=function(a,b){var c=[],k=g();k.load(e(a));var l;return j(e(b),function(a){var b=!1;j(k.search(a),function(c){if(!1===b){var e=f(a).sort(),g=f(c).sort();h(e,g)&&(b=!0,l=l?d(l,a):a)}}),!1===b&&l&&(c.push(l),l=void 0)}),l&&c.push(l),i(c)}},{"@turf/helpers":283,"@turf/invariant":284,"@turf/line-segment":285,"@turf/meta":293,"deep-equal":294,"geojson-rbush":297}],281:[function(a,b,c){arguments[4][262][0].apply(c,arguments)},{"@turf/meta":282,dup:262}],282:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],283:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],284:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],285:[function(a,b,c){arguments[4][266][0].apply(c,arguments)},{"@turf/flatten":286,"@turf/helpers":290,"@turf/invariant":291,"@turf/meta":292,dup:266}],286:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":287,"@turf/invariant":288,"@turf/meta":289,dup:152}],287:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],288:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],289:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],290:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],291:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],292:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],293:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],294:[function(a,b,c){function d(a){return null===a||void 0===a}function e(a){return!(!a||"object"!=typeof a||"number"!=typeof a.length||"function"!=typeof a.copy||"function"!=typeof a.slice||a.length>0&&"number"!=typeof a[0])}function f(a,b,c){var f,k;if(d(a)||d(b))return!1;if(a.prototype!==b.prototype)return!1;if(i(a))return!!i(b)&&(a=g.call(a),b=g.call(b),j(a,b,c));if(e(a)){if(!e(b))return!1;if(a.length!==b.length)return!1;for(f=0;f<a.length;f++)if(a[f]!==b[f])return!1;return!0}try{var l=h(a),m=h(b)}catch(a){return!1}if(l.length!=m.length)return!1;for(l.sort(),m.sort(),f=l.length-1;f>=0;f--)if(l[f]!=m[f])return!1;for(f=l.length-1;f>=0;f--)if(k=l[f],!j(a[k],b[k],c))return!1;return typeof a==typeof b}var g=Array.prototype.slice,h=a("./lib/keys.js"),i=a("./lib/is_arguments.js"),j=b.exports=function(a,b,c){return c||(c={}),a===b||(a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():!a||!b||"object"!=typeof a&&"object"!=typeof b?c.strict?a===b:a==b:f(a,b,c))}},{"./lib/is_arguments.js":295,"./lib/keys.js":296}],295:[function(a,b,c){function d(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function e(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}var f="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();c=b.exports=f?d:e,c.supported=d,c.unsupported=e},{}],296:[function(a,b,c){function d(a){var b=[];for(var c in a)b.push(c);return b}c=b.exports="function"==typeof Object.keys?Object.keys:d,c.shim=d},{}],297:[function(a,b,c){arguments[4][275][0].apply(c,arguments)},{"@turf/bbox":281,"@turf/helpers":298,"@turf/meta":299,dup:275,rbush:301}],298:[function(a,b,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],299:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],300:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],301:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:300}],302:[function(a,b,c){arguments[4][266][0].apply(c,arguments)},{"@turf/flatten":303,"@turf/helpers":307,"@turf/invariant":308,"@turf/meta":309,dup:266}],303:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":304,"@turf/invariant":305,"@turf/meta":306,dup:152}],304:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],305:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],306:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],307:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],308:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],309:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],310:[function(a,b,c){arguments[4][240][0].apply(c,arguments)},{"@turf/bearing":311,"@turf/destination":313,"@turf/distance":316,"@turf/helpers":319,dup:240}],311:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":312,dup:3}],312:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],313:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":314,"@turf/invariant":315,dup:5}],314:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],315:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],316:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":317,"@turf/invariant":318,dup:8}],317:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],318:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],319:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],320:[function(a,b,c){var d=a("@turf/helpers").lineString,e=a("@turf/point-on-line");b.exports=function(a,b,c){var f;if("Feature"===c.type)f=c.geometry.coordinates;else{if("LineString"!==c.type)throw new Error("input must be a LineString Feature or Geometry");f=c.coordinates}var g,h=e(c,a),i=e(c,b);g=h.properties.index<=i.properties.index?[h,i]:[i,h];for(var j=d([g[0].geometry.coordinates],{}),k=g[0].properties.index+1;k<g[1].properties.index+1;k++)j.geometry.coordinates.push(f[k]);return j.geometry.coordinates.push(g[1].geometry.coordinates),j}},{"@turf/helpers":321,"@turf/point-on-line":322}],321:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],322:[function(a,b,c){var d=a("@turf/distance"),e=a("@turf/helpers"),f=a("@turf/bearing"),g=a("@turf/destination"),h=a("@turf/line-intersect"),i=e.point,j=e.lineString;b.exports=function(a,b,c){var e;if("Feature"===a.type)e=a.geometry.coordinates;else{if("LineString"!==a.type)throw new Error("input must be a LineString Feature or Geometry");e=a.coordinates}for(var k=i([1/0,1/0],{dist:1/0}),l=0,m=0;m<e.length-1;m++){var n=i(e[m]),o=i(e[m+1]);n.properties.dist=d(b,n,c),o.properties.dist=d(b,o,c);var p=d(n,o,c),q=Math.max(n.properties.dist,o.properties.dist),r=f(n,o),s=g(b,q,r+90,c),t=g(b,q,r-90,c),u=h(j([s.geometry.coordinates,t.geometry.coordinates]),j([n.geometry.coordinates,o.geometry.coordinates])),v=null;u.features.length>0&&(v=u.features[0],v.properties.dist=d(b,v,c),v.properties.location=l+d(n,k,c)),n.properties.dist<k.properties.dist&&(k=n,k.properties.index=m,k.properties.location=l),o.properties.dist<k.properties.dist&&(k=o,k.properties.index=m+1,k.properties.location=l+p),v&&v.properties.dist<k.properties.dist&&(k=v,k.properties.index=m),l+=p}return k}},{"@turf/bearing":323,"@turf/destination":325,"@turf/distance":328,"@turf/helpers":331,"@turf/line-intersect":332}],323:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":324,dup:3}],324:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],325:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":326,"@turf/invariant":327,dup:5}],326:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],327:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],328:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":329,"@turf/invariant":330,dup:8}],329:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],330:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],331:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],332:[function(a,b,c){arguments[4][261][0].apply(c,arguments)},{"@turf/helpers":335,"@turf/invariant":336,"@turf/line-segment":337,"@turf/meta":345,dup:261,"geojson-rbush":346}],333:[function(a,b,c){arguments[4][262][0].apply(c,arguments)},{"@turf/meta":334,dup:262}],334:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],335:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],336:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],337:[function(a,b,c){arguments[4][266][0].apply(c,arguments)},{"@turf/flatten":338,"@turf/helpers":342,"@turf/invariant":343,"@turf/meta":344,dup:266}],338:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":339,"@turf/invariant":340,"@turf/meta":341,dup:152}],339:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],340:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],341:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],342:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],343:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],344:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],345:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],346:[function(a,b,c){arguments[4][275][0].apply(c,arguments)},{"@turf/bbox":333,"@turf/helpers":347,"@turf/meta":348,dup:275,rbush:350}],347:[function(a,b,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],348:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],349:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],350:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:349}],351:[function(a,b,c){function d(a){return a.geometry?a.geometry.type:a.type}function e(a,b){var c=[],d=m();return r(b,function(b){if(c.forEach(function(a,b){a.id=b}),c.length){var e=d.search(b),h=g(b,e);c=c.filter(function(a){return a.id!==h.id}),d.remove(h),r(f(h,b),function(a){c.push(a),d.insert(a)})}else c=f(a,b).features,d.load(o(c))}),o(c)}function f(a,b){var c=[],d=m(),e=j(a);d.load(e);var f=d.search(b);if(!f.features.length)return o([a]);var h=g(b,f),i=[k(e.features[0])[0]],l=s(e,function(a,d,e){var f=k(d)[1],g=k(b);return e===h.id?(a.push(g),c.push(p(a)),g[0]===f[0]&&g[1]===f[1]?[g]:[g,f]):(a.push(f),a)},i);return l.length>1&&c.push(p(l)),o(c)}function g(a,b){var c,d;if(!b.features)throw new Error("<lines> must contain features");return 1===b.features.length?b.features[0]:(r(b,function(b){var e=i(b,a),f=e.properties.dist;void 0===c?(d=b,c=f):f<c&&(d=b,c=f)}),d)}var h=a("@turf/flatten"),i=a("@turf/point-on-line"),j=a("@turf/line-segment"),k=a("@turf/invariant").getCoords,l=a("@turf/line-intersect"),m=a("geojson-rbush"),n=a("@turf/helpers"),o=n.featureCollection,p=n.lineString,q=a("@turf/meta"),r=q.featureEach,s=q.featureReduce;b.exports=function(a,b){if("LineString"!==d(a))throw new Error("<line> must be LineString");if("FeatureCollection"===d(b))throw new Error("<splitter> cannot be a FeatureCollection");switch(d(b)){case"Point":return f(a,b);case"MultiPoint":return e(a,h(b));case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return e(a,l(a,b));default:throw new Error("<splitter> geometry type is not supported")}}},{"@turf/flatten":354,"@turf/helpers":358,"@turf/invariant":359,"@turf/line-intersect":360,"@turf/line-segment":379,"@turf/meta":387,"@turf/point-on-line":388,"geojson-rbush":417}],352:[function(a,b,c){arguments[4][262][0].apply(c,arguments)},{"@turf/meta":353,dup:262}],353:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],354:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":355,"@turf/invariant":356,"@turf/meta":357,dup:152}],355:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],356:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],357:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],358:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],359:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],360:[function(a,b,c){arguments[4][261][0].apply(c,arguments)},{"@turf/helpers":363,"@turf/invariant":364,"@turf/line-segment":365,"@turf/meta":373,dup:261,"geojson-rbush":374}],361:[function(a,b,c){arguments[4][262][0].apply(c,arguments)},{"@turf/meta":362,dup:262}],362:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],363:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],364:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],365:[function(a,b,c){arguments[4][266][0].apply(c,arguments)},{"@turf/flatten":366,"@turf/helpers":370,"@turf/invariant":371,"@turf/meta":372,dup:266}],366:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":367,"@turf/invariant":368,"@turf/meta":369,dup:152}],367:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],368:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],369:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],370:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],371:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],372:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],373:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],374:[function(a,b,c){arguments[4][275][0].apply(c,arguments)},{"@turf/bbox":361,"@turf/helpers":375,"@turf/meta":376,dup:275,rbush:378}],375:[function(a,b,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],376:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],377:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],378:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:377}],379:[function(a,b,c){arguments[4][266][0].apply(c,arguments)},{"@turf/flatten":380,"@turf/helpers":384,"@turf/invariant":385,"@turf/meta":386,dup:266}],380:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":381,"@turf/invariant":382,"@turf/meta":383,dup:152}],381:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],382:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],383:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],384:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],385:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],386:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],387:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],388:[function(a,b,c){arguments[4][322][0].apply(c,arguments)},{"@turf/bearing":389,"@turf/destination":391,"@turf/distance":394,"@turf/helpers":397,"@turf/line-intersect":398,dup:322}],389:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":390,dup:3}],390:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],391:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":392,"@turf/invariant":393,dup:5}],392:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],393:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],394:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":395,"@turf/invariant":396,dup:8}],395:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],396:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],397:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],398:[function(a,b,c){arguments[4][261][0].apply(c,arguments)},{"@turf/helpers":401,"@turf/invariant":402,"@turf/line-segment":403,"@turf/meta":411,dup:261,"geojson-rbush":412}],399:[function(a,b,c){arguments[4][262][0].apply(c,arguments)},{"@turf/meta":400,dup:262}],400:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],401:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],402:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],403:[function(a,b,c){arguments[4][266][0].apply(c,arguments)},{"@turf/flatten":404,"@turf/helpers":408,"@turf/invariant":409,"@turf/meta":410,dup:266}],404:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":405,"@turf/invariant":406,"@turf/meta":407,dup:152}],405:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],406:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],407:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],408:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],409:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],410:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],411:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],412:[function(a,b,c){arguments[4][275][0].apply(c,arguments)},{"@turf/bbox":399,"@turf/helpers":413,"@turf/meta":414,dup:275,rbush:416}],413:[function(a,b,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],414:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],415:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],416:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:415}],417:[function(a,b,c){arguments[4][275][0].apply(c,arguments)},{"@turf/bbox":352,"@turf/helpers":418,"@turf/meta":419,dup:275,rbush:421}],418:[function(a,b,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],419:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],420:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],421:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:420}],422:[function(a,b,c){function d(a,b,c,d){b=b||a.properties||{};var j=i(a),l=e(a);if(!j.length)throw new Error("line must contain coordinates");switch(l){case"LineString":return c&&(j=f(j)),k([j],b);case"MultiLineString":var n=[],o=0;return j.forEach(function(a){if(c&&(a=f(a)),d){var b=g(h(m(a)));b>o?(n.unshift(a),o=b):n.push(a)}else n.push(a)}),k(n,b);default:throw new Error("geometry type "+l+" is not supported")}}function e(a){return a.geometry?a.geometry.type:a.type}function f(a){var b=a[0],c=b[0],d=b[1],e=a[a.length-1],f=e[0],g=e[1];return c===f&&d===g||a.push(b),a}function g(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.abs(b-d)*Math.abs(c-e)}var h=a("@turf/bbox"),i=a("@turf/invariant").getCoords,j=a("@turf/helpers"),k=j.polygon,l=j.multiPolygon,m=j.lineString;b.exports=function(a,b,c,f){if(!a)throw new Error("lines is required");switch(c=void 0===c||c,f=void 0===f||f,e(a)){case"FeatureCollection":case"GeometryCollection":var g=[];return(a.features?a.features:a.geometries).forEach(function(a){g.push(i(d(a,{},c,f)))}),l(g,b)}return d(a,b,c,f)}},{"@turf/bbox":423,"@turf/helpers":425,"@turf/invariant":426}],423:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":424,dup:22}],424:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],425:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],426:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],427:[function(a,b,c){function d(a,b,c){var d=[];return d.push(a.geometry.coordinates[0]),k(b,function(a){d.push(a.geometry.coordinates[0])}),k(c,function(a){d.push(a.geometry.coordinates[0])}),n.polygon(d)}function e(a){var b=[],c=[];return k(a,function(a){"MultiPolygon"===a.geometry.type&&(a=f(a)),k(a,function(a){var d=a.geometry.coordinates,e=d[0],f=d.slice(1);b.push(n.polygon([e])),f.forEach(function(a){c.push(n.polygon([a]))})})}),[n.featureCollection(b),n.featureCollection(c)]}function f(a){var b=[];return a.geometry.coordinates.forEach(function(a){b.push(n.polygon(a))}),n.featureCollection(b)}function g(a){var b=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]],c=a&&a.geometry.coordinates||b;return n.polygon(c)}function h(a){if(a.features.length<=1)return a;var b=j(a),c=[],d={};return k(a,function(a,e){if(d[e])return!0;for(b.remove({index:e},i),d[e]=!0;;){var f=m(a),g=b.search({minX:f[0],minY:f[1],maxX:f[2],maxY:f[3]});if(g.length>0){var h=g.map(function(a){return d[a.index]=!0,b.remove({index:a.index},i),a.geojson});h.push(a),a=o.apply(this,h)}if(0===g.length)break}c.push(a)}),n.featureCollection(c)}function i(a,b){return a.index===b.index}function j(a){var b=l(),c=[];return k(a,function(a,b){var d=m(a);c.push({minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],geojson:a,index:b})}),b.load(c),b}var k=a("@turf/meta").featureEach,l=a("rbush"),m=a("@turf/bbox"),n=a("@turf/helpers"),o=a("@turf/union");b.exports=function(a,b){var c=g(b),f=e(a),i=f[0],j=f[1];return i=h(i),j=h(j),d(c,i,j)}},{"@turf/bbox":428,"@turf/helpers":430,"@turf/meta":431,"@turf/union":432,rbush:435}],428:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":429,dup:22}],429:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],430:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],431:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],432:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38,jsts:433}],433:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],434:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],435:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:434}],436:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],437:[function(a,b,c){var d=a("@turf/bearing"),e=a("@turf/destination"),f=a("@turf/distance");b.exports=function(a,b){var c=f(a,b,"miles"),g=d(a,b);return e(a,c/2,g,"miles")}},{"@turf/bearing":438,"@turf/destination":440,"@turf/distance":443}],438:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":439,dup:3}],439:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],440:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":441,"@turf/invariant":442,dup:5}],441:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],442:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],443:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":444,"@turf/invariant":445,dup:8}],444:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],445:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],446:[function(a,b,c){var d=a("@turf/distance");b.exports=function(a,b){for(var c,e=1/0,f=0;f<b.features.length;f++){var g=d(a,b.features[f],"miles");g<e&&(c=b.features[f],e=g)}return c}},{"@turf/distance":447}],447:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":448,"@turf/invariant":449,dup:8}],448:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],449:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],450:[function(a,b,c){arguments[4][198][0].apply(c,arguments)},{dup:198}],451:[function(a,b,c){arguments[4][199][0].apply(c,arguments)},{"@turf/bbox":452,"@turf/distance":454,"@turf/helpers":457,dup:199}],452:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":453,dup:22}],453:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],454:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":455,"@turf/invariant":456,dup:8}],455:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],456:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],457:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],458:[function(a,b,c){arguments[4][322][0].apply(c,arguments)},{"@turf/bearing":459,"@turf/destination":461,"@turf/distance":464,"@turf/helpers":467,"@turf/line-intersect":468,dup:322}],459:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":460,dup:3}],460:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],461:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":462,"@turf/invariant":463,dup:5}],462:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],463:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],464:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":465,"@turf/invariant":466,dup:8}],465:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],466:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],467:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],468:[function(a,b,c){arguments[4][261][0].apply(c,arguments)},{"@turf/helpers":471,"@turf/invariant":472,"@turf/line-segment":473,"@turf/meta":481,dup:261,"geojson-rbush":482}],469:[function(a,b,c){arguments[4][262][0].apply(c,arguments)},{"@turf/meta":470,dup:262}],470:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],471:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],472:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],473:[function(a,b,c){arguments[4][266][0].apply(c,arguments)},{"@turf/flatten":474,"@turf/helpers":478,"@turf/invariant":479,"@turf/meta":480,dup:266}],474:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":475,"@turf/invariant":476,"@turf/meta":477,dup:152}],475:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],476:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],477:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],478:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],479:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],480:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],481:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],482:[function(a,b,c){arguments[4][275][0].apply(c,arguments)},{"@turf/bbox":469,"@turf/helpers":483,"@turf/meta":484,dup:275,rbush:486}],483:[function(a,b,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],484:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],485:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],486:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:485}],487:[function(a,b,c){function d(a){"FeatureCollection"!==a.type&&("Feature"!==a.type&&(a={type:"Feature",geometry:a,properties:{}}),a=f([a]));for(var b=g(a),c=!1,d=0;!c&&d<a.features.length;){var k,l,m,n,o,p,q,r=a.features[d].geometry,s=!1;if("Point"===r.type)b.geometry.coordinates[0]===r.coordinates[0]&&b.geometry.coordinates[1]===r.coordinates[1]&&(c=!0);else if("MultiPoint"===r.type){var t=!1;for(q=0;!t&&q<r.coordinates.length;)b.geometry.coordinates[0]===r.coordinates[q][0]&&b.geometry.coordinates[1]===r.coordinates[q][1]&&(c=!0,t=!0),q++}else if("LineString"===r.type)for(q=0;!s&&q<r.coordinates.length-1;)k=b.geometry.coordinates[0],l=b.geometry.coordinates[1],m=r.coordinates[q][0],n=r.coordinates[q][1],o=r.coordinates[q+1][0],p=r.coordinates[q+1][1],e(k,l,m,n,o,p)&&(s=!0,c=!0),
q++;else if("MultiLineString"===r.type)for(var u=0;u<r.coordinates.length;){s=!1,q=0;for(var v=r.coordinates[u];!s&&q<v.length-1;)k=b.geometry.coordinates[0],l=b.geometry.coordinates[1],m=v[q][0],n=v[q][1],o=v[q+1][0],p=v[q+1][1],e(k,l,m,n,o,p)&&(s=!0,c=!0),q++;u++}else if("Polygon"===r.type||"MultiPolygon"===r.type){var w={type:"Feature",geometry:r,properties:{}};i(b,w)&&(c=!0)}d++}if(c)return b;var x=f([]);for(d=0;d<a.features.length;d++)x.features=x.features.concat(j(a.features[d]).features);var y,z=1/0;for(d=0;d<x.features.length;d++){var A=h(b,x.features[d],"miles");A<z&&(z=A,y=x.features[d])}return y}function e(a,b,c,d,e,f){if(Math.sqrt((e-c)*(e-c)+(f-d)*(f-d))===Math.sqrt((a-c)*(a-c)+(b-d)*(b-d))+Math.sqrt((e-a)*(e-a)+(f-b)*(f-b)))return!0}var f=a("@turf/helpers").featureCollection,g=a("@turf/center"),h=a("@turf/distance"),i=a("@turf/inside"),j=a("@turf/explode");b.exports=d},{"@turf/center":488,"@turf/distance":492,"@turf/explode":495,"@turf/helpers":498,"@turf/inside":499}],488:[function(a,b,c){arguments[4][77][0].apply(c,arguments)},{"@turf/bbox":489,"@turf/helpers":491,dup:77}],489:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":490,dup:22}],490:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],491:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],492:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":493,"@turf/invariant":494,dup:8}],493:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],494:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],495:[function(a,b,c){arguments[4][72][0].apply(c,arguments)},{"@turf/helpers":496,"@turf/meta":497,dup:72}],496:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],497:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],498:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],499:[function(a,b,c){arguments[4][92][0].apply(c,arguments)},{"@turf/invariant":500,dup:92}],500:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],501:[function(a,b,c){function d(a,b){return a.length>1?i(a,b):h(a[0],b)}function e(a){return a.geometry?a.geometry.type:a.type}var f=a("@turf/invariant").getCoords,g=a("@turf/helpers"),h=g.lineString,i=g.multiLineString,j=g.featureCollection;b.exports=function(a,b){var c=e(a),g=f(a);if(b=b||a.properties||{},!g.length)throw new Error("polygon must contain coordinates");switch(c){case"Polygon":return d(g,b);case"MultiPolygon":var h=[];return g.forEach(function(a){h.push(d(a,b))}),j(h);default:throw new Error("geom "+c+" not supported")}}},{"@turf/helpers":502,"@turf/invariant":503}],502:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],503:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],504:[function(a,b,c){var d=a("geojson-random");b.exports=function(a,b,c){switch(c=c||{},b=b||1,a){case"point":case"points":case void 0:return d.point(b,c.bbox);case"polygon":case"polygons":return d.polygon(b,c.num_vertices,c.max_radial_length,c.bbox);default:throw new Error("Unknown type given: valid options are points and polygons")}}},{"geojson-random":505}],505:[function(a,b,c){function d(a){return a?k(a):[g(),h()]}function e(a){return function(b,c){return[b[0]+a[0],b[1]+a[1]]}}function f(){return Math.random()-.5}function g(){return 360*f()}function h(){return 180*f()}function j(a){return{type:"Point",coordinates:a||[g(),h()]}}function k(a){return[Math.random()*(a[2]-a[0])+a[0],Math.random()*(a[3]-a[1])+a[1]]}function l(a){return{type:"Polygon",coordinates:a}}function m(a){return{type:"Feature",geometry:a,properties:{}}}function n(a){return{type:"FeatureCollection",features:a}}b.exports=function(){throw new Error("call .point() or .polygon() instead")},b.exports.position=d,b.exports.point=function(a,b){var c=[];for(i=0;i<a;i++)c.push(m(b?j(d(b)):j()));return n(c)},b.exports.polygon=function(a,b,c,f){function g(a,b,c){c[b]=b>0?a+c[b-1]:a}function h(a,b){a=2*a*Math.PI/o[o.length-1];var d=Math.random();k.push([d*c*Math.sin(a),d*c*Math.cos(a)])}"number"!=typeof b&&(b=10),"number"!=typeof c&&(c=10);var j=[];for(i=0;i<a;i++){var k=[],o=Array.apply(null,new Array(b+1)).map(Math.random);o.forEach(g),o.forEach(h),k[k.length-1]=k[0],k=k.map(e(d(f))),j.push(m(l([k])))}return n(j)}},{}],506:[function(a,b,c){function d(a,b){for(var c,d,e=a.slice(0),f=a.length,g=f-b;f-- >g;)d=Math.floor((f+1)*Math.random()),c=e[d],e[d]=e[f],e[f]=c;return e.slice(g)}var e=a("@turf/helpers").featureCollection;b.exports=function(a,b){return e(d(a.features,b))}},{"@turf/helpers":507}],507:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],508:[function(a,b,c){function d(a){var b=a%360;return b<0&&(b+=360),b}var e=a("@turf/circle"),f=a("@turf/meta").coordEach,g=a("@turf/helpers"),h=a("@turf/invariant").getCoords,i=g.polygon,j=a("@turf/line-arc");b.exports=function(a,b,c,g,k,l){if(!a)throw new Error("center is required");if(void 0===c||null===c)throw new Error("bearing1 is required");if(void 0===g||null===g)throw new Error("bearing2 is required");if(!b)throw new Error("radius is required");if(k=k||64,d(c)===d(g))return e(a,b,k,l);var m=h(a),n=j(a,b,c,g,k,l),o=[[m]];return f(n,function(a){o[0].push(a)}),o[0].push(m),i(o)}},{"@turf/circle":509,"@turf/helpers":514,"@turf/invariant":515,"@turf/line-arc":516,"@turf/meta":526}],509:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{"@turf/destination":510,"@turf/helpers":513,dup:30}],510:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":511,"@turf/invariant":512,dup:5}],511:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],512:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],513:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],514:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],515:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],516:[function(a,b,c){arguments[4][214][0].apply(c,arguments)},{"@turf/circle":517,"@turf/destination":522,"@turf/helpers":525,dup:214}],517:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{"@turf/destination":518,"@turf/helpers":521,dup:30}],518:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":519,"@turf/invariant":520,dup:5}],519:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],520:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],521:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],522:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":523,"@turf/invariant":524,dup:5}],523:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],524:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],525:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],526:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],527:[function(a,b,c){function d(a,b,c){return"LineString"===a.geometry.type?{type:"LineString",coordinates:g(a.geometry.coordinates,b,c)}:"MultiLineString"===a.geometry.type?{type:"MultiLineString",coordinates:a.geometry.coordinates.map(function(a){return g(a,b,c)})}:"Polygon"===a.geometry.type?{type:"Polygon",coordinates:h(a.geometry.coordinates,b,c)}:"MultiPolygon"===a.geometry.type?{type:"MultiPolygon",coordinates:a.geometry.coordinates.map(function(a){return h(a,b,c)})}:a}function e(a){return!(a.length<3||3===a.length&&a[2][0]===a[0][0]&&a[2][1]===a[0][1])}function f(a,b){return{type:"Feature",geometry:a,properties:b}}function g(a,b,c){return i(a.map(function(a){return{x:a[0],y:a[1],z:a[2]}}),b,c).map(function(a){return a.z?[a.x,a.y,a.z]:[a.x,a.y]})}function h(a,b,c){return a.map(function(a){var d=a.map(function(a){return{x:a[0],y:a[1]}});if(d.length<4)throw new Error("Invalid polygon");for(var f=i(d,b,c).map(function(a){return[a.x,a.y]});!e(f);)b-=.01*b,f=i(d,b,c).map(function(a){return[a.x,a.y]});return f[f.length-1][0]===f[0][0]&&f[f.length-1][1]===f[0][1]||f.push(f[0]),f})}var i=a("simplify-js"),j=["LineString","MultiLineString","Polygon","MultiPolygon"];b.exports=function(a,b,c){return"Feature"===a.type?f(d(a,b,c),a.properties):"FeatureCollection"===a.type?{type:"FeatureCollection",features:a.features.map(function(a){var e=d(a,b,c);return j.indexOf(e.type)>-1?f(e,a.properties):e})}:"GeometryCollection"===a.type?{type:"GeometryCollection",geometries:a.geometries.map(function(a){return j.indexOf(a.type)>-1?d({type:"Feature",geometry:a},b,c):a})}:a}},{"simplify-js":528}],528:[function(b,c,d){!function(){"use strict";function b(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d}function d(a,b,c){var d=b.x,e=b.y,f=c.x-d,g=c.y-e;if(0!==f||0!==g){var h=((a.x-d)*f+(a.y-e)*g)/(f*f+g*g);h>1?(d=c.x,e=c.y):h>0&&(d+=f*h,e+=g*h)}return f=a.x-d,g=a.y-e,f*f+g*g}function e(a,c){for(var d,e=a[0],f=[e],g=1,h=a.length;g<h;g++)d=a[g],b(d,e)>c&&(f.push(d),e=d);return e!==d&&f.push(d),f}function f(a,b){var c,e,f,g,h=a.length,i="undefined"!=typeof Uint8Array?Uint8Array:Array,j=new i(h),k=0,l=h-1,m=[],n=[];for(j[k]=j[l]=1;l;){for(e=0,c=k+1;c<l;c++)(f=d(a[c],a[k],a[l]))>e&&(g=c,e=f);e>b&&(j[g]=1,m.push(k,g,g,l)),l=m.pop(),k=m.pop()}for(c=0;c<h;c++)j[c]&&n.push(a[c]);return n}function g(a,b,c){var d=void 0!==b?b*b:1;return a=c?a:e(a,d),a=f(a,d)}"function"==typeof a&&a.amd?a(function(){return g}):void 0!==c?c.exports=g:"undefined"!=typeof self?self.simplify=g:window.simplify=g}()},{}],529:[function(a,b,c){arguments[4][176][0].apply(c,arguments)},{"@turf/bbox":530,"@turf/distance":532,"@turf/helpers":535,dup:176}],530:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":531,dup:22}],531:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],532:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":533,"@turf/invariant":534,dup:8}],533:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],534:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],535:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],536:[function(a,b,c){arguments[4][206][0].apply(c,arguments)},{"@turf/distance":537,dup:206}],537:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":538,"@turf/invariant":539,dup:8}],538:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],539:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],540:[function(a,b,c){var d=a("@turf/inside");b.exports=function(a,b,c,e){return a=JSON.parse(JSON.stringify(a)),b=JSON.parse(JSON.stringify(b)),a.features.forEach(function(a){a.properties||(a.properties={}),b.features.forEach(function(b){void 0===a.properties[e]&&d(a,b)&&(a.properties[e]=b.properties[c])})}),a}},{"@turf/inside":541}],541:[function(a,b,c){arguments[4][92][0].apply(c,arguments)},{"@turf/invariant":542,dup:92}],542:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],543:[function(a,b,c){function d(a){var b=e(a),c=g(b.vertices,b.holes,2),d=[],h=[];c.forEach(function(a,d){var e=c[d];h.push([b.vertices[2*e],b.vertices[2*e+1]])});for(var i=0;i<h.length;i+=3){var j=h.slice(i,i+3);j.push(h[i]),d.push(f([j]))}return d}function e(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var g=0;g<b;g++)c.vertices.push(a[e][f][g]);e>0&&(d+=a[e-1].length,c.holes.push(d))}return c}var f=a("@turf/helpers").polygon,g=a("earcut");b.exports=function(a){if(!a.geometry||"Polygon"!==a.geometry.type&&"MultiPolygon"!==a.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var b={type:"FeatureCollection",features:[]};return"Polygon"===a.geometry.type?b.features=d(a.geometry.coordinates):a.geometry.coordinates.forEach(function(a){b.features=b.features.concat(d(a))}),b}},{"@turf/helpers":544,earcut:545}],544:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],545:[function(a,b,c){"use strict";function d(a,b,c){c=c||2;var d=b&&b.length,f=d?b[0]*c:a.length,h=e(a,0,f,c,!0),i=[];if(!h)return i;var j,k,m,n,o,p,q;if(d&&(h=l(a,b,h,c)),a.length>80*c){j=m=a[0],k=n=a[1];for(var r=c;r<f;r+=c)o=a[r],p=a[r+1],o<j&&(j=o),p<k&&(k=p),o>m&&(m=o),p>n&&(n=p);q=Math.max(m-j,n-k)}return g(h,i,c,j,k,q),i}function e(a,b,c,d,e){var f,g;if(e===F(a,b,c,d)>0)for(f=b;f<c;f+=d)g=C(f,a[f],a[f+1],g);else for(f=c-d;f>=b;f-=d)g=C(f,a[f],a[f+1],g);return g&&w(g,g.next)&&(D(g),g=g.next),g}function f(a,b){if(!a)return a;b||(b=a);var c,d=a;do{if(c=!1,d.steiner||!w(d,d.next)&&0!==v(d.prev,d,d.next))d=d.next;else{if(D(d),(d=b=d.prev)===d.next)return null;c=!0}}while(c||d!==b);return b}function g(a,b,c,d,e,l,m){if(a){!m&&l&&p(a,d,e,l);for(var n,o,q=a;a.prev!==a.next;)if(n=a.prev,o=a.next,l?i(a,d,e,l):h(a))b.push(n.i/c),b.push(a.i/c),b.push(o.i/c),D(a),a=o.next,q=o.next;else if((a=o)===q){m?1===m?(a=j(a,b,c),g(a,b,c,d,e,l,2)):2===m&&k(a,b,c,d,e,l):g(f(a),b,c,d,e,l,1);break}}}function h(a){var b=a.prev,c=a,d=a.next;if(v(b,c,d)>=0)return!1;for(var e=a.next.next;e!==a.prev;){if(t(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&v(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function i(a,b,c,d){var e=a.prev,f=a,g=a.next;if(v(e,f,g)>=0)return!1;for(var h=e.x<f.x?e.x<g.x?e.x:g.x:f.x<g.x?f.x:g.x,i=e.y<f.y?e.y<g.y?e.y:g.y:f.y<g.y?f.y:g.y,j=e.x>f.x?e.x>g.x?e.x:g.x:f.x>g.x?f.x:g.x,k=e.y>f.y?e.y>g.y?e.y:g.y:f.y>g.y?f.y:g.y,l=r(h,i,b,c,d),m=r(j,k,b,c,d),n=a.nextZ;n&&n.z<=m;){if(n!==a.prev&&n!==a.next&&t(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&v(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(n=a.prevZ;n&&n.z>=l;){if(n!==a.prev&&n!==a.next&&t(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&v(n.prev,n,n.next)>=0)return!1;n=n.prevZ}return!0}function j(a,b,c){var d=a;do{var e=d.prev,f=d.next.next;!w(e,f)&&x(e,d,d.next,f)&&z(e,f)&&z(f,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(f.i/c),D(d),D(d.next),d=a=f),d=d.next}while(d!==a);return d}function k(a,b,c,d,e,h){var i=a;do{for(var j=i.next.next;j!==i.prev;){if(i.i!==j.i&&u(i,j)){var k=B(i,j);return i=f(i,i.next),k=f(k,k.next),g(i,b,c,d,e,h),void g(k,b,c,d,e,h)}j=j.next}i=i.next}while(i!==a)}function l(a,b,c,d){var g,h,i,j,k,l=[];for(g=0,h=b.length;g<h;g++)i=b[g]*d,j=g<h-1?b[g+1]*d:a.length,k=e(a,i,j,d,!1),k===k.next&&(k.steiner=!0),l.push(s(k));for(l.sort(m),g=0;g<l.length;g++)n(l[g],c),c=f(c,c.next);return c}function m(a,b){return a.x-b.x}function n(a,b){if(b=o(a,b)){var c=B(b,a);f(c,c.next)}}function o(a,b){var c,d=b,e=a.x,f=a.y,g=-1/0;do{if(f<=d.y&&f>=d.next.y){var h=d.x+(f-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(h<=e&&h>g){if(g=h,h===e){if(f===d.y)return d;if(f===d.next.y)return d.next}c=d.x<d.next.x?d:d.next}}d=d.next}while(d!==b);if(!c)return null;if(e===g)return c.prev;var i,j=c,k=c.x,l=c.y,m=1/0;for(d=c.next;d!==j;)e>=d.x&&d.x>=k&&t(f<l?e:g,f,k,l,f<l?g:e,f,d.x,d.y)&&((i=Math.abs(f-d.y)/(e-d.x))<m||i===m&&d.x>c.x)&&z(d,a)&&(c=d,m=i),d=d.next;return c}function p(a,b,c,d){var e=a;do{null===e.z&&(e.z=r(e.x,e.y,b,c,d)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next}while(e!==a);e.prevZ.nextZ=null,e.prevZ=null,q(e)}function q(a){var b,c,d,e,f,g,h,i,j=1;do{for(c=a,a=null,f=null,g=0;c;){for(g++,d=c,h=0,b=0;b<j&&(h++,d=d.nextZ);b++);for(i=j;h>0||i>0&&d;)0===h?(e=d,d=d.nextZ,i--):0!==i&&d?c.z<=d.z?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,i--):(e=c,c=c.nextZ,h--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null,j*=2}while(g>1);return a}function r(a,b,c,d,e){return a=32767*(a-c)/e,b=32767*(b-d)/e,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1}function s(a){var b=a,c=a;do{b.x<c.x&&(c=b),b=b.next}while(b!==a);return c}function t(a,b,c,d,e,f,g,h){return(e-g)*(b-h)-(a-g)*(f-h)>=0&&(a-g)*(d-h)-(c-g)*(b-h)>=0&&(c-g)*(f-h)-(e-g)*(d-h)>=0}function u(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!y(a,b)&&z(a,b)&&z(b,a)&&A(a,b)}function v(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function w(a,b){return a.x===b.x&&a.y===b.y}function x(a,b,c,d){return!!(w(a,b)&&w(c,d)||w(a,d)&&w(c,b))||v(a,b,c)>0!=v(a,b,d)>0&&v(c,d,a)>0!=v(c,d,b)>0}function y(a,b){var c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&x(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}function z(a,b){return v(a.prev,a,a.next)<0?v(a,b,a.next)>=0&&v(a,a.prev,b)>=0:v(a,b,a.prev)<0||v(a,a.next,b)<0}function A(a,b){var c=a,d=!1,e=(a.x+b.x)/2,f=(a.y+b.y)/2;do{c.y>f!=c.next.y>f&&e<(c.next.x-c.x)*(f-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next}while(c!==a);return d}function B(a,b){var c=new E(a.i,a.x,a.y),d=new E(b.i,b.x,b.y),e=a.next,f=b.prev;return a.next=b,b.prev=a,c.next=e,e.prev=c,d.next=c,c.prev=d,f.next=d,d.prev=f,d}function C(a,b,c,d){var e=new E(a,b,c);return d?(e.next=d.next,e.prev=d,d.next.prev=e,d.next=e):(e.prev=e,e.next=e),e}function D(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function E(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function F(a,b,c,d){for(var e=0,f=b,g=c-d;f<c;f+=d)e+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f;return e}b.exports=d,d.deviation=function(a,b,c,d){var e=b&&b.length,f=e?b[0]*c:a.length,g=Math.abs(F(a,0,f,c));if(e)for(var h=0,i=b.length;h<i;h++){var j=b[h]*c,k=h<i-1?b[h+1]*c:a.length;g-=Math.abs(F(a,j,k,c))}var l=0;for(h=0;h<d.length;h+=3){var m=d[h]*c,n=d[h+1]*c,o=d[h+2]*c;l+=Math.abs((a[m]-a[o])*(a[n+1]-a[m+1])-(a[m]-a[n])*(a[o+1]-a[m+1]))}return 0===g&&0===l?0:Math.abs((l-g)/g)},d.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var g=0;g<b;g++)c.vertices.push(a[e][f][g]);e>0&&(d+=a[e-1].length,c.holes.push(d))}return c}},{}],546:[function(a,b,c){arguments[4][102][0].apply(c,arguments)},{"@turf/helpers":547,dup:102}],547:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],548:[function(a,b,c){var d=a("@turf/helpers").featureCollection,e=a("@turf/helpers").polygon,f=a("@turf/distance");b.exports=function(a,b,c){for(var g=d([]),h=b/f([a[0],a[1]],[a[2],a[1]],c),i=h*(a[2]-a[0]),j=b/f([a[0],a[1]],[a[0],a[3]],c),k=j*(a[3]-a[1]),l=0,m=a[0];m<=a[2];){for(var n=0,o=a[1];o<=a[3];)l%2==0&&n%2==0?g.features.push(e([[[m,o],[m,o+k],[m+i,o],[m,o]]]),e([[[m,o+k],[m+i,o+k],[m+i,o],[m,o+k]]])):l%2==0&&n%2==1?g.features.push(e([[[m,o],[m+i,o+k],[m+i,o],[m,o]]]),e([[[m,o],[m,o+k],[m+i,o+k],[m,o]]])):n%2==0&&l%2==1?g.features.push(e([[[m,o],[m,o+k],[m+i,o+k],[m,o]]]),e([[[m,o],[m+i,o+k],[m+i,o],[m,o]]])):n%2==1&&l%2==1&&g.features.push(e([[[m,o],[m,o+k],[m+i,o],[m,o]]]),e([[[m,o+k],[m+i,o+k],[m+i,o],[m,o+k]]])),o+=k,n++;l++,m+=i}return g}},{"@turf/distance":549,"@turf/helpers":552}],549:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":550,"@turf/invariant":551,dup:8}],550:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],551:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],552:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],553:[function(a,b,c){function d(a,b,c){a.length>c&&a.splice(c,a.length);for(var d=0;d<a.length;d++)a[d]=Math.round(a[d]*b)/b;return a}var e=a("@turf/meta").coordEach;b.exports=function(a,b,c,f){if(b=void 0!==b?b:6,c=void 0!==c?c:2,!a)throw new Error("<geojson> is required");if("number"!=typeof b)throw new Error("<precision> must be a number");if("number"!=typeof c)throw new Error("<coordinates> must be a number");!1!==f&&void 0!==f||(a=JSON.parse(JSON.stringify(a)));var g=Math.pow(10,b);return e(a,function(a){d(a,g,c)}),a}},{"@turf/meta":554}],554:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],555:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38,jsts:556}],556:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],557:[function(a,b,c){var d=a("simplepolygon"),e=a("@turf/flatten"),f=a("@turf/meta").featureEach,g=a("@turf/helpers").featureCollection;b.exports=function(a){var b=g([]);return f(a,function(a){"MultiPolygon"===a.geometry.type&&(a=e(a)),f(a,function(a){var c=d(a);f(c,function(c){c.properties=a.properties?a.properties:{},b.features.push(c)})})}),b}},{"@turf/flatten":561,"@turf/helpers":565,"@turf/meta":568,simplepolygon:577}],558:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{dup:13,wgs84:579}],559:[function(a,b,c){var d=a("@mapbox/geojson-area").geometry,e=a("@turf/meta").geomReduce;b.exports=function(a){return e(a,function(a,b){return a+d(b)},0)}},{"@mapbox/geojson-area":558,"@turf/meta":560}],560:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{dup:263}],561:[function(a,b,c){arguments[4][152][0].apply(c,arguments)},{"@turf/helpers":562,"@turf/invariant":563,"@turf/meta":564,dup:152}],562:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],563:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],564:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],565:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],566:[function(a,b,c){function d(a,b,c){var d=!1;b[0][0]===b[b.length-1][0]&&b[0][1]===b[b.length-1][1]&&(b=b.slice(0,b.length-1));for(var e=0,f=b.length-1;e<b.length;f=e++){var g=b[e][0],h=b[e][1],i=b[f][0],j=b[f][1];if(a[1]*(g-i)+h*(i-a[0])+j*(a[0]-g)==0&&(g-a[0])*(i-a[0])<=0&&(h-a[1])*(j-a[1])<=0)return!c;h>a[1]!=j>a[1]&&a[0]<(i-g)*(a[1]-h)/(j-h)+g&&(d=!d)}return d}var e=a("@turf/invariant");b.exports=function(a,b){var c=e.getCoord(a),f=b.geometry.coordinates;"Polygon"===b.geometry.type&&(f=[f]);for(var g=0,h=!1;g<f.length&&!h;g++)if(d(c,f[g][0])){for(var i=!1,j=1;j<f[g].length&&!i;)d(c,f[g][j],!0)&&(i=!0),j++;i||(h=!0)}return h}},{"@turf/invariant":567}],567:[function(a,b,c){function d(a){if(!a)throw new Error("No obj passed");var b=e(a);if(b.length>1&&"number"==typeof b[0]&&"number"==typeof b[1])return b;throw new Error("Coordinate is not a valid Point")}function e(a){if(!a)throw new Error("No obj passed");var b;if(a.length?b=a:a.coordinates?b=a.coordinates:a.geometry&&a.geometry.coordinates&&(b=a.geometry.coordinates),b)return f(b),b;throw new Error("No valid coordinates")}function f(a){if(a.length>1&&"number"==typeof a[0]&&"number"==typeof a[1])return!0;if(a[0].length)return f(a[0]);throw new Error("coordinates must only contain numbers")}function g(a,b,c){if(!b||!c)throw new Error("type and name required");if(!a||a.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.type)}function h(a,b,c){if(!a)throw new Error("No feature passed");if(!c)throw new Error(".featureOf() requires a name");if(!a||"Feature"!==a.type||!a.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!a.geometry||a.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.geometry.type)}function i(a,b,c){if(!a)throw new Error("No featureCollection passed");if(!c)throw new Error(".collectionOf() requires a name");if(!a||"FeatureCollection"!==a.type)throw new Error("Invalid input to "+c+", FeatureCollection required");for(var d=0;d<a.features.length;d++){var e=a.features[d];if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!e.geometry||e.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+e.geometry.type)}}b.exports.geojsonType=g,b.exports.collectionOf=i,b.exports.featureOf=h,b.exports.getCoord=d,b.exports.getCoords=e},{}],568:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],569:[function(a,b,c){var d=a("@turf/inside"),e=a("@turf/helpers").featureCollection;b.exports=function(a,b){for(var c=e([]),f=0;f<b.features.length;f++)for(var g=0;g<a.features.length;g++){var h=d(a.features[g],b.features[f]);h&&c.features.push(a.features[g])}return c}},{"@turf/helpers":570,"@turf/inside":566}],570:[function(a,b,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],571:[function(a,b,c){(function(d){function e(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f(a){var b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),b){var d="color: "+this.color;a.splice(1,0,d,"color: inherit");var e=0,f=0;a[0].replace(/%[a-zA-Z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d)}}function g(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function h(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(a){}}function i(){var a;try{a=c.storage.debug}catch(a){}return!a&&void 0!==d&&"env"in d&&(a=d.env.DEBUG),a}c=b.exports=a("./debug"),c.log=g,c.formatArgs=f,c.save=h,c.load=i,c.useColors=e,c.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(a){}}(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){try{return JSON.stringify(a)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}},c.enable(i())}).call(this,a("_process"))},{"./debug":572,_process:584}],572:[function(a,b,c){function d(a){var b,d=0;for(b in a)d=(d<<5)-d+a.charCodeAt(b),d|=0;return c.colors[Math.abs(d)%c.colors.length]}function e(a){function b(){if(b.enabled){var a=b,d=+new Date,e=d-(j||d);a.diff=e,a.prev=j,a.curr=d,j=d;for(var f=new Array(arguments.length),g=0;g<f.length;g++)f[g]=arguments[g];f[0]=c.coerce(f[0]),"string"!=typeof f[0]&&f.unshift("%O");var h=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var g=f[h];b=e.call(a,g),f.splice(h,1),h--}return b}),c.formatArgs.call(a,f),(b.log||c.log||console.log.bind(console)).apply(a,f)}}return b.namespace=a,b.enabled=c.enabled(a),b.useColors=c.useColors(),b.color=d(a),"function"==typeof c.init&&c.init(b),b}function f(a){c.save(a),c.names=[],c.skips=[];for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;e<d;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e.debug=e.default=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j},{ms:574}],573:[function(a,b,c){function d(a,b,c,d){if(e(a,c)||e(a,d)||e(b,c)||e(d,c))return null;var f=a[0],g=a[1],h=b[0],i=b[1],j=c[0],k=c[1],l=d[0],m=d[1],n=(f-h)*(k-m)-(g-i)*(j-l);return 0==n?null:[((f*i-g*h)*(j-l)-(f-h)*(j*m-k*l))/n,((f*i-g*h)*(k-m)-(g-i)*(j*m-k*l))/n]}function e(a,b){if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!e(a[c],b[c]))return!1}else if(a[c]!=b[c])return!1;return!0}var f=a("rbush");b.exports=function(a,b,c){function e(a,c,e,f){var g=h[a][c],k=h[a][c+1],l=h[e][f],m=h[e][f+1],n=d(g,k,l,m);if(null!=n){var o=(n[0]-g[0])/(k[0]-g[0]),p=(n[0]-l[0])/(m[0]-l[0]);if(!(o>=1||o<=0||p>=1||p<=0)){var q=n,r=!j[q];r&&(j[q]=!0),b?i.push(b(n,a,c,g,k,o,e,f,l,m,p,r)):i.push(n)}}}function g(a,b){var c=h[a][b],d=h[a][b+1];if(c[0]<d[0])var e=c[0],f=d[0];else var e=d[0],f=c[0];if(c[1]<d[1])var g=c[1],i=d[1];else var g=d[1],i=c[1];return{minX:e,minY:g,maxX:f,maxY:i,ring:a,edge:b}}if("Polygon"!=a.geometry.type)throw new Error("The input feature must be a Polygon");c||(c=1);var h=a.geometry.coordinates,i=[],j={};if(c){for(var k=[],l=0;l<h.length;l++)for(var m=0;m<h[l].length-1;m++)k.push(g(l,m));var n=f();n.load(k)}for(var l=0;l<h.length;l++)for(var m=0;m<h[l].length-1;m++)if(c){var o=n.search(g(l,m));o.forEach(function(a){var b=a.ring,c=a.edge;e(l,m,b,c)})}else for(var p=0;p<h.length;p++)for(var q=0;q<h[p].length-1;q++)e(l,m,p,q);return b||(i={type:"Feature",geometry:{type:"MultiPoint",coordinates:i}}),i}},{rbush:576}],574:[function(a,b,c){function d(a){if(a=String(a),!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){b=b||{};var c=typeof a;if("string"===c&&a.length>0)return d(a);if("number"===c&&!1===isNaN(a))return b.long?f(a):e(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},{}],575:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],576:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43,quickselect:575}],577:[function(a,b,c){function d(a,b){if(void 0===b&&(b=!0),3!=a.length)throw new Error("This function requires an array of three points [x,y]");return(a[1][0]-a[0][0])*(a[2][1]-a[0][1])-(a[1][1]-a[0][1])*(a[2][0]-a[0][0])>=0==b}function e(a){for(var b=0,c=0;c<a.length-1;c++)a[c][0]<a[b][0]&&(b=c);if(d([a[(b-1).modulo(a.length-1)],a[b],a[(b+1).modulo(a.length-1)]],!0))var e=1;else var e=-1;return e}function f(a,b){if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!f(a[c],b[c]))return!1}else if(a[c]!=b[c])return!1;return!0}function g(a){for(var b={},c=1,d=0,e=a.length;d<e;++d){if(b.hasOwnProperty(a[d])){c=0;break}b[a[d]]=1}return c}var h=a("geojson-polygon-self-intersections"),i=a("@turf/helpers"),j=a("@turf/within"),k=a("@turf/area"),l=a("rbush"),m=a("debug")("simplepolygon"),n=a("debug")("simplepolygon:all");b.exports=function(a){function b(){for(var a=[],b=0;b<z.features.length;b++)n("Output ring "+b+" has parent "+z.features[b].properties.parent),-1==z.features[b].properties.parent&&a.push(b);if(n("The following output ring(s) have no parent: "+a),a.length>1)for(var b=0;b<a.length;b++){for(var c=-1,d=0;d<z.features.length;d++)a[b]!=d&&1==j(i.featureCollection([i.point(z.features[a[b]].geometry.coordinates[0][0])]),i.featureCollection([z.features[d]])).features.length&&k(z.features[d])<1/0&&(c=d,n("Ring "+a[b]+" lies within output ring "+d));z.features[a[b]].properties.parent=c,n("Ring "+a[b]+" is assigned parent "+c)}}function c(){for(var a=0;a<z.features.length;a++)if(-1==z.features[a].properties.parent){var b=z.features[a].properties.winding;z.features[a].properties.netWinding=b,q(a,b)}}function q(a,b){for(var c=0;c<z.features.length;c++)if(z.features[c].properties.parent==a){var d=b+z.features[c].properties.winding;z.features[c].properties.netWinding=d,q(c,d)}}if("Feature"!=a.type)throw new Error("The input must a geojson object of type Feature");if(void 0===a.geometry||null==a.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=a.geometry.type)throw new Error("The input must be a geojson Polygon");for(var r=a.geometry.coordinates.length,s=[],t=0;t<r;t++){var u=a.geometry.coordinates[t]
;f(u[0],u[u.length-1])||u.push(u[0]),s.push.apply(s,u.slice(0,u.length-1))}if(!g(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var v=s.length;m("Processing input");var w=h(a,function(a,b,c,d,e,f,g,h,i,j,k,l){return[a,b,c,d,e,f,g,h,i,j,k,l]}),x=w.length;if(m("Computing self-intersections"),0==x){for(var y=[],t=0;t<r;t++)y.push(i.polygon([a.geometry.coordinates[t]],{parent:-1,winding:e(a.geometry.coordinates[t])}));var z=i.featureCollection(y);return b(),c(),n("No self-intersections found. Input rings are output rings. Computed winding numbers, net winding numbers and parents"),m("Finishing without self-intersections"),z}for(var A=[],B=[],t=0;t<r;t++){A.push([]);for(var C=0;C<a.geometry.coordinates[t].length-1;C++)A[t].push([new o(a.geometry.coordinates[t][(C+1).modulo(a.geometry.coordinates[t].length-1)],1,[t,C],[t,(C+1).modulo(a.geometry.coordinates[t].length-1)],void 0)]),B.push(new p(a.geometry.coordinates[t][C],[t,(C-1).modulo(a.geometry.coordinates[t].length-1)],[t,C],void 0,void 0,!1,!0))}for(var t=0;t<x;t++)A[w[t][1]][w[t][2]].push(new o(w[t][0],w[t][5],[w[t][1],w[t][2]],[w[t][6],w[t][7]],void 0)),w[t][11]&&B.push(new p(w[t][0],[w[t][1],w[t][2]],[w[t][6],w[t][7]],void 0,void 0,!0,!0));for(var D=B.length,t=0;t<A.length;t++)for(var C=0;C<A[t].length;C++)A[t][C].sort(function(a,b){return a.param<b.param?-1:1});m("Setting up pseudoVtxListByRingAndEdge and isectList"),allIsectsAsIsectRbushTreeItem=[];for(var t=0;t<D;t++)allIsectsAsIsectRbushTreeItem.push({minX:B[t].coord[0],minY:B[t].coord[1],maxX:B[t].coord[0],maxY:B[t].coord[1],index:t});var E=l();E.load(allIsectsAsIsectRbushTreeItem);for(var t=0;t<A.length;t++)for(var C=0;C<A[t].length;C++)for(var F=0;F<A[t][C].length;F++){var G;G=F==A[t][C].length-1?A[t][(C+1).modulo(a.geometry.coordinates[t].length-1)][0].coord:A[t][C][F+1].coord;var H=E.search({minX:G[0],minY:G[1],maxX:G[0],maxY:G[1]})[0];A[t][C][F].nxtIsectAlongEdgeIn=H.index}m("Computing nextIsect for pseudoVtxListByRingAndEdge");for(var t=0;t<A.length;t++)for(var C=0;C<A[t].length;C++)for(var F=0;F<A[t][C].length;F++){var G=A[t][C][F].coord,H=E.search({minX:G[0],minY:G[1],maxX:G[0],maxY:G[1]})[0],I=H.index;I<v?B[I].nxtIsectAlongRingAndEdge2=A[t][C][F].nxtIsectAlongEdgeIn:f(B[I].ringAndEdge1,A[t][C][F].ringAndEdgeIn)?B[I].nxtIsectAlongRingAndEdge1=A[t][C][F].nxtIsectAlongEdgeIn:B[I].nxtIsectAlongRingAndEdge2=A[t][C][F].nxtIsectAlongEdgeIn}m("Porting nextIsect to isectList");for(var J=[],t=0,C=0;C<r;C++){for(var K=t,F=0;F<a.geometry.coordinates[C].length-1;F++)B[t].coord[0]<B[K].coord[0]&&(K=t),t++;for(var L=B[K].nxtIsectAlongRingAndEdge2,F=0;F<B.length;F++)if(B[F].nxtIsectAlongRingAndEdge1==K||B[F].nxtIsectAlongRingAndEdge2==K){var M=F;break}var N=d([B[M].coord,B[K].coord,B[L].coord],!0)?1:-1;J.push({isect:K,parent:-1,winding:N})}J.sort(function(a,b){return B[a.isect].coord>B[b.isect].coord?-1:1}),n("Initial state of the queue: "+JSON.stringify(J)),m("Setting up queue");for(var y=[];J.length>0;){var O=J.pop(),P=O.isect,Q=O.parent,R=O.winding,S=y.length,T=[B[P].coord];n("# Starting output ring number "+y.length+" with winding "+R+" from intersection "+P),P<v&&n("This is a ring-vertex-intersections, which means this output ring does not touch existing output rings");var U=P;if(B[P].ringAndEdge1Walkable)var V=B[P].ringAndEdge1,W=B[P].nxtIsectAlongRingAndEdge1;else var V=B[P].ringAndEdge2,W=B[P].nxtIsectAlongRingAndEdge2;for(;!f(B[P].coord,B[W].coord);){n("Walking from intersection "+U+" to "+W+" over ring "+V[0]+" and edge "+V[1]),T.push(B[W].coord),n("Adding intersection "+W+" to current output ring");for(var X=void 0,t=0;t<J.length;t++)if(J[t].isect==W){X=t;break}if(void 0!=X&&(n("Removing intersection "+W+" from queue"),J.splice(X,1)),f(V,B[W].ringAndEdge1)){if(V=B[W].ringAndEdge2,B[W].ringAndEdge2Walkable=!1,B[W].ringAndEdge1Walkable){n("Adding intersection "+W+" to queue");var Y={isect:W};d([B[U].coord,B[W].coord,B[B[W].nxtIsectAlongRingAndEdge2].coord],1==R)?(Y.parent=Q,Y.winding=-R):(Y.parent=S,Y.winding=R),J.push(Y)}U=W,W=B[W].nxtIsectAlongRingAndEdge2}else{if(V=B[W].ringAndEdge1,B[W].ringAndEdge1Walkable=!1,B[W].ringAndEdge2Walkable){n("Adding intersection "+W+" to queue");var Y={isect:W};d([B[U].coord,B[W].coord,B[B[W].nxtIsectAlongRingAndEdge1].coord],1==R)?(Y.parent=Q,Y.winding=-R):(Y.parent=S,Y.winding=R),J.push(Y)}U=W,W=B[W].nxtIsectAlongRingAndEdge1}n("Current state of the queue: "+JSON.stringify(J))}n("Walking from intersection "+U+" to "+W+" over ring "+V[0]+" and edge "+V[1]+" and closing ring"),T.push(B[W].coord),y.push(i.polygon([T],{index:S,parent:Q,winding:R,netWinding:void 0}))}var z=i.featureCollection(y);return m("Walking"),b(),m("Determining parents"),c(),m("Setting winding number"),n("# Total of "+z.features.length+" rings"),z};var o=function(a,b,c,d,e){this.coord=a,this.param=b,this.ringAndEdgeIn=c,this.ringAndEdgeOut=d,this.nxtIsectAlongEdgeIn=e},p=function(a,b,c,d,e,f,g){this.coord=a,this.ringAndEdge1=b,this.ringAndEdge2=c,this.nxtIsectAlongRingAndEdge1=d,this.nxtIsectAlongRingAndEdge2=e,this.ringAndEdge1Walkable=f,this.ringAndEdge2Walkable=g};Number.prototype.modulo=function(a){return(this%a+a)%a}},{"@turf/area":559,"@turf/helpers":578,"@turf/within":569,debug:571,"geojson-polygon-self-intersections":573,rbush:576}],578:[function(a,b,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],579:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{dup:15}],580:[function(a,b,c){var d=a("@turf/inside"),e=a("@turf/helpers").featureCollection;b.exports=function(a,b){for(var c=e([]),f=0;f<b.features.length;f++)for(var g=0;g<a.features.length;g++){var h=d(a.features[g],b.features[f]);h&&c.features.push(a.features[g])}return c}},{"@turf/helpers":581,"@turf/inside":582}],581:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],582:[function(a,b,c){arguments[4][92][0].apply(c,arguments)},{"@turf/invariant":583,dup:92}],583:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],584:[function(a,b,c){function d(){if(!h){h=!0;for(var a,b=g.length;b;){a=g,g=[];for(var c=-1;++c<b;)a[c]();b=g.length}h=!1}}function e(){}var f=b.exports={},g=[],h=!1;f.nextTick=function(a){g.push(a),h||setTimeout(d,0)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=e,f.addListener=e,f.once=e,f.off=e,f.removeListener=e,f.removeAllListeners=e,f.emit=e,f.binding=function(a){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(a){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}]},{},[1])(1)});var DataOp=function(){var a,b={},c={},d=function(b){var c=d3.queue();c.defer(function(b){d3.json("js/queries.json",function(c){a=c,b()})}),c.defer(function(a){d3.json("data/hex-grid.geojson",function(b){DataOp.tileData=b.features,a()})}),c.defer(function(a){d3.json("config.json",function(b){DataOp.config=b,a()})}),c.await(function(){b()})},e=function(a){var a=a;a[0]=parseFloat(a[0]),a[1]=parseFloat(a[1]);var b;return this.tileData.forEach(function(c,d){var e=turf.polygon(c.geometry.coordinates),f=turf.point(a);turf.inside(f,e)&&(b=c)}),b},f=function(b){var c=Menu.getFilters(),d=JSON.parse(JSON.stringify(a[b]));if("tilesAvg"==b&&(c.tileEnd?d.aggs.tiles.terms.field="tFr":c.tileFrom&&(d.aggs.tiles.terms.field="tEn")),Object.keys(c).length){d.query.bool.must=[];for(var e in c)e!=b&&d.query.bool.must.push(c[e])}return d},g=function(a,b){d3.request(DataOp.config.localUrl+":"+DataOp.config.esPort+"/delhi/drivingTime/_search").send("POST",JSON.stringify(a),function(a){b(JSON.parse(a.response))})},h=function(a,b){var c=f(a);g(c,function(a){b(a.aggregations.bars.buckets.map(function(a){return{key:a.key,value:a.avg_excessTime.value}}))})},i=function(a){a&&(b={},a.features.forEach(function(a,c){b[a.properties.tile_id]=a.properties.centroid}));var d={type:"FeatureCollection",features:[]},e=0;for(var f in c){var g=f.split("-");d.features.push({type:"Feature",_id:++e,geometry:{type:"LineString",coordinates:[b[g[0]],b[g[1]]]},properties:{route:f}})}return d},j=function(d){var e=f(JSON.parse(JSON.stringify(a.routes)));c={},g(e,function(a){a.aggregations.r.buckets.forEach(function(a,b){c[a.key]=a.avg_excessTime.value});b?d(c,i()):d3.json("data/hex-grid.geojson",function(a){d(c,i(a))})})};return{setup:d,fetchTilesAvg:function(a){var b=f("tilesAvg");g(b,function(b){var c={};b.aggregations.tiles.buckets.forEach(function(a,b){c[a.key]=a.avg_excessTime.value}),a(c)})},fetchBarData:h,fetchRoutes:j,config:void 0,tileData:b,findTileHavingCoordinate:e}}(),Menu=function(){var a={},b=function(b,c,e){var f=d3.select("."+b+".bar").node().getBoundingClientRect(),i=f.width,j=(f.height,d3.scaleLinear().domain(c).range([0,i-80-30]));DataOp.fetchBarData(b,function(c){if("time"==b?c=c.sort(function(a,b){return parseInt(a.key.split(":")[0])-parseInt(b.key.split(":")[0])}):"day"==b&&(c=c.sort(function(a,b){return(0==a.key?10:a.key)-(0==b.key?10:b.key)})),d3.select("."+b+".bar svg").empty()){var f=d3.select("."+b+".bar").append("svg").attr("height",25*c.length+25).attr("width",i);f.selectAll("g").data(c).enter().append("g").each(function(a,c){d3.select(this).attr("bar-key",a.key),d3.select(this).append("rect").attr("x",80).attr("y",25+25*c).attr("height",15).classed("tooptipElement",!0).on("mouseover",g).on("mouseout",h).attr("width",0).attr("data-tooltip","Mean excess time<br>"+parseInt(a.value)+"%").transition().duration(500).attr("width",j(a.value)),d3.select(this).append("text").attr("x",78).attr("y",25+25*c+7.5).attr("alignment-baseline","middle").attr("text-anchor","end").text(DataOp.config.keyMap[b][a.key])}).on("click",function(){if(!d3.select(".menu").classed("explore"))if(d3.select(this).classed("barSelected"))d3.select(this).classed("barSelected",!1),d3.select(this.parentNode).classed("selected",!1),d(b,""),delete a[b],Menu.render();else{d3.select("."+b+".bar svg").classed("selected",!0),d3.selectAll("."+b+".bar svg g").classed("barSelected",!1),d3.select(this).classed("barSelected",!0);var c=d3.select(this).attr("bar-key").split("-");a[b]=e(c),d(b,DataOp.config.keyMap[b][c.join("-")]),Menu.render()}}),f.append("line").attr("x1",i-30).attr("y1",12.5).attr("x2",i-30).attr("y2",12.5+25*c.length).style("stroke-width","2px").style("stroke",DataOp.config.colors.exceptionColor).attr("stroke-dasharray","4, 4"),"day"==b&&f.append("text").attr("x",i-30).attr("text-anchor","middle").attr("y",12.5).classed("barCutoff",!0).text(DataOp.config.codeParams.cutoffExcessTime+"%")}else f=d3.select("."+b+".bar svg"),f.selectAll("rect").data(c).each(function(a,b){a.value&&d3.select(this).attr("data-tooltip","Mean excess time<br>"+parseInt(a.value)+"%").transition().duration(500).attr("width",j(a.value))})})},c=function(a,b,c,d){d3.select(".statement .stmt1").classed("hidden",!1),d3.select(".statement .areaVal").html(Math.ceil(100*a)+"%"),d3.select(".statement .timeVal").html(parseInt(b)+"% longer"),d3.select(".statement .stmt3").classed("hidden",!0)},d=function(a,b){if("time"==a)d3.select(".statement ."+a).html(b?"between "+b:"");else if("day"==a){var c={Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday",Sun:"Sunday"};d3.select(".statement ."+a).html(b?"on "+c[b]:"")}else if("dist"==a){var d;b?(d="a distance of ",b=b.split("-"),"*"==b[0]?d+="upto "+b[1]:"*kms"==b[1]?d+="more than "+b[0]+"kms":d+=b[0]+" to "+b[1]):d="less than 35kms",d3.select(".statement ."+a).html(d)}else d3.select(".statement ."+a).html(b)},e=function(a){d3.select(".statement .stmt3").classed("hidden",!1),d3.select(".statement .stmt3 .timeVal").html(parseInt(a)+"% longer"),d3.select(".statement .stmt1").classed("hidden",!0),d3.select(".sliderCont").classed("hidden",!0)},f=function(a,b){d3.select(".atob").classed("active",!0),d3.select("input."+b).node().value=a,d3.select("input."+b).classed("active",!0),d3.select(".closeBtn."+b).classed("active",!0),d("dir",b+" "+("from"==b?"area A":"area B"))},g=function(){d3.select(".tooltipCont").style("top",event.clientY+"px").style("left",event.clientX+"px").classed("visible",!0).html(d3.select(event.target).attr("data-tooltip"))},h=function(){d3.select(".tooltipCont").classed("visible",!1)},i=function(){d3.select(".dist.bar").classed("hidden",!0),Menu.updateStmt2("dir","between area A and B"),d3.select(".stmt2 .dist").classed("hidden",!0)},j=function(b){delete a.tileFrom,d3.select("input.from").node().value="",d3.select("input.from").classed("active",!1),d("dir",b?"to B":""),d3.select(".dist.bar").classed("hidden",!1),d3.select(".stmt2 .dist").classed("hidden",!1)},k=function(b){delete a.tileEnd,d3.select("input.to").node().value="",d3.select("input.to").classed("active",!1),d("dir",b?"from A":""),d3.select(".dist.bar").classed("hidden",!1),d3.select(".stmt2 .dist").classed("hidden",!1)};return{events:function(){d3.select(".atob").on("click",function(){d3.select(this).classed("active",!0)}),d3.selectAll(".closeBtn").on("click",function(){d3.select(this).classed("from")?(j(d3.select("input.to").classed("active")),Map.revertRoute("from")):(k(d3.select("input.from").classed("active")),Map.revertRoute("to")),d3.select(this).classed("active",!1)}),d3.selectAll(".atob input").on("keyup",function(){if(13==event.keyCode){var a;a=d3.select(this).classed("from")?d3.select(".results.from"):d3.select(".results.to"),a.html(""),d3.json(DataOp.config.localUrl+":8383/places/"+d3.select(this).node().value,function(b){var c=b.results,d=!1;if(c.length){var e=0;c.forEach(function(b,c){var f=!1;b.address_components.forEach(function(a,b){"DL"==a.short_name&&(d=!0,f=!0)}),f&&e+1<4&&(e++,a.append("div").attr("class","result valid").attr("coord",b.geometry.location.lng+","+b.geometry.location.lat).html(b.formatted_address.substring(0,35)+".."))})}d||(a.html("<div class='result'>No results found..</div>"),setTimeout(function(){a.classed("active",!1)},5e3)),a.classed("active",!0),d3.selectAll(".result.valid",a).on("click",function(){f(d3.select(this).html(),a.classed("from")?"from":"to"),a.classed("active",!1);var b=d3.select(this).attr("coord").split(","),c=DataOp.findTileHavingCoordinate(b);a.classed("from")?Map.renderFrom(c.properties.tile_id,c.properties.centroid):Map.renderTo(c.properties.tile_id,c.properties.centroid)})})}}),d3.selectAll(".lens").on("click",function(){if(d3.select(this).classed("active"))d3.select(this).classed("active",!1),Map.clipLayer();else{d3.selectAll(".lens").classed("active",!1);var a=d3.select(this).attr("data-layer");d3.select(this).classed("active",!0),Map.clipLayer(a)}}).on("mouseover",g).on("mouseout",h)},updateInput:f,getFilters:function(){return a},updateFilters:function(b,c){a[b]=c},resetFilters:function(){a={}},clearFrom:j,clearTo:k,updateStmt1:c,updateStmt2:d,updateStmt3:e,routeRender:i,init:function(){this.render(function(){this.events()}.bind(this))},render:function(a){Map.renderTileLayer(a),b("day",[100,100+DataOp.config.codeParams.cutoffExcessTime],function(a){return{term:{day:{value:parseInt(a[0])}}}}),b("time",[100,100+DataOp.config.codeParams.cutoffExcessTime],function(a){return{term:{time:{value:a[0]}}}}),b("dist",[100,100+DataOp.config.codeParams.cutoffExcessTime],function(a){var b={range:{dist:{}}};return"*"!=a[0]&&(b.range.dist.gt=parseFloat(a[0])),"*"!=a[1]&&(b.range.dist.lte=parseFloat(a[1])),b})}}}(),Map=function(){var a,b,c,d,e,f,g,h,i=[[],[]],j={},k=(new ol.style.Stroke({color:"black",width:2}),new ol.style.Fill({color:"red"}),function(a){var b=a.get("kind"),c=a.get("railway"),d=a.get("sort_key"),e=b+"/"+c+"/"+d,f=j[e];if(!f){var g,h,i=DataOp.config.layers.roads[b]||{};g=i.color||"rgba(0,0,0,0)",h=i.width||0,f=new ol.style.Style({stroke:new ol.style.Stroke({color:g,width:h}),zIndex:d}),j[e]=f}return f}),l={Polygon:new ol.style.Style({stroke:new ol.style.Stroke({color:"#CCC",lineDash:[1],width:1}),fill:new ol.style.Fill({color:"#FFF"})}),LineString:new ol.style.Style({stroke:new ol.style.Stroke({color:"#4CA1AF",width:1})})},m=function(){var a=function(a){return new ol.style.Style({stroke:new ol.style.Stroke({color:"#757575",width:2}),fill:new ol.style.Fill({color:"transparent"})})},b=new ol.source.Vector({format:new ol.format.GeoJSON,url:"data/delhi_boundary.geojson"});return new ol.layer.Vector({source:b,style:a})}(),n=function(){var a=function(a){return new ol.style.Style({stroke:new ol.style.Stroke({color:"#DDDDDD",width:1}),fill:new ol.style.Fill({color:"transparent"})})},b=new ol.source.Vector({format:new ol.format.GeoJSON,url:"data/hex-grid.geojson"});return new ol.layer.Vector({source:b,style:a})}(),o=function(){var c=function(a){var b=a.get("kind");if("residential"==b)var c=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 183, 77,0.8)"})});else if("commercial"==b)var c=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(179, 136, 255,0.8)"})});else var c=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(178, 235, 242,0.8)"})});return c};return{createClipLayer:function(d){if(!b||(a.removeLayer(b),d)){if("roads"==d||"landuse"==d)b=new ol.layer.VectorTile({source:new ol.source.VectorTile({format:new ol.format.TopoJSON,tileGrid:ol.tilegrid.createXYZ({maxZoom:19}),url:"https://tile.mapzen.com/mapzen/vector/v1/"+d+"/{z}/{x}/{y}.topojson?api_key=odes-9thVtDE"}),style:"roads"==d?k:c,opacity:"roads"==d?1:.7});else{if("gen"!=d)return void console.log("clip layer not valid please check:"+d);b=new ol.layer.Tile({source:new ol.source.OSM,opacity:.7})}var e=null;d3.select(a.getViewport()).on("mousemove",function(){e=[event.x,event.y],a.render()}).on("mouseout",function(){e=null,a.render()}),b.on("precompose",function(a){var b=a.context,c=a.frameState.pixelRatio;b.save(),b.beginPath(),e&&(b.arc(e[0]*c,e[1]*c,125*c,0,2*Math.PI),b.lineWidth=2*c,b.strokeStyle="rgba(255,255,255,1)",b.stroke()),b.clip()}),b.on("postcompose",function(a){a.context.restore()}),a.addLayer(b)}}}}(),p=function(){var b,c,e=0,f=0,g=20,j=523,k=function(){d=new ol.source.Vector({}),b=new ol.layer.Vector({source:d,opacity:.8,style:function(a){var b=l[a.getGeometry().getType()];a.getProperties().excessTime;return b.setFill(new ol.style.Fill({color:parseInt(a.getProperties().excessTime)<DataOp.config.codeParams.cutoffExcessTime-DataOp.config.codeParams.minExcessTime?h(a.getProperties().excessTime/(DataOp.config.codeParams.cutoffExcessTime-DataOp.config.codeParams.minExcessTime)).hex():DataOp.config.colors.exceptionColor})),b}}),b.on("singleclick",function(a){}),a.addLayer(b)},m=function(){var a=d.getFeatures().length;a&&d.getFeatures().forEach(function(b,c){b.values_.tile_id&&setTimeout(function(){try{d.removeFeature(b)}catch(a){}},parseInt(Math.random()*a))})},n=function(a){b?m():k(),f=0,g=20,e=0,DataOp.fetchTilesAvg(function(b){c=b,j=Object.keys(c).length;var h={};for(var k in c){c[k]>e&&(e=c[k]),c[k]>=100+g&&f++;var l=5*parseInt(c[k]/5);l-100>=g&&(h[l]?h[l]+=1:h[l]=1)}if(f){if(i[0].length&i[1].length){var m;for(var k in c)m=c[k];Menu.updateStmt3(m-100)}else Menu.updateStmt1(f/j,g),Slider.init(g,e-100,h,function(a){o(a+100)});i[0].length&&i[1].length||DataOp.tileData.forEach(function(a,b){var e=c[a.properties.tile_id];if(e>=100+g){var h=new ol.Feature({geometry:new ol.geom.Polygon(a.geometry.coordinates).transform("EPSG:4326","EPSG:3857"),tile_id:a.properties.tile_id,centroid:a.properties.centroid,excessTime:e-120});setTimeout(function(){d.addFeature(h)},parseInt(Math.random()*f)/3)}})}a&&a()})},o=function(a){f=0;for(var b in c)c[b]>=a&&f++;a>g?(g=a,d.getFeatures().forEach(function(a,b){a.values_.excessTime<g-120&&setTimeout(function(){d.removeFeature(a)},b)})):(DataOp.tileData.forEach(function(b,e){var h=c[b.properties.tile_id];if(h>=a&&h<g){var i=new ol.Feature({geometry:new ol.geom.Polygon(b.geometry.coordinates).transform("EPSG:4326","EPSG:3857"),tile_id:b.properties.tile_id,centroid:b.properties.centroid,excessTime:h-120});setTimeout(function(){d.addFeature(i)},parseInt(Math.random()*f)/2)}}),g=a),Menu.updateStmt1(f/j,g-100)};return{addTiles:n,updateTiles:o}}(),q=function(a,b,e){i[1].length&&s("to");var g={term:{tEn:{value:a}}};Menu.updateFilters("tileEnd",g),c=!0,i[1]=b,f=new ol.Feature({geometry:new ol.geom.Point(b).transform("EPSG:4326","EPSG:3857"),name:"Destination"}),f.setStyle(new ol.style.Style({image:new ol.style.Icon({src:"../images/B.png"})})),d.addFeature(f),Menu.render(e),i[0].length&&r()},r=function(){d3.json(DataOp.config.localUrl+":8383/dir/"+i[0][1]+","+i[0][0]+"/"+i[1][1]+","+i[1][0],function(a){var b=[];a.routes[0].legs[0].steps.forEach(function(a,c){b.push([a.start_location.lng,a.start_location.lat]),b.push([a.end_location.lng,a.end_location.lat])}),g=new ol.Feature(new ol.geom.LineString(b).transform("EPSG:4326","EPSG:3857")),g.setStyle(new ol.style.Style({stroke:new ol.style.Stroke({color:"#00BCD4",width:3})})),d.addFeature(g),Menu.routeRender()})},s=function(a){try{if("from"==a){if(!e)return;d.removeFeature(e),i[0]=[]}else if("to"==a){if(!f)return;d.removeFeature(f),i[1]=[]}d.removeFeature(g)}catch(a){}Menu.render(),i[0].length||i[1].length||d3.select(".atob").classed("active",!1)},t=function(a,b,f){i[0].length&&s("from");var g={term:{tFr:{value:a}}};Menu.updateFilters("tileFrom",g),c=!0,i[0]=b,e=new ol.Feature({geometry:new ol.geom.Point(b).transform("EPSG:4326","EPSG:3857"),name:"Origin"}),e.setStyle(new ol.style.Style({image:new ol.style.Icon({src:"../images/A.png"})})),d.addFeature(e),Menu.render(f),i[1].length&&r()};return{init:function(){h=chroma.scale(DataOp.config.colors.scale),a=new ol.Map({layers:[new ol.layer.VectorTile({source:new ol.source.VectorTile({format:new ol.format.TopoJSON,tileGrid:ol.tilegrid.createXYZ({maxZoom:19}),url:"https://tile.mapzen.com/mapzen/vector/v1/roads/{z}/{x}/{y}.topojson?api_key=odes-9thVtDE"}),style:k,opacity:.2})],target:"map",controls:ol.control.defaults({attributionOptions:{collapsible:!1}}),view:new ol.View({center:ol.proj.fromLonLat([77.120619,28.623776]),zoom:11.3,minZoom:11,maxZoom:14})}),a.on("singleclick",function(b){if(!d3.select(".menu").classed("explore")){var c=[];a.forEachFeatureAtPixel(b.pixel,function(a,b){if(a.values_.tile_id&&-1==c.indexOf(a.values_.tile_id)&&a.values_.excessTime){c.push(a.values_.tile_id);var d=a.values_.centroid;d.toString()==i[0].toString()?(Menu.clearFrom(i[1].length>0),Map.revertRoute("from")):d.toString()==i[1].toString()?(Menu.clearTo(i[0].length>0),Map.revertRoute("to")):i[0].length?i[1].length||(q(a.values_.tile_id,d),Menu.updateInput(d,"to")):(t(a.values_.tile_id,d),Menu.updateInput(d,"from"))}})}}),a.addLayer(m),a.addLayer(n)},revertRoute:s,renderTileLayer:function(a){p.addTiles(a)},renderFrom:t,renderTo:q,clipLayer:function(a){o.createClipLayer(a)}}}(),App=function(){var a,b,c,d,e=[["Nearly three-fourth areas of Delhi are taking atleast 20% longer to commute on any given time or day"],["More than one-third are taking atleast 50% longer","This means, for every 1 hour of commute people will spend 30 mins extra"],["4 to 7pm sees the most of traffic. Half of Delhi takes 50% or longer"],["Some areas take as much as 75% longer or spend 45 minutes extra for every 1 hour"],["Morning commute between 8 to 11am is better than evening"],["The areas which take most of the time also differ"],["For distances less than 5kms only 10% of areas take 50% longer"],["It gets worse as the distance to commute increases"],["To reach Airport it takes 60% longer from these areas"],["From central Delhi it would take on average 75% longer"],["The objective is to spread awareness about the criticality of the situation.<br><br> Help Delhi by sharing your own insights <span class='under'>@slowingdelhi</span>"]],f=function(b,c,d){d||a.transition().duration(500).style("opacity",0),setTimeout(function(){d?a.append("div").html(b).transition().duration(500).style("opacity",1):(a.html(b),a.transition().duration(500).style("opacity",1))},700)},g=function(a,g){if(!b||b!=a){clearTimeout(c),b=a;var j=d3.selectAll(".storyline .btn").nodes();if(0==a)h(),g?f(e[a][0]):Menu.render(function(){f(e[a][0])}),i(j[a]),d=a;else if(1==a)h(),Menu.render(function(){Slider.changePosition(50),f(e[a][0]),c=setTimeout(function(){f(e[a][1],0,!0)},3e3)}),i(j[a]),d=a;else if(2==a){h();var l={term:{time:{value:"17:30"}}};d3.selectAll(".bar g").classed("barSelected",!1),d3.select(".bar.time g:nth-child(3)").classed("barSelected",!0),Menu.updateFilters("time",l),Menu.render(function(){f(e[a][0]),c=setTimeout(function(){f(e[a][1],0,!0)},3e3)}),i(j[a]),d=a}else if(3==a&&2==d)Slider.changePosition(75),f(e[a][0],0,!0),i(j[a]),d=a;else if(4==a){h();var l={term:{time:{value:"9:30"}}};d3.selectAll(".bar g").classed("barSelected",!1),d3.select(".bar.time g:nth-child(1)").classed("barSelected",!0),Menu.updateFilters("time",l),Menu.render(function(){f(e[a][0])}),i(j[a]),d=a}else if(5==a&&4==d)Slider.changePosition(50),f(e[a][0],0,!0),i(j[a]),d=a;else if(6==a){h();var l={range:{dist:{lte:5e3}}};d3.select(".bar.dist g:nth-child(1)").classed("barSelected",!0),Menu.updateFilters("dist",l),Menu.render(function(){Slider.changePosition(50),f(e[a][0])}),i(j[a]),d=a}else if(7==a&&6==d){h();var l={range:{dist:{gt:2e4,lte:3e4}}};d3.selectAll(".bar g").classed("barSelected",!1),d3.select(".bar.dist g:nth-child(5)").classed("barSelected",!0),Menu.updateFilters("dist",l),Menu.render(function(){Slider.changePosition(50),f(e[a][0],0,!0)}),i(j[a]),d=a}else if(8==a){h();var m=DataOp.findTileHavingCoordinate(["77.120283","28.5641431"]);Map.renderTo(m.properties.tile_id,m.properties.centroid,function(){f(e[a][0]),Slider.changePosition(60)}),i(j[a]),d=a}else if(9==a&&8==d){var m=DataOp.findTileHavingCoordinate(["77.2195421","28.632862"]);Map.renderFrom(m.properties.tile_id,m.properties.centroid,function(){f(e[a][0],0,!0)}),i(j[a]),d=a}else 10==a&&(f(e[a][0]),setTimeout(function(){d3.select(".interact").classed("hidden",!1).classed("showForce",!0).on("click",k)},1e3))}},h=function(){d3.select(".interact").classed("hidden",!0).classed("showForce",!1),Menu.resetFilters(),Map.revertRoute("from"),Map.revertRoute("to"),d3.selectAll(".bar g").classed("barSelected",!1)},i=function(a){d3.selectAll(".storyline .btn").classed("active",!1),d3.select(a).classed("active",!0)},j=function(){d3.select(".menu").classed("inactive",!1).classed("explore",!0),d3.select(".bars").classed("inactive",!1).classed("explore",!0),d3.select(".lenses").classed("inactive",!1).classed("explore",!0),Menu.init(),a=d3.select(".stmt4"),f(""),g(0,!0),d3.selectAll(".storyline .btn").on("click",function(){g(parseInt(d3.select(this).html())-1)}),d3.select("body").on("keydown",function(a){37==event.keyCode?g(d-1):39==event.keyCode&&g(d+1)})},k=function(){Menu.resetFilters(),d3.selectAll(".bar svg").remove(),d3.select(".menu").classed("inactive",!1).classed("explore",!1),d3.select(".bars").classed("inactive",!1).classed("explore",!1),d3.select(".lenses").classed("inactive",!1).classed("explore",!1),Menu.init()};return{init:function(){DataOp.setup(function(){Map.init();var a=window.location.search.substring(1);a.indexOf("explore")>-1?(j(),setTimeout(function(){d3.select(".stmt4").classed("hidden",!1)},1e3)):a.indexOf("interact")>-1?k():(d3.select(".stmt4").classed("hidden",!1),d3.select(".explore").classed("hidden",!1).on("click",j),d3.select(".interact").classed("hidden",!1).on("click",k))})}}}();App.init();